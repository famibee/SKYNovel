{"version":3,"file":"SndBuf.js","sources":["../node_modules/@pixi/sound/dist/pixi-sound.esm.mjs","../src/sn/SndBuf.ts"],"sourcesContent":["/*!\n * @pixi/sound - v4.4.1\n * https://github.com/pixijs/pixi-sound\n * Compiled Tue, 15 Aug 2023 19:22:13 UTC\n *\n * @pixi/sound is licensed under the MIT license.\n * http://www.opensource.org/licenses/mit-license\n */\nimport{LoaderResource as t,Loader as e}from\"@pixi/loaders\";import*as n from\"@pixi/core\";import{BaseTexture as o}from\"@pixi/core\";import{EventEmitter as i}from\"@pixi/utils\";import{Ticker as r}from\"@pixi/ticker\";var s;function u(){return s}var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function c(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Class extends value \"+String(e)+\" is not a constructor or null\");function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var l=function(){return(l=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},p=[\"mp3\",\"ogg\",\"oga\",\"opus\",\"mpeg\",\"wav\",\"m4a\",\"aiff\",\"wma\",\"mid\",\"caf\"],h={};function f(t){var e=l({m4a:\"audio/mp4\",oga:\"audio/ogg\",opus:'audio/ogg; codecs=\"opus\"',caf:'audio/x-caf; codecs=\"opus\"'},t||{}),n=document.createElement(\"audio\"),o={},i=/^no$/;p.forEach((function(t){var r=n.canPlayType(\"audio/\".concat(t)).replace(i,\"\"),s=e[t]?n.canPlayType(e[t]).replace(i,\"\"):\"\";o[t]=!!r||!!s})),Object.assign(h,o)}f();var d=/\\.(\\{([^\\}]+)\\})(\\?.*)?$/;function _(t){var e=d,n=\"string\"==typeof t?t:t.url;if(!e.test(n))return n;for(var o=e.exec(n),i=o[2].split(\",\"),r=i[i.length-1],s=0,u=i.length;s<u;s++){var a=i[s];if(h[a]){r=a;break}}var c=n.replace(o[1],r);if(\"string\"!=typeof t){var l=t;l.extension=r,l.url=c}return c}var y=p.filter((function(t){return h[t]})),m=function(){function e(){}return e.add=function(){e.setLegacy(u().useLegacy)},e.setLegacy=function(e){e?y.forEach((function(e){t.setExtensionXhrType(e,t.XHR_RESPONSE_TYPE.DEFAULT),t.setExtensionLoadType(e,t.LOAD_TYPE.AUDIO)})):y.forEach((function(e){t.setExtensionXhrType(e,t.XHR_RESPONSE_TYPE.BUFFER),t.setExtensionLoadType(e,t.LOAD_TYPE.XHR)}))},e.pre=function(t,e){_(t),e()},e.use=function(t,e){t.data&&y.indexOf(t.extension)>-1?t.sound=u().add(t.name,{loaded:e,preload:!0,url:t.url,source:t.data}):e()},e.extension=\"loader\",e}(),b=0,g=function(t){function e(e){var n=t.call(this)||this;return n.id=b++,n.init(e),n}return c(e,t),e.prototype.set=function(t,e){if(void 0===this[t])throw new Error(\"Property with name \".concat(t,\" does not exist.\"));switch(t){case\"speed\":this.speed=e;break;case\"volume\":this.volume=e;break;case\"paused\":this.paused=e;break;case\"loop\":this.loop=e;break;case\"muted\":this.muted=e}return this},Object.defineProperty(e.prototype,\"progress\",{get:function(){return this._source.currentTime/this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"paused\",{get:function(){return this._paused},set:function(t){this._paused=t,this.refreshPaused()},enumerable:!1,configurable:!0}),e.prototype._onPlay=function(){this._playing=!0},e.prototype._onPause=function(){this._playing=!1},e.prototype.init=function(t){this._playing=!1,this._duration=t.source.duration;var e=this._source=t.source.cloneNode(!1);e.src=t.parent.url,e.onplay=this._onPlay.bind(this),e.onpause=this._onPause.bind(this),t.context.on(\"refresh\",this.refresh,this),t.context.on(\"refreshPaused\",this.refreshPaused,this),this._media=t},e.prototype._internalStop=function(){this._source&&this._playing&&(this._source.onended=null,this._source.pause())},e.prototype.stop=function(){this._internalStop(),this._source&&this.emit(\"stop\")},Object.defineProperty(e.prototype,\"speed\",{get:function(){return this._speed},set:function(t){this._speed=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"volume\",{get:function(){return this._volume},set:function(t){this._volume=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"loop\",{get:function(){return this._loop},set:function(t){this._loop=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"muted\",{get:function(){return this._muted},set:function(t){this._muted=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"filters\",{get:function(){return null},set:function(t){},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){var t=this._media.context,e=this._media.parent;this._source.loop=this._loop||e.loop;var n=t.volume*(t.muted?0:1),o=e.volume*(e.muted?0:1),i=this._volume*(this._muted?0:1);this._source.volume=i*n*o,this._source.playbackRate=this._speed*t.speed*e.speed},e.prototype.refreshPaused=function(){var t=this._media.context,e=this._media.parent,n=this._paused||e.paused||t.paused;n!==this._pausedReal&&(this._pausedReal=n,n?(this._internalStop(),this.emit(\"paused\")):(this.emit(\"resumed\"),this.play({start:this._source.currentTime,end:this._end,volume:this._volume,speed:this._speed,loop:this._loop})),this.emit(\"pause\",n))},e.prototype.play=function(t){var n=this,o=t.start,i=t.end,s=t.speed,u=t.loop,a=t.volume,c=t.muted;this._speed=s,this._volume=a,this._loop=!!u,this._muted=c,this.refresh(),this.loop&&null!==i&&(this.loop=!1),this._start=o,this._end=i||this._duration,this._start=Math.max(0,this._start-e.PADDING),this._end=Math.min(this._end+e.PADDING,this._duration),this._source.onloadedmetadata=function(){n._source&&(n._source.currentTime=o,n._source.onloadedmetadata=null,n.emit(\"progress\",o,n._duration),r.shared.add(n._onUpdate,n))},this._source.onended=this._onComplete.bind(this),this._source.play(),this.emit(\"start\")},e.prototype._onUpdate=function(){this.emit(\"progress\",this.progress,this._duration),this._source.currentTime>=this._end&&!this._source.loop&&this._onComplete()},e.prototype._onComplete=function(){r.shared.remove(this._onUpdate,this),this._internalStop(),this.emit(\"progress\",1,this._duration),this.emit(\"end\",this)},e.prototype.destroy=function(){r.shared.remove(this._onUpdate,this),this.removeAllListeners();var t=this._source;t&&(t.onended=null,t.onplay=null,t.onpause=null,this._internalStop()),this._source=null,this._speed=1,this._volume=1,this._loop=!1,this._end=null,this._start=0,this._duration=0,this._playing=!1,this._pausedReal=!1,this._paused=!1,this._muted=!1,this._media&&(this._media.context.off(\"refresh\",this.refresh,this),this._media.context.off(\"refreshPaused\",this.refreshPaused,this),this._media=null)},e.prototype.toString=function(){return\"[HTMLAudioInstance id=\".concat(this.id,\"]\")},e.PADDING=.1,e}(i),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.init=function(t){this.parent=t,this._source=t.options.source||new Audio,t.url&&(this._source.src=t.url)},e.prototype.create=function(){return new g(this)},Object.defineProperty(e.prototype,\"isPlayable\",{get:function(){return!!this._source&&4===this._source.readyState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"duration\",{get:function(){return this._source.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"context\",{get:function(){return this.parent.context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"filters\",{get:function(){return null},set:function(t){},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.removeAllListeners(),this.parent=null,this._source&&(this._source.src=\"\",this._source.load(),this._source=null)},Object.defineProperty(e.prototype,\"source\",{get:function(){return this._source},enumerable:!1,configurable:!0}),e.prototype.load=function(t){var e=this._source,n=this.parent;if(4!==e.readyState)if(n.url){e.src=n.url;var o=function(){s(),n.isLoaded=!0;var e=n.autoPlayStart();t&&t(null,n,e)},i=function(){s(),t&&t(new Error(\"Sound loading has been aborted\"))},r=function(){s();var n=\"Failed to load audio element (code: \".concat(e.error.code,\")\");t&&t(new Error(n))},s=function(){e.removeEventListener(\"canplaythrough\",o),e.removeEventListener(\"load\",o),e.removeEventListener(\"abort\",i),e.removeEventListener(\"error\",r)};e.addEventListener(\"canplaythrough\",o,!1),e.addEventListener(\"load\",o,!1),e.addEventListener(\"abort\",i,!1),e.addEventListener(\"error\",r,!1),e.load()}else t(new Error(\"sound.url or sound.source must be set\"));else{n.isLoaded=!0;var u=n.autoPlayStart();t&&setTimeout((function(){t(null,n,u)}),0)}},e}(i),P=function(){function t(t,e){this.parent=t,Object.assign(this,e),this.duration=this.end-this.start}return t.prototype.play=function(t){return this.parent.play({complete:t,speed:this.speed||this.parent.speed,end:this.end,start:this.start,loop:this.loop})},t.prototype.destroy=function(){this.parent=null},t}(),x=function(){function t(){}return t.setParamValue=function(t,e){if(t.setValueAtTime){var n=u().context;t.setValueAtTime(e,n.audioContext.currentTime)}else t.value=e;return e},t}(),O=0,j=function(t){function e(e){var n=t.call(this)||this;return n.id=O++,n._media=null,n._paused=!1,n._muted=!1,n._elapsed=0,n.init(e),n}return c(e,t),e.prototype.set=function(t,e){if(void 0===this[t])throw new Error(\"Property with name \".concat(t,\" does not exist.\"));switch(t){case\"speed\":this.speed=e;break;case\"volume\":this.volume=e;break;case\"muted\":this.muted=e;break;case\"loop\":this.loop=e;break;case\"paused\":this.paused=e}return this},e.prototype.stop=function(){this._source&&(this._internalStop(),this.emit(\"stop\"))},Object.defineProperty(e.prototype,\"speed\",{get:function(){return this._speed},set:function(t){this._speed=t,this.refresh(),this._update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"volume\",{get:function(){return this._volume},set:function(t){this._volume=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"muted\",{get:function(){return this._muted},set:function(t){this._muted=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"loop\",{get:function(){return this._loop},set:function(t){this._loop=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"filters\",{get:function(){return this._filters},set:function(t){var e;this._filters&&(null===(e=this._filters)||void 0===e||e.filter((function(t){return t})).forEach((function(t){return t.disconnect()})),this._filters=null,this._source.connect(this._gain)),this._filters=(null==t?void 0:t.length)?t.slice(0):null,this.refresh()},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){if(this._source){var t=this._media.context,e=this._media.parent;this._source.loop=this._loop||e.loop;var n=t.volume*(t.muted?0:1),o=e.volume*(e.muted?0:1),i=this._volume*(this._muted?0:1);x.setParamValue(this._gain.gain,i*o*n),x.setParamValue(this._source.playbackRate,this._speed*e.speed*t.speed),this.applyFilters()}},e.prototype.applyFilters=function(){var t;if(null===(t=this._filters)||void 0===t?void 0:t.length){this._source.disconnect();var e=this._source;this._filters.forEach((function(t){e.connect(t.destination),e=t})),e.connect(this._gain)}},e.prototype.refreshPaused=function(){var t=this._media.context,e=this._media.parent,n=this._paused||e.paused||t.paused;n!==this._pausedReal&&(this._pausedReal=n,n?(this._internalStop(),this.emit(\"paused\")):(this.emit(\"resumed\"),this.play({start:this._elapsed%this._duration,end:this._end,speed:this._speed,loop:this._loop,volume:this._volume})),this.emit(\"pause\",n))},e.prototype.play=function(t){var e=t.start,n=t.end,o=t.speed,i=t.loop,r=t.volume,s=t.muted,u=t.filters;this._paused=!1;var a=this._media.nodes.cloneBufferSource(),c=a.source,l=a.gain;this._source=c,this._gain=l,this._speed=o,this._volume=r,this._loop=!!i,this._muted=s,this._filters=u,this.refresh();var p=this._source.buffer.duration;this._duration=p,this._end=n,this._lastUpdate=this._now(),this._elapsed=e,this._source.onended=this._onComplete.bind(this),this._loop?(this._source.loopEnd=n,this._source.loopStart=e,this._source.start(0,e)):n?this._source.start(0,e,n-e):this._source.start(0,e),this.emit(\"start\"),this._update(!0),this.enableTicker(!0)},e.prototype.enableTicker=function(t){r.shared.remove(this._updateListener,this),t&&r.shared.add(this._updateListener,this)},Object.defineProperty(e.prototype,\"progress\",{get:function(){return this._progress},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"paused\",{get:function(){return this._paused},set:function(t){this._paused=t,this.refreshPaused()},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var t;this.removeAllListeners(),this._internalStop(),this._gain&&(this._gain.disconnect(),this._gain=null),this._media&&(this._media.context.events.off(\"refresh\",this.refresh,this),this._media.context.events.off(\"refreshPaused\",this.refreshPaused,this),this._media=null),null===(t=this._filters)||void 0===t||t.forEach((function(t){return t.disconnect()})),this._filters=null,this._end=null,this._speed=1,this._volume=1,this._loop=!1,this._elapsed=0,this._duration=0,this._paused=!1,this._muted=!1,this._pausedReal=!1},e.prototype.toString=function(){return\"[WebAudioInstance id=\".concat(this.id,\"]\")},e.prototype._now=function(){return this._media.context.audioContext.currentTime},e.prototype._updateListener=function(){this._update()},e.prototype._update=function(t){if(void 0===t&&(t=!1),this._source){var e=this._now(),n=e-this._lastUpdate;if(n>0||t){var o=this._source.playbackRate.value;this._elapsed+=n*o,this._lastUpdate=e;var i=this._duration,r=void 0;if(this._source.loopStart){var s=this._source.loopEnd-this._source.loopStart;r=(this._source.loopStart+this._elapsed%s)/i}else r=this._elapsed%i/i;this._progress=r,this.emit(\"progress\",this._progress,i)}}},e.prototype.init=function(t){this._media=t,t.context.events.on(\"refresh\",this.refresh,this),t.context.events.on(\"refreshPaused\",this.refreshPaused,this)},e.prototype._internalStop=function(){if(this._source){this.enableTicker(!1),this._source.onended=null,this._source.stop(0),this._source.disconnect();try{this._source.buffer=null}catch(t){}this._source=null}},e.prototype._onComplete=function(){if(this._source){this.enableTicker(!1),this._source.onended=null,this._source.disconnect();try{this._source.buffer=null}catch(t){}}this._source=null,this._progress=1,this.emit(\"progress\",1,this._duration),this.emit(\"end\",this)},e}(i),w=function(){function t(t,e){this._output=e,this._input=t}return Object.defineProperty(t.prototype,\"destination\",{get:function(){return this._input},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"filters\",{get:function(){return this._filters},set:function(t){var e=this;if(this._filters&&(this._filters.forEach((function(t){t&&t.disconnect()})),this._filters=null,this._input.connect(this._output)),t&&t.length){this._filters=t.slice(0),this._input.disconnect();var n=null;t.forEach((function(t){null===n?e._input.connect(t.destination):n.connect(t.destination),n=t})),n.connect(this._output)}},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){this.filters=null,this._input=null,this._output=null},t}(),A=function(t){function e(e){var n=this,o=e.audioContext,i=o.createBufferSource(),r=o.createGain(),s=o.createAnalyser();return i.connect(s),s.connect(r),r.connect(e.destination),(n=t.call(this,s,r)||this).context=e,n.bufferSource=i,n.gain=r,n.analyser=s,n}return c(e,t),Object.defineProperty(e.prototype,\"script\",{get:function(){return this._script||(this._script=this.context.audioContext.createScriptProcessor(e.BUFFER_SIZE),this._script.connect(this.context.destination)),this._script},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.bufferSource.disconnect(),this._script&&this._script.disconnect(),this.gain.disconnect(),this.analyser.disconnect(),this.bufferSource=null,this._script=null,this.gain=null,this.analyser=null,this.context=null},e.prototype.cloneBufferSource=function(){var t=this.bufferSource,e=this.context.audioContext.createBufferSource();e.buffer=t.buffer,x.setParamValue(e.playbackRate,t.playbackRate.value),e.loop=t.loop;var n=this.context.audioContext.createGain();return e.connect(n),n.connect(this.destination),{source:e,gain:n}},Object.defineProperty(e.prototype,\"bufferSize\",{get:function(){return this.script.bufferSize},enumerable:!1,configurable:!0}),e.BUFFER_SIZE=0,e}(w),F=function(){function t(){}return t.prototype.init=function(t){this.parent=t,this._nodes=new A(this.context),this._source=this._nodes.bufferSource,this.source=t.options.source},t.prototype.destroy=function(){this.parent=null,this._nodes.destroy(),this._nodes=null;try{this._source.buffer=null}catch(t){}this._source=null,this.source=null},t.prototype.create=function(){return new j(this)},Object.defineProperty(t.prototype,\"context\",{get:function(){return this.parent.context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"isPlayable\",{get:function(){return!!this._source&&!!this._source.buffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"filters\",{get:function(){return this._nodes.filters},set:function(t){this._nodes.filters=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"duration\",{get:function(){return this._source.buffer.duration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"buffer\",{get:function(){return this._source.buffer},set:function(t){this._source.buffer=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"nodes\",{get:function(){return this._nodes},enumerable:!1,configurable:!0}),t.prototype.load=function(t){this.source?this._decode(this.source,t):this.parent.url?this._loadUrl(t):t&&t(new Error(\"sound.url or sound.source must be set\"))},t.prototype._loadUrl=function(t){var e=this,n=new XMLHttpRequest,o=this.parent.url;n.open(\"GET\",o,!0),n.responseType=\"arraybuffer\",n.onload=function(){e.source=n.response,e._decode(n.response,t)},n.send()},t.prototype._decode=function(t,e){var n=this,o=function(t,o){if(t)e&&e(t);else{n.parent.isLoaded=!0,n.buffer=o;var i=n.parent.autoPlayStart();e&&e(null,n.parent,i)}};t instanceof AudioBuffer?o(null,t):this.parent.context.decode(t,o)},t}(),E=function(){function t(t,e){this.media=t,this.options=e,this._instances=[],this._sprites={},this.media.init(this);var n=e.complete;this._autoPlayOptions=n?{complete:n}:null,this.isLoaded=!1,this.isPlaying=!1,this.autoPlay=e.autoPlay,this.singleInstance=e.singleInstance,this.preload=e.preload||this.autoPlay,this.url=e.url,this.speed=e.speed,this.volume=e.volume,this.loop=e.loop,e.sprites&&this.addSprites(e.sprites),this.preload&&this._preload(e.loaded)}return t.from=function(e){var n={};return\"string\"==typeof e?n.url=e:e instanceof ArrayBuffer||e instanceof AudioBuffer||e instanceof HTMLAudioElement?n.source=e:n=e,(n=l({autoPlay:!1,singleInstance:!1,url:null,source:null,preload:!1,volume:1,speed:1,complete:null,loaded:null,loop:!1},n)).url&&(n.url=_(n.url)),Object.freeze(n),new t(u().useLegacy?new v:new F,n)},Object.defineProperty(t.prototype,\"context\",{get:function(){return u().context},enumerable:!1,configurable:!0}),t.prototype.pause=function(){return this.isPlaying=!1,this.paused=!0,this},t.prototype.resume=function(){return this.isPlaying=this._instances.length>0,this.paused=!1,this},Object.defineProperty(t.prototype,\"paused\",{get:function(){return this._paused},set:function(t){this._paused=t,this.refreshPaused()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"speed\",{get:function(){return this._speed},set:function(t){this._speed=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"filters\",{get:function(){return this.media.filters},set:function(t){this.media.filters=t},enumerable:!1,configurable:!0}),t.prototype.addSprites=function(t,e){if(\"object\"==typeof t){var n={};for(var o in t)n[o]=this.addSprites(o,t[o]);return n}var i=new P(this,e);return this._sprites[t]=i,i},t.prototype.destroy=function(){this._removeInstances(),this.removeSprites(),this.media.destroy(),this.media=null,this._sprites=null,this._instances=null},t.prototype.removeSprites=function(t){if(t){var e=this._sprites[t];void 0!==e&&(e.destroy(),delete this._sprites[t])}else for(var n in this._sprites)this.removeSprites(n);return this},Object.defineProperty(t.prototype,\"isPlayable\",{get:function(){return this.isLoaded&&this.media&&this.media.isPlayable},enumerable:!1,configurable:!0}),t.prototype.stop=function(){if(!this.isPlayable)return this.autoPlay=!1,this._autoPlayOptions=null,this;this.isPlaying=!1;for(var t=this._instances.length-1;t>=0;t--)this._instances[t].stop();return this},t.prototype.play=function(t,e){var n,o=this;\"string\"==typeof t?n={sprite:r=t,loop:this.loop,complete:e}:\"function\"==typeof t?(n={}).complete=t:n=t;if((n=l({complete:null,loaded:null,sprite:null,end:null,start:0,volume:1,speed:1,muted:!1,loop:!1},n||{})).sprite){var i=n.sprite,r=this._sprites[i];n.start=r.start+(n.start||0),n.end=r.end,n.speed=r.speed||1,n.loop=r.loop||n.loop,delete n.sprite}if(n.offset&&(n.start=n.offset),!this.isLoaded)return new Promise((function(t,e){o.autoPlay=!0,o._autoPlayOptions=n,o._preload((function(o,i,r){o?e(o):(n.loaded&&n.loaded(o,i,r),t(r))}))}));(this.singleInstance||n.singleInstance)&&this._removeInstances();var s=this._createInstance();return this._instances.push(s),this.isPlaying=!0,s.once(\"end\",(function(){n.complete&&n.complete(o),o._onComplete(s)})),s.once(\"stop\",(function(){o._onComplete(s)})),s.play(n),s},t.prototype.refresh=function(){for(var t=this._instances.length,e=0;e<t;e++)this._instances[e].refresh()},t.prototype.refreshPaused=function(){for(var t=this._instances.length,e=0;e<t;e++)this._instances[e].refreshPaused()},Object.defineProperty(t.prototype,\"volume\",{get:function(){return this._volume},set:function(t){this._volume=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"muted\",{get:function(){return this._muted},set:function(t){this._muted=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"loop\",{get:function(){return this._loop},set:function(t){this._loop=t,this.refresh()},enumerable:!1,configurable:!0}),t.prototype._preload=function(t){this.media.load(t)},Object.defineProperty(t.prototype,\"instances\",{get:function(){return this._instances},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"sprites\",{get:function(){return this._sprites},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"duration\",{get:function(){return this.media.duration},enumerable:!1,configurable:!0}),t.prototype.autoPlayStart=function(){var t;return this.autoPlay&&(t=this.play(this._autoPlayOptions)),t},t.prototype._removeInstances=function(){for(var t=this._instances.length-1;t>=0;t--)this._poolInstance(this._instances[t]);this._instances.length=0},t.prototype._onComplete=function(t){if(this._instances){var e=this._instances.indexOf(t);e>-1&&this._instances.splice(e,1),this.isPlaying=this._instances.length>0}this._poolInstance(t)},t.prototype._createInstance=function(){if(t._pool.length>0){var e=t._pool.pop();return e.init(this.media),e}return this.media.create()},t.prototype._poolInstance=function(e){e.destroy(),t._pool.indexOf(e)<0&&t._pool.push(e)},t._pool=[],t}(),C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=1,e.muted=!1,e.volume=1,e.paused=!1,e}return c(e,t),e.prototype.refresh=function(){this.emit(\"refresh\")},e.prototype.refreshPaused=function(){this.emit(\"refreshPaused\")},Object.defineProperty(e.prototype,\"filters\",{get:function(){return null},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"audioContext\",{get:function(){return null},enumerable:!1,configurable:!0}),e.prototype.toggleMute=function(){return this.muted=!this.muted,this.refresh(),this.muted},e.prototype.togglePause=function(){return this.paused=!this.paused,this.refreshPaused(),this.paused},e.prototype.destroy=function(){this.removeAllListeners()},e}(i),L=function(t){function e(){var n=t.call(this,null,null)||this;n.autoPause=!0;var o=window,r=new e.AudioContext,s=r.createDynamicsCompressor(),u=r.createAnalyser();return u.connect(s),s.connect(r.destination),n._input=u,n._output=r.destination,n._ctx=r,n._offlineCtx=new e.OfflineAudioContext(1,2,o.OfflineAudioContext?Math.max(8e3,Math.min(96e3,r.sampleRate)):44100),n.compressor=s,n.analyser=u,n.events=new i,n.volume=1,n.speed=1,n.muted=!1,n.paused=!1,n._locked=\"suspended\"===r.state&&(\"ontouchstart\"in globalThis||\"onclick\"in globalThis),n._locked&&(n._unlock(),n._unlock=n._unlock.bind(n),document.addEventListener(\"mousedown\",n._unlock,!0),document.addEventListener(\"touchstart\",n._unlock,!0),document.addEventListener(\"touchend\",n._unlock,!0)),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),globalThis.addEventListener(\"focus\",n.onFocus),globalThis.addEventListener(\"blur\",n.onBlur),n}return c(e,t),e.prototype.onFocus=function(){if(this.autoPause){var t=this._ctx.state;\"suspended\"!==t&&\"interrupted\"!==t&&this._locked||(this.paused=this._pausedOnBlur,this.refreshPaused())}},e.prototype.onBlur=function(){this.autoPause&&(this._locked||(this._pausedOnBlur=this._paused,this.paused=!0,this.refreshPaused()))},e.prototype._unlock=function(){this._locked&&(this.playEmptySound(),\"running\"===this._ctx.state&&(document.removeEventListener(\"mousedown\",this._unlock,!0),document.removeEventListener(\"touchend\",this._unlock,!0),document.removeEventListener(\"touchstart\",this._unlock,!0),this._locked=!1))},e.prototype.playEmptySound=function(){var t=this._ctx.createBufferSource();t.buffer=this._ctx.createBuffer(1,1,22050),t.connect(this._ctx.destination),t.start(0,0,0),\"suspended\"===t.context.state&&t.context.resume()},Object.defineProperty(e,\"AudioContext\",{get:function(){var t=window;return t.AudioContext||t.webkitAudioContext||null},enumerable:!1,configurable:!0}),Object.defineProperty(e,\"OfflineAudioContext\",{get:function(){var t=window;return t.OfflineAudioContext||t.webkitOfflineAudioContext||null},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this);var e=this._ctx;void 0!==e.close&&e.close(),globalThis.removeEventListener(\"focus\",this.onFocus),globalThis.removeEventListener(\"blur\",this.onBlur),this.events.removeAllListeners(),this.analyser.disconnect(),this.compressor.disconnect(),this.analyser=null,this.compressor=null,this.events=null,this._offlineCtx=null,this._ctx=null},Object.defineProperty(e.prototype,\"audioContext\",{get:function(){return this._ctx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"offlineContext\",{get:function(){return this._offlineCtx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"paused\",{get:function(){return this._paused},set:function(t){t&&\"running\"===this._ctx.state?this._ctx.suspend():t||\"suspended\"!==this._ctx.state||this._ctx.resume(),this._paused=t},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){this.events.emit(\"refresh\")},e.prototype.refreshPaused=function(){this.events.emit(\"refreshPaused\")},e.prototype.toggleMute=function(){return this.muted=!this.muted,this.refresh(),this.muted},e.prototype.togglePause=function(){return this.paused=!this.paused,this.refreshPaused(),this._paused},e.prototype.decode=function(t,e){var n=function(t){e(new Error((null==t?void 0:t.message)||\"Unable to decode file\"))},o=this._offlineCtx.decodeAudioData(t,(function(t){e(null,t)}),n);o&&o.catch(n)},e}(w),S=function(){function t(){this.init()}return t.prototype.init=function(){return this.supported&&(this._webAudioContext=new L),this._htmlAudioContext=new C,this._sounds={},this.useLegacy=!this.supported,this},Object.defineProperty(t.prototype,\"context\",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"filtersAll\",{get:function(){return this.useLegacy?[]:this._context.filters},set:function(t){this.useLegacy||(this._context.filters=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"supported\",{get:function(){return null!==L.AudioContext},enumerable:!1,configurable:!0}),t.prototype.add=function(t,e){if(\"object\"==typeof t){var n={};for(var o in t){var i=this._getOptions(t[o],e);n[o]=this.add(o,i)}return n}if(e instanceof E)return this._sounds[t]=e,e;var r=this._getOptions(e),s=E.from(r);return this._sounds[t]=s,s},t.prototype._getOptions=function(t,e){var n;return n=\"string\"==typeof t?{url:t}:t instanceof ArrayBuffer||t instanceof AudioBuffer||t instanceof HTMLAudioElement?{source:t}:t,n=l(l({},n),e||{})},Object.defineProperty(t.prototype,\"useLegacy\",{get:function(){return this._useLegacy},set:function(t){m.setLegacy(t),this._useLegacy=t,this._context=!t&&this.supported?this._webAudioContext:this._htmlAudioContext},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"disableAutoPause\",{get:function(){return!this._webAudioContext.autoPause},set:function(t){this._webAudioContext.autoPause=!t},enumerable:!1,configurable:!0}),t.prototype.remove=function(t){return this.exists(t,!0),this._sounds[t].destroy(),delete this._sounds[t],this},Object.defineProperty(t.prototype,\"volumeAll\",{get:function(){return this._context.volume},set:function(t){this._context.volume=t,this._context.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"speedAll\",{get:function(){return this._context.speed},set:function(t){this._context.speed=t,this._context.refresh()},enumerable:!1,configurable:!0}),t.prototype.togglePauseAll=function(){return this._context.togglePause()},t.prototype.pauseAll=function(){return this._context.paused=!0,this._context.refreshPaused(),this},t.prototype.resumeAll=function(){return this._context.paused=!1,this._context.refreshPaused(),this},t.prototype.toggleMuteAll=function(){return this._context.toggleMute()},t.prototype.muteAll=function(){return this._context.muted=!0,this._context.refresh(),this},t.prototype.unmuteAll=function(){return this._context.muted=!1,this._context.refresh(),this},t.prototype.removeAll=function(){for(var t in this._sounds)this._sounds[t].destroy(),delete this._sounds[t];return this},t.prototype.stopAll=function(){for(var t in this._sounds)this._sounds[t].stop();return this},t.prototype.exists=function(t,e){return void 0===e&&(e=!1),!!this._sounds[t]},t.prototype.find=function(t){return this.exists(t,!0),this._sounds[t]},t.prototype.play=function(t,e){return this.find(t).play(e)},t.prototype.stop=function(t){return this.find(t).stop()},t.prototype.pause=function(t){return this.find(t).pause()},t.prototype.resume=function(t){return this.find(t).resume()},t.prototype.volume=function(t,e){var n=this.find(t);return void 0!==e&&(n.volume=e),n.volume},t.prototype.speed=function(t,e){var n=this.find(t);return void 0!==e&&(n.speed=e),n.speed},t.prototype.duration=function(t){return this.find(t).duration},t.prototype.close=function(){return this.removeAll(),this._sounds=null,this._webAudioContext&&(this._webAudioContext.destroy(),this._webAudioContext=null),this._htmlAudioContext&&(this._htmlAudioContext.destroy(),this._htmlAudioContext=null),this._context=null,this},t}(),k={__proto__:null,HTMLAudioMedia:v,HTMLAudioInstance:g,HTMLAudioContext:C},M=function(){function t(t,e){this.init(t,e)}return t.prototype.init=function(t,e){this.destination=t,this.source=e||t},t.prototype.connect=function(t){this.source.connect(t)},t.prototype.disconnect=function(){this.source.disconnect()},t.prototype.destroy=function(){this.disconnect(),this.destination=null,this.source=null},t}(),T={__proto__:null,Filter:M,EqualizerFilter:function(t){function e(n,o,i,r,s,a,c,l,p,h){void 0===n&&(n=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===c&&(c=0),void 0===l&&(l=0),void 0===p&&(p=0),void 0===h&&(h=0);var f=this;if(!u().useLegacy){var d=[{f:e.F32,type:\"lowshelf\",gain:n},{f:e.F64,type:\"peaking\",gain:o},{f:e.F125,type:\"peaking\",gain:i},{f:e.F250,type:\"peaking\",gain:r},{f:e.F500,type:\"peaking\",gain:s},{f:e.F1K,type:\"peaking\",gain:a},{f:e.F2K,type:\"peaking\",gain:c},{f:e.F4K,type:\"peaking\",gain:l},{f:e.F8K,type:\"peaking\",gain:p},{f:e.F16K,type:\"highshelf\",gain:h}].map((function(t){var e=u().context.audioContext.createBiquadFilter();return e.type=t.type,x.setParamValue(e.Q,1),e.frequency.value=t.f,x.setParamValue(e.gain,t.gain),e}));(f=t.call(this,d[0],d[d.length-1])||this).bands=d,f.bandsMap={};for(var _=0;_<f.bands.length;_++){var y=f.bands[_];_>0&&f.bands[_-1].connect(y),f.bandsMap[y.frequency.value]=y}return f}f=t.call(this,null)||this}return c(e,t),e.prototype.setGain=function(t,e){if(void 0===e&&(e=0),!this.bandsMap[t])throw new Error(\"No band found for frequency \".concat(t));x.setParamValue(this.bandsMap[t].gain,e)},e.prototype.getGain=function(t){if(!this.bandsMap[t])throw new Error(\"No band found for frequency \".concat(t));return this.bandsMap[t].gain.value},Object.defineProperty(e.prototype,\"f32\",{get:function(){return this.getGain(e.F32)},set:function(t){this.setGain(e.F32,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"f64\",{get:function(){return this.getGain(e.F64)},set:function(t){this.setGain(e.F64,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"f125\",{get:function(){return this.getGain(e.F125)},set:function(t){this.setGain(e.F125,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"f250\",{get:function(){return this.getGain(e.F250)},set:function(t){this.setGain(e.F250,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"f500\",{get:function(){return this.getGain(e.F500)},set:function(t){this.setGain(e.F500,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"f1k\",{get:function(){return this.getGain(e.F1K)},set:function(t){this.setGain(e.F1K,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"f2k\",{get:function(){return this.getGain(e.F2K)},set:function(t){this.setGain(e.F2K,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"f4k\",{get:function(){return this.getGain(e.F4K)},set:function(t){this.setGain(e.F4K,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"f8k\",{get:function(){return this.getGain(e.F8K)},set:function(t){this.setGain(e.F8K,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"f16k\",{get:function(){return this.getGain(e.F16K)},set:function(t){this.setGain(e.F16K,t)},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.bands.forEach((function(t){x.setParamValue(t.gain,0)}))},e.prototype.destroy=function(){this.bands.forEach((function(t){t.disconnect()})),this.bands=null,this.bandsMap=null},e.F32=32,e.F64=64,e.F125=125,e.F250=250,e.F500=500,e.F1K=1e3,e.F2K=2e3,e.F4K=4e3,e.F8K=8e3,e.F16K=16e3,e}(M),DistortionFilter:function(t){function e(e){void 0===e&&(e=0);var n=this;if(!u().useLegacy){var o=u().context.audioContext.createWaveShaper();return(n=t.call(this,o)||this)._distortion=o,n.amount=e,n}n=t.call(this,null)||this}return c(e,t),Object.defineProperty(e.prototype,\"amount\",{get:function(){return this._amount},set:function(t){this._amount=t;for(var e,n=1e3*t,o=44100,i=new Float32Array(o),r=Math.PI/180,s=0;s<o;++s)e=2*s/o-1,i[s]=(3+n)*e*20*r/(Math.PI+n*Math.abs(e));this._distortion.curve=i,this._distortion.oversample=\"4x\"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this._distortion=null,t.prototype.destroy.call(this)},e}(M),StereoFilter:function(t){function e(e){void 0===e&&(e=0);var n=this;if(!u().useLegacy){var o,i,r,s=u().context.audioContext;return s.createStereoPanner?r=o=s.createStereoPanner():((i=s.createPanner()).panningModel=\"equalpower\",r=i),(n=t.call(this,r)||this)._stereo=o,n._panner=i,n.pan=e,n}n=t.call(this,null)||this}return c(e,t),Object.defineProperty(e.prototype,\"pan\",{get:function(){return this._pan},set:function(t){this._pan=t,this._stereo?x.setParamValue(this._stereo.pan,t):this._panner.setPosition(t,0,1-Math.abs(t))},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._stereo=null,this._panner=null},e}(M),ReverbFilter:function(t){function e(e,n,o){void 0===e&&(e=3),void 0===n&&(n=2),void 0===o&&(o=!1);var i=this;if(!u().useLegacy)return(i=t.call(this,null)||this)._seconds=i._clamp(e,1,50),i._decay=i._clamp(n,0,100),i._reverse=o,i._rebuild(),i;i=t.call(this,null)||this}return c(e,t),e.prototype._clamp=function(t,e,n){return Math.min(n,Math.max(e,t))},Object.defineProperty(e.prototype,\"seconds\",{get:function(){return this._seconds},set:function(t){this._seconds=this._clamp(t,1,50),this._rebuild()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"decay\",{get:function(){return this._decay},set:function(t){this._decay=this._clamp(t,0,100),this._rebuild()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"reverse\",{get:function(){return this._reverse},set:function(t){this._reverse=t,this._rebuild()},enumerable:!1,configurable:!0}),e.prototype._rebuild=function(){for(var t,e=u().context.audioContext,n=e.sampleRate,o=n*this._seconds,i=e.createBuffer(2,o,n),r=i.getChannelData(0),s=i.getChannelData(1),a=0;a<o;a++)t=this._reverse?o-a:a,r[a]=(2*Math.random()-1)*Math.pow(1-t/o,this._decay),s[a]=(2*Math.random()-1)*Math.pow(1-t/o,this._decay);var c=u().context.audioContext.createConvolver();c.buffer=i,this.init(c)},e}(M),MonoFilter:function(t){function e(){var e=this;if(!u().useLegacy){var n=u().context.audioContext,o=n.createChannelSplitter(),i=n.createChannelMerger();return i.connect(o),(e=t.call(this,i,o)||this)._merger=i,e}e=t.call(this,null)||this}return c(e,t),e.prototype.destroy=function(){this._merger.disconnect(),this._merger=null,t.prototype.destroy.call(this)},e}(M),StreamFilter:function(t){function e(){var e=this;if(!u().useLegacy){var n=u().context.audioContext,o=n.createMediaStreamDestination(),i=n.createMediaStreamSource(o.stream);return(e=t.call(this,o,i)||this)._stream=o.stream,e}e=t.call(this,null)||this}return c(e,t),Object.defineProperty(e.prototype,\"stream\",{get:function(){return this._stream},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this._stream=null,t.prototype.destroy.call(this)},e}(M),TelephoneFilter:function(t){function e(){if(!u().useLegacy){var e=u().context.audioContext,n=e.createBiquadFilter(),o=e.createBiquadFilter(),i=e.createBiquadFilter(),r=e.createBiquadFilter();return n.type=\"lowpass\",x.setParamValue(n.frequency,2e3),o.type=\"lowpass\",x.setParamValue(o.frequency,2e3),i.type=\"highpass\",x.setParamValue(i.frequency,500),r.type=\"highpass\",x.setParamValue(r.frequency,500),n.connect(o),o.connect(i),i.connect(r),t.call(this,n,r)||this}t.call(this,null)}return c(e,t),e}(M)},B={__proto__:null,WebAudioMedia:F,WebAudioInstance:j,WebAudioNodes:A,WebAudioContext:L,WebAudioUtils:x},G=0;var I={__proto__:null,playOnce:function(t,e){var n=\"alias\".concat(G++);return u().add(n,{url:t,preload:!0,autoPlay:!0,loaded:function(t){t&&(u().remove(n),e&&e(t))},complete:function(){u().remove(n),e&&e(null)}}),n},get PLAY_ID(){return G},render:function(t,e){var n=document.createElement(\"canvas\");e=l({width:512,height:128,fill:\"black\"},e||{}),n.width=e.width,n.height=e.height;var i=o.from(n);if(!(t.media instanceof F))return i;var r=t.media,s=n.getContext(\"2d\");s.fillStyle=e.fill;for(var u=r.buffer.getChannelData(0),a=Math.ceil(u.length/e.width),c=e.height/2,p=0;p<e.width;p++){for(var h=1,f=-1,d=0;d<a;d++){var _=u[p*a+d];_<h&&(h=_),_>f&&(f=_)}s.fillRect(p,(1+h)*c,1,Math.max(1,(f-h)*c))}return i},resolveUrl:_,sineTone:function(t,e){void 0===t&&(t=200),void 0===e&&(e=1);var n=E.from({singleInstance:!0});if(!(n.media instanceof F))return n;for(var o=n.media,i=n.context.audioContext.createBuffer(1,48e3*e,48e3),r=i.getChannelData(0),s=0;s<r.length;s++){var u=t*(s/i.sampleRate)*Math.PI;r[s]=2*Math.sin(u)}return o.buffer=i,n.isLoaded=!0,n},validateFormats:f,supported:h,extensions:p},R=function(t){return s=t,t}(new S);\"extensions\"in n?n.extensions.add(m):e.registerPlugin(m);export{M as Filter,w as Filterable,E as Sound,S as SoundLibrary,m as SoundLoader,P as SoundSprite,T as filters,k as htmlaudio,R as sound,I as utils,B as webaudio};\n//# sourceMappingURL=pixi-sound.esm.mjs.map\n","/* eslint-disable @typescript-eslint/restrict-template-expressions */\n/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2023-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport {type IEvtMng, argChk_Boolean, argChk_Num} from './CmnLib';\nimport type {T_Variable, T_Main} from './CmnInterface';\nimport {SEARCH_PATH_ARG_EXT} from './ConfigBase';\nimport type {Config} from './Config';\nimport type {SysBase} from './SysBase';\nimport type {TArg} from './Grammar';\nimport {CmnTween} from './CmnTween';\nimport {Reading} from './Reading';\n\nimport {Loader, LoaderResource} from 'pixi.js';\nimport {sound, Sound, type Options, filters} from '@pixi/sound';\nimport {Tween, remove} from '@tweenjs/tween.js'\n\nclass SndInf {\n\tstatic\t #vol_mul_talking = 1;\n\n\tstt\t\t: ISndState;\n\tloop\t= false;\n\n\treadonly\t#proc_id;\n\tget procID() {return this.#proc_id}\n\n\tconstructor(\n\t\t\treadonly\tfn\t\t: string,\n\t\t\treadonly\tbuf\t\t: string,\n\t\t\treadonly\tstart_ms: number,\n\t\t\treadonly\tend_ms\t: number,\n\t\t\treadonly\tret_ms\t: number,\n\tprivate\treadonly\tvolume\t: number,\n\t\t\treadonly\tpan\t\t: number,\n\t\t\treadonly\tsnd\t\t: Sound | null,\n\t) {\n\t\tthis.stt = snd ?new SsPlaying(this) :new SsLoading;\n\t\tthis.#proc_id = Reading.procID;\n\t\tif (snd) this.addSnd(snd);\n\t}\n\taddSnd(snd: Sound) {\n\t\tthis.loop = snd.loop;\n\t//\tif (! this.loop) sound.add(this.fn, snd);\t// 手動キャッシュすると単発連打で無音に\n\n\t\tthis.stt.onLoad(this);\n\t\tif (this.pan !== 0) snd.filters = [new filters.StereoFilter(this.pan)];\n\n\t\tthis.setVol = vol=> {snd.volume = vol};\n\t\tthis.tw = ()=> new Tween(snd);\n\t\tthis.onPlayEnd = ()=> {this.stt.onPlayEnd(this.buf); this.#onStop()};\n\t\tthis.stop = ()=> {snd.stop(); this.#onStop()};\n\t\tthis.destroy = ()=> snd.destroy();\n\n\t\tswitch (this.buf) {\t\t// セリフ再生中はBGM音量を絞る\n\t\t\tcase BUF_VOICE:{\n\t\t\t\tconst v = Number(val.getVal('sys:sn.sound.BGM.vol_mul_talking') ?? 1);\t\t// 歴史的経緯で ??\n\t\t\t\tif (v === 1) break;\n\n\t\t\t\tSndInf.#vol_mul_talking = v;\n\t\t\t\tconst b = hSndBuf[BUF_BGM];\n\t\t\t\tif (b) b.setVol(this.volume * SndInf.#vol_mul_talking);\n\t\t\t}\tbreak;\n\n\t\t\tcase BUF_BGM:\n\t\t\t\tsnd.volume = this.volume * SndInf.#vol_mul_talking;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\t\t#onStop = ()=> {\n\t\t\tthis.#onStop = ()=> { /* empty */ };\n\t\t\tif (SndInf.#vol_mul_talking === 1 || this.buf !== BUF_VOICE) return;\n\n\t\t\t// ボリュームを戻す\n\t\t\tSndInf.#vol_mul_talking = 1;\n\t\t\tconst b = hSndBuf[BUF_BGM];\n\t\t\tif (b) b.setVol(this.volume * SndInf.#vol_mul_talking);\n\t\t}\n\n\tsetVol(_vol: number) { /* empty */ }\n\ttw(): Tween<Sound> | undefined {return undefined}\n\tonPlayEnd() { /* empty */ }\n\tstop() { /* empty */ }\n\tdestroy() { /* empty */ }\n}\n\n\nlet cfg\t: Config;\nlet val\t: T_Variable;\nlet main: T_Main;\nlet sys\t: SysBase;\nlet hSndBuf\t: HSndBuf;\n\nlet evtMng\t: IEvtMng;\n\nexport type HSndBuf = {[buf: string]: SndBuf}\nexport\tconst\tBUF_BGM\t\t= 'BGM';\nexport\tconst\tBUF_SE\t\t= 'SE';\n\t\tconst\tBUF_VOICE\t= 'VOICE';\n\n\nexport class SndBuf {\n\tstatic\t#hLP\t: {[buf: string]: string}\t= {};\n\tstatic\tinit($cfg: Config, $val: T_Variable, $main: T_Main, $sys: SysBase, $hSndBuf: HSndBuf) {\n\t\tSndBuf.#hLP = {};\n\t\tcfg\t= $cfg;\n\t\tval\t= $val;\n\t\tmain= $main;\n\t\tsys\t= $sys;\n\t\thSndBuf\t= $hSndBuf;\n\t}\n\tstatic\tsetEvtMng($evtMng: IEvtMng) {evtMng = $evtMng}\n\tstatic\tdelLoopPlay(buf: string): void {\n\t\t// eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n\t\tdelete SndBuf.#hLP[buf];\n\t\tconst vn = 'const.sn.sound.'+ buf +'.';\n\t\tval.setVal_Nochk('save', vn +'fn', '');\n\t\tval.setVal_Nochk('save', 'const.sn.loopPlaying', JSON.stringify(SndBuf.#hLP));\n\t\tval.flush();\n\t}\n\tstatic\tgetVol(hArg: TArg, def: number): number {\n\t\tconst vol = argChk_Num(hArg, 'volume', def);\n\t\tif (vol < 0) return 0;\n\t\tif (vol > 1) return 1;\n\t\treturn vol;\n\t}\n\tstatic\txchgbuf({buf: buf1 = BUF_SE, buf2 = BUF_SE}: TArg) {\n\t\tif (buf1 === buf2) throw `[xchgbuf] buf:${buf1} が同じ値です`;\n\n\t\tconst n1 = 'const.sn.sound.'+ buf1 +'.';\n\t\tconst v1 = Number(val.getVal('save:'+ n1 +'volume'));\n\t\tconst f1 = String(val.getVal('save:'+ n1 +'fn'));\n\t\tconst n2 = 'const.sn.sound.'+ buf2 +'.';\n\t\tconst v2 = Number(val.getVal('save:'+ n2 +'volume'));\n\t\tconst f2 = String(val.getVal('save:'+ n2 +'fn'));\n\t\tval.setVal_Nochk('save', n1 +'volume', v2);\n\t\tval.setVal_Nochk('save', n2 +'volume', v1);\n\t\tval.setVal_Nochk('save', n1 +'fn', f2);\n\t\tval.setVal_Nochk('save', n2 +'fn', f1);\n\n\t\tif (buf1 in SndBuf.#hLP !== buf2 in SndBuf.#hLP) {\t// 演算子の優先順位確認済\n\t\t\tif (buf1 in SndBuf.#hLP)\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n\t\t\t\t\t{delete SndBuf.#hLP[buf1]; SndBuf.#hLP[buf2] = f1}\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n\t\t\telse\t{delete SndBuf.#hLP[buf2]; SndBuf.#hLP[buf1] = f2}\n\t\t\tval.setVal_Nochk('save', 'const.sn.loopPlaying', JSON.stringify(SndBuf.#hLP));\n\t\t}\n\t\tval.flush();\n\t}\n\n\n\tstatic\treadonly\t#MAX_END_MS\t= 999000;\n\n\n\treadonly #si\t\t: SndInf;\n\treadonly needLoad;\n\n\n\tconstructor(\n\t\treadonly hArg\t: TArg,\n\t\treadonly buf\t: string,\n\t\treadonly fn\t\t: string,\n\t) {\n\t\tconst start_ms = argChk_Num(hArg, 'start_ms', 0);\n\t\tconst end_ms = argChk_Num(hArg, 'end_ms', SndBuf.#MAX_END_MS);\n\t\tconst ret_ms = argChk_Num(hArg, 'ret_ms', 0);\n\t\tconst pan = argChk_Num(hArg, 'pan', 0);\n\t\tconst speed = argChk_Num(hArg, 'speed', 1);\n\n\t\tif (start_ms < 0) throw `[playse] start_ms:${start_ms} が負の値です`;\n\t\tif (ret_ms < 0) throw `[playse] ret_ms:${ret_ms} が負の値です`;\n\t\tif (0 < end_ms) {\n\t\t\tif (end_ms <= start_ms) throw `[playse] start_ms:${start_ms} >= end_ms:${end_ms} は異常値です`;\n\t\t\tif (end_ms <= ret_ms) throw `[playse] ret_ms:${ret_ms} >= end_ms:${end_ms} は異常値です`;\n\t\t}\n\n\t\t// この辺で属性を増減したら、loadFromSaveObj()にも反映する\n\t\tconst vn = 'const.sn.sound.'+ buf +'.';\n\t\tval.setVal_Nochk('save', vn +'fn', fn);\n\t\tconst savevol = SndBuf.getVol(hArg, 1);\n\t\tval.setVal_Nochk('save', vn +'volume', savevol);// 目標音量（save:）\n\t\tconst volume = savevol * Number(val.getVal('sys:'+ vn +'volume', 1, true));\n\n\t\tconst loop = argChk_Boolean(hArg, 'loop', false);\n\t\tif (loop) {\n\t\t\tSndBuf.#hLP[buf] = fn;\n\t\t\tval.setVal_Nochk('save', 'const.sn.loopPlaying', JSON.stringify(SndBuf.#hLP));\n\t\t}\n\t\telse SndBuf.delLoopPlay(buf);\n\t\tval.setVal_Nochk('save', vn +'start_ms', start_ms);\n\t\tval.setVal_Nochk('save', vn +'end_ms', end_ms);\n\t\tval.setVal_Nochk('save', vn +'ret_ms', ret_ms);\n\t\tval.setVal_Nochk('tmp', vn +'playing', true);\n\t\tval.flush();\n\n\t\tconst snd = <Sound | null>sound.find(fn);\t// キャッシュにあるか\n\t\tthis.#si = new SndInf(\n\t\t\tfn,\n\t\t\tbuf,\n\t\t\tstart_ms,\n\t\t\tend_ms,\n\t\t\tret_ms,\n\t\t\tvolume,\n\t\t\tpan,\n\t\t\tsnd,\n\t\t);\n\t\t// @pixi/sound用基本パラメータ\n\t\tconst o: Options = {\n\t\t\tloop,\n\t\t\tspeed,\n\t\t\tvolume,\n\t\t\tloaded\t: (e: unknown, s2)=> {\n\t\t\t\tif (this.#si.stt.isDestroy) return;\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-base-to-string\n\t\t\t\tif (e) {main.errScript(`ロード失敗です SndBuf fn:${fn} ${String(e)}`, false); return}\n\t\t\t\tif (! s2) return;\n\n\t\t\t\tthis.#si.addSnd(s2);\n\t\t\t\tif (pan !== 0) s2.filters = [new filters.StereoFilter(pan)];\n\t\t\t//\tif (! o.loop) sound.add(fn, snd);\t// 手動キャッシュすると単発連打で無音に\n\t\t\t\thArg.fnc?.();\n\t\t\t},\n\t\t};\n\n\t\t// start_ms・end_ms機能→@pixi/sound準備\n\t\tlet sp_nm = '';\n\t\tif (0 < start_ms || end_ms < SndBuf.#MAX_END_MS) {\n\t\t\tsp_nm = `${fn};${start_ms};${end_ms};${ret_ms}`;\n\t\t\tconst os = (o.sprites ??= {})[sp_nm] = {\n\t\t\t\tstart\t: start_ms /1000,\n\t\t\t\tend\t\t: end_ms /1000,\n\t\t\t};\n\t\t\to.preload = true;\t\t// loaded発生用、トラブルの元なので使用を控えたい\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\tconst old = o.loaded!;\n\t\t\to.loaded = (e, s0)=> {\n\t\t\t\tif (this.#si.stt.isDestroy) return;\n\n\t\t\t\told(e, s0);\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\tconst s2 = s0!;\n\t\t\t\tconst d = s2.duration;\n\t\t\t\tif (os.end < 0) {\t// 負の値は末尾から\n\t\t\t\t\tos.end += d;\n\t\t\t\t\ts2.removeSprites(sp_nm);\n\t\t\t\t\ts2.addSprites(sp_nm, os);\n\t\t\t\t}\n\t\t\t\tif (os.end <= os.start) main.errScript(`[playse] end_ms:${end_ms}(${os.end *1000}) >= start_ms:${start_ms} は異常値です`);\n\t\t\t\tif (os.end *1000 <= ret_ms) main.errScript(`[playse] end_ms:${end_ms}(${os.end *1000}) <= ret_ms:${ret_ms} は異常値です`);\n\t\t\t\tif (d <= os.start) main.errScript(`[playse] 音声ファイル再生時間:${d *1000} <= start_ms:${start_ms} は異常値です`);\n\t\t\t\tif (end_ms !== SndBuf.#MAX_END_MS && d <= os.end) main.errScript(`[playse] 音声ファイル再生時間:${d *1000} <= end_ms:${end_ms} は異常値です`);\n\n\t\t\t\tvoid s2.play(sp_nm, snd=> o.complete?.(snd));\n\t\t\t\t\t// 流れ的にはすぐ下の「ループなし/あり」を呼ぶ\n\t\t\t};\n\t\t}\n\t\telse o.autoPlay = true;\n\n\t\t// ループなし ... 再生完了イベント\n\t\tif (! loop) o.complete = ()=> {\n\t\t\tstop2var(this.#si, buf);\n\t\t\tthis.#si.onPlayEnd();\n\t\t};\n\t\t// ループあり ... ret_ms処理\n\t\telse if (ret_ms !== 0) {\n\t\t\to.loop = false;\t// 一周目はループなしとする\n\t\t\to.complete = snd=> {\n\t\t\t\tconst d = snd.duration;\n\t\t\t\tconst start\t= ret_ms /1000;\n\t\t\t\tconst end\t= end_ms /1000;\n\t\t\t\tif (d <= start) main.errScript(`[playse] 音声ファイル再生時間:${d *1000} <=  ret_ms:${ret_ms} は異常値です`);\n\n\t\t\t\tvoid snd.play({\t// 一周目はループなし、なのでキャッシュされてる\n\t\t\t\t\t...o,\n\t\t\t\t\tstart,\n\t\t\t\t\tend\t\t: end < 0 ?end +d :end,// 負の値は末尾から\n\t\t\t\t//\tspeed,\t\t// 重複\n\t\t\t\t\tloop\t: true,\n\t\t\t\t//\tvolume,\t\t// 重複\n\t\t\t\t//-\tmuted?: boolean;\n\t\t\t\t\tfilters\t: pan !== 0 ?[new filters.StereoFilter(pan)] :[],\n\t\t\t\t//-\tcomplete?: CompleteCallback;\n\t\t\t\t//-\tloaded?: LoadedCallback;\n\t\t\t\t//-\tsingleInstance?: boolean;\n\t\t\t\t});\n\t\t\t\t//不要 this.#sb.snd = snd;\t// this.#sb.snd === snd (true)\n\t\t\t};\n\t\t}\n\n\t\tthis.#initVol();\n\t\tif (snd) {\n\t\t\tsnd.volume = volume;\t// 再生のたびに音量を戻す\n\t\t\tif (sp_nm) this.#playseSub(fn, o);\n\t\t\telse if (snd.isPlayable) {\n\t\t\t\tconst ab = snd.options.source;\n\t\t\t\tif (! (ab instanceof ArrayBuffer)\n\t\t\t\t\t|| ab.byteLength === 0) void snd.play(o);\n\t\t\t\telse this.#si.addSnd(Sound.from({\n\t\t\t\t\t...o,\n\t\t\t\t\turl\t\t: snd.options.url,\n\t\t\t\t\tsource\t: ab,\n\t\t\t\t}));\n\t\t\t}\n\t\t\tif (pan !== 0) snd.filters = [new filters.StereoFilter(pan)];\n\t\t\tthis.needLoad = false;\n\t\t\treturn;\n\t\t}\n\n\t\tconst join = this.needLoad = argChk_Boolean(hArg, 'join', true);\n\t\t// an時代・瀬戸愛羅さんより https://famibee.blog.fc2.com/blog-entry-106.html\n\t\t// デフォルトでjoin=trueの方が初心者に優しい\n\t\tif (join) {\n\t\t\tconst RPN_LOADED = this.#si.procID +`loaded buf:${buf} fn:${fn}`;\n\t\t\tReading.beginProc(RPN_LOADED);\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\tconst old = o.loaded!;\n\t\t\to.loaded = (e, s2)=> {\n\t\t\t\told(e, s2);\n\t\t\t\tReading.endProc(RPN_LOADED);\n\t\t\t};\n\t\t}\n\t\tthis.#playseSub(fn, o);\n\t}\n\t#initVol = ()=> {\n\t\tsound.volumeAll = Number(val.getVal('sys:sn.sound.global_volume', 1));\n\t\tthis.#initVol = ()=> { /* empty */ };\n\t};\n\t#playseSub(fn: string, o: Options) {\n\t\tconst src = cfg.searchPath(fn, SEARCH_PATH_ARG_EXT.SOUND);\n\t\tif (! src.endsWith('.bin')) {o.url = src; Sound.from(o); return}\n\n\t\t(new Loader).add({name: fn, url: src, xhrType: LoaderResource.XHR_RESPONSE_TYPE.BUFFER,})\n\t\t.use((res, next)=> {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n\t\t\tvoid sys.decAB(res.data).then(y=> {res.data = y})\n\t\t\t.catch((e: unknown)=> main.errScript(`Sound ロード失敗ですc fn:${res.name} ${e}`, false))\n\t\t\t.finally(()=> next());\n\t\t})\n\t\t.load((_ldr, hRes)=> {\t// このあと o.loaded() もコールされる\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n\t\t\to.source = hRes[fn]?.data;\n\t\t\tSound.from(o);\n\t\t});\n\t}\n\n\n\tsetVol(vol: number) {this.#si.setVol(vol)}\n\n\tws =(hArg: TArg)=> this.#si.stt.ws(this.#si, hArg);\n\tstopse({buf = BUF_SE}: TArg) {\n\t\tstop2var(this.#si, buf);\n\t\tthis.#si.stt.stopse(this.#si);\n\t}\n\n\tfade =(hArg: TArg)=> this.#si.stt.fade(this.#si, hArg);\n\twf =(hArg: TArg)=> this.#si.stt.wf(this.#si, hArg);\n\tstopfadese =(hArg: TArg)=> this.#si.stt.stopfadese(this.#si, hArg);\n\n}\n\n\n// =================================================\nfunction stop2var({loop}: SndInf, buf: string) {\n\tif (loop) {SndBuf.delLoopPlay(buf); return}\n\n\tconst vn = 'const.sn.sound.'+ buf +'.';\n\tval.setVal_Nochk('tmp', vn +'playing', false);\n\tval.flush();\n}\n\n// =================================================\n\n\ntype ISndState = {\n\t// type も class に implements できるらしい！ https://qiita.com/tkrkt/items/d01b96363e58a7df830e\n\tonLoad(si: SndInf)\t: void;\n\tstopse(si: SndInf)\t: void;\n\tws(si: SndInf, hArg: TArg): boolean;\n\tonPlayEnd(buf: string)\t: void;\n\tfade(si: SndInf, hArg: TArg): void;\n\twf(si: SndInf, hArg: TArg): boolean;\n\tcompFade(buf: string)\t: void;\n\tstopfadese(si: SndInf, hArg: TArg): void;\n\tisDestroy\t: boolean;\n}\n\nclass SsLoading implements ISndState {\n\tonLoad(si: SndInf)\t{si.stt = new SsPlaying(si)}\n\tstopse(si: SndInf)\t{si.stt = new SsStop(si, false)}\n\tws =()=> false;\n\tonPlayEnd() { /* empty */ }\t\t// ok\n\tfade() { /* empty */ }\t\t\t// ok\n\twf =()=> false;\t\t\t\t\t// ok\n\tcompFade() { /* empty */ }\t\t// ok\n\tstopfadese() { /* empty */ }\t// ok\n\treadonly\tisDestroy\t= false;\n}\n\nclass SsPlaying implements ISndState {\n\tconstructor(readonly si: SndInf) {}\n\tonLoad() { /* empty */ }\t\t// ok\n\tstopse(si: SndInf)\t{si.stt = new SsStop(si)}\n\tws(si: SndInf, hArg: TArg) {\n\t\tif (si.loop) return false;\n\n\t\tsi.stt = new SsWaitingStop(si);\n\t\tconst canskip = argChk_Boolean(hArg, 'canskip', false);\n\t\tconst stop = argChk_Boolean(hArg, 'stop', true);\n\t\tif (canskip && evtMng.isSkipping) {\n\t\t\tif (stop) si.stt.stopse(si); else si.stt.onPlayEnd = ()=> { /* empty */ };\n\t\t\treturn false;\n\t\t}\n\n\t\tconst {buf = BUF_SE} = hArg;\n\t\tconst fin = ()=> {\n\t\t\tstop2var(si, buf);\n\t\t\tsi.onPlayEnd();\t// まず一回やる\n\t\t\tif (stop) si.stt.stopse(si); else si.stt.onPlayEnd = ()=> { /* empty */ };\n\t\t\t\t// else後は SsWaitingStop か SsStop の想定\n\t\t};\n\t\tReading.beginProc(si.procID +'ws', fin, true, canskip ?fin :undefined);\n\t\treturn true;\n\t}\n\tonPlayEnd() { /* empty */ }\t\t// ok\n\tfade(si: SndInf, hArg: TArg) {\n\t\tconst {buf = BUF_SE} = hArg;\n\n\t\tconst vn = 'const.sn.sound.'+ buf +'.';\n\t\tconst bnV = vn +'volume';\n\t\tconst savevol = SndBuf.getVol(hArg, NaN);\n\t\tval.setVal_Nochk('save', bnV, savevol);\t// 目標音量（save:）\n\t\tconst vol = savevol * Number(val.getVal('sys:'+ bnV, 1))\n\t\tconst stop = argChk_Boolean(hArg, 'stop', savevol === 0);\n\t\t\t// this.getVol() により savevol = hArg.volume\n\t\tif (stop) SndBuf.delLoopPlay(buf);\t// fade中reloadなど、できるだけ早く情報更新か\n\t\tval.flush();\n\n\t\tconst time = argChk_Num(hArg, 'time', NaN);\n\t\tconst delay = argChk_Num(hArg, 'delay', 0);\n\t\tif (time === 0 && delay === 0 || evtMng.isSkipping) {\n\t\t\tsi.setVol(vol);\n\t\t\tsi.stt = stop ? new SsStop(si) : new SsPlaying(si);\n\t\t\treturn;\n\t\t}\n\n//console.log('fadese start from:%f to:%f', sb.snd.volume, vol);\n\t\tconst tw = si.tw();\n\t\tif (! tw) return;\n\t\tCmnTween.setTwProp(tw, hArg)\n\t\t.to({volume: vol}, time)\n\t\t.onUpdate(()=> {\n\t\t\tif (si.snd?.isPlaying) return;\n\n\t\t\t// レア発生の不具合対応\n\t\t\t//\t以下のエラーの対策。ただ、レア発生ゆえにこれで直ったかが確認できていない\n/*\npixi-sound.esm.mjs:9 Uncaught TypeError: Cannot read properties of null (reading 'length')\n    at n.refresh (pixi-sound.esm.mjs:9:21344)\n    at n.set (pixi-sound.esm.mjs:9:21627)\n    at e._updateProperties (tween.esm.js:805:37)\n    at e.update (tween.esm.js:731:14)\n    at e.update (tween.esm.js:263:36)\n    at #e [as fn] (CmnTween.ts:40:27)\n    at i.emit (ticker.mjs:98:22)\n    at i.update (ticker.mjs:458:37)\n    at _tick (ticker.mjs:226:23)\nn.refresh @ pixi-sound.esm.mjs:9\n*/\n\t\t\ttw.stop();\n\t\t\ttw.onComplete();\n\t\t})\n\t\t.onComplete(()=> {\n\t\t\tremove(tw);\n\t\t\tsi.stt.compFade(buf);\n\t\t\tsi.stt = stop ? new SsStop(si) : new SsPlaying(si);\n\t\t})\n\t\t.start();\n\n\t\tsi.stt = new SsFade(tw, si);\n\t}\n\twf =()=> false;\t\t\t\t\t// ok\n\tcompFade() { /* empty */ }\t\t// ok\n\tstopfadese() { /* empty */ }\t// ok\n\treadonly\tisDestroy\t= false;\n}\n\nclass SsWaitingStop implements ISndState {\n\tconstructor(readonly si: SndInf) {}\n\tonLoad() { /* empty */ }\t\t// ok\n\tstopse(si: SndInf)\t{si.stt = new SsStop(si)}\n\tws =()=> false;\t\t\t\t\t// ok\n\tonPlayEnd()\t{Reading.notifyEndProc(this.si.procID +'ws')}\n\tfade() { /* empty */ }\t\t\t// ok\n\twf =()=> false;\t\t\t\t\t// ok\n\tcompFade() { /* empty */ }\t\t// ok\n\tstopfadese() { /* empty */ }\t// ok\n\treadonly\tisDestroy\t= false;\n}\n\nclass SsFade implements ISndState {\n\tconstructor(readonly tw: Tween<Sound>, private readonly si: SndInf) {}\n\tonLoad() { /* empty */ }\t\t// ok\n\tstopse(si: SndInf)\t{this.stopfadese(); si.stt = new SsStop(si)}\t// 順番厳守\n\tws =()=> false;\t\t\t\t\t// ok ?\n\tonPlayEnd() { /* empty */ }\t\t// ok\n\tfade() { /* empty */ }\t\t\t// ok\n\twf(si: SndInf, hArg: TArg) {\n\t\tsi.stt = new SsWaitingFade(si);\n\t\tconst canskip = argChk_Boolean(hArg, 'canskip', false);\n\t\tif (canskip && evtMng.isSkipping) {this.stopfadese(); return false}\n\n\t\tconst fin = ()=> this.stopfadese();\n\t\tReading.beginProc(si.procID +'wf', fin, true, canskip ?fin :undefined);\n\t\treturn true;\n\t}\n\tcompFade() { /* empty */ }\t\t// ok\n\tstopfadese =()=> this.si.stop();\n\treadonly\tisDestroy\t= false;\n}\n\nclass SsWaitingFade implements ISndState {\n\tconstructor(private readonly si: SndInf) {}\n\tonLoad() { /* empty */ }\t\t// ok\n\tstopse(si: SndInf)\t{this.stopfadese(); si.stt = new SsStop(si)}\n\tws =()=> false;\t\t// ok\n\tonPlayEnd() { /* empty */ }\t\t// ok\n\tfade() { /* empty */ }\t\t\t// ok\n\twf =()=> false;\t\t\t\t\t// ok\n\tcompFade() {Reading.notifyEndProc(this.si.procID +'wf')}\n\tstopfadese =()=> this.si.stop();\n\treadonly\tisDestroy\t= false;\n}\n\nclass SsStop implements ISndState {\n\tconstructor(readonly si: SndInf, readonly stop = true) {\n\t\tif (! stop) return;\n\n\t\tsi.stop();\n\t\tif (! si.loop) return;\t// destroy がないと再生が残るケースが。効果音だと破棄が激しいのでループモノ(BGM)だけにする\n\n\t\tsi.destroy();\n\t\tsi.destroy = ()=> { /* empty */ };\t// 再度コール時エラー対策\n\t}\n\tonLoad() { /* empty */ }\t\t// ok\n\tstopse() { /* empty */ }\t\t// ok\n\tws =()=> false;\t\t// ok\n\tonPlayEnd() { /* empty */ }\t\t// ok\n\tfade() { /* empty */ }\t\t\t// ok\n\twf =()=> false;\t\t// ok\n\tcompFade() { /* empty */ }\t\t// ok\n\tstopfadese() { /* empty */ }\t// ok\n\treadonly\tisDestroy\t= true;\n}\n"],"names":["s","u","a","t","e","n","c","l","o","i","p","h","f","r","d","_","y","m","b","g","v","P","x","O","j","w","A","F","E","C","L","S","M","T","I","R","n.extensions","SndInf","fn","buf","start_ms","end_ms","ret_ms","volume","pan","snd","SsPlaying","SsLoading","#proc_id","Reading","#vol_mul_talking","filters","vol","Tween","#onStop","BUF_VOICE","val","hSndBuf","BUF_BGM","_vol","cfg","main","sys","evtMng","BUF_SE","SndBuf","hArg","argChk_Num","#MAX_END_MS","speed","vn","savevol","loop","argChk_Boolean","#hLP","sound","#si","s2","sp_nm","os","old","s0","start","end","stop2var","#initVol","#playseSub","ab","Sound","RPN_LOADED","$cfg","$val","$main","$sys","$hSndBuf","$evtMng","def","buf1","buf2","n1","v1","f1","n2","v2","f2","src","SEARCH_PATH_ARG_EXT","Loader","LoaderResource","res","next","_ldr","hRes","si","SsStop","SsWaitingStop","canskip","stop","fin","bnV","time","delay","tw","CmnTween","remove","SsFade","SsWaitingFade"],"mappings":"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","x_google_ignoreList":[0]}