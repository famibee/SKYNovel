<!doctype html><html ⚡>
<head>
	<meta charset="utf-8">
	<script async src="https://cdn.ampproject.org/v0.js"></script>
	<title>SKYNovel マクロ・プラグイン SKYNovel Macro And Plugin Reference</title>
	<link rel="canonical" href="./tag.htm">
	<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
	<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style>
	<noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
	<link href="https://fonts.googleapis.com/css?family=Inconsolata|Montserrat" rel="stylesheet">
	<style amp-custom>
		.ampstart-footer{background-color:#fff;color:#000;font-size:.75rem;padding-top:7rem;padding-bottom:7rem}
		.ampstart-footer .ampstart-icon{fill:#000}
		.ampstart-footer .ampstart-social-follow li:last-child{margin-right:0}

		.ampstart-headerbar{background-color:#ffffffc0;color:#000;z-index:999;box-shadow:0 0 5px 2px rgba(0,0,0,.1)}
		.ampstart-headerbar+:not(amp-sidebar),.ampstart-headerbar+amp-sidebar+*{margin-top:3.5rem}
		.ampstart-headerbar-nav .ampstart-nav-item{padding:0 1.5rem;background:0 0;opacity:.8}
		.ampstart-headerbar-nav{line-height:3.5rem}

/*! Bassplate | MIT License | http://github.com/basscss/bassplate *//*! normalize.css v5.0.0 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}figcaption,figure,main{display:block}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{display:inline-block;vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details,menu{display:block}summary{display:list-item}canvas{display:inline-block}[hidden],template{display:none}.h1{font-size:3rem}.h2{font-size:2rem}.h3{font-size:1.5rem}.h4{font-size:1.125rem}.h5{font-size:.875rem}.h6{font-size:.75rem}.font-family-inherit{font-family:inherit}.font-size-inherit{font-size:inherit}.text-decoration-none{text-decoration:none}.bold{font-weight:700}.regular{font-weight:400}.italic{font-style:italic}.caps{letter-spacing:.2em}.left-align{text-align:left}.center{text-align:center}.right-align{text-align:right}.justify{text-align:justify}.nowrap{white-space:nowrap}.break-word{word-wrap:break-word}.line-height-1{line-height:1rem}.line-height-2{line-height:1.125rem}.line-height-3{line-height:1.5rem}.line-height-4{line-height:2rem}.list-style-none{list-style:none}.underline{text-decoration:underline}.truncate{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.list-reset{list-style:none;padding-left:0}.inline{display:inline}.block{display:block}.inline-block{display:inline-block}.table{display:table}.table-cell{display:table-cell}.overflow-hidden{overflow:hidden}.overflow-scroll{overflow:scroll}.overflow-auto{overflow:auto}.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.left{float:left}.right{float:right}.fit{max-width:100%}.max-width-1{max-width:24rem}.max-width-2{max-width:32rem}.max-width-3{max-width:48rem}.max-width-4{max-width:64rem}.border-box{box-sizing:border-box}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.m0{margin:0}.mt0{margin-top:0}.mr0{margin-right:0}.mb0{margin-bottom:0}.ml0,.mx0{margin-left:0}.mx0{margin-right:0}.my0{margin-top:0;margin-bottom:0}.m1{margin:1rem}.mt1{margin-top:1rem}.mr1{margin-right:1rem}.mb1{margin-bottom:1rem}.ml1,.mx1{margin-left:1rem}.mx1{margin-right:1rem}.my1{margin-top:1rem;margin-bottom:1rem}.m2{margin:1.5rem}.mt2{margin-top:1.5rem}.mr2{margin-right:1.5rem}.mb2{margin-bottom:1.5rem}.ml2,.mx2{margin-left:1.5rem}.mx2{margin-right:1.5rem}.my2{margin-top:1.5rem;margin-bottom:1.5rem}.m3{margin:2rem}.mt3{margin-top:2rem}.mr3{margin-right:2rem}.mb3{margin-bottom:2rem}.ml3,.mx3{margin-left:2rem}.mx3{margin-right:2rem}.my3{margin-top:2rem;margin-bottom:2rem}.m4{margin:2.5rem}.mt4{margin-top:2.5rem}.mr4{margin-right:2.5rem}.mb4{margin-bottom:2.5rem}.ml4,.mx4{margin-left:2.5rem}.mx4{margin-right:2.5rem}.my4{margin-top:2.5rem;margin-bottom:2.5rem}.mxn1{margin-left:-1rem;margin-right:-1rem}.mxn2{margin-left:-1.5rem;margin-right:-1.5rem}.mxn3{margin-left:-2rem;margin-right:-2rem}.mxn4{margin-left:-2.5rem;margin-right:-2.5rem}.ml-auto{margin-left:auto}.mr-auto,.mx-auto{margin-right:auto}.mx-auto{margin-left:auto}.p0{padding:0}.pt0{padding-top:0}.pr0{padding-right:0}.pb0{padding-bottom:0}.pl0,.px0{padding-left:0}.px0{padding-right:0}.py0{padding-top:0;padding-bottom:0}.p1{padding:1rem}.pt1{padding-top:1rem}.pr1{padding-right:1rem}.pb1{padding-bottom:1rem}.pl1{padding-left:1rem}.py1{padding-top:1rem;padding-bottom:1rem}.px1{padding-left:1rem;padding-right:1rem}.p2{padding:1.5rem}.pt2{padding-top:1.5rem}.pr2{padding-right:1.5rem}.pb2{padding-bottom:1.5rem}.pl2{padding-left:1.5rem}.py2{padding-top:1.5rem;padding-bottom:1.5rem}.px2{padding-left:1.5rem;padding-right:1.5rem}.p3{padding:2rem}.pt3{padding-top:2rem}.pr3{padding-right:2rem}.pb3{padding-bottom:2rem}.pl3{padding-left:2rem}.py3{padding-top:2rem;padding-bottom:2rem}.px3{padding-left:2rem;padding-right:2rem}.p4{padding:2.5rem}.pt4{padding-top:2.5rem}.pr4{padding-right:2.5rem}.pb4{padding-bottom:2.5rem}.pl4{padding-left:2.5rem}.py4{padding-top:2.5rem;padding-bottom:2.5rem}.px4{padding-left:2.5rem;padding-right:2.5rem}.col{float:left}.col,.col-right{box-sizing:border-box}.col-right{float:right}.col-1{width:8.33333%}.col-2{width:16.66667%}.col-3{width:25%}.col-4{width:33.33333%}.col-5{width:41.66667%}.col-6{width:50%}.col-7{width:58.33333%}.col-8{width:66.66667%}.col-9{width:75%}.col-10{width:83.33333%}.col-11{width:91.66667%}.col-12{width:100%}@media (min-width:40.06rem){.sm-col{float:left;box-sizing:border-box}.sm-col-right{float:right;box-sizing:border-box}.sm-col-1{width:8.33333%}.sm-col-2{width:16.66667%}.sm-col-3{width:25%}.sm-col-4{width:33.33333%}.sm-col-5{width:41.66667%}.sm-col-6{width:50%}.sm-col-7{width:58.33333%}.sm-col-8{width:66.66667%}.sm-col-9{width:75%}.sm-col-10{width:83.33333%}.sm-col-11{width:91.66667%}.sm-col-12{width:100%}}@media (min-width:52.06rem){.md-col{float:left;box-sizing:border-box}.md-col-right{float:right;box-sizing:border-box}.md-col-1{width:8.33333%}.md-col-2{width:16.66667%}.md-col-3{width:25%}.md-col-4{width:33.33333%}.md-col-5{width:41.66667%}.md-col-6{width:50%}.md-col-7{width:58.33333%}.md-col-8{width:66.66667%}.md-col-9{width:75%}.md-col-10{width:83.33333%}.md-col-11{width:91.66667%}.md-col-12{width:100%}}@media (min-width:64.06rem){.lg-col{float:left;box-sizing:border-box}.lg-col-right{float:right;box-sizing:border-box}.lg-col-1{width:8.33333%}.lg-col-2{width:16.66667%}.lg-col-3{width:25%}.lg-col-4{width:33.33333%}.lg-col-5{width:41.66667%}.lg-col-6{width:50%}.lg-col-7{width:58.33333%}.lg-col-8{width:66.66667%}.lg-col-9{width:75%}.lg-col-10{width:83.33333%}.lg-col-11{width:91.66667%}.lg-col-12{width:100%}}.flex{display:-webkit-box;display:-ms-flexbox;display:flex}@media (min-width:40.06rem){.sm-flex{display:-webkit-box;display:-ms-flexbox;display:flex}}@media (min-width:52.06rem){.md-flex{display:-webkit-box;display:-ms-flexbox;display:flex}}@media (min-width:64.06rem){.lg-flex{display:-webkit-box;display:-ms-flexbox;display:flex}}.flex-column{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.flex-wrap{-ms-flex-wrap:wrap;flex-wrap:wrap}.items-start{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.items-end{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.items-center{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.items-baseline{-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}.items-stretch{-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch}.self-start{-ms-flex-item-align:start;align-self:flex-start}.self-end{-ms-flex-item-align:end;align-self:flex-end}.self-center{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.self-baseline{-ms-flex-item-align:baseline;align-self:baseline}.self-stretch{-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.justify-start{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.justify-end{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.justify-center{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.justify-between{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.justify-around{-ms-flex-pack:distribute;justify-content:space-around}.content-start{-ms-flex-line-pack:start;align-content:flex-start}.content-end{-ms-flex-line-pack:end;align-content:flex-end}.content-center{-ms-flex-line-pack:center;align-content:center}.content-between{-ms-flex-line-pack:justify;align-content:space-between}.content-around{-ms-flex-line-pack:distribute;align-content:space-around}.content-stretch{-ms-flex-line-pack:stretch;align-content:stretch}.flex-auto{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;min-width:0;min-height:0}.flex-none{-webkit-box-flex:0;-ms-flex:none;flex:none}.order-0{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0}.order-1{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.order-2{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.order-3{-webkit-box-ordinal-group:4;-ms-flex-order:3;order:3}.order-last{-webkit-box-ordinal-group:100000;-ms-flex-order:99999;order:99999}.relative{position:relative}.absolute{position:absolute}.fixed{position:fixed}.top-0{top:0}.right-0{right:0}.bottom-0{bottom:0}.left-0{left:0}.z1{z-index:1}.z2{z-index:2}.z3{z-index:3}.z4{z-index:4}.border{border-style:solid;border-width:1px}.border-top{border-top-style:solid;border-top-width:1px}.border-right{border-right-style:solid;border-right-width:1px}.border-bottom{border-bottom-style:solid;border-bottom-width:1px}.border-left{border-left-style:solid;border-left-width:1px}.border-none{border:0}.rounded{border-radius:3px}.circle{border-radius:50%}.rounded-top{border-radius:3px 3px 0 0}.rounded-right{border-radius:0 3px 3px 0}.rounded-bottom{border-radius:0 0 3px 3px}.rounded-left{border-radius:3px 0 0 3px}.not-rounded{border-radius:0}.hide{position:absolute;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px)}@media (max-width:40rem){.xs-hide{display:none}}@media (min-width:40.06rem) and (max-width:52rem){.sm-hide{display:none}}@media (min-width:52.06rem) and (max-width:64rem){.md-hide{display:none}}@media (min-width:64.06rem){.lg-hide{display:none}}

	.h1,h1{font-size:3rem;line-height:3.5rem}
	.h2,h2{font-size:2rem;line-height:2.5rem}
	.h3,h3{font-size:1.5rem;line-height:2rem}
	.h4,h4{font-size:1.125rem;line-height:1.5rem}
	.h5,h5{font-size:.875rem;line-height:1.125rem}
	.h6,h6{font-size:.75rem;line-height:1rem}
	h1,h2,h3,h4,h5,h6{margin:0;padding:0;font-weight:400;letter-spacing:.06em}
	a,a:active,a:visited{color:inherit}
	.ampstart-btn{font-family:inherit;font-weight:inherit;font-size:1rem;line-height:1.125rem;padding:.7em .8em;text-decoration:none;white-space:nowrap;word-wrap:normal;vertical-align:middle;cursor:pointer;background-color:#fff;color:#4508b6;border:1px solid #4508b6}

	.w-header,h1,h2,h3,h4,h5,h6{font-family:Inconsolata,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Arial,sans-serif;margin-top: 1.2em}
	.ampstart-headerbar-nav .ampstart-nav-item{padding-right:1rem}
	.ampstart-headerbar-nav .ampstart-nav-item.w-current-page{color:#066573}
	.ampstart-headerbar-nav .ampstart-nav-item.w-current-page:after,.anchor[selected]:after{content:"";display:block;height:4px;background:linear-gradient(90deg,#3e9410 0,#4ddb00)}

	li>a{text-decoration:none}

	.w-header{
		background-image:linear-gradient(90deg,#394e10 0,#4dbd00);
		padding:7rem 0;
		color:#fff;
		-webkit-clip-path: polygon(0 1%, 100% 25%, 100% 100%, 0 75%);
		clip-path: polygon(0 1%, 100% 25%, 100% 100%, 0 75%);
	}

	.w-components-sec-nav{min-width:200px;margin-top:-4.5rem;padding-top:4.5rem}
	.w-components-sec-nav >p {
		background:linear-gradient(90deg,#3e9410 0,#4ddb00);
	}

	.w-heading{letter-spacing:inherit;position:relative;font-size:1.5rem;}

	.ampstart-footer{position:relative}
	.ampstart-footer:before{content:"";position:absolute;width:100%;height:35px;background-image:linear-gradient(90deg,#394e10 0,#4dbd00);top:0;left:0;right:0}
	.ampstart-device-preview-mask,.ampstart-device-preview-select{background:#f9f7f7}
	.ampstart-device-preview-select{box-shadow:0 0 5px 2px rgba(0,0,0,.1)}

	.w-component-desc{margin-bottom:5rem; padding-left:1rem;padding-right:1rem;line-height: 1.6}
	.w-component-desc h1{letter-spacing:inherit;background:linear-gradient(90deg,#3e9410 0,#4ddb00)}
	.w-component-desc:target:before{content:"";display:block;height:3.5rem}
	.w-component-desc [placeholder]{background:#fff}
	.w-component-rendered{margin-top:3.5rem}
	.w-component-desc pre{white-space:pre-line;background:#f9f7f7;overflow-y:auto;margin:0}
	.w-example-code amp-accordion [expanded] h3:after{-webkit-transform:scaleY(-1);transform:scaleY(-1)}@media (max-width:40rem){.w-component-desc>*{padding-left:0;padding-right:0}

	.w-header>*{padding-left:0;padding-right:0}}@media (max-width:363px){.w-component-iframe-container>amp-iframe{-webkit-transform:scale(.792);transform:scale(.792);-webkit-transform-origin:0 0;transform-origin:0 0;width:343px}}
	:root{--font-family-serif:Montserrat,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Arial,sans-serif;--font-family-monospace:Consolas,Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace,sans-serif;--color-primary:#005AF0}

	body{font-family:var(--font-family-serif)}

	.abe-sublist,.ampstart-nav-item .abe-list-container{opacity:0;pointer-events:none;position:absolute}

	.ampstart-btn-secondary,.ampstart-btn-secondary[disabled],.ampstart-btn-secondary[disabled]:focus,.ampstart-btn-secondary[disabled]:hover,a.ampstart-btn-secondary,a.ampstart-btn-secondary.disabled,a.ampstart-btn-secondary.disabled:focus,a.ampstart-btn-secondary.disabled:hover{color:#fff;background:#4508b6;border:1px solid #fff}@keyframes slideUp{0%{transform:translateY(100%);opacity:.5}100%{transform:translateY(0);opacity:1}}amp-consent{background:#fff;box-shadow:rgba(0,0,0,.26) 0 0 19px 0;animation:.5s ease-out 0s 1 slideUp}

	table {margin: 1em 0;}
	th {background-color: #258cd1; color: white;}
	tr.y {background-color: #18bc9c; font-weight: bold;}
	tbody>tr>td {border-right: dashed 1px #000000;}
	table.row td {border-bottom: solid 1px black;}
</style>
</head>
<body>
	<header class="ampstart-headerbar fixed flex justify-start items-center top-0 left-0 right-0 pl2 pr4">
		<div role="button" on="tap:header-sidebar.toggle" tabindex="0" class="ampstart-navbar-trigger md-hide lg-hide pr2">☰</div>
		<nav class="ampstart-headerbar-nav ampstart-nav xs-hide">
		<ul class="list-reset m0 p0 flex justify-center nowrap">
		<li class="ampstart-nav-item abe-nav-list">
			<a href="tag.htm" class="text-decoration-none block">タグ</a>
		</li>
		<li class="ampstart-nav-item abe-nav-list w-current-page">
			<a href="macro_plg.htm" class="text-decoration-none block">マクロ・プラグイン</a>
		</li>
		<li class="ampstart-nav-item abe-nav-list">
			<a href="dev.htm" class="text-decoration-none block">開発者向け情報</a>
		</li>
		<li class="ampstart-nav-item abe-nav-list">
			<a href="https://github.com/famibee/SKYNovel" class="text-decoration-none block">github</a>
		</li>
		<li class="ampstart-nav-item abe-nav-list">
			<a href="https://famibee.blog.fc2.com/" class="text-decoration-none block">blog</a>
		</li>
	</ul>
	</nav>
	</header>

	<header class="w-header center" id="top-header">
		<h1 class="mb1">SKYNovel マクロ・プラグイン</h1>
		<p class="block mb4 caps text-decoration-none">SKYNovel Macro And Plugin Reference</p>
<!--
		<div class="w-index-header-action mx-auto">
<a class="ampstart-btn ampstart-btn-secondary caps mb1 mx2 text-decoration-none inline-block" href="/playground/#url=https://ampbyexample.com/components/amp-sidebar/source/">Open in Playground</a> <a class="ampstart-btn ampstart-btn-secondary caps mb1 mx2 text-decoration-none inline-block" href="/components/amp-sidebar/preview/">View Demo</a>
		</div>
-->
	</header>

<main class="flex pl2 mt1">
<aside class="w-components-sec-nav col-3 xs-hide sm-hide relative">
	<h3>テンプレートのマクロ</h3>
	<p>sub.sn の定義マクロ</p>
	<ul class="anchors list-reset m0 p0 px1">
		<li class="mb1"><a href="#sys_scenario_start">[sys_scenario_start] シナリオ開始時共通処理</a></li>
		<li class="mb1"><a href="#sys_title_start">[sys_title_start] タイトル開始共通処理</a></li>
		<li class="mb1"><a href="#wc">[wc] 文字数分のウェイトを入れる</a></li>
		<li class="mb1"><a href="#plc">[plc] 改ページ</a></li>
		<li class="mb1"><a href="#after_choice">[after_choice] 選択肢直後処理</a></li>
		<li class="mb1"><a href="#txt_lay_v_left"><span style="color: red;">【暫定版】</span>[txt_lay_v_left] テキストレイヤ縦書き左設定</a></li>
		<li class="mb1"><a href="#txt_lay_v_center"><span style="color: red;">【暫定版】</span>[txt_lay_v_center] テキストレイヤ縦書き中設定</a></li>
		<li class="mb1"><a href="#txt_lay_v_center_wide"><span style="color: red;">【暫定版】</span>[txt_lay_v_center_wide] テキストレイヤ縦書きWide中設定</a></li>
		<li class="mb1"><a href="#txt_lay_fullscreen"><span style="color: red;">【暫定版】</span>[txt_lay_fullscreen] テキストレイヤ全画面設定</a></li>
		<li class="mb1"><a href="#grp">[grp] 場面転換</a></li>
		<li class="mb1"><a href="#bgm">[bgm] ＢＧＭ切り替え</a></li>
		<li class="mb1"><a href="#se">[se] 効果音を再生</a></li>
	</ul>
	<p>_yesno.sn の定義マクロ</p>
	<ul class="anchors list-reset m0 p0 px1">
		<li class="mb1"><a href="#ask_ync">[ask_ync] プレイヤー意志確認</a></li>
	</ul>
	<p>ext_fg.sn の定義マクロ</p>
	<ul class="anchors list-reset m0 p0 px1">
		<li class="mb1"><a href="#fg">[fg] レイヤ画像を変更</a></li>
		<li class="mb1"><a href="#img">[img] 画像レイヤ設定サブ</a></li>
		<li class="mb1"><a href="#fg_fi">[fg_fi] フェードイン</a></li>
		<li class="mb1"><a href="#fg_fo">[fg_fo] フェードアウト</a></li>
		<li class="mb1"><a href="#fg_squat">[fg_squat] レイヤを屈伸させる</a></li>
		<li class="mb1"><a href="#fg_shake">[fg_shake] レイヤを震わせる</a></li>
		<li class="mb1"><a href="#fg_sidestep">[fg_sidestep] レイヤを反復横跳びさせる</a></li>
	</ul>
	<p>ext_for_call.sn の定義マクロ</p>
	<ul class="anchors list-reset m0 p0 px1">
		<li class="mb1"><a href="#for_call">[for_call] 変数の値を増やしながら[call]する</a></li>
		<li class="mb1"><a href="#for_call_break">[for_call_break] ループを中断する</a></li>
	</ul>
	<h3>プラグインの定義タグ</h3>
	<p>humaneプラグイン</p>
	<ul class="anchors list-reset m0 p0 px1">
		<li class="mb1"><a href="#notice">[notice] humane.js 通知パネル</a></li>
	</ul>
</aside>

<article class="w-components flex-auto col-9">
<section class="w-component-desc">

<h1>sub.sn の定義マクロ</h1>

<h2 id="#sys_scenario_start" class="w-heading">[sys_scenario_start] シナリオ開始時共通処理</h2>
<h4>タイトルからゲーム本編を開始する際の処理を行なう。</h4>
<p class="mb2 px1">
引数無し。<br/>
シナリオファイル冒頭に記述するべき。

</p>
<h2 id="#sys_title_start" class="w-heading">[sys_title_start] タイトル開始共通処理</h2>
<h4>ゲーム本編を開始する際の処理を行なう。</h4>
<p class="mb2 px1">
引数無し。<br/>
タイトルから本編、あるいはしおりロードから本編を開始する際に呼ぶ。<br/>
<br/>
クリック待ち記号、フォント、セーブロード・設定画面などを準備する。

</p>
<h2 id="#wc" class="w-heading">[wc] 文字数分のウェイトを入れる</h2>
<h4>アプリ開始時やゲーム本編からタイトルに戻る際の処理を行なう</h4>
<p class="mb2 px1">

	<table><tr><th>属性</th><th>必須</th><th>省略時</th><th>値域・型</th><th>コメント</th></tr>
	<tr class="y"><td>time</td><td>y</td><td>整数値</td><td>0.0〜</td><td>指定した文字数 x 文字表示ウェイト 分のウェイトを行なう</td></tr>
	</table>

</p>
<h2 id="#plc" class="w-heading">[plc] 改ページ</h2>
<h4>改ページと関連処理を行なう。</h4>
<p class="mb2 px1">

改ページ記号を表示する前に「自動読み進み状態で」「音声が再生中」なら音声再生終了を待つ。<br/>
改ページ記号を表示しクリックを待ち、<br/>
押下後<a href="tags.htm#er">[er]</a>（テキストを消去）し<a href="tags.htm#record_place">[record_place]</a>（ゲーム状態をバッファに退避）する。<br/>
<br/>
「履歴画面で選択位置から再開する」機能は配布状態では無効になっている。<br/>
『;	[h_ss_upd]	; 〜』<br/>
『;	[h_save]	; 〜』<br/>
のコメントを外し、シナリオファイル最初の[grp]直後に[h_save]を置くと有効になる。

	<table><tr><th>属性</th><th>必須</th><th>省略時</th><th>値域・型</th><th>コメント</th></tr>
	<tr><td>no_voice_stop</td><td>n</td><td>false</td><td>Boolean</td><td>trueなら改ページ後、音声（バッファ名「音声」の効果音）をフェードアウトしない</td></tr>
	<tr><td>no_se_stop</td><td>n</td><td>false</td><td>Boolean</td><td>trueなら改ページ後、効果音（バッファ名「SE」の効果音）をフェードアウトしない</td></tr>
	<tr><td>visible</td><td>n</td><td>true</td><td>Boolean</td><td>trueで改ページ記号を表示、falseで非表示</td></tr>
	</table>

</p>
<h2 id="after_choice" class="w-heading">[after_choice] 選択肢直後処理</h2>
<h4>[<a href="tags.htm#link">link</a>]など選択肢直後にコールする。</h4>
<p class="mb2 px1">

	引数無し。<br/>
	[<a href="tags.htm#record_place">record_place</a>]などを呼んでいます。

</p>
<h2 id="txt_lay_v_left" class="w-heading">[txt_lay_v_left] テキストレイヤ縦書き左設定</h2>
<h4>文字レイヤを設定する。サンプルゲーム「櫻の樹の下には」の縦書き設定。</h4>
<p class="mb2 px1">

このマクロで文字レイヤ（page=back）に設定しておき、<br/>
<a href="#grp">[grp]</a>で場面転換と共に文字レイヤの設定を変えるような使い方をする

	<table><tr><th>属性</th><th>必須</th><th>省略時</th><th>値域・型</th><th>コメント</th></tr>
	<tr><td>layer</td><td>n</td><td>mes</td><td>レイヤ名</td><td>処理対象の文字レイヤ</td></tr>
	<tr><td>page</td><td>n</td><td>back</td><td>fore、back</td><td>ページの裏表</td></tr>
	<tr><td>visible</td><td>n</td><td>true</td><td>Boolean</td><td>true：表示、false：非表示</td></tr>
	<tr><td>l</td><td>n</td><td>40</td><td>整数値</td><td>テキストウインドウの左端横座標</td></tr>
	<tr><td>w</td><td>n</td><td>292</td><td>整数値</td><td>テキストウインドウの横幅</td></tr>
	<tr><td>pl</td><td>n</td><td>属性l + 26</td><td>整数値</td><td>テキストウインドウの左端から内側方向への、文字表示領域との間隔</td></tr>
	<tr><td>pt</td><td>n</td><td>66</td><td>整数値</td><td>テキストウインドウの上端から内側方向への、文字表示領域との間隔</td></tr>
	<tr><td>pr</td><td>n</td><td>画面横幅<br/> -(属性l +属性w ) + 26</td><td>整数値</td><td>テキストウインドウの右端から内側方向への、文字表示領域との間隔</td></tr>
	<tr><td>pb</td><td>n</td><td>66</td><td>整数値</td><td>テキストウインドウの下端から内側方向への、文字表示領域との間隔</td></tr>
	<tr><td>fcol</td><td>n</td><td>0xffffff</td><td>色指定。0x000000など</td><td>テキスト色</td></tr>
	<tr><td>b_color</td><td>n</td><td>0x000000</td><td>色指定。0x000000など</td><td>テキストウインドウの背景色</td></tr>
	<tr><td>b_alpha</td><td>n</td><td>sys:TextLayer.Back.Alpha</td><td>0.0〜1.0（実数）</td><td>テキストウインドウの背景の透過度。<br/>0（完全透明）〜0.5（半透明）〜1（不透明）</td></tr>
	</table>

</p>
<h2 id="txt_lay_v_center" class="w-heading">[txt_lay_v_center] テキストレイヤ縦書き中設定</h2>
<h4>文字レイヤを設定する。「<a href="#txt_lay_v_left">txt_lay_v_left（テキストレイヤ縦書き左設定）</a>」を画面中央に移動したもの。</h4>
<p class="mb2 px1">

「<a href="#txt_lay_v_left" class="w-heading">txt_lay_v_left（テキストレイヤ縦書き左設定）</a>」の設定に加え以下指定を行なったもの

	<table><tr><th>属性</th><th>必須</th><th>省略時</th><th>値域・型</th><th>コメント</th></tr>
	<tr><td>l</td><td>n</td><td>366</td><td>整数値</td><td>テキストウインドウの左端横座標</td></tr>
	</table>

</p>
<h2 id="txt_lay_v_center_wide" class="w-heading">[txt_lay_v_center_wide] テキストレイヤ縦書きWide中設定</h2>
<h4>文字レイヤを設定する。「<a href="#txt_lay_v_center">txt_lay_v_center（テキストレイヤ縦書き中設定）</a>」を画面中央に移動し、幅を広げたもの。</h4>
<p class="mb2 px1">

「<a href="#txt_lay_v_center">txt_lay_v_center（テキストレイヤ縦書き中設定）</a>」の設定に加え以下指定を行なったもの

	<table><tr><th>属性</th><th>必須</th><th>省略時</th><th>値域・型</th><th>コメント</th></tr>
	<tr><td>l</td><td>n</td><td>294</td><td>整数値</td><td>テキストウインドウの左端横座標</td></tr>
	<tr><td>w</td><td>n、固定</td><td>436</td><td>整数値</td><td>テキストウインドウの横幅</td></tr>
	</table>

</p>
<h2 id="txt_lay_fullscreen" class="w-heading">[txt_lay_fullscreen] テキストレイヤ全画面設定</h2>
<h4>文字レイヤを設定する。全画面を覆うような設定</h4>
<p class="mb2 px1">

	<table><tr><th>属性</th><th>必須</th><th>省略時</th><th>値域・型</th><th>コメント</th></tr>
	<tr><td>layer</td><td>n</td><td>mes</td><td>レイヤ名</td><td>処理対象の文字レイヤ</td></tr>
	<tr><td>page</td><td>n</td><td>back</td><td>fore、back</td><td>ページの裏表</td></tr>
	<tr><td>visible</td><td>n</td><td>true</td><td>Boolean</td><td>true：表示、false：非表示</td></tr>
	<tr><td>l</td><td>n</td><td>16</td><td>整数値</td><td>テキストウインドウの左端横座標</td></tr>
	<tr><td>w</td><td>n</td><td>画面横幅 -16 *2</td><td>整数値</td><td>テキストウインドウの横幅</td></tr>
	<tr><td>pl</td><td>n</td><td>28</td><td>整数値</td><td>テキストウインドウの左端から内側方向への、文字表示領域との間隔</td></tr>
	<tr><td>pt</td><td>n</td><td>42</td><td>整数値</td><td>テキストウインドウの上端から内側方向への、文字表示領域との間隔</td></tr>
	<tr><td>pr</td><td>n</td><td>639</td><td>整数値</td><td>テキストウインドウの右端から内側方向への、文字表示領域との間隔</td></tr>
	<tr><td>pb</td><td>n</td><td>479</td><td>整数値</td><td>テキストウインドウの下端から内側方向への、文字表示領域との間隔</td></tr>
	<tr><td>fcol</td><td>n</td><td>0xffffff</td><td>色指定。0x000000など</td><td>テキスト色</td></tr>
	<tr><td>b_color</td><td>n</td><td>0x000000</td><td>色指定。0x000000など</td><td>テキストウインドウの背景色</td></tr>
	<tr><td>b_alpha</td><td>n</td><td>sys:TextLayer.Back.Alpha</td><td>0.0〜1.0（実数）</td><td>テキストウインドウの背景の透過度。<br/>0（完全透明）〜0.5（半透明）〜1（不透明）</td></tr>
	</table>

</p>
<h2 id="sysmenu_draw" class="w-heading">[sysmenu_draw] システムメニュー描画処理</h2>
<h4>文字レイヤ mes_sysmenu に表示するシステムメニューを設定する。</h4>
<p class="mb2 px1">

	このマクロを改造し、ボタンの画像変更・位置変更・増減を行える。
	<table><tr><th>属性</th><th>必須</th><th>省略時</th><th>値域・型</th><th>コメント</th></tr>
	<tr><td>no_sysmenu_draw</td><td>n</td><td>なにもしない</td><td>Boolean</td><td>trueを指定すると、次の<a href="tags.htm#grp">[grp]</a>などでの文字レイヤ<a href="tags.htm#trans">[trans]</a>などでシステムメニューを表示しない</td></tr>
	</table>

</p>
<h2 id="sys_menu" class="w-heading">[sys_menu] システムメニュー表示切り替え</h2>
<h4>文字レイヤ mes_sysmenu に表示するシステムメニューを設定する。</h4>
<p class="mb2 px1">

	このマクロを改造し、ボタンの画像変更・位置変更・増減を行える。

</p>
<h2 id="grp" class="w-heading">[grp] 場面転換</h2>
<h4>画面を暗転し背景を変更する。</h4>
<p class="mb2 px1">

	文字レイヤをフェードアウトし、<br/>
	クロスフェードしながら背景画像（レイヤ名baseの画像レイヤ）を変更、<br/>
	前景レイヤ（レイヤ名0〜2の画像レイヤ）をクリアor画像変更し、<br/>
	文字レイヤをフェードインする。<br/>
	<table><tr><th>属性</th><th>必須</th><th>省略時</th><th>値域・型</th><th>コメント</th></tr>
	<tr class="y"><td>bg</td><td>y</td><td>何もしない</td><td>画像ファイル名</td><td>背景レイヤに対する画像ファイルを指定する</td></tr>
	<tr><td>fb</td><td>n</td><td>何もしない</td><td><a href="tags.htm#add_face">[add_face]</a>で登録した差分画像（半角カンマ区切りで複数可能）</td><td>背景レイヤに対する差分画像ファイルを指定する</td></tr>

	<tr><td>l0</td><td>n</td><td>クリアする</td><td>画像ファイル名</td><td>前景レイヤ0に対する画像ファイルを指定する</td></tr>
	<tr><td>f0</td><td>n</td><td>何もしない</td><td><a href="tags.htm#add_face">[add_face]</a>で登録した差分画像（半角カンマ区切りで複数可能）</td><td>前景レイヤ0に対する差分画像ファイルを指定する</td></tr>
	<tr><td>pos0</td><td>n</td><td>c</td><td>c、横座標</td><td>前景レイヤ0に対する横座標を指定する。</td></tr>
	<tr><td>left0</td><td rowspan="2">n</td><td rowspan="2">0（pos指定が優先）</td><td rowspan="2">画面左上を(0, 0)とする座標</td><td rowspan="2">
		前景レイヤ0に対する表示座標を指定する。<br/>
		※left使用時はtopも必須です
	</td></tr>
	<tr><td>top0</td></tr>
	<tr><td>o0</td><td>n</td><td>何もしない</td><td>0.0〜1.0（実数）</td><td>
		前景レイヤ0に対するレイヤの透過度。<br/>
		0（完全透明）〜0.5（半透明）〜1（不透明）
	</td></tr>

	<tr><td>l1</td><td>n</td><td>クリアする</td><td>画像ファイル名</td><td>前景レイヤ1に対する画像ファイルを指定する</td></tr>
	<tr><td>f1</td><td>n</td><td>何もしない</td><td><a href="tags.htm#add_face">[add_face]</a>で登録した差分画像（半角カンマ区切りで複数可能）</td><td>前景レイヤ1に対する差分画像ファイルを指定する</td></tr>
	<tr><td>pos1</td><td>n</td><td>c</td><td>c、横座標</td><td>前景レイヤ1に対する横座標を指定する。</td></tr>
	<tr><td>left1</td><td rowspan="2">n</td><td rowspan="2">0（pos指定が優先）</td><td rowspan="2">画面左上を(0, 0)とする座標</td><td rowspan="2">
		前景レイヤ1に対する表示座標を指定する。<br/>
		※left使用時はtopも必須です
	</td></tr>
	<tr><td>top1</td></tr>
	<tr><td>o1</td><td>n</td><td>何もしない</td><td>0.0〜1.0（実数）</td><td>
		前景レイヤ1に対するレイヤの透過度。<br/>
		0（完全透明）〜0.5（半透明）〜1（不透明）
	</td></tr>

	<tr><td>l2</td><td>n</td><td>クリアする</td><td>画像ファイル名</td><td>前景レイヤ2に対する画像ファイルを指定する</td></tr>
	<tr><td>f2</td><td>n</td><td>何もしない</td><td><a href="tags.htm#add_face">[add_face]</a>で登録した差分画像（半角カンマ区切りで複数可能）</td><td>前景レイヤ2に対する差分画像ファイルを指定する</td></tr>
	<tr><td>pos2</td><td>n</td><td>c</td><td>c、横座標</td><td>前景レイヤ2に対する横座標を指定する。</td></tr>
	<tr><td>left2</td><td rowspan="2">n</td><td rowspan="2">0（pos指定が優先）</td><td rowspan="2">画面左上を(0, 0)とする座標</td><td rowspan="2">
		前景レイヤ2に対する表示座標を指定する。<br/>
		※left使用時はtopも必須です
	</td></tr>
	<tr><td>top2</td></tr>
	<tr><td>o2</td><td>n</td><td>何もしない</td><td>0.0〜1.0（実数）</td><td>
		前景レイヤ2に対するレイヤの透過度。<br/>
		0（完全透明）〜0.5（半透明）〜1（不透明）
	</td></tr>
	<tr><td>rule</td><td>n</td><td>画面全体ピクセルで同時にクロスフェードする</td><td>画像ファイル名（swf不可）</td><td>
		[trans]と同じ
	</td></tr>
	<tr><td colspan="5">その他[trans]と同じ属性</td></tr>
	<tr><td>time</td><td>n</td><td>1000</td><td>ミリ秒</td><td>背景・前景の画像レイヤ変化にかける時間</td></tr>
	<tr><td>txt_time</td><td>n</td><td>300</td><td>ミリ秒</td><td>文字レイヤ変化にかける時間</td></tr>
	<tr><td>nofo_txt</td><td>n</td><td>false</td><td>Boolean</td><td>trueなら文字レイヤをフェードアウトしない</td></tr>
	<tr><td>nofi_txt</td><td>n</td><td>false</td><td>Boolean</td><td>trueなら文字レイヤをフェードインしない</td></tr>
	<tr><td>se</td><td>n</td><td>何もしない</td><td>効果音ファイル名</td><td>場面転換と同時に再生する効果音</td></tr>
	</table>

</p>
<h2 id="#bgm" class="w-heading">[bgm] ＢＧＭ切り替え</h2>
<h4>BGMをクロスフェードする。</h4>
<p class="mb2 px1">

	<table><tr><th>属性</th><th>必須</th><th>省略時</th><th>値域・型</th><th>コメント</th></tr>
	<tr class="y"><td>fn</td><td>y</td><td></td><td>BGM音声ファイル名</td><td>
		再生する音声ファイル名
	</td></tr>
	<tr><td>time</td><td>n</td><td>再生中の曲を瞬時に停止し、指定曲を即座に再生する</td><td>ミリ秒</td><td>変化にかける時間</td></tr>
	</table>

</p>
<h2 id="#se" class="w-heading">[se] 効果音を再生</h2>
<h4>[playse]に引数省略時音声停止機能を付けたもの。</h4>
<p class="mb2 px1">

	<table><tr><th>属性</th><th>必須</th><th>省略時</th><th>値域・型</th><th>コメント</th></tr>
	<tr><td>fn</td><td>n</td><td>音声停止</td><td>音声ファイル名</td><td>
		再生する音声ファイル名
	</td></tr>
	<tr><td>buf</td><td>n</td><td>音声</td><td>効果音を識別するトラック名</td><td>トラック名を変えれば同時に複数の音を操作することが出来ます</td></tr>
	</table>

</p>


<h1>_yesno.sn の定義マクロ</h1>
<h2 id="#ask_ync" class="w-heading">[ask_ync] プレイヤー意志確認</h2>
<h4>プレイヤーに「はい」「いいえ」等の二択で確認を行なう。</h4>
<p class="mb2 px1">

プレイヤーが押下した結果をtmp:_yesnoに「y」か「n」で返す。<br/>
<br/>
ボタン素材としてファイル名がMnu_btnOK・Mnu_btnCancelの画像ファイルと、<br/>
ダイアログ素材としてファイル名が_yesnoの画像ファイルを使用する

	<table><tr><th>属性</th><th>必須</th><th>省略時</th><th>値域・型</th><th>コメント</th></tr>
	<tr class="y"><td>mes</td><td>y</td><td></td><td>String</td><td>プレイヤーに質問したい文言</td></tr>
	</table>

</p>
<h1>ext_fg.sn の定義マクロ</h1>
<h2 id="#fg" class="w-heading">[fg] レイヤ画像を変更</h2>
<h4>クロスフェードしながらレイヤ画像を変更する</h4>
<p class="mb2 px1">

	<table><tr><th>属性</th><th>必須</th><th>省略時</th><th>値域・型</th><th>コメント</th></tr>
	<tr class="y"><td>layer</td><td rowspan="2">y</td><td></td><td>レイヤ名</td><td>処理対象のレイヤ</td></tr>
	<tr class="y"><td>page</td><td>fore</td><td>fore、back</td><td>ページの裏表</td></tr>
	<tr><td>fn</td><td>n</td><td>レイヤをクリア</td><td>画像ファイル名</td><td>基本画像ファイルを指定する</td></tr>
	<tr><td>alpha</td><td>n</td><td>1.0</td><td>0.0〜1.0（実数）</td><td>レイヤの透過度。0（完全透明）〜0.5（半透明）〜1（不透明）</td></tr>
	<tr><td>time</td><td>n</td><td>500</td><td>ミリ秒数</td><td>変化にかける時間</td></tr>
	<tr><td>…</td><td>…</td><td></td><td>…</td><td>引数は<a href="tag.htm#lay" target="_blank">[lay]</a>（画像レイヤ）、<a href="tag.htm#trans" target="_blank">[trans]</a>（ページ裏表を交換）の物を指定。<br>立ち絵なら主にlayer、fn、pos、rule、time属性を使用すれば表現できる</td></tr>
	</table>

</p>
<h2 id="#img" class="w-heading">[img] 画像レイヤ設定サブ</h2>
<h4>クロスフェードしながらレイヤ画像を変更する</h4>
<p class="mb2 px1">

	<table><tr><th>属性</th><th>必須</th><th>省略時</th><th>値域・型</th><th>コメント</th></tr><tr class="y"><td>layer</td><td rowspan="2">y</td><td></td><td>レイヤ名</td><td>処理対象のレイヤ</td></tr><tr class="y"><td>page</td><td>fore</td><td>fore、back</td><td>ページの裏表</td></tr><tr><td>fn</td><td>n</td><td>レイヤをクリア</td><td>画像ファイル名</td><td>基本画像ファイルを指定する</td></tr><tr><td>alpha</td><td>n</td><td>1.0</td><td>0.0〜1.0（実数）</td><td>レイヤの透過度。0（完全透明）〜0.5（半透明）〜1（不透明）</td></tr><tr><td>…</td><td>…</td><td></td><td>…</td><td>引数は<a href="tag.htm#lay" target="_blank">[lay]</a>（画像レイヤ）、<a href="tag.htm#trans" target="_blank">[trans]</a>（ページ裏表を交換）の物を指定。主にlayer、fn、pos属性</td></tr></table>

</p>
<h2 id="#fg_fi" class="w-heading">[fg_fi] フェードイン</h2>
<h4>クロスフェードしながらレイヤ画像を変更する</h4>
<p class="mb2 px1">

	<table><tr><th>属性</th><th>必須</th><th>省略時</th><th>値域・型</th><th>コメント</th></tr><tr><td>layer</td><td>n</td><td>0</td><td>レイヤ名</td><td>処理対象のレイヤ</td></tr><tr><td>time</td><td>n</td><td>500</td><td>ミリ秒数</td><td>変化にかける時間</td></tr><tr><td>left</td><td rowspan="2">n</td><td rowspan="2">（現在位置）</td><td rowspan="2">ドット数</td><td>移動元・横位置の絶対位置</td></tr><tr><td>top</td><td>移動元・縦位置の絶対位置</td></tr><tr><td>x</td><td rowspan="2">n</td><td rowspan="2">（移動しない）</td><td rowspan="2">ドット数</td><td>移動先・横位置の絶対位置</td></tr><tr><td>y</td><td>移動先・縦位置の絶対位置（x,yは x='=-50'だと相対位置移動、x='-50'だと絶対位置移動）</td></tr><tr><td>alpha</td><td rowspan="2">n</td><td>0</td><td rowspan="2">0.0〜1.0（実数）</td><td>レイヤの透過度（初期値）。0（完全透明）〜0.5（半透明）〜1（不透明）</td></tr><tr><td>to_alpha</td><td>1</td><td>レイヤの透過度（終端値）</td></tr><tr><td>scale_x</td><td rowspan="2">n</td><td rowspan="2">1</td><td rowspan="2">ドット数</td><td>移動元・横方向拡大／縮小するか。負の値ならレイヤを左右反転</td></tr><tr><td>scale_y</td><td>移動元・縦方向拡大／縮小するか。負の値ならレイヤを上下反転</td></tr><tr><td>to_scale_x</td><td rowspan="2">n</td><td rowspan="2">1</td><td rowspan="2">ドット数</td><td>移動先・横方向拡大／縮小するか。負の値ならレイヤを左右反転</td></tr><tr><td>to_scale_y</td><td>移動先・縦方向拡大／縮小するか。負の値ならレイヤを上下反転</td></tr><tr><td>ease</td><td>n</td><td>Circular.easeOut</td><td>イージング名</td><td>alpha・x・yなど値変化のイージング（値の変化の仕方）を指定する。<br><a href="http://hosted.zeh.com.br/tweener/docs/en-us/misc/transitions.html" target="_blank">イージングの変化はこちらの図</a>が分かりやすい。<br>指定できる値はplgTweensyの<a href="ex.htm">[tsy]</a>を参照</td></tr><tr><td>no_wait</td><td>n</td><td>false</td><td>Boolean</td><td>trueを指定すると、終了を待たない</td></tr><tr><td>…</td><td>…</td><td></td><td>…</td><td>その他引数は<a href="tag.htm#lay" target="_blank">[lay]</a>（画像レイヤ）、<a href="tag.htm#trans" target="_blank">[trans]</a>（ページ裏表を交換）の物を指定。<br>立ち絵なら主にlayer、fn、pos、rule、time属性を使用すれば表現できる</td></tr></table>

</p>
<h2 id="#fg_fo" class="w-heading">[fg_fo] フェードアウト</h2>
<h4>クロスフェードしながらレイヤ画像を変更する</h4>
<p class="mb2 px1">

	<table><tr><th>属性</th><th>必須</th><th>省略時</th><th>値域・型</th><th>コメント</th></tr><tr><td>layer</td><td>n</td><td>0</td><td>レイヤ名</td><td>処理対象のレイヤ</td></tr><tr><td>time</td><td>n</td><td>500</td><td>ミリ秒数</td><td>変化にかける時間</td></tr><tr><td>x</td><td rowspan="2">n</td><td rowspan="2">（移動しない）</td><td rowspan="2">ドット数</td><td>移動先・横位置の絶対位置</td></tr><tr><td>y</td><td>移動先・縦位置の絶対位置（x,yは x='=-50'だと相対位置移動、x='-50'だと絶対位置移動）</td></tr><tr><td>alpha</td><td>n</td><td>0</td><td>0.0〜1.0（実数）</td><td>レイヤの透過度（終端値・<a href="ex.htm">[fg_fi]</a>と違う）。0（完全透明）〜0.5（半透明）〜1（不透明）</td></tr><tr><td>ease</td><td>n</td><td>Circular.easeOut</td><td>イージング名</td><td>alpha・x・yなど値変化のイージング（値の変化の仕方）を指定する。<br><a href="http://hosted.zeh.com.br/tweener/docs/en-us/misc/transitions.html" target="_blank">イージングの変化はこちらの図</a>が分かりやすい。<br>指定できる値はplgTweensyの<a href="ex.htm">[tsy]</a>を参照</td></tr><tr><td>no_wait</td><td>n</td><td>false</td><td>Boolean</td><td>trueを指定すると、終了を待たない</td></tr></table>

</p>
<h2 id="#fg_squat" class="w-heading">[fg_squat] レイヤを屈伸させる</h2>
<h4>クロスフェードしながらレイヤ画像を変更する</h4>
<p class="mb2 px1">

	<table><tr><th>属性</th><th>必須</th><th>省略時</th><th>値域・型</th><th>コメント</th></tr><tr><td>layer</td><td>n</td><td>0</td><td>レイヤ名</td><td>処理対象のレイヤ</td></tr><tr><td>time</td><td>n</td><td>250</td><td>ミリ秒数</td><td>変化にかける時間</td></tr><tr><td>y</td><td>n</td><td>50</td><td>ドット数</td><td>下へ沈ませる移動量</td></tr><tr><td>ease</td><td>n</td><td>Circular.easeOut</td><td>イージング名</td><td>揺れのイージング（値の変化の仕方）を指定する。<br><a href="http://hosted.zeh.com.br/tweener/docs/en-us/misc/transitions.html" target="_blank">イージングの変化はこちらの図</a>が分かりやすい。<br>指定できる値はplgTweensyの<a href="ex.htm">[tsy]</a>を参照</td></tr><tr><td>repeats</td><td>n</td><td>1</td><td>0〜（整数）</td><td>繰返し回数。0は無限ループ</td></tr><tr><td>no_wait</td><td>n</td><td>false</td><td>Boolean</td><td>trueを指定すると、終了を待たない</td></tr></table>

</p>
<h2 id="#fg_shake" class="w-heading">[fg_shake] レイヤを震わせる</h2>
<h4>クロスフェードしながらレイヤ画像を変更する</h4>
<p class="mb2 px1">

	<table><tr><th>属性</th><th>必須</th><th>省略時</th><th>値域・型</th><th>コメント</th></tr><tr><td>layer</td><td>n</td><td>0</td><td>レイヤ名</td><td>処理対象のレイヤ</td></tr><tr><td>time</td><td>n</td><td>250</td><td>ミリ秒数</td><td>ひと揺れにかける時間（実際に掛かる時間 = time * repeats *5【マクロ内の<a href="ex.htm">[push_tsy_seq]</a>の数】）</td></tr><tr><td>x</td><td>n</td><td>5</td><td>ドット数</td><td>左右へ揺らす最大移動量</td></tr><tr><td>repeats</td><td>n</td><td>5</td><td>0〜（整数）</td><td>繰返し回数。0は無限ループ</td></tr><tr><td>no_wait</td><td>n</td><td>false</td><td>Boolean</td><td>trueを指定すると、終了を待たない</td></tr></table>

</p>
<h2 id="#fg_sidestep" class="w-heading">[fg_sidestep] レイヤを反復横跳びさせる</h2>
<h4>クロスフェードしながらレイヤ画像を変更する</h4>
<p class="mb2 px1">

	<table><tr><th>属性</th><th>必須</th><th>省略時</th><th>値域・型</th><th>コメント</th></tr><tr><td>layer</td><td>n</td><td>0</td><td>レイヤ名</td><td>処理対象のレイヤ</td></tr><tr><td>time</td><td>n</td><td>250</td><td>ミリ秒数</td><td>一動作にかける時間（実際に掛かる時間 = time * 4）</td></tr><tr><td>x</td><td>n</td><td>25</td><td>ドット数</td><td>左右へ揺らす移動量</td></tr><tr><td>y</td><td>n</td><td>25</td><td>ドット数</td><td>下へ沈ませる移動量</td></tr><tr><td>repeats</td><td>n</td><td>1</td><td>0〜（整数）</td><td>繰返し回数。0は無限ループ</td></tr><tr><td>no_wait</td><td>n</td><td>false</td><td>Boolean</td><td>trueを指定すると、終了を待たない</td></tr></table>

</p>


<h1>ext_for_call.sn の定義マクロ</h1>

<h2 id="#for_call">[for_call] 変数の値を増やしながら[call]する</h2>
<h4>for文のように変数を変化させながら[call]を繰り返す。</h4>
<p class="mb2 px1">
	for文がないAIRNovelを補助するマクロ。

	<table><tr><th>属性</th><th>必須</th><th>省略時</th><th>値域・型</th><th>コメント</th></tr><tr class="y"><td>name</td><td>y</td><td></td><td>ループ変数名</td><td>ループインデックスに使用する変数名を指定する。<br>実際の変数名は前に'tmp:for_call_idx.'を付けたもの</td></tr><tr class="y"><td>from</td><td>y</td><td></td><td>整数値</td><td>ループ変数の開始値</td></tr><tr class="y"><td>to</td><td>y</td><td></td><td>整数値</td><td>ループ変数の終了値</td></tr><tr class="y"><td>fn</td><td rowspan="2">少なくともどちらかを指定</td><td rowspan="2">…</td><td rowspan="2">…</td><td rowspan="2">ループ中処理を行なうサブルーチンへのジャンプ先。<br>指定方法は<a href="http://famibee.web.fc2.com/tag_dev/tags.htm#jump" target="_blank">[jump]</a>と同様</td></tr><tr class="y"><td>label</td></tr><tr><td>arg</td><td>n</td><td></td><td>String</td><td>指定した場合、ジャンプ先で「&amp;const.sn.eventArg」にて値を受け取れる</td></tr></table>

</p>
<h2 id="#for_call_break">[for_call_break] ループを中断する</h2>
<h4>内側一つだけ脱出する</h4>
<p class="mb2 px1">
	[for_call]呼び先サブルーチンで使用すると、ループを終了し[for_call]の次に戻る。<br>
	[for_call_break]の直後に[return]が必要。<br>
	引数無し。

</p>



<h1>humaneプラグイン</h1>
プラグインは core/plugin/ 下に配置し使用します。

<h2 id="notice" class="w-heading">[notice] humane.js 通知パネル</h2>
<h4><a href="//wavded.github.io/humane-js/" target="_blank">humane.js</a>により通知を表示する。</h4>
<pre><q><a href="//www.moongift.jp/2013/12/humane-js-%E8%A6%8B%E3%81%9F%E7%9B%AE%E3%81%AE%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%9E%E3%82%A4%E3%82%BA%E3%82%82%E5%8F%AF%E8%83%BD%E3%81%AAweb%E9%80%9A%E7%9F%A5%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9/" target="_blank">humane.js·見た目のカスタマイズも可能なWeb通知ライブラリ MOONGIFT</a></q></pre>

<p class="mb2 px1">

humaneフォルダを配置すれば使用できます。<br>
サンプルプロジェクト「<a href="//github.com/famibee/SKYNovel_uc">桜の樹の下には</a>」では最初から配置されています。

	<table><tr><th>属性</th><th>必須</th><th>省略時</th><th>値域・型</th><th>コメント</th></tr>
	<tr class="y"><td>text</td><td>y</td><td></td><td>String</td><td>元になる文字列</td></tr>
	</table>

</p>


</section></article>
</main>

<footer class="ampstart-footer flex flex-column items-center pxy3">
	<nav class="ampstart-footer-nav">
		<ul class="list-reset flex flex-wrap mb3">
<li class="px1"><a class="text-decoration-none caps h5" href="https://github.com/ampproject/amp-by-example/issues/new"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="22.2" viewbox="0 0 53 49"><path d="M45 6.9c-1.6 1-3.3 1.6-5.2 2-1.5-1.6-3.6-2.6-5.9-2.6-4.5 0-8.2 3.7-8.2 8.3 0 .6.1 1.3.2 1.9-6.8-.4-12.8-3.7-16.8-8.7C8.4 9 8 10.5 8 12c0 2.8 1.4 5.4 3.6 6.9-1.3-.1-2.6-.5-3.7-1.1v.1c0 4 2.8 7.4 6.6 8.1-.7.2-1.5.3-2.2.3-.5 0-1 0-1.5-.1 1 3.3 4 5.7 7.6 5.7-2.8 2.2-6.3 3.6-10.2 3.6-.6 0-1.3-.1-1.9-.1 3.6 2.3 7.9 3.7 12.5 3.7 15.1 0 23.3-12.6 23.3-23.6 0-.3 0-.7-.1-1 1.6-1.2 3-2.7 4.1-4.3-1.4.6-3 1.1-4.7 1.3 1.7-1 3-2.7 3.6-4.6" class="ampstart-icon ampstart-icon-twitter"/></svg>feedback</a></li>
<li class="px1"><a class="text-decoration-none caps h5" href="https://github.com/ampproject/amp-by-example"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 64.000000 64.000000"><path d="M22.4 1.4C-.8 9-7.4 38.4 10.5 54.9 14.7 58.8 20.4 62 23 62c.5 0 1-1.6 1-3.5 0-3.3-.2-3.5-3.5-3.5-3.5 0-4.2-.5-9-6.6-4.4-5.6-2.3-6.2 3.2-.9 4.2 4 7.5 4.5 9.8 1.2 1.4-2.1 1.4-2.2-.7-3-6-2.3-8.8-4.2-10.2-7.2-2.1-4.3-2.1-12.4 0-15.3.8-1.2 1.2-2.7.9-3.2-1-1.6.5-7 1.8-7 .7 0 2.4.6 3.8 1.4 1.7.9 6 1.4 11.9 1.4s10.2-.5 11.9-1.4c1.4-.8 3.1-1.4 3.8-1.4 1.3 0 2.8 5.4 1.8 7-.3.5.1 2 .9 3.2 1.8 2.5 2.1 10.3.7 14.1-1.4 3.6-5 6.6-9.3 7.8-3.3.9-3.7 1.2-2.8 2.9.5 1 1 4.6 1 7.9 0 3.5.4 6.1 1 6.1 5.2 0 15.8-8.8 19.8-16.5 2.3-4.3 2.7-6.3 2.7-13.5 0-7-.4-9.4-2.4-13.5C57.9 12.2 51.8 6 45.6 3 39.6.2 28.5-.6 22.4 1.4z" class="ampstart-icon"/></svg>github</a></li>
<li class="px1"><a href="https://creativecommons.org/licenses/by/4.0/" rel="nofollow"><amp-img src="https://camo.githubusercontent.com/45b46deab81a0adb3164212be341f1dd65111cf3/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d43432532304259253230342e302d6c69676874677265792e737667" alt="License: CC BY 4.0" width="116" height="20" data-canonical-src="https://img.shields.io/badge/License-CC%20BY%204.0-lightgrey.svg" style="max-width:100%;"></amp-img></a></li>
		</ul>
	</nav>
	<small>AMP by Example is a part of Accelerated Mobile Pages Project</small>
</footer>
</body></html>