{"version":3,"file":"SoundMng.js","sources":["../node_modules/@pixi/sound/dist/pixi-sound.esm.mjs","../src/sn/SndBuf.ts","../src/sn/SoundMng.ts"],"sourcesContent":["/*!\n * @pixi/sound - v4.4.1\n * https://github.com/pixijs/pixi-sound\n * Compiled Tue, 15 Aug 2023 19:22:13 UTC\n *\n * @pixi/sound is licensed under the MIT license.\n * http://www.opensource.org/licenses/mit-license\n */\nimport{LoaderResource as t,Loader as e}from\"@pixi/loaders\";import*as n from\"@pixi/core\";import{BaseTexture as o}from\"@pixi/core\";import{EventEmitter as i}from\"@pixi/utils\";import{Ticker as r}from\"@pixi/ticker\";var s;function u(){return s}var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function c(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Class extends value \"+String(e)+\" is not a constructor or null\");function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var l=function(){return(l=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},p=[\"mp3\",\"ogg\",\"oga\",\"opus\",\"mpeg\",\"wav\",\"m4a\",\"aiff\",\"wma\",\"mid\",\"caf\"],h={};function f(t){var e=l({m4a:\"audio/mp4\",oga:\"audio/ogg\",opus:'audio/ogg; codecs=\"opus\"',caf:'audio/x-caf; codecs=\"opus\"'},t||{}),n=document.createElement(\"audio\"),o={},i=/^no$/;p.forEach((function(t){var r=n.canPlayType(\"audio/\".concat(t)).replace(i,\"\"),s=e[t]?n.canPlayType(e[t]).replace(i,\"\"):\"\";o[t]=!!r||!!s})),Object.assign(h,o)}f();var d=/\\.(\\{([^\\}]+)\\})(\\?.*)?$/;function _(t){var e=d,n=\"string\"==typeof t?t:t.url;if(!e.test(n))return n;for(var o=e.exec(n),i=o[2].split(\",\"),r=i[i.length-1],s=0,u=i.length;s<u;s++){var a=i[s];if(h[a]){r=a;break}}var c=n.replace(o[1],r);if(\"string\"!=typeof t){var l=t;l.extension=r,l.url=c}return c}var y=p.filter((function(t){return h[t]})),m=function(){function e(){}return e.add=function(){e.setLegacy(u().useLegacy)},e.setLegacy=function(e){e?y.forEach((function(e){t.setExtensionXhrType(e,t.XHR_RESPONSE_TYPE.DEFAULT),t.setExtensionLoadType(e,t.LOAD_TYPE.AUDIO)})):y.forEach((function(e){t.setExtensionXhrType(e,t.XHR_RESPONSE_TYPE.BUFFER),t.setExtensionLoadType(e,t.LOAD_TYPE.XHR)}))},e.pre=function(t,e){_(t),e()},e.use=function(t,e){t.data&&y.indexOf(t.extension)>-1?t.sound=u().add(t.name,{loaded:e,preload:!0,url:t.url,source:t.data}):e()},e.extension=\"loader\",e}(),b=0,g=function(t){function e(e){var n=t.call(this)||this;return n.id=b++,n.init(e),n}return c(e,t),e.prototype.set=function(t,e){if(void 0===this[t])throw new Error(\"Property with name \".concat(t,\" does not exist.\"));switch(t){case\"speed\":this.speed=e;break;case\"volume\":this.volume=e;break;case\"paused\":this.paused=e;break;case\"loop\":this.loop=e;break;case\"muted\":this.muted=e}return this},Object.defineProperty(e.prototype,\"progress\",{get:function(){return this._source.currentTime/this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"paused\",{get:function(){return this._paused},set:function(t){this._paused=t,this.refreshPaused()},enumerable:!1,configurable:!0}),e.prototype._onPlay=function(){this._playing=!0},e.prototype._onPause=function(){this._playing=!1},e.prototype.init=function(t){this._playing=!1,this._duration=t.source.duration;var e=this._source=t.source.cloneNode(!1);e.src=t.parent.url,e.onplay=this._onPlay.bind(this),e.onpause=this._onPause.bind(this),t.context.on(\"refresh\",this.refresh,this),t.context.on(\"refreshPaused\",this.refreshPaused,this),this._media=t},e.prototype._internalStop=function(){this._source&&this._playing&&(this._source.onended=null,this._source.pause())},e.prototype.stop=function(){this._internalStop(),this._source&&this.emit(\"stop\")},Object.defineProperty(e.prototype,\"speed\",{get:function(){return this._speed},set:function(t){this._speed=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"volume\",{get:function(){return this._volume},set:function(t){this._volume=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"loop\",{get:function(){return this._loop},set:function(t){this._loop=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"muted\",{get:function(){return this._muted},set:function(t){this._muted=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"filters\",{get:function(){return null},set:function(t){},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){var t=this._media.context,e=this._media.parent;this._source.loop=this._loop||e.loop;var n=t.volume*(t.muted?0:1),o=e.volume*(e.muted?0:1),i=this._volume*(this._muted?0:1);this._source.volume=i*n*o,this._source.playbackRate=this._speed*t.speed*e.speed},e.prototype.refreshPaused=function(){var t=this._media.context,e=this._media.parent,n=this._paused||e.paused||t.paused;n!==this._pausedReal&&(this._pausedReal=n,n?(this._internalStop(),this.emit(\"paused\")):(this.emit(\"resumed\"),this.play({start:this._source.currentTime,end:this._end,volume:this._volume,speed:this._speed,loop:this._loop})),this.emit(\"pause\",n))},e.prototype.play=function(t){var n=this,o=t.start,i=t.end,s=t.speed,u=t.loop,a=t.volume,c=t.muted;this._speed=s,this._volume=a,this._loop=!!u,this._muted=c,this.refresh(),this.loop&&null!==i&&(this.loop=!1),this._start=o,this._end=i||this._duration,this._start=Math.max(0,this._start-e.PADDING),this._end=Math.min(this._end+e.PADDING,this._duration),this._source.onloadedmetadata=function(){n._source&&(n._source.currentTime=o,n._source.onloadedmetadata=null,n.emit(\"progress\",o,n._duration),r.shared.add(n._onUpdate,n))},this._source.onended=this._onComplete.bind(this),this._source.play(),this.emit(\"start\")},e.prototype._onUpdate=function(){this.emit(\"progress\",this.progress,this._duration),this._source.currentTime>=this._end&&!this._source.loop&&this._onComplete()},e.prototype._onComplete=function(){r.shared.remove(this._onUpdate,this),this._internalStop(),this.emit(\"progress\",1,this._duration),this.emit(\"end\",this)},e.prototype.destroy=function(){r.shared.remove(this._onUpdate,this),this.removeAllListeners();var t=this._source;t&&(t.onended=null,t.onplay=null,t.onpause=null,this._internalStop()),this._source=null,this._speed=1,this._volume=1,this._loop=!1,this._end=null,this._start=0,this._duration=0,this._playing=!1,this._pausedReal=!1,this._paused=!1,this._muted=!1,this._media&&(this._media.context.off(\"refresh\",this.refresh,this),this._media.context.off(\"refreshPaused\",this.refreshPaused,this),this._media=null)},e.prototype.toString=function(){return\"[HTMLAudioInstance id=\".concat(this.id,\"]\")},e.PADDING=.1,e}(i),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.init=function(t){this.parent=t,this._source=t.options.source||new Audio,t.url&&(this._source.src=t.url)},e.prototype.create=function(){return new g(this)},Object.defineProperty(e.prototype,\"isPlayable\",{get:function(){return!!this._source&&4===this._source.readyState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"duration\",{get:function(){return this._source.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"context\",{get:function(){return this.parent.context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"filters\",{get:function(){return null},set:function(t){},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.removeAllListeners(),this.parent=null,this._source&&(this._source.src=\"\",this._source.load(),this._source=null)},Object.defineProperty(e.prototype,\"source\",{get:function(){return this._source},enumerable:!1,configurable:!0}),e.prototype.load=function(t){var e=this._source,n=this.parent;if(4!==e.readyState)if(n.url){e.src=n.url;var o=function(){s(),n.isLoaded=!0;var e=n.autoPlayStart();t&&t(null,n,e)},i=function(){s(),t&&t(new Error(\"Sound loading has been aborted\"))},r=function(){s();var n=\"Failed to load audio element (code: \".concat(e.error.code,\")\");t&&t(new Error(n))},s=function(){e.removeEventListener(\"canplaythrough\",o),e.removeEventListener(\"load\",o),e.removeEventListener(\"abort\",i),e.removeEventListener(\"error\",r)};e.addEventListener(\"canplaythrough\",o,!1),e.addEventListener(\"load\",o,!1),e.addEventListener(\"abort\",i,!1),e.addEventListener(\"error\",r,!1),e.load()}else t(new Error(\"sound.url or sound.source must be set\"));else{n.isLoaded=!0;var u=n.autoPlayStart();t&&setTimeout((function(){t(null,n,u)}),0)}},e}(i),P=function(){function t(t,e){this.parent=t,Object.assign(this,e),this.duration=this.end-this.start}return t.prototype.play=function(t){return this.parent.play({complete:t,speed:this.speed||this.parent.speed,end:this.end,start:this.start,loop:this.loop})},t.prototype.destroy=function(){this.parent=null},t}(),x=function(){function t(){}return t.setParamValue=function(t,e){if(t.setValueAtTime){var n=u().context;t.setValueAtTime(e,n.audioContext.currentTime)}else t.value=e;return e},t}(),O=0,j=function(t){function e(e){var n=t.call(this)||this;return n.id=O++,n._media=null,n._paused=!1,n._muted=!1,n._elapsed=0,n.init(e),n}return c(e,t),e.prototype.set=function(t,e){if(void 0===this[t])throw new Error(\"Property with name \".concat(t,\" does not exist.\"));switch(t){case\"speed\":this.speed=e;break;case\"volume\":this.volume=e;break;case\"muted\":this.muted=e;break;case\"loop\":this.loop=e;break;case\"paused\":this.paused=e}return this},e.prototype.stop=function(){this._source&&(this._internalStop(),this.emit(\"stop\"))},Object.defineProperty(e.prototype,\"speed\",{get:function(){return this._speed},set:function(t){this._speed=t,this.refresh(),this._update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"volume\",{get:function(){return this._volume},set:function(t){this._volume=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"muted\",{get:function(){return this._muted},set:function(t){this._muted=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"loop\",{get:function(){return this._loop},set:function(t){this._loop=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"filters\",{get:function(){return this._filters},set:function(t){var e;this._filters&&(null===(e=this._filters)||void 0===e||e.filter((function(t){return t})).forEach((function(t){return t.disconnect()})),this._filters=null,this._source.connect(this._gain)),this._filters=(null==t?void 0:t.length)?t.slice(0):null,this.refresh()},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){if(this._source){var t=this._media.context,e=this._media.parent;this._source.loop=this._loop||e.loop;var n=t.volume*(t.muted?0:1),o=e.volume*(e.muted?0:1),i=this._volume*(this._muted?0:1);x.setParamValue(this._gain.gain,i*o*n),x.setParamValue(this._source.playbackRate,this._speed*e.speed*t.speed),this.applyFilters()}},e.prototype.applyFilters=function(){var t;if(null===(t=this._filters)||void 0===t?void 0:t.length){this._source.disconnect();var e=this._source;this._filters.forEach((function(t){e.connect(t.destination),e=t})),e.connect(this._gain)}},e.prototype.refreshPaused=function(){var t=this._media.context,e=this._media.parent,n=this._paused||e.paused||t.paused;n!==this._pausedReal&&(this._pausedReal=n,n?(this._internalStop(),this.emit(\"paused\")):(this.emit(\"resumed\"),this.play({start:this._elapsed%this._duration,end:this._end,speed:this._speed,loop:this._loop,volume:this._volume})),this.emit(\"pause\",n))},e.prototype.play=function(t){var e=t.start,n=t.end,o=t.speed,i=t.loop,r=t.volume,s=t.muted,u=t.filters;this._paused=!1;var a=this._media.nodes.cloneBufferSource(),c=a.source,l=a.gain;this._source=c,this._gain=l,this._speed=o,this._volume=r,this._loop=!!i,this._muted=s,this._filters=u,this.refresh();var p=this._source.buffer.duration;this._duration=p,this._end=n,this._lastUpdate=this._now(),this._elapsed=e,this._source.onended=this._onComplete.bind(this),this._loop?(this._source.loopEnd=n,this._source.loopStart=e,this._source.start(0,e)):n?this._source.start(0,e,n-e):this._source.start(0,e),this.emit(\"start\"),this._update(!0),this.enableTicker(!0)},e.prototype.enableTicker=function(t){r.shared.remove(this._updateListener,this),t&&r.shared.add(this._updateListener,this)},Object.defineProperty(e.prototype,\"progress\",{get:function(){return this._progress},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"paused\",{get:function(){return this._paused},set:function(t){this._paused=t,this.refreshPaused()},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var t;this.removeAllListeners(),this._internalStop(),this._gain&&(this._gain.disconnect(),this._gain=null),this._media&&(this._media.context.events.off(\"refresh\",this.refresh,this),this._media.context.events.off(\"refreshPaused\",this.refreshPaused,this),this._media=null),null===(t=this._filters)||void 0===t||t.forEach((function(t){return t.disconnect()})),this._filters=null,this._end=null,this._speed=1,this._volume=1,this._loop=!1,this._elapsed=0,this._duration=0,this._paused=!1,this._muted=!1,this._pausedReal=!1},e.prototype.toString=function(){return\"[WebAudioInstance id=\".concat(this.id,\"]\")},e.prototype._now=function(){return this._media.context.audioContext.currentTime},e.prototype._updateListener=function(){this._update()},e.prototype._update=function(t){if(void 0===t&&(t=!1),this._source){var e=this._now(),n=e-this._lastUpdate;if(n>0||t){var o=this._source.playbackRate.value;this._elapsed+=n*o,this._lastUpdate=e;var i=this._duration,r=void 0;if(this._source.loopStart){var s=this._source.loopEnd-this._source.loopStart;r=(this._source.loopStart+this._elapsed%s)/i}else r=this._elapsed%i/i;this._progress=r,this.emit(\"progress\",this._progress,i)}}},e.prototype.init=function(t){this._media=t,t.context.events.on(\"refresh\",this.refresh,this),t.context.events.on(\"refreshPaused\",this.refreshPaused,this)},e.prototype._internalStop=function(){if(this._source){this.enableTicker(!1),this._source.onended=null,this._source.stop(0),this._source.disconnect();try{this._source.buffer=null}catch(t){}this._source=null}},e.prototype._onComplete=function(){if(this._source){this.enableTicker(!1),this._source.onended=null,this._source.disconnect();try{this._source.buffer=null}catch(t){}}this._source=null,this._progress=1,this.emit(\"progress\",1,this._duration),this.emit(\"end\",this)},e}(i),w=function(){function t(t,e){this._output=e,this._input=t}return Object.defineProperty(t.prototype,\"destination\",{get:function(){return this._input},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"filters\",{get:function(){return this._filters},set:function(t){var e=this;if(this._filters&&(this._filters.forEach((function(t){t&&t.disconnect()})),this._filters=null,this._input.connect(this._output)),t&&t.length){this._filters=t.slice(0),this._input.disconnect();var n=null;t.forEach((function(t){null===n?e._input.connect(t.destination):n.connect(t.destination),n=t})),n.connect(this._output)}},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){this.filters=null,this._input=null,this._output=null},t}(),A=function(t){function e(e){var n=this,o=e.audioContext,i=o.createBufferSource(),r=o.createGain(),s=o.createAnalyser();return i.connect(s),s.connect(r),r.connect(e.destination),(n=t.call(this,s,r)||this).context=e,n.bufferSource=i,n.gain=r,n.analyser=s,n}return c(e,t),Object.defineProperty(e.prototype,\"script\",{get:function(){return this._script||(this._script=this.context.audioContext.createScriptProcessor(e.BUFFER_SIZE),this._script.connect(this.context.destination)),this._script},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.bufferSource.disconnect(),this._script&&this._script.disconnect(),this.gain.disconnect(),this.analyser.disconnect(),this.bufferSource=null,this._script=null,this.gain=null,this.analyser=null,this.context=null},e.prototype.cloneBufferSource=function(){var t=this.bufferSource,e=this.context.audioContext.createBufferSource();e.buffer=t.buffer,x.setParamValue(e.playbackRate,t.playbackRate.value),e.loop=t.loop;var n=this.context.audioContext.createGain();return e.connect(n),n.connect(this.destination),{source:e,gain:n}},Object.defineProperty(e.prototype,\"bufferSize\",{get:function(){return this.script.bufferSize},enumerable:!1,configurable:!0}),e.BUFFER_SIZE=0,e}(w),F=function(){function t(){}return t.prototype.init=function(t){this.parent=t,this._nodes=new A(this.context),this._source=this._nodes.bufferSource,this.source=t.options.source},t.prototype.destroy=function(){this.parent=null,this._nodes.destroy(),this._nodes=null;try{this._source.buffer=null}catch(t){}this._source=null,this.source=null},t.prototype.create=function(){return new j(this)},Object.defineProperty(t.prototype,\"context\",{get:function(){return this.parent.context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"isPlayable\",{get:function(){return!!this._source&&!!this._source.buffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"filters\",{get:function(){return this._nodes.filters},set:function(t){this._nodes.filters=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"duration\",{get:function(){return this._source.buffer.duration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"buffer\",{get:function(){return this._source.buffer},set:function(t){this._source.buffer=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"nodes\",{get:function(){return this._nodes},enumerable:!1,configurable:!0}),t.prototype.load=function(t){this.source?this._decode(this.source,t):this.parent.url?this._loadUrl(t):t&&t(new Error(\"sound.url or sound.source must be set\"))},t.prototype._loadUrl=function(t){var e=this,n=new XMLHttpRequest,o=this.parent.url;n.open(\"GET\",o,!0),n.responseType=\"arraybuffer\",n.onload=function(){e.source=n.response,e._decode(n.response,t)},n.send()},t.prototype._decode=function(t,e){var n=this,o=function(t,o){if(t)e&&e(t);else{n.parent.isLoaded=!0,n.buffer=o;var i=n.parent.autoPlayStart();e&&e(null,n.parent,i)}};t instanceof AudioBuffer?o(null,t):this.parent.context.decode(t,o)},t}(),E=function(){function t(t,e){this.media=t,this.options=e,this._instances=[],this._sprites={},this.media.init(this);var n=e.complete;this._autoPlayOptions=n?{complete:n}:null,this.isLoaded=!1,this.isPlaying=!1,this.autoPlay=e.autoPlay,this.singleInstance=e.singleInstance,this.preload=e.preload||this.autoPlay,this.url=e.url,this.speed=e.speed,this.volume=e.volume,this.loop=e.loop,e.sprites&&this.addSprites(e.sprites),this.preload&&this._preload(e.loaded)}return t.from=function(e){var n={};return\"string\"==typeof e?n.url=e:e instanceof ArrayBuffer||e instanceof AudioBuffer||e instanceof HTMLAudioElement?n.source=e:n=e,(n=l({autoPlay:!1,singleInstance:!1,url:null,source:null,preload:!1,volume:1,speed:1,complete:null,loaded:null,loop:!1},n)).url&&(n.url=_(n.url)),Object.freeze(n),new t(u().useLegacy?new v:new F,n)},Object.defineProperty(t.prototype,\"context\",{get:function(){return u().context},enumerable:!1,configurable:!0}),t.prototype.pause=function(){return this.isPlaying=!1,this.paused=!0,this},t.prototype.resume=function(){return this.isPlaying=this._instances.length>0,this.paused=!1,this},Object.defineProperty(t.prototype,\"paused\",{get:function(){return this._paused},set:function(t){this._paused=t,this.refreshPaused()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"speed\",{get:function(){return this._speed},set:function(t){this._speed=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"filters\",{get:function(){return this.media.filters},set:function(t){this.media.filters=t},enumerable:!1,configurable:!0}),t.prototype.addSprites=function(t,e){if(\"object\"==typeof t){var n={};for(var o in t)n[o]=this.addSprites(o,t[o]);return n}var i=new P(this,e);return this._sprites[t]=i,i},t.prototype.destroy=function(){this._removeInstances(),this.removeSprites(),this.media.destroy(),this.media=null,this._sprites=null,this._instances=null},t.prototype.removeSprites=function(t){if(t){var e=this._sprites[t];void 0!==e&&(e.destroy(),delete this._sprites[t])}else for(var n in this._sprites)this.removeSprites(n);return this},Object.defineProperty(t.prototype,\"isPlayable\",{get:function(){return this.isLoaded&&this.media&&this.media.isPlayable},enumerable:!1,configurable:!0}),t.prototype.stop=function(){if(!this.isPlayable)return this.autoPlay=!1,this._autoPlayOptions=null,this;this.isPlaying=!1;for(var t=this._instances.length-1;t>=0;t--)this._instances[t].stop();return this},t.prototype.play=function(t,e){var n,o=this;\"string\"==typeof t?n={sprite:r=t,loop:this.loop,complete:e}:\"function\"==typeof t?(n={}).complete=t:n=t;if((n=l({complete:null,loaded:null,sprite:null,end:null,start:0,volume:1,speed:1,muted:!1,loop:!1},n||{})).sprite){var i=n.sprite,r=this._sprites[i];n.start=r.start+(n.start||0),n.end=r.end,n.speed=r.speed||1,n.loop=r.loop||n.loop,delete n.sprite}if(n.offset&&(n.start=n.offset),!this.isLoaded)return new Promise((function(t,e){o.autoPlay=!0,o._autoPlayOptions=n,o._preload((function(o,i,r){o?e(o):(n.loaded&&n.loaded(o,i,r),t(r))}))}));(this.singleInstance||n.singleInstance)&&this._removeInstances();var s=this._createInstance();return this._instances.push(s),this.isPlaying=!0,s.once(\"end\",(function(){n.complete&&n.complete(o),o._onComplete(s)})),s.once(\"stop\",(function(){o._onComplete(s)})),s.play(n),s},t.prototype.refresh=function(){for(var t=this._instances.length,e=0;e<t;e++)this._instances[e].refresh()},t.prototype.refreshPaused=function(){for(var t=this._instances.length,e=0;e<t;e++)this._instances[e].refreshPaused()},Object.defineProperty(t.prototype,\"volume\",{get:function(){return this._volume},set:function(t){this._volume=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"muted\",{get:function(){return this._muted},set:function(t){this._muted=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"loop\",{get:function(){return this._loop},set:function(t){this._loop=t,this.refresh()},enumerable:!1,configurable:!0}),t.prototype._preload=function(t){this.media.load(t)},Object.defineProperty(t.prototype,\"instances\",{get:function(){return this._instances},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"sprites\",{get:function(){return this._sprites},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"duration\",{get:function(){return this.media.duration},enumerable:!1,configurable:!0}),t.prototype.autoPlayStart=function(){var t;return this.autoPlay&&(t=this.play(this._autoPlayOptions)),t},t.prototype._removeInstances=function(){for(var t=this._instances.length-1;t>=0;t--)this._poolInstance(this._instances[t]);this._instances.length=0},t.prototype._onComplete=function(t){if(this._instances){var e=this._instances.indexOf(t);e>-1&&this._instances.splice(e,1),this.isPlaying=this._instances.length>0}this._poolInstance(t)},t.prototype._createInstance=function(){if(t._pool.length>0){var e=t._pool.pop();return e.init(this.media),e}return this.media.create()},t.prototype._poolInstance=function(e){e.destroy(),t._pool.indexOf(e)<0&&t._pool.push(e)},t._pool=[],t}(),C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=1,e.muted=!1,e.volume=1,e.paused=!1,e}return c(e,t),e.prototype.refresh=function(){this.emit(\"refresh\")},e.prototype.refreshPaused=function(){this.emit(\"refreshPaused\")},Object.defineProperty(e.prototype,\"filters\",{get:function(){return null},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"audioContext\",{get:function(){return null},enumerable:!1,configurable:!0}),e.prototype.toggleMute=function(){return this.muted=!this.muted,this.refresh(),this.muted},e.prototype.togglePause=function(){return this.paused=!this.paused,this.refreshPaused(),this.paused},e.prototype.destroy=function(){this.removeAllListeners()},e}(i),L=function(t){function e(){var n=t.call(this,null,null)||this;n.autoPause=!0;var o=window,r=new e.AudioContext,s=r.createDynamicsCompressor(),u=r.createAnalyser();return u.connect(s),s.connect(r.destination),n._input=u,n._output=r.destination,n._ctx=r,n._offlineCtx=new e.OfflineAudioContext(1,2,o.OfflineAudioContext?Math.max(8e3,Math.min(96e3,r.sampleRate)):44100),n.compressor=s,n.analyser=u,n.events=new i,n.volume=1,n.speed=1,n.muted=!1,n.paused=!1,n._locked=\"suspended\"===r.state&&(\"ontouchstart\"in globalThis||\"onclick\"in globalThis),n._locked&&(n._unlock(),n._unlock=n._unlock.bind(n),document.addEventListener(\"mousedown\",n._unlock,!0),document.addEventListener(\"touchstart\",n._unlock,!0),document.addEventListener(\"touchend\",n._unlock,!0)),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),globalThis.addEventListener(\"focus\",n.onFocus),globalThis.addEventListener(\"blur\",n.onBlur),n}return c(e,t),e.prototype.onFocus=function(){if(this.autoPause){var t=this._ctx.state;\"suspended\"!==t&&\"interrupted\"!==t&&this._locked||(this.paused=this._pausedOnBlur,this.refreshPaused())}},e.prototype.onBlur=function(){this.autoPause&&(this._locked||(this._pausedOnBlur=this._paused,this.paused=!0,this.refreshPaused()))},e.prototype._unlock=function(){this._locked&&(this.playEmptySound(),\"running\"===this._ctx.state&&(document.removeEventListener(\"mousedown\",this._unlock,!0),document.removeEventListener(\"touchend\",this._unlock,!0),document.removeEventListener(\"touchstart\",this._unlock,!0),this._locked=!1))},e.prototype.playEmptySound=function(){var t=this._ctx.createBufferSource();t.buffer=this._ctx.createBuffer(1,1,22050),t.connect(this._ctx.destination),t.start(0,0,0),\"suspended\"===t.context.state&&t.context.resume()},Object.defineProperty(e,\"AudioContext\",{get:function(){var t=window;return t.AudioContext||t.webkitAudioContext||null},enumerable:!1,configurable:!0}),Object.defineProperty(e,\"OfflineAudioContext\",{get:function(){var t=window;return t.OfflineAudioContext||t.webkitOfflineAudioContext||null},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this);var e=this._ctx;void 0!==e.close&&e.close(),globalThis.removeEventListener(\"focus\",this.onFocus),globalThis.removeEventListener(\"blur\",this.onBlur),this.events.removeAllListeners(),this.analyser.disconnect(),this.compressor.disconnect(),this.analyser=null,this.compressor=null,this.events=null,this._offlineCtx=null,this._ctx=null},Object.defineProperty(e.prototype,\"audioContext\",{get:function(){return this._ctx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"offlineContext\",{get:function(){return this._offlineCtx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"paused\",{get:function(){return this._paused},set:function(t){t&&\"running\"===this._ctx.state?this._ctx.suspend():t||\"suspended\"!==this._ctx.state||this._ctx.resume(),this._paused=t},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){this.events.emit(\"refresh\")},e.prototype.refreshPaused=function(){this.events.emit(\"refreshPaused\")},e.prototype.toggleMute=function(){return this.muted=!this.muted,this.refresh(),this.muted},e.prototype.togglePause=function(){return this.paused=!this.paused,this.refreshPaused(),this._paused},e.prototype.decode=function(t,e){var n=function(t){e(new Error((null==t?void 0:t.message)||\"Unable to decode file\"))},o=this._offlineCtx.decodeAudioData(t,(function(t){e(null,t)}),n);o&&o.catch(n)},e}(w),S=function(){function t(){this.init()}return t.prototype.init=function(){return this.supported&&(this._webAudioContext=new L),this._htmlAudioContext=new C,this._sounds={},this.useLegacy=!this.supported,this},Object.defineProperty(t.prototype,\"context\",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"filtersAll\",{get:function(){return this.useLegacy?[]:this._context.filters},set:function(t){this.useLegacy||(this._context.filters=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"supported\",{get:function(){return null!==L.AudioContext},enumerable:!1,configurable:!0}),t.prototype.add=function(t,e){if(\"object\"==typeof t){var n={};for(var o in t){var i=this._getOptions(t[o],e);n[o]=this.add(o,i)}return n}if(e instanceof E)return this._sounds[t]=e,e;var r=this._getOptions(e),s=E.from(r);return this._sounds[t]=s,s},t.prototype._getOptions=function(t,e){var n;return n=\"string\"==typeof t?{url:t}:t instanceof ArrayBuffer||t instanceof AudioBuffer||t instanceof HTMLAudioElement?{source:t}:t,n=l(l({},n),e||{})},Object.defineProperty(t.prototype,\"useLegacy\",{get:function(){return this._useLegacy},set:function(t){m.setLegacy(t),this._useLegacy=t,this._context=!t&&this.supported?this._webAudioContext:this._htmlAudioContext},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"disableAutoPause\",{get:function(){return!this._webAudioContext.autoPause},set:function(t){this._webAudioContext.autoPause=!t},enumerable:!1,configurable:!0}),t.prototype.remove=function(t){return this.exists(t,!0),this._sounds[t].destroy(),delete this._sounds[t],this},Object.defineProperty(t.prototype,\"volumeAll\",{get:function(){return this._context.volume},set:function(t){this._context.volume=t,this._context.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"speedAll\",{get:function(){return this._context.speed},set:function(t){this._context.speed=t,this._context.refresh()},enumerable:!1,configurable:!0}),t.prototype.togglePauseAll=function(){return this._context.togglePause()},t.prototype.pauseAll=function(){return this._context.paused=!0,this._context.refreshPaused(),this},t.prototype.resumeAll=function(){return this._context.paused=!1,this._context.refreshPaused(),this},t.prototype.toggleMuteAll=function(){return this._context.toggleMute()},t.prototype.muteAll=function(){return this._context.muted=!0,this._context.refresh(),this},t.prototype.unmuteAll=function(){return this._context.muted=!1,this._context.refresh(),this},t.prototype.removeAll=function(){for(var t in this._sounds)this._sounds[t].destroy(),delete this._sounds[t];return this},t.prototype.stopAll=function(){for(var t in this._sounds)this._sounds[t].stop();return this},t.prototype.exists=function(t,e){return void 0===e&&(e=!1),!!this._sounds[t]},t.prototype.find=function(t){return this.exists(t,!0),this._sounds[t]},t.prototype.play=function(t,e){return this.find(t).play(e)},t.prototype.stop=function(t){return this.find(t).stop()},t.prototype.pause=function(t){return this.find(t).pause()},t.prototype.resume=function(t){return this.find(t).resume()},t.prototype.volume=function(t,e){var n=this.find(t);return void 0!==e&&(n.volume=e),n.volume},t.prototype.speed=function(t,e){var n=this.find(t);return void 0!==e&&(n.speed=e),n.speed},t.prototype.duration=function(t){return this.find(t).duration},t.prototype.close=function(){return this.removeAll(),this._sounds=null,this._webAudioContext&&(this._webAudioContext.destroy(),this._webAudioContext=null),this._htmlAudioContext&&(this._htmlAudioContext.destroy(),this._htmlAudioContext=null),this._context=null,this},t}(),k={__proto__:null,HTMLAudioMedia:v,HTMLAudioInstance:g,HTMLAudioContext:C},M=function(){function t(t,e){this.init(t,e)}return t.prototype.init=function(t,e){this.destination=t,this.source=e||t},t.prototype.connect=function(t){this.source.connect(t)},t.prototype.disconnect=function(){this.source.disconnect()},t.prototype.destroy=function(){this.disconnect(),this.destination=null,this.source=null},t}(),T={__proto__:null,Filter:M,EqualizerFilter:function(t){function e(n,o,i,r,s,a,c,l,p,h){void 0===n&&(n=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===c&&(c=0),void 0===l&&(l=0),void 0===p&&(p=0),void 0===h&&(h=0);var f=this;if(!u().useLegacy){var d=[{f:e.F32,type:\"lowshelf\",gain:n},{f:e.F64,type:\"peaking\",gain:o},{f:e.F125,type:\"peaking\",gain:i},{f:e.F250,type:\"peaking\",gain:r},{f:e.F500,type:\"peaking\",gain:s},{f:e.F1K,type:\"peaking\",gain:a},{f:e.F2K,type:\"peaking\",gain:c},{f:e.F4K,type:\"peaking\",gain:l},{f:e.F8K,type:\"peaking\",gain:p},{f:e.F16K,type:\"highshelf\",gain:h}].map((function(t){var e=u().context.audioContext.createBiquadFilter();return e.type=t.type,x.setParamValue(e.Q,1),e.frequency.value=t.f,x.setParamValue(e.gain,t.gain),e}));(f=t.call(this,d[0],d[d.length-1])||this).bands=d,f.bandsMap={};for(var _=0;_<f.bands.length;_++){var y=f.bands[_];_>0&&f.bands[_-1].connect(y),f.bandsMap[y.frequency.value]=y}return f}f=t.call(this,null)||this}return c(e,t),e.prototype.setGain=function(t,e){if(void 0===e&&(e=0),!this.bandsMap[t])throw new Error(\"No band found for frequency \".concat(t));x.setParamValue(this.bandsMap[t].gain,e)},e.prototype.getGain=function(t){if(!this.bandsMap[t])throw new Error(\"No band found for frequency \".concat(t));return this.bandsMap[t].gain.value},Object.defineProperty(e.prototype,\"f32\",{get:function(){return this.getGain(e.F32)},set:function(t){this.setGain(e.F32,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"f64\",{get:function(){return this.getGain(e.F64)},set:function(t){this.setGain(e.F64,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"f125\",{get:function(){return this.getGain(e.F125)},set:function(t){this.setGain(e.F125,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"f250\",{get:function(){return this.getGain(e.F250)},set:function(t){this.setGain(e.F250,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"f500\",{get:function(){return this.getGain(e.F500)},set:function(t){this.setGain(e.F500,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"f1k\",{get:function(){return this.getGain(e.F1K)},set:function(t){this.setGain(e.F1K,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"f2k\",{get:function(){return this.getGain(e.F2K)},set:function(t){this.setGain(e.F2K,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"f4k\",{get:function(){return this.getGain(e.F4K)},set:function(t){this.setGain(e.F4K,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"f8k\",{get:function(){return this.getGain(e.F8K)},set:function(t){this.setGain(e.F8K,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"f16k\",{get:function(){return this.getGain(e.F16K)},set:function(t){this.setGain(e.F16K,t)},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.bands.forEach((function(t){x.setParamValue(t.gain,0)}))},e.prototype.destroy=function(){this.bands.forEach((function(t){t.disconnect()})),this.bands=null,this.bandsMap=null},e.F32=32,e.F64=64,e.F125=125,e.F250=250,e.F500=500,e.F1K=1e3,e.F2K=2e3,e.F4K=4e3,e.F8K=8e3,e.F16K=16e3,e}(M),DistortionFilter:function(t){function e(e){void 0===e&&(e=0);var n=this;if(!u().useLegacy){var o=u().context.audioContext.createWaveShaper();return(n=t.call(this,o)||this)._distortion=o,n.amount=e,n}n=t.call(this,null)||this}return c(e,t),Object.defineProperty(e.prototype,\"amount\",{get:function(){return this._amount},set:function(t){this._amount=t;for(var e,n=1e3*t,o=44100,i=new Float32Array(o),r=Math.PI/180,s=0;s<o;++s)e=2*s/o-1,i[s]=(3+n)*e*20*r/(Math.PI+n*Math.abs(e));this._distortion.curve=i,this._distortion.oversample=\"4x\"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this._distortion=null,t.prototype.destroy.call(this)},e}(M),StereoFilter:function(t){function e(e){void 0===e&&(e=0);var n=this;if(!u().useLegacy){var o,i,r,s=u().context.audioContext;return s.createStereoPanner?r=o=s.createStereoPanner():((i=s.createPanner()).panningModel=\"equalpower\",r=i),(n=t.call(this,r)||this)._stereo=o,n._panner=i,n.pan=e,n}n=t.call(this,null)||this}return c(e,t),Object.defineProperty(e.prototype,\"pan\",{get:function(){return this._pan},set:function(t){this._pan=t,this._stereo?x.setParamValue(this._stereo.pan,t):this._panner.setPosition(t,0,1-Math.abs(t))},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._stereo=null,this._panner=null},e}(M),ReverbFilter:function(t){function e(e,n,o){void 0===e&&(e=3),void 0===n&&(n=2),void 0===o&&(o=!1);var i=this;if(!u().useLegacy)return(i=t.call(this,null)||this)._seconds=i._clamp(e,1,50),i._decay=i._clamp(n,0,100),i._reverse=o,i._rebuild(),i;i=t.call(this,null)||this}return c(e,t),e.prototype._clamp=function(t,e,n){return Math.min(n,Math.max(e,t))},Object.defineProperty(e.prototype,\"seconds\",{get:function(){return this._seconds},set:function(t){this._seconds=this._clamp(t,1,50),this._rebuild()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"decay\",{get:function(){return this._decay},set:function(t){this._decay=this._clamp(t,0,100),this._rebuild()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"reverse\",{get:function(){return this._reverse},set:function(t){this._reverse=t,this._rebuild()},enumerable:!1,configurable:!0}),e.prototype._rebuild=function(){for(var t,e=u().context.audioContext,n=e.sampleRate,o=n*this._seconds,i=e.createBuffer(2,o,n),r=i.getChannelData(0),s=i.getChannelData(1),a=0;a<o;a++)t=this._reverse?o-a:a,r[a]=(2*Math.random()-1)*Math.pow(1-t/o,this._decay),s[a]=(2*Math.random()-1)*Math.pow(1-t/o,this._decay);var c=u().context.audioContext.createConvolver();c.buffer=i,this.init(c)},e}(M),MonoFilter:function(t){function e(){var e=this;if(!u().useLegacy){var n=u().context.audioContext,o=n.createChannelSplitter(),i=n.createChannelMerger();return i.connect(o),(e=t.call(this,i,o)||this)._merger=i,e}e=t.call(this,null)||this}return c(e,t),e.prototype.destroy=function(){this._merger.disconnect(),this._merger=null,t.prototype.destroy.call(this)},e}(M),StreamFilter:function(t){function e(){var e=this;if(!u().useLegacy){var n=u().context.audioContext,o=n.createMediaStreamDestination(),i=n.createMediaStreamSource(o.stream);return(e=t.call(this,o,i)||this)._stream=o.stream,e}e=t.call(this,null)||this}return c(e,t),Object.defineProperty(e.prototype,\"stream\",{get:function(){return this._stream},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this._stream=null,t.prototype.destroy.call(this)},e}(M),TelephoneFilter:function(t){function e(){if(!u().useLegacy){var e=u().context.audioContext,n=e.createBiquadFilter(),o=e.createBiquadFilter(),i=e.createBiquadFilter(),r=e.createBiquadFilter();return n.type=\"lowpass\",x.setParamValue(n.frequency,2e3),o.type=\"lowpass\",x.setParamValue(o.frequency,2e3),i.type=\"highpass\",x.setParamValue(i.frequency,500),r.type=\"highpass\",x.setParamValue(r.frequency,500),n.connect(o),o.connect(i),i.connect(r),t.call(this,n,r)||this}t.call(this,null)}return c(e,t),e}(M)},B={__proto__:null,WebAudioMedia:F,WebAudioInstance:j,WebAudioNodes:A,WebAudioContext:L,WebAudioUtils:x},G=0;var I={__proto__:null,playOnce:function(t,e){var n=\"alias\".concat(G++);return u().add(n,{url:t,preload:!0,autoPlay:!0,loaded:function(t){t&&(u().remove(n),e&&e(t))},complete:function(){u().remove(n),e&&e(null)}}),n},get PLAY_ID(){return G},render:function(t,e){var n=document.createElement(\"canvas\");e=l({width:512,height:128,fill:\"black\"},e||{}),n.width=e.width,n.height=e.height;var i=o.from(n);if(!(t.media instanceof F))return i;var r=t.media,s=n.getContext(\"2d\");s.fillStyle=e.fill;for(var u=r.buffer.getChannelData(0),a=Math.ceil(u.length/e.width),c=e.height/2,p=0;p<e.width;p++){for(var h=1,f=-1,d=0;d<a;d++){var _=u[p*a+d];_<h&&(h=_),_>f&&(f=_)}s.fillRect(p,(1+h)*c,1,Math.max(1,(f-h)*c))}return i},resolveUrl:_,sineTone:function(t,e){void 0===t&&(t=200),void 0===e&&(e=1);var n=E.from({singleInstance:!0});if(!(n.media instanceof F))return n;for(var o=n.media,i=n.context.audioContext.createBuffer(1,48e3*e,48e3),r=i.getChannelData(0),s=0;s<r.length;s++){var u=t*(s/i.sampleRate)*Math.PI;r[s]=2*Math.sin(u)}return o.buffer=i,n.isLoaded=!0,n},validateFormats:f,supported:h,extensions:p},R=function(t){return s=t,t}(new S);\"extensions\"in n?n.extensions.add(m):e.registerPlugin(m);export{M as Filter,w as Filterable,E as Sound,S as SoundLibrary,m as SoundLoader,P as SoundSprite,T as filters,k as htmlaudio,R as sound,I as utils,B as webaudio};\n//# sourceMappingURL=pixi-sound.esm.mjs.map\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2023-2024 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport {IEvtMng, argChk_Boolean, argChk_Num} from './CmnLib';\nimport {IVariable, IMain} from './CmnInterface';\nimport {SEARCH_PATH_ARG_EXT} from './ConfigBase';\nimport {Config} from './Config';\nimport {SysBase} from './SysBase';\nimport {HArg} from './Grammar';\nimport {CmnTween} from './CmnTween';\nimport {disableEvent, enableEvent} from './ReadState';\n\nimport {Loader, LoaderResource} from 'pixi.js';\nimport {sound, Sound, Options, filters} from '@pixi/sound';\nimport {Tween, remove} from '@tweenjs/tween.js'\n\ninterface ISndBuf {\n\tfn\t\t: string;\n\tstt\t\t: ISndState;\n\tsnd\t\t: Sound;\n\tloop\t: boolean;\n\tstart_ms: number;\n\tend_ms\t: number;\n\tret_ms\t: number;\n\tpan\t\t: number;\n}\n\nlet cfg\t: Config;\nlet val\t: IVariable;\nlet main: IMain;\nlet sys\t: SysBase;\nlet evtMng\t: IEvtMng;\n\nexport class SndBuf {\n\tstatic\t#hLP\t: {[buf: string]: string}\t= {};\n\tstatic\tinit($cfg: Config, $val: IVariable, $main: IMain, $sys: SysBase) {\n\t\tSndBuf.#hLP = {};\n\t\tcfg\t= $cfg;\n\t\tval\t= $val;\n\t\tmain= $main;\n\t\tsys\t= $sys;\n\t}\n\tstatic\tsetEvtMng($evtMng: IEvtMng) {evtMng = $evtMng}\n\tstatic\tdelLoopPlay(buf: string): void {\n\t\tdelete SndBuf.#hLP[buf];\n\t\tconst vn = 'const.sn.sound.'+ buf +'.';\n\t\tval.setVal_Nochk('save', vn +'fn', '');\n\t\tval.setVal_Nochk('save', 'const.sn.loopPlaying', JSON.stringify(SndBuf.#hLP));\n\t\tval.flush();\n\t}\n\tstatic\tgetVol(hArg: HArg, def: number): number {\n\t\tconst vol = argChk_Num(hArg, 'volume', def);\n\t\tif (vol < 0) return 0;\n\t\tif (vol > 1) return 1;\n\t\treturn vol;\n\t}\n\tstatic\txchgbuf({buf: buf1 = 'SE', buf2 = 'SE'}: HArg) {\n\t\tif (buf1 === buf2) throw `[xchgbuf] buf:${buf1} が同じ値です`;\n\n\t\tconst n1 = 'const.sn.sound.'+ buf1 +'.';\n\t\tconst v1 = Number(val.getVal('save:'+ n1 +'volume'));\n\t\tconst f1 = String(val.getVal('save:'+ n1 +'fn'));\n\t\tconst n2 = 'const.sn.sound.'+ buf2 +'.';\n\t\tconst v2 = Number(val.getVal('save:'+ n2 +'volume'));\n\t\tconst f2 = String(val.getVal('save:'+ n2 +'fn'));\n\t\tval.setVal_Nochk('save', n1 +'volume', v2);\n\t\tval.setVal_Nochk('save', n2 +'volume', v1);\n\t\tval.setVal_Nochk('save', n1 +'fn', f2);\n\t\tval.setVal_Nochk('save', n2 +'fn', f1);\n\n\t\tif (buf1 in SndBuf.#hLP !== buf2 in SndBuf.#hLP) {\t// 演算子の優先順位確認済\n\t\t\tif (buf1 in SndBuf.#hLP)\n\t\t\t\t\t{delete SndBuf.#hLP[buf1]; SndBuf.#hLP[buf2] = f1}\n\t\t\telse\t{delete SndBuf.#hLP[buf2]; SndBuf.#hLP[buf1] = f2}\n\t\t\tval.setVal_Nochk('save', 'const.sn.loopPlaying', JSON.stringify(SndBuf.#hLP));\n\t\t}\n\t\tval.flush();\n\t}\n\n\n\t#sb\t\t: ISndBuf;\n\n\t#fn\t\t= '';\n\tget fn() {return this.#fn}\n\n\tstatic\treadonly\t#MAX_END_MS\t= 999000;\n\tinit(hArg: HArg): boolean {\n\t\tconst {buf = 'SE', fn = ''} = hArg;\n\t\tthis.#fn = fn;\n\n\t\tconst start_ms = argChk_Num(hArg, 'start_ms', 0);\n\t\tconst end_ms = argChk_Num(hArg, 'end_ms', SndBuf.#MAX_END_MS);\n\t\tconst ret_ms = argChk_Num(hArg, 'ret_ms', 0);\n\t\tconst pan = argChk_Num(hArg, 'pan', 0);\n\t\tconst speed = argChk_Num(hArg, 'speed', 1);\n\n\t\tif (start_ms < 0) throw `[playse] start_ms:${start_ms} が負の値です`;\n\t\tif (ret_ms < 0) throw `[playse] ret_ms:${ret_ms} が負の値です`;\n\t\tif (0 < end_ms) {\n\t\t\tif (end_ms <= start_ms) throw `[playse] start_ms:${start_ms} >= end_ms:${end_ms} は異常値です`;\n\t\t\tif (end_ms <= ret_ms) throw `[playse] ret_ms:${ret_ms} >= end_ms:${end_ms} は異常値です`;\n\t\t}\n\n\t\t// この辺で属性を増減したら、loadFromSaveObj()にも反映する\n\t\tconst vn = 'const.sn.sound.'+ buf +'.';\n\t\tval.setVal_Nochk('save', vn +'fn', fn);\n\t\tconst savevol = SndBuf.getVol(hArg, 1);\n\t\tval.setVal_Nochk('save', vn +'volume', savevol);// 目標音量（save:）\n\t\tconst volume = savevol * Number(val.getVal('sys:'+ vn +'volume', 1));\n\n\t\tconst loop = argChk_Boolean(hArg, 'loop', false);\n\t\tif (loop) {\n\t\t\tSndBuf.#hLP[buf] = fn;\n\t\t\tval.setVal_Nochk('save', 'const.sn.loopPlaying', JSON.stringify(SndBuf.#hLP));\n\t\t}\n\t\telse SndBuf.delLoopPlay(buf);\n\t\tval.setVal_Nochk('save', vn +'start_ms', start_ms);\n\t\tval.setVal_Nochk('save', vn +'end_ms', end_ms);\n\t\tval.setVal_Nochk('save', vn +'ret_ms', ret_ms);\n\t\tval.setVal_Nochk('tmp', vn +'playing', true);\n\t\tval.flush();\n\n\t\tconst snd = sound.find(fn);\t// キャッシュにあるか\n\t\tthis.#sb = {\n\t\t\tfn,\n\t\t\tstt\t\t: snd ?new SsPlaying :new SsLoading,\n\t\t\tsnd,\n\t\t\tloop,\n\t\t\tstart_ms,\n\t\t\tend_ms,\n\t\t\tret_ms\t: 0,\n\t\t\tpan,\n\t\t};\n\t\t// @pixi/sound用基本パラメータ\n\t\tconst o: Options = {\n\t\t\tloop,\n\t\t\tspeed,\n\t\t\tvolume,\n\t\t\tloaded\t: (e, s2)=> {\n\t\t\t\tif (this.#sb.stt.isDestroy) return;\n\t\t\t\tif (e) {main.errScript(`ロード失敗ですa fn:${fn} ${e}`, false); return}\n\t\t\t\tif (! s2) return;\n\n\t\t\t\tthis.#sb.snd = s2;\n\t\t\t\tthis.#sb.stt.onLoad(this.#sb);\n\t\t\t\tif (pan !== 0) s2.filters = [new filters.StereoFilter(pan)];\n\t\t\t//\tif (! o.loop) sound.add(fn, snd);\t// 手動キャッシュすると単発連打で無音に\n\t\t\t\thArg.fnc?.();\n\t\t\t},\n\t\t};\n\n\t\t// start_ms・end_ms機能→@pixi/sound準備\n\t\tlet sp_nm = '';\n\t\tif (0 < start_ms || end_ms < SndBuf.#MAX_END_MS) {\n\t\t\tsp_nm = `${fn};${start_ms};${end_ms};${ret_ms}`;\n\t\t\tconst os = (o.sprites ??= {})[sp_nm] = {\n\t\t\t\tstart\t: start_ms /1000,\n\t\t\t\tend\t\t: end_ms /1000,\n\t\t\t};\n\t\t\to.preload = true;\t\t// loaded発生用、トラブルの元なので使用を控えたい\n\t\t\tconst old = o.loaded!;\n\t\t\to.loaded = (e, s0)=> {\n\t\t\t\tif (this.#sb.stt.isDestroy) return;\n\n\t\t\t\told(e, s0);\n\t\t\t\tconst s2 = s0!;\n\t\t\t\tconst d = s2.duration;\n\t\t\t\tif (os.end < 0) {\t// 負の値は末尾から\n\t\t\t\t\tos.end += d;\n\t\t\t\t\ts2.removeSprites(sp_nm);\n\t\t\t\t\ts2.addSprites(sp_nm, os);\n\t\t\t\t}\n\t\t\t\tif (os.end <= os.start) main.errScript(`[playse] end_ms:${end_ms}(${os.end *1000}) >= start_ms:${start_ms} は異常値です`);\n\t\t\t\tif (os.end *1000 <= ret_ms) main.errScript(`[playse] end_ms:${end_ms}(${os.end *1000}) <= ret_ms:${ret_ms} は異常値です`);\n\t\t\t\tif (d <= os.start) main.errScript(`[playse] 音声ファイル再生時間:${d *1000} <= start_ms:${start_ms} は異常値です`);\n\t\t\t\tif (end_ms !== SndBuf.#MAX_END_MS && d <= os.end) main.errScript(`[playse] 音声ファイル再生時間:${d *1000} <= end_ms:${end_ms} は異常値です`);\n\n\t\t\t\ts2.play(sp_nm, snd=> {\n\t\t\t\t\to.complete?.(snd);\t// 流れ的にはすぐ下の「ループなし/あり」を呼ぶ\n\t\t\t\t\tif (! loop) this.#sb.stt.onPlayEnd(buf);\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\t\telse o.autoPlay = true;\n\n\t\t// ループなし ... 再生完了イベント\n\t\tif (! loop) o.complete = ()=> {stop2var(this.#sb, buf); this.#sb.stt.onPlayEnd(buf)};\n\t\t// ループあり ... ret_ms処理\n\t\telse if (ret_ms !== 0) {\n\t\t\to.loop = false;\t// 一周目はループなしとする\n\t\t\to.complete = async snd=> {\n\t\t\t\tconst d = snd.duration;\n\t\t\t\tconst start\t= ret_ms /1000;\n\t\t\t\tconst end\t= end_ms /1000;\n\t\t\t\tif (d <= start) main.errScript(`[playse] 音声ファイル再生時間:${d *1000} <=  ret_ms:${ret_ms} は異常値です`);\n\n\t\t\t\tawait snd.play({\t// 一周目はループなし、なのでキャッシュされてる\n\t\t\t\t\t...o,\n\t\t\t\t\tstart,\n\t\t\t\t\tend\t\t: (end < 0) ?end +d :end,// 負の値は末尾から\n\t\t\t\t//\tspeed,\t\t// 重複\n\t\t\t\t\tloop\t: true,\n\t\t\t\t//\tvolume,\t\t// 重複\n\t\t\t\t//-\tmuted?: boolean;\n\t\t\t\t\tfilters\t: (pan !== 0) ?[new filters.StereoFilter(pan)] :[],\n\t\t\t\t//-\tcomplete?: CompleteCallback;\n\t\t\t\t//-\tloaded?: LoadedCallback;\n\t\t\t\t//-\tsingleInstance?: boolean;\n\t\t\t\t});\n\t\t\t\t//不要 this.#sb.snd = snd;\t// this.#sb.snd === snd (true)\n\t\t\t};\n\t\t}\n\n\t\tthis.#initVol();\n\t\tif (snd) {\n\t\t\tsnd.volume = volume;\t// 再生のたびに音量を戻す\n\t\t\tif (sp_nm) this.#playseSub(fn, o);\n\t\t\telse if (snd.isPlayable) {\n\t\t\t\tconst ab = snd.options.source;\n\t\t\t\tif (! (ab instanceof ArrayBuffer)\n\t\t\t\t\t|| ab.byteLength === 0) snd.play(o);\n\t\t\t\telse {\n\t\t\t\t\tthis.#sb.snd = Sound.from({\n\t\t\t\t\t...o,\n\t\t\t\t\turl\t\t: snd.options.url,\n\t\t\t\t\tsource\t: ab,\n\t\t\t\t})}\n\t\t\t\tif (pan !== 0) snd.filters = [new filters.StereoFilter(pan)];\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tconst join = argChk_Boolean(hArg, 'join', true);\n\t\tif (join) {\n\t\t\tdisableEvent();\n\t\t\tconst old = o.loaded!;\n\t\t\to.loaded = (e, s2)=> {\n\t\t\t\tif (! this.#sb.stt.isDestroy) old(e, s2);\n\t\t\t\tenableEvent();\n\t\t\t};\n\t\t}\n\t\tthis.#playseSub(fn, o);\n\n\t\treturn join;\n\t}\n\t#initVol = ()=> {\n\t\tsound.volumeAll = Number(val.getVal('sys:sn.sound.global_volume', 1));\n\t\tthis.#initVol = ()=> {};\n\t};\n\t#playseSub(fn: string, o: Options) {\n\t\tconst src = cfg.searchPath(fn, SEARCH_PATH_ARG_EXT.SOUND);\n\t//\tconst src = 'http://localhost:8080/prj/audio/title.{ogg,mp3}';\n\t\tif (src.slice(-4) !== '.bin') {\n\t\t\to.url = src;\n\t\t\tSound.from(o);\n\t\t\treturn;\n\t\t}\n\n\t\t(new Loader).add({name: fn, url: src, xhrType: LoaderResource.XHR_RESPONSE_TYPE.BUFFER,})\n\t\t.use(async (res, next)=> {\n\t\t\ttry {\n\t\t\t\tres.data = await sys.decAB(res.data);\n\t\t\t} catch (e) {\n\t\t\t\tmain.errScript(`Sound ロード失敗ですc fn:${res.name} ${e}`, false);\n\t\t\t}\n\t\t\tnext();\n\t\t})\n\t\t.load((_ldr, hRes)=> {\t// このあと o.loaded() もコールされる\n\t\t\to.source = hRes[fn]?.data;\n\t\t\tSound.from(o);\n\t\t});\n\t}\n\n\n\tws =(hArg: HArg)=> this.#sb.stt.ws(this.#sb, hArg);\n\tstopse({buf = 'SE'}: HArg) {\n\t\tstop2var(this.#sb, buf);\n\t\tthis.#sb.stt.stopse(this.#sb);\n\t}\n\n\tfade =(hArg: HArg)=> this.#sb.stt.fade(this.#sb, hArg);\n\twf =(hArg: HArg)=> this.#sb.stt.wf(this.#sb, hArg);\n\tstopfadese =(hArg: HArg)=> this.#sb.stt.stopfadese(this.#sb, hArg);\n\n}\n\n\n// =================================================\nfunction stop2var({loop}: ISndBuf, buf: string): void {\n\tif (loop) SndBuf.delLoopPlay(buf);\n\telse {\n\t\tconst vn = 'const.sn.sound.'+ buf +'.';\n\t\tval.setVal_Nochk('tmp', vn +'playing', false);\n\t\tval.flush();\n\t}\n}\n\n\nfunction stopfadese(tw: Tween<Sound>): void {tw.stop().end()}\t// stop()とend()は別\n\n// =================================================\n\n\ninterface ISndState {\n\tonLoad(sb: ISndBuf)\t: void;\n\tstopse(sb: ISndBuf)\t: void;\n\tws(sb: ISndBuf, hArg: HArg): boolean;\n\tonPlayEnd(buf: string)\t: void;\n\tfade(sb: ISndBuf, hArg: HArg): void;\n\twf(sb: ISndBuf, hArg: HArg): boolean;\n\tcompFade(buf: string)\t: void;\n\tstopfadese(sb: ISndBuf, hArg: HArg): void;\n\tisDestroy\t: boolean;\n}\n\nclass SsLoading implements ISndState {\n\tonLoad(sb: ISndBuf)\t{sb.stt = new SsPlaying}\n\tstopse(sb: ISndBuf)\t{sb.stt = new SsStop(sb, false)}\n\tws =()=> false;\n\tonPlayEnd() {}\t\t// ok\n\tfade() {}\t\t\t// ok\n\twf =()=> false;\t\t// ok\n\tcompFade() {}\t\t// ok\n\tstopfadese() {}\t\t// ok\n\treadonly\tisDestroy\t= false;\n}\n\nclass SsPlaying implements ISndState {\n\tonLoad() {}\t\t\t// ok\n\tstopse(sb: ISndBuf)\t{sb.stt = new SsStop(sb)}\n\tws(sb: ISndBuf, hArg: HArg) {\n\t\tif (sb.loop) return false;\n\n\t\tconst {buf = 'SE'} = hArg;\n\t\tconst stop = argChk_Boolean(hArg, 'stop', true);\n\t\targChk_Boolean(hArg, 'canskip', false);\t// waitEvent() のデフォルトと違うので先行上書き\n\t\tif (evtMng.waitEvent('buf:'+ buf, hArg, ()=> {\t// 順番固定\n\t\t\tstop2var(sb, buf);\n\t\t\tsb.stt.onPlayEnd(buf);\t// まず一回やる\n\t\t\tif (stop) sb.stt.stopse(sb); else sb.stt.onPlayEnd = ()=> {};\n\t\t\t\t// else後は SsWaitingStop か SsStop の想定\n\t\t})) {\n\t\t\tsb.stt = new SsWaitingStop;\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\tonPlayEnd() {}\t\t// ok\n\tfade(sb: ISndBuf, hArg: HArg) {\n\t\tconst {buf = 'SE'} = hArg;\n\n\t\tconst vn = 'const.sn.sound.'+ buf +'.';\n\t\tconst bnV = vn +'volume';\n\t\tconst savevol = SndBuf.getVol(hArg, NaN);\n\t\tval.setVal_Nochk('save', bnV, savevol);\t// 目標音量（save:）\n\t\tconst vol = savevol * Number(val.getVal('sys:'+ bnV, 1))\n\t\tconst stop = argChk_Boolean(hArg, 'stop', (savevol === 0));\n\t\t\t// this.getVol() により savevol = hArg.volume\n\t\tif (stop) SndBuf.delLoopPlay(buf);\t// fade中reloadなど、できるだけ早く情報更新か\n\t\tval.flush();\n\n\t\tconst time = argChk_Num(hArg, 'time', NaN);\n\t\tconst delay = argChk_Num(hArg, 'delay', 0);\n\t\tif ((time === 0 && delay === 0) || evtMng.isSkipping) {\n\t\t\tsb.snd.volume = vol;\n\t\t\tsb.stt = stop ? new SsStop(sb) : new SsPlaying;\n\t\t\treturn;\n\t\t}\n\n//console.log('fadese start from:%f to:%f', sb.snd.volume, vol);\n\t\tconst tw = new Tween(sb.snd);\n\t\tCmnTween.setTwProp(tw, hArg)\n\t\t.to({volume: vol}, time)\n\t\t.onComplete(()=> {\n\t\t\tremove(tw);\n\t\t\tsb.stt.compFade(buf);\n\t\t\tsb.stt = stop ? new SsStop(sb) : new SsPlaying;\n\t\t})\n\t\t.start();\n\n\t\tsb.stt = new SsFade(tw);\n\t}\n\twf =()=> false;\t\t// ok\n\tcompFade() {}\t\t// ok\n\tstopfadese() {}\t\t// ok\n\treadonly\tisDestroy\t= false;\n}\n\nclass SsWaitingStop implements ISndState {\n\tonLoad() {}\t\t\t// ok\n\tstopse(sb: ISndBuf)\t{sb.stt = new SsStop(sb)}\n\tws =()=> false;\t\t// ok\n\tonPlayEnd(buf: string)\t{evtMng.breakEvent('buf:'+ buf)}\n\tfade() {}\t\t\t// ok\n\twf =()=> false;\t\t// ok\n\tcompFade() {}\t\t// ok\n\tstopfadese() {}\t\t// ok\n\treadonly\tisDestroy\t= false;\n}\n\nclass SsFade implements ISndState {\n\tconstructor(readonly tw: Tween<Sound>) {}\n\tonLoad() {}\t\t\t// ok\n\tstopse(sb: ISndBuf)\t{stopfadese(this.tw); sb.stt = new SsStop(sb)}\t// 順番厳守\n\tws =()=> false;\t\t// ok ?\n\tonPlayEnd() {}\t\t// ok\n\tfade() {}\t\t\t// ok\n\twf(sb: ISndBuf, hArg: HArg) {\n\t\tconst {buf = 'SE'} = hArg;\n\t\targChk_Boolean(hArg, 'canskip', false);\t// waitEvent() のデフォルトと違うので先行上書き\n\t\tif (evtMng.waitEvent('buf:'+ buf, hArg, ()=> stopfadese(this.tw))) {\n\t\t\tsb.stt = new SsWaitingFade(this.tw);\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\tcompFade() {}\t\t// ok\n\tstopfadese =()=> stopfadese(this.tw);\n\treadonly\tisDestroy\t= false;\n}\n\nclass SsWaitingFade implements ISndState {\n\tconstructor(readonly tw: Tween<Sound>) {}\n\tonLoad() {}\t\t\t// ok\n\tstopse(sb: ISndBuf)\t{stopfadese(this.tw); sb.stt = new SsStop(sb)}\n\tws =()=> false;\t\t// ok\n\tonPlayEnd() {}\t\t// ok\n\tfade() {}\t\t\t// ok\n\twf =()=> false;\t\t// ok\n\tcompFade(buf: string) {evtMng.breakEvent('buf:'+ buf)}\n\tstopfadese =()=> stopfadese(this.tw);\n\treadonly\tisDestroy\t= false;\n}\n\nclass SsStop implements ISndState {\n\tconstructor(readonly sb: ISndBuf, readonly stop = true) {\n\t\tif (stop) {\n\t\t\tsb.snd.stop();\n\t\t\tif (! sb.loop) return;\n\n\t\t\tsb.snd.destroy();\n\t\t\tsb.snd.destroy = ()=> {};\t// 再度コール時エラー対策\n\t\t}\n\t}\t// destroy がないと再生が残るケースが。効果音だと破棄が激しいのでループモノ(BGM)だけにする\n\tonLoad() {}\t\t\t// ok\n\tstopse() {}\t\t\t// ok\n\tws =()=> false;\t\t// ok\n\tonPlayEnd() {}\t\t// ok\n\tfade() {}\t\t\t// ok\n\twf =()=> false;\t\t// ok\n\tcompFade() {}\t\t// ok\n\tstopfadese() {}\t\t// ok\n\treadonly\tisDestroy\t= true;\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2018-2024 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport {IEvtMng, argChk_Boolean, argChk_Num} from './CmnLib';\nimport {IHTag, HArg} from './Grammar';\nimport {IVariable, IMain, INoticeChgVolume} from './CmnInterface';\nimport {Config} from './Config';\nimport {SysBase} from './SysBase';\nimport {SndBuf} from './SndBuf';\n\nimport {sound, utils} from '@pixi/sound';\n\n\nexport class SoundMng {\n\t#hSndBuf\t: {[buf: string]: SndBuf}\t= {};\n\n\tconstructor(cfg: Config, hTag: IHTag, readonly val: IVariable, main: IMain, sys: SysBase) {\n\t\thTag.volume\t\t= o=> this.#volume(o);\t\t// 音量設定（独自拡張）\n\t\thTag.fadebgm\t= o=> this.#fadebgm(o);\t\t// BGMのフェード\n\t\thTag.fadeoutbgm\t= o=> this.#fadeoutbgm(o);\t// BGMのフェードアウト\n\t\thTag.fadeoutse\t= o=> this.#fadeoutse(o);\t// 効果音のフェードアウト\n\t\thTag.fadese\t\t= o=> this.#fadese(o);\t\t// 効果音のフェード\n\t\thTag.playbgm\t= o=> this.#playbgm(o);\t\t// BGM の演奏\n\t\thTag.playse\t\t= o=> this.#playse(o);\t\t// 効果音の再生\n\t\thTag.stop_allse\t= ()=> this.#stop_allse();\t// 全効果音再生の停止\n\t\thTag.stopbgm\t= o=> this.#stopbgm(o);\t\t// BGM 演奏の停止\n\t\thTag.stopse\t\t= o=> this.#stopse(o);\t\t// 効果音再生の停止\n\t\thTag.wb\t\t\t= o=> this.#wb(o);\t\t\t// BGM フェードの終了待ち\n\t\thTag.wf\t\t\t= o=> this.#wf(o);\t\t\t// 効果音フェードの終了待ち\n\t\thTag.stopfadese\t= o=> this.#stopfadese(o);\t// 音声フェードの停止\n\t\thTag.wl\t\t\t= o=> this.#wl(o);\t\t\t// BGM 再生の終了待ち\n\t\thTag.ws\t\t\t= o=> this.#ws(o);\t\t\t// 効果音再生の終了待ち\n\t\thTag.xchgbuf\t= o=> this.#xchgbuf(o);\t\t// 再生トラックの交換\n\n\t\tval.setVal_Nochk('save', 'const.sn.loopPlaying', '{}');\n\n\t\tval.setVal_Nochk('tmp', 'const.sn.sound.codecs', JSON.stringify(utils.supported));\n\n\t\tSndBuf.init(cfg, val, main, sys);\n\t\tsound.disableAutoPause = true;\n\t}\n\n\t#evtMng\t: IEvtMng;\n\tsetEvtMng(evtMng: IEvtMng) {this.#evtMng = evtMng; SndBuf.setEvtMng(evtMng)}\n\tsetNoticeChgVolume(setGlbVol: INoticeChgVolume, setMovVol: INoticeChgVolume) {\n\t\tthis.val.defValTrg('sys:sn.sound.global_volume', (_name: string, val: any)=> setGlbVol(sound.volumeAll = Number(val)));\n\t\tthis.val.defValTrg('sys:sn.sound.movie_volume', (_name: string, val: any)=> setMovVol(Number(val)));\n\n\t\t// 起動時初期値セット\n\t\tthis.val.setVal_Nochk('sys', 'sn.sound.global_volume', this.val.getVal('sys:sn.sound.global_volume', 1));\n\t\tthis.val.setVal_Nochk('sys', 'sn.sound.movie_volume', this.val.getVal('sys:sn.sound.movie_volume', 1));\n\t}\n\n\t//MARK: 音量設定（独自拡張）\n\t#volume(hArg: HArg) {\n\t\tconst {buf = 'SE'} = hArg;\n\t\tconst vnV = 'const.sn.sound.'+ buf +'.volume';\n\t\tconst arg_vol = this.#getVol(hArg, 1);\n\t\tif (Number(this.val.getVal('sys:'+ vnV)) === arg_vol) return false;\n\n\t\tthis.val.setVal_Nochk('sys', vnV, arg_vol)\t// 基準音量（sys:）\n\t\tthis.val.flush();\t// fadese()内で必ずしも呼ばれないので\n\n\t\t// 再生中音声の一時的音量も変更\n\t\thArg.time = 0;\n\t\thArg.volume = Number(this.val.getVal('save:'+ vnV));\t// 目標音量（save:）\n\t\treturn this.#fadese(hArg);\n\t}\n\t#getVol(hArg: HArg, def: number) {\n\t\tconst vol = argChk_Num(hArg, 'volume', def);\n\t\tif (vol < 0) return 0;\n\t\tif (vol > 1) return 1;\n\t\treturn vol;\n\t}\n\n\t//MARK: BGM/効果音のフェードアウト（loadから使うのでマクロ化禁止）\n\t#fadeoutbgm(hArg: HArg) {hArg.volume = 0; return this.#fadebgm(hArg)}\n\t//MARK: 効果音のフェードアウト（loadから使うのでマクロ化禁止）\n\t#fadeoutse(hArg: HArg) {hArg.volume = 0; return this.#fadese(hArg)}\n\t//MARK: BGMのフェード（loadから使うのでマクロ化禁止）\n\t#fadebgm(hArg: HArg) {hArg.buf = 'BGM'; return this.#fadese(hArg)}\n\t//MARK: 効果音のフェード\n\t#fadese(hArg: HArg) {\n\t\tconst {buf = 'SE'} = hArg;\n\t\tthis.#stopfadese(hArg);\n\t\tthis.#hSndBuf[buf]?.fade(hArg);\n\n\t\treturn false;\n\t}\n\n\t//MARK: BGM の演奏\n\t#playbgm(hArg: HArg) {\n\t\thArg.buf = 'BGM';\n\t\thArg.canskip = false;\n\t\targChk_Boolean(hArg, 'loop', true);\n\t\treturn this.#playse(hArg);\n\t}\n\n\t//MARK: 効果音の再生\n\t#playse(hArg: HArg) {\n\t\tconst {buf = 'SE', fn} = hArg;\n\t\tthis.#stopse({buf});\n\t\tif (! fn) throw `fnは必須です buf:${buf}`;\n\n\t\t// isSkipKeyDown()は此処のみとする。タイミングによって変わる\n\t\tif (argChk_Boolean(hArg, 'canskip', true) && this.#evtMng.isSkipping) return false;\n\n\t\tconst sb = this.#hSndBuf[buf] = new SndBuf;\n\t\treturn sb.init(hArg);\n\t}\n\n\tclearCache() {sound.removeAll()}\n\n\t//MARK: 全効果音再生の停止\n\t#stop_allse() {\n\t\tfor (const buf of Object.keys(this.#hSndBuf)) this.#stopse({buf});\n\t\tthis.#hSndBuf = {};\n\n\t\tsound.stopAll();\t// 念のため\n\n\t\treturn false;\n\t}\n\t//MARK: BGM 演奏の停止（loadから使うのでマクロ化禁止）\n\t#stopbgm(hArg: HArg) {hArg.buf = 'BGM'; return this.#stopse(hArg)}\n\t//MARK: 効果音再生の停止\n\t#stopse(hArg: HArg) {\n\t\tconst {buf = 'SE'} = hArg;\n\t\tthis.#hSndBuf[buf]?.stopse(hArg);\n\n\t\treturn false;\n\t}\n\n\t//MARK: BGM フェードの終了待ち\n\t#wb(hArg: HArg) {hArg.buf = 'BGM'; return this.#wf(hArg)}\n\n\t//MARK: 効果音フェードの終了待ち\n\t#wf(hArg: HArg) {\n\t\tconst {buf = 'SE'} = hArg;\n\t\treturn this.#hSndBuf[buf]?.wf(hArg);\n\t}\n\n\t//MARK: 音声フェードの停止\n\t#stopfadese(hArg: HArg) {\n\t\tconst {buf = 'SE'} = hArg;\n\t\tthis.#hSndBuf[buf]?.stopfadese(hArg);\n\n\t\treturn false;\n\t}\n\n\t//MARK: BGM 再生の終了待ち\n\t#wl(hArg: HArg) {hArg.buf = 'BGM'; return this.#ws(hArg)}\n\t//MARK: 効果音再生の終了待ち\n\t#ws(hArg: HArg) {\n\t\tconst {buf = 'SE'} = hArg;\n\t\treturn this.#hSndBuf[buf]?.ws(hArg);\n\t}\n\n\t//MARK: 再生トラックの交換\n\t#xchgbuf(hArg: HArg) {\n\t\tconst {buf: buf1 = 'SE', buf2 = 'SE'} = hArg;\n\t\tif (buf1 === buf2) return false;\n\n\t\t[this.#hSndBuf[buf1], this.#hSndBuf[buf2]] =\n\t\t[this.#hSndBuf[buf2], this.#hSndBuf[buf1]];\n\t\tSndBuf.xchgbuf(hArg);\n\n\t\treturn false;\n\t}\n\n\t//MARK: しおりの読込（BGM状態復元）\n\tplayLoopFromSaveObj(all_stop_and_play: boolean): Promise<void>[] {\n\t\tconst lp = String(this.val.getVal('save:const.sn.loopPlaying', '{}'));\n\t\tif (lp === '{}') {this.#stop_allse(); this.clearCache(); return []}\n/*\n\t\t\t\t\t(Now)#hSndBuf\n\t\t\t\t\tstop\tplay\n\thSaveLP\tstop\t-\t\tstop\t\t--[1]\n\t(to)\tplay\tplay\tstop/play\t--[2]\n\t\t\teq play\tplay\t-\t\t\t--[2]\n*/\n\t\tconst hSaveLP: {[buf: string]: string} = JSON.parse(lp);\n\t\tif (all_stop_and_play) {this.#stop_allse(); this.clearCache()}\n\t\telse for (const [buf, sb] of Object.entries(this.#hSndBuf)) {\n\t\t\t// [1] #hSndBuf（再生中）だが hSaveLP（再生予定） にない buf -> stop\n\t\t\tif (! (buf in hSaveLP)) sb?.stopse({buf});\n\t\t}\n\n\t\t// [2] hSaveLP（再生予定）を再生。だが#hSndBuf（再生中）の状況で処理変更\n\t\treturn Object.entries(hSaveLP).map(([buf, fn])=> new Promise(re=> {\n\t\t\tconst sb = this.#hSndBuf[buf]\n\t\t\tif (! all_stop_and_play && sb) {\n\t\t\t\tif (sb.fn === fn) {re(); return}\n\t\t\t\t//sb.stopse({buf});\t// 再生中 fn !== 再生予定 fn なら stop\n\t\t\t\t\t// #playbgm()、#playse() 内で stop するので省略\n\t\t\t}\n\n\t\t\tconst vm = 'save:const.sn.sound.'+ buf +'.';\n\t\t\tconst hArg = {\n\t\t\t\tfn,\n\t\t\t\tbuf,\n\t\t\t\tjoin\t: false,\n\t\t\t\tloop\t: true,\n\t\t\t\tvolume\t: Number(this.val.getVal(vm +'volume')),\n\t\t\t\tstart_ms: Number(this.val.getVal(vm +'start_ms')),\n\t\t\t\tend_ms\t: Number(this.val.getVal(vm +'end_ms')),\n\t\t\t\tret_ms\t: Number(this.val.getVal(vm +'ret_ms')),\n\t\t\t\tfnc\t\t: re,\t// loaded\n\t\t\t};\n\t\t\tif (hArg.buf === 'BGM') this.#playbgm(hArg);\n\t\t\telse this.#playse(hArg);\n\t\t}));\n\t}\n\n\tdestroy() {this.#stop_allse(); this.clearCache()}\n\n}\n"],"names":["s","u","a","t","e","n","c","l","o","i","p","h","f","r","d","_","y","m","b","g","v","P","x","O","j","w","A","F","E","C","L","S","M","T","G","I","R","n.extensions","cfg","val","main","sys","evtMng","SndBuf","#hLP","$cfg","$val","$main","$sys","$evtMng","buf","vn","hArg","def","vol","argChk_Num","buf1","buf2","n1","v1","f1","n2","v2","f2","#sb","#fn","#MAX_END_MS","fn","start_ms","end_ms","ret_ms","pan","speed","savevol","volume","loop","argChk_Boolean","snd","sound","SsPlaying","SsLoading","s2","filters","sp_nm","os","old","s0","start","end","stop2var","#initVol","#playseSub","ab","Sound","join","disableEvent","enableEvent","src","SEARCH_PATH_ARG_EXT","Loader","LoaderResource","res","next","_ldr","hRes","stopfadese","tw","sb","SsStop","stop","SsWaitingStop","bnV","time","delay","Tween","CmnTween","remove","SsFade","SsWaitingFade","SoundMng","hTag","#volume","#fadebgm","#fadeoutbgm","#fadeoutse","#fadese","#playbgm","#playse","#stop_allse","#stopbgm","#stopse","#wb","#wf","#stopfadese","#wl","#ws","#xchgbuf","utils","#hSndBuf","#evtMng","setGlbVol","setMovVol","_name","vnV","arg_vol","#getVol","all_stop_and_play","lp","hSaveLP","re","vm"],"mappings":"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","x_google_ignoreList":[0]}