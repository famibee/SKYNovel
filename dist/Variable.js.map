{"version":3,"file":"Variable.js","names":["#hAreas","#hSave","#hTmp","sys: T_SysBase","cfg: Config","#let","#let_abs","#let_char_at","#let_index_of","#let_length","#let_replace","#let_round","#let_search","#let_substr","#clearsysvar","#clearvar","#dump_val","#copybookmark","#erasebookmark","a: TArg[]","#d4v","#dbgVariable","#callHook","#hProcDbgRes","#tagCh_doWait","#tagCh_doWait_Kidoku","#tagCh_msecWait","#tagCh_msecWait_Kidoku","#saPageLog","#hSys","#hScopes","oMark: T_H_VAL_MARK","#set_data_break","#setVal","#hSetEvent","#hAreaKidoku","#doRecProc","#doRecLog","mesLayer\t: string","doRecLog\t: boolean","sLog\t\t: string","styPaging\t: string","#castAuto","#hSetValTrg","#REG_NUMERICLITERAL","val: any","#runFirst_Bool_hSysVal_true","#runFirst_sys_an_tagCh_msecWait","#runFirst_sys_an_tagCh_msecWait_Kidoku","#runFirst_sys_an_auto_msecPageWait","#runFirst_sys_an_auto_msecLineWait","#runFirst_Bool_hSaveVal_true"],"sources":["../src/sn/Areas.ts","../src/sn/Variable.ts"],"sourcesContent":["/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2018-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nexport type T_H_Areas = {[begin: string]: number};\n\n\nexport class Areas {\n\t#hAreas\t: T_H_Areas\t= {};\n\n\tclear() {this.#hAreas = {}}\n\tstatic\tfrom(new_val: T_H_Areas): Areas {\n\t\tconst ar = new Areas;\n\t\tar.#hAreas = {...new_val};\n\t\treturn ar;\n\t}\n\tval(): T_H_Areas {return {...this.#hAreas}}\n\n\tsearch(idx: number): boolean {\n\t\treturn Object.entries(this.#hAreas)\n\t\t.some(([begin, v])=> idx >= parseInt(begin) && idx <= v);\n\t}\n\n\trecord(idx: number): void {\n\t\tif (this.search(idx)) return;\n\n\t\tfor (const [begin, v] of Object.entries(this.#hAreas)) {\n\t\t\t// È†òÂüüÊú´Â∞æ+1„Å®„Éû„ÉÉ„ÉÅ\n\t\t\tif (v +1 === idx) {\n\t\t\t\tif (String(idx +1) in this.#hAreas) {\n\t\t\t\t\t// ‰∫å„Å§„ÅÆÈ†òÂüü„Åå„Éû„Éº„Ç∏„Åß„Åç„ÇãÂ†¥Âêà\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\t\tthis.#hAreas[begin] = this.#hAreas[idx +1]!;\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n\t\t\t\t\tdelete this.#hAreas[idx +1]\n\t\t\t\t}\n\t\t\t\telse this.#hAreas[begin] = idx;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// È†òÂüüÂÖàÈ†≠-1„Å®„Éû„ÉÉ„ÉÅ\n\t\tif (String(idx +1) in this.#hAreas) {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\tthis.#hAreas[idx] = this.#hAreas[idx +1]!;\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n\t\t\tdelete this.#hAreas[idx +1];\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#hAreas[idx] = idx;\n\t}\n\n\terase(idx: number): void {\n\t\tif (! this.search(idx)) return;\n\n\t\t// È†òÂüüÂÖàÈ†≠„Å®„Éû„ÉÉ„ÉÅ\n\t\tif (String(idx) in this.#hAreas) {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\tif (this.#hAreas[idx]! > idx) this.#hAreas[idx +1] = this.#hAreas[idx]!;\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n\t\t\tdelete this.#hAreas[idx];\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const [begin, v] of Object.entries(this.#hAreas)) {\n\t\t\tif (idx < parseInt(begin) || v < idx) continue;\n\n\t\t\t// È†òÂüüÊú´Â∞æ„Å®„Éû„ÉÉ„ÉÅ\n\t\t\tif (this.#hAreas[begin] === idx) {\n\t\t\t\tthis.#hAreas[begin] = idx -1;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// È†òÂüüÂÜÖ„Å®„Éû„ÉÉ„ÉÅ„ÄÅ‰∫å„Å§„ÅÆÈ†òÂüü„Å´ÂàÜÂâ≤\n\t\t\tthis.#hAreas[idx +1] = v;\n\t\t\tthis.#hAreas[begin] = idx -1;\n\t\t\treturn;\n\t\t}\n\t}\n\n\tget count(): number {return Object.keys(this.#hAreas).length}\t// 4tst\n\n\ttoString(): string {\n\t\tlet ret = '';\n\n\t\tfor (const k of Object.keys(this.#hAreas)\n\t\t.map(k=> parseInt(k))\n\t\t.sort((x, y)=> x-y)) {\n\t\t\tret += k === this.#hAreas[k]\n\t\t\t? ','+ String(k)\n\t\t\t: ','+ String(k) +'~'+ String(this.#hAreas[String(k)]);\n\t\t}\n\n\t\treturn ret;\t// ÂÖàÈ†≠„Å´ , „Åå‰ªò„ÅÑ„Å¶„ÅÑ„Çã„ÄÇÂâäÈô§„Åó„Åü„ÅÑ„Åå„ÄÅ‰øÆÊ≠£„Åô„Çã„Å®‰∫íÊèõÊÄß„Å´ÂïèÈ°å„ÅÇ„ÇäÂáçÁµê\n\t}\n\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2018-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport {uint, int, argChk_Boolean, argChk_Num} from './CmnLib';\nimport {creCSArg, type T_H_VAL_MP} from './CallStack';\nimport type {TArg, T_HTag} from './Grammar';\nimport type {T_Variable, T_fncSetVal, T_ProcVal, T_SysBase, T_Data4Vari, T_Mark, T_FncHook, Scope, T_H_TMP_DATA, T_H_VAL_MARK, T_H_SYS_DATA, T_VAL_DATA_FNC, T_VAL_DATA, T_VAL_BSNU, T_H_SAVE_DATA} from './CmnInterface';\nimport {creSAVEDATA, creSYS_DATA, creTMP_DATA} from './CmnInterface';\nimport type {Config} from './Config';\nimport {Areas} from './Areas';\nimport {PropParser} from './PropParser';\nimport {ReadingState} from './Reading';\n\n\nexport class Variable implements T_Variable {\n\t#hSave\t\t: T_H_SAVE_DATA\t= creSAVEDATA();\n\t#hTmp\t\t: T_H_TMP_DATA\t= creTMP_DATA();\n\t#hScopes\t= {\n\t\tsys\t\t: {},\t// clearsysvar„ÇíÂëº„Å∂„ÅÆ„Åß\n\t\tsave\t: this.#hSave,\n\t\ttmp\t\t: this.#hTmp,\n\t\tmp\t\t: <T_H_VAL_MP>{},\n\t\tmark\t: <T_H_VAL_MARK>{},\n\t};\n\n\n\tconstructor(private readonly sys: T_SysBase, private readonly cfg: Config, hTag: T_HTag) {\n\t\t//\tÂ§âÊï∞Êìç‰Ωú\n\t\thTag.let\t\t\t= o=> this.#let(o);\t\t\t// Â§âÊï∞‰ª£ÂÖ•„ÉªÊºîÁÆó\n\t\thTag.let_abs\t\t= o=> this.#let_abs(o);\t\t// Áµ∂ÂØæÂÄ§\n\t\thTag.let_char_at\t= o=> this.#let_char_at(o);\t// ÊñáÂ≠óÂàó„Åã„Çâ‰∏ÄÂ≠óÂèñ„Çä„Å†„Åó\n\t\thTag.let_index_of\t= o=> this.#let_index_of(o);// ÊñáÂ≠óÂàó„ÅßÊ§úÁ¥¢\n\t\thTag.let_length\t\t= o=> this.#let_length(o);\t// ÊñáÂ≠óÂàó„ÅÆÈï∑„Åï\n\t\t// let_ml„ÅØScriptIterator„Å´„Å¶ÂÆöÁæ©\t\t\t\t// „Ç§„É≥„É©„Ç§„É≥„ÉÜ„Ç≠„Çπ„Éà‰ª£ÂÖ•\n\t\thTag.let_replace\t= o=> this.#let_replace(o);\t// Ê≠£Ë¶èË°®Áèæ„ÅßÁΩÆÊèõ\n\t\thTag.let_round\t\t= o=> this.#let_round(o);\t// ÂõõÊç®‰∫îÂÖ•\n\t\thTag.let_search\t\t= o=> this.#let_search(o);\t// Ê≠£Ë¶èË°®Áèæ„ÅßÊ§úÁ¥¢\n\t\thTag.let_substr\t\t= o=> this.#let_substr(o);\t// ÊñáÂ≠óÂàó„Åã„ÇâÊäú„Åç„Å†„Åó\n\t\t// „Åª„ÅºÁÄ¨Êà∏ÊÑõÁæÖ„Åï„Çì„ÅÆ„ÄåÂ§âÊï∞‰ª£ÂÖ•Âº∑Âåñ„Éó„É©„Ç∞„Ç§„É≥„Äç„ÅÆÂèñ„ÇäËæº„Åø„Åß„Åô„ÄÇ„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„ÅôÔºÅ\n\t\t// anÊôÇ‰ª£„ÉªÁÄ¨Êà∏ÊÑõÁæÖ„Åï„Çì„Çà„Çä https://famibee.blog.fc2.com/blog-entry-267.html\n\n\t\t//\t„Éá„Éê„ÉÉ„Ç∞„Éª„Åù„ÅÆ‰ªñ\n\t\thTag.clearsysvar\t= ()=> this.#clearsysvar();\t// „Ç∑„Çπ„ÉÜ„É†Â§âÊï∞„ÅÆÂÖ®Ê∂àÂéª\n\t\thTag.clearvar\t\t= ()=> this.#clearvar();\t// „Ç≤„Éº„É†Â§âÊï∞„ÅÆÂÖ®Ê∂àÂéª\n\t\thTag.dump_val\t\t= ()=> this.#dump_val();\t// Â§âÊï∞„ÅÆ„ÉÄ„É≥„Éó\n\n\t\t// „Åó„Åä„Çä\n\t\thTag.copybookmark\t= o=> this.#copybookmark(o);\t// „Åó„Åä„Çä„ÅÆË§áÂÜô\n\t\thTag.erasebookmark\t= o=> this.#erasebookmark(o);\t// „Åó„Åä„Çä„ÅÆÊ∂àÂéª\n\t\t//hTag.load\t\t\t// ScriptIterator.tsÂÜÖ„ÅßÂÆöÁæ©\t// „Åó„Åä„Çä„ÅÆË™≠Ëæº\n\t\t//hTag.record_place\t// ScriptIterator.tsÂÜÖ„ÅßÂÆöÁæ©\t// „Çª„Éº„Éñ„Éù„Ç§„É≥„ÉàÊåáÂÆö\n\t\t//hTag.save\t\t\t// ScriptIterator.tsÂÜÖ„ÅßÂÆöÁæ©\t// „Åó„Åä„Çä„ÅÆ‰øùÂ≠ò\n\n\t\t// save:\n\t\tthis.defTmp('const.sn.bookmark.json', ()=> {\n\t\t\tconst a: TArg[] = [];\n\t\t\tfor (const [nm, mk] of Object.entries(this.#d4v.mark)) {\n\t\t\t\tconst o = {...mk.json};\n\t\t\t\to.place = uint(nm);\n\t\t\t\ta.push(o);\t// „Éë„Çπ„Çí searchPath() „ÅßÂ±ïÈñã„Åó„Å¶„ÅØ„ÅÑ„Åë„Å™„ÅÑ\n\t\t\t}\n\t\t\treturn JSON.stringify(a);\n\t\t});\n\n\t\t// tmp:\n\t\t/*\n\t\t\tthis.hTmp['const.Stage.supportsOrientationChange']\n\t\t\t\t= Stage.supportsOrientationChange;\n\t\t\tif (this.hTmp['const.Stage.supportsOrientationChange']) {\n\t\t\t\tthis.hTmp['const.Stage.orientation']\n\t\t\t\t\t= ()=> {return stage.orientation};\n\t\t\t\tthis.hTmp['const.Stage.deviceOrientation']\n\t\t\t\t\t= ()=> {return stage.deviceOrientation};\n\n\t\t\t\tconst lenSO:uint = stage.supportedOrientations.length;\n\t\t\t\tfor (let iSO:uint=0; iSO<lenSO; ++iSO) {\n\t\t\t\t\tthis.hTmp['const.Stage.supportedOrientations.'\n\t\t\t\t\t\t+ stage.supportedOrientations[iSO]\n\t\t\t\t\t] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t//\timport flash.display.StageOrientation;\n\t\t\t\tthis.hTmp['const.Stage.orientation'] =\n\t\t\t\tthis.hTmp['const.Stage.deviceOrientation'] =\n\t\t\t\t//\t\tStageOrientation.DEFAULT;\n\t\t\t\t\t'default';\n\t\t\t}\n\t\t*/\n\n\t\t// „ÉªÁîªÈù¢„Çµ„Ç§„Ç∫Ôºöscreen.width „Ç¶„Ç§„É≥„Éâ„Ç¶„ÅåË°®Á§∫„Åï„Çå„Å¶„ÅÑ„Çã„Éá„Ç£„Çπ„Éó„É¨„Ç§„ÅÆ„Çµ„Ç§„Ç∫\n\t\t//\t‚Äª macOS„Å™„Çâ„ÄêË®≠ÂÆö„Äë-„Äê„Éá„Ç£„Çπ„Éó„É¨„Ç§„Äë-„Äê‰ΩøÁî®ÂΩ¢ÊÖã„Äë„ÅÆ„Ç§„É°„Éº„Ç∏„Éú„Çø„É≥„Å´„Éõ„Éê„Éº„Åô„Çã„Å®Âá∫„ÇãÊï∞Â≠ó„Å®Âêå„Åò\n// DebugMng.myTrace(`fn:Variable.ts ÁîªÈù¢„Çµ„Ç§„Ç∫(${String(screen.width)} x ${String(screen.height)}) Âà©Áî®ÂèØËÉΩÈ†òÂüü(${String(screen.availWidth)} x ${String(screen.availHeight)})`, 'W');\n\n\t\t// prj.json\n\t\tthis.#hTmp['const.sn.config.window.width']\t= cfg.oCfg.window.width;\n\t\tthis.#hTmp['const.sn.config.window.height']\t= cfg.oCfg.window.height;\n\t\tthis.#hTmp['const.sn.config.book.title']\t= cfg.oCfg.book.title;\n\t\tthis.#hTmp['const.sn.config.book.version']\t= cfg.oCfg.book.version;\n\t}\n\n\n\t#d4v\t: T_Data4Vari\t= {\n\t\tsys\t\t: <T_H_SYS_DATA>{},\t// clearsysvar„ÇíÂëº„Å∂„ÅÆ„Åß\n\t\tmark\t: {},\n\t\tkidoku\t: {},\n\t};\n\t#hSys\t: T_H_SYS_DATA;\n\t#hAreaKidoku\t: {[fn: string]: Areas}\t= {};\n\t#callHook\t\t: T_FncHook;\n\tasync init() {return this.sys.initVal(this.#hTmp, data=> {\n\t\tthis.updateData(data);\n\n\t\tif (this.cfg.oCfg.debug.variable) this.#dbgVariable(this.sys);\n\t\telse this.flush = ()=> this.sys.flush();\n\t\tthis.flush();\n\n\t\tthis.#callHook = (type, o)=> this.sys.callHook(type, o);\n\t\tthis.sys.addHook((type, o)=> this.#hProcDbgRes[type]?.(type, o));\n\n\t\t// ÂàùÂõû„ÅÆÂàùÊúüÂåñ„Å®„ÄÅv1.11.0 „Åæ„ÅßÊú™ÂàùÊúüÂåñÂ§âÊï∞„Åå„ÅÇ„Å£„Åü‰ª∂„ÅÆÂØæÁ≠ñ\n\t\tconst tm = int(this.getVal('sys:sn.tagCh.msecWait', -1));\n\t\tif (tm === -1) this.#clearsysvar(true);\n\n\t\tthis.#tagCh_doWait = Boolean(this.getVal('sys:sn.tagCh.doWait'));\n\t\tthis.#tagCh_doWait_Kidoku = Boolean(this.getVal('sys:sn.tagCh.doWait_Kidoku'));\n\t\tthis.#tagCh_msecWait = int(this.getVal('sys:sn.tagCh.msecWait'));\n\t\tthis.#tagCh_msecWait_Kidoku = int(this.getVal('sys:sn.tagCh.msecWait_Kidoku'));\n\n\t\tthis.#saPageLog();\n\t})}\n\n\t//MARK: SessionStorage „ÅßÁ¢∫Ë™ç„Åß„Åç„Çã„Éá„Éê„ÉÉ„Ç∞Ê©üËÉΩ\n\t#dbgVariable(sys: T_SysBase) {\n\t\tsessionStorage.clear();\n\t\tconst ns = this.cfg.headNs;\n\n\t\tthis.flush = () => {\n\t\t\tconst oSys = creSYS_DATA();\n\t\t\tfor (const [k, v] of Object.entries(this.#hSys)) {\n\t\t\t\tif (v instanceof Function) continue;\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access\n\t\t\t\t(<any>oSys)[k] = v;\n\t\t\t}\n\t\t\tsessionStorage[ns + 'sys'] = JSON.stringify(oSys);\n\n\t\t\tconst oSave = creSAVEDATA();\n\t\t\tfor (const [k, v] of Object.entries(this.#hSave)) {\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access\n\t\t\t\t(<any>oSave)[k] = v;\n\t\t\t}\n\t\t\tsessionStorage[ns + 'save'] = JSON.stringify(oSave);\n\n\t\t\tconst oTmp = creTMP_DATA();\n\t\t\tfor (const [k, v] of Object.entries(this.#hTmp)) {\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access\n\t\t\t\t(<any>oTmp)[k] = v instanceof Function ? v() : v;\n\t\t\t\t//TODO: ÂÆüË°å„Åô„Çã„ÅÆ„ÅãÁÑ°Ë¶ñ„Åô„Çã„ÅÆ„ÅãÂïèÈ°å\n\t\t\t}\n\t\t\tsessionStorage[ns + 'tmp'] = JSON.stringify(oTmp);\n\n\t\t\tconst oMp = creCSArg();\n\t\t\tfor (const [k, v] of Object.entries(this.#hScopes.mp)) {\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access\n\t\t\t\t(<any>oMp)[k] = v;\n\t\t\t}\n\t\t\tsessionStorage[ns + 'mp'] = JSON.stringify(oMp);\n\n\t\t\tconst oMark: T_H_VAL_MARK = {};\n\t\t\tfor (const [k, v] of Object.entries(this.#d4v.mark)) {\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-assignment\n\t\t\t\toMark[int(k)] = v instanceof Function ? v() : v;\n\t\t\t}\n\t\t\tsessionStorage[ns + 'mark'] = JSON.stringify(oMark);\n\n\t\t\tsessionStorage[ns + 'kidoku'] = structuredClone(this.#d4v.kidoku);\n\n\t\t\tsys.flush();\n\t\t};\n\t}\n\n\n\t#saPageLog() {ReadingState.playbackPage(\n\t\tString(this.getVal('sys:const.sn.aPageLog', '[]')),\n\t\tString(this.getVal('save:const.sn.styPaging', ReadingState.INI_STYPAGE)),\n\t)}\n\treadonly\t#hProcDbgRes\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t: {[type: string]: (type: string, o: any)=> void}\t= {\n\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-argument, @typescript-eslint/no-unsafe-member-access\n\t\tauth: (_, o)=> this.#set_data_break(o.hBreakpoint.aData),\n\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition, @typescript-eslint/no-unsafe-argument, @typescript-eslint/no-unsafe-member-access\n\t\tvar\t: (_,o)=> this.sys.send2Dbg(o.ri, {v: this.#hScopes[<Scope>o.scope] ?? {}}),\n\t\tset_var\t: (_, o)=> {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-argument, @typescript-eslint/no-unsafe-member-access\n\t\t\ttry {this.#setVal(o.nm, o.val); this.sys.send2Dbg(o.ri, {})} catch { /* empty */ }\n\t\t},\n\t\tset_data_break\t: (_, o)=> {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-argument, @typescript-eslint/no-unsafe-member-access\n\t\t\tthis.#set_data_break(o.a);\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-argument, @typescript-eslint/no-unsafe-member-access\n\t\t\tthis.sys.send2Dbg(o.ri, {});\n\t\t},\n\t\tdisconnect: _=> {Variable.#hSetEvent = {}},\n\t}\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t#set_data_break(a: any[]) {\t// o.a.length === 0 „Å™„ÇâÂâäÈô§\n\t\tVariable.#hSetEvent = {};\n\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n\t\tfor (const v of a) Variable.#hSetEvent[v.dataId] = 1;\n\t}\n\n\n\t//MARK: Â§ñ„Åã„Çâ„ÅÆ„Éá„Éº„Çø„Åß‰øùÊåÅ„Éá„Éº„Çø„ÇíÊõ¥Êñ∞\n\t//\tÂàùÊúüÂåñÊôÇ„ÇÑ„Ç§„É≥„Éù„Éº„Éà„Å™„Å©„Åß‰ΩøÁî®\n\tupdateData(d4v: T_Data4Vari): void {\n\t\tthis.#d4v = d4v;\n\t\tthis.#hSys = this.#hScopes.sys = d4v.sys;\n\n\t\tthis.#hAreaKidoku = {};\n\t\tfor (const [fn, dk] of Object.entries(d4v.kidoku)) {\n\t\t\tthis.#hAreaKidoku[fn] = Areas.from(dk);\n\t\t}\n\t\t// this.flush();\t// saveKidoku() „Å´‰ªª„Åõ„Çã\n\t}\n\tflush\t= ()=> { /* empty */ };\n\n\tsetDoRecProc(fnc: (doRec: boolean)=> void) {this.#doRecProc = fnc}\n\t#doRecProc = (_doRec: boolean)=> { /* empty */ };\n\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access\n\tdefTmp(name: string, fnc: T_ProcVal) {(<any>this.#hTmp)[name] = fnc}\n\n\tcloneMp() {return {...this.#hScopes.mp}}\n\tsetMp(mp: T_H_VAL_MP) {this.#hScopes.mp = mp}\n\n\tsetMark(place: number, mark: T_Mark) {\n\t\tthis.#d4v.mark[place] = mark;\n\t\tthis.flush();\n\t}\n\tgetMark(place: number) {\n\t\tconst mark = this.#d4v.mark[place];\n\t\tif (! mark) throw `place„Äê${String(place)}„Äë„ÅØÂ≠òÂú®„Åó„Åæ„Åõ„Çì`;\n\t\treturn mark;\n\t}\n\n\tcloneSave() {return {...this.#hScopes.save}}\n\tmark2save(mark: T_Mark) {\n\t\tthis.#hSave = this.#hScopes.save = {...mark.hSave};\n\t\tthis.#doRecLog\t= this.#hSave['sn.doRecLog'];\n\t}\n\n\n\t// Êó¢Ë™≠Á≥ª\n\ttouchAreaKidoku(fn: string): Areas {\n\t\tconst ar = this.#hAreaKidoku[fn];\n\t\tif (ar) return ar;\n\n\t\tthis.#d4v.kidoku[fn] = {};\n\t\tconst ret = this.#hAreaKidoku[fn] = new Areas;\n\t\treturn ret;\n\t}\n\tgetAreaKidoku(fn: string): Areas {\n\t\tconst ar = this.#hAreaKidoku[fn];\n\t\tif (! ar) throw `hAreaKidoku${fn}„Äë„ÅØÂ≠òÂú®„Åó„Åæ„Åõ„Çì`;\n\t\treturn ar;\n\t}\n\tsaveKidoku() {\n\t\tfor (const [fn, ak] of Object.entries(this.#hAreaKidoku)) {\n\t\t\tthis.#d4v.kidoku[fn] = ak.val();\n\t\t}\n\t\tthis.flush();\n\t}\n\n\n//\t// „Åó„Åä„Çä\n\t// „Åó„Åä„Çä„ÅÆË§áÂÜô\n\t#copybookmark(hArg: TArg) {\n\t\tconst from = argChk_Num(hArg, 'from', NaN);\n\t\tconst to = argChk_Num(hArg, 'to', NaN);\n\t\t// const from = hArg.from;\n\t\t// const to = hArg.to;\n\t\tif (from === to) return false;\n\n\t\tconst f = this.#d4v.mark[from];\n\t\tif (! f) throw `from:${String(from)} „ÅÆ„Çª„Éº„Éñ„Éá„Éº„Çø„ÅØÂ≠òÂú®„Åó„Åæ„Åõ„Çì`;\n\t\tthis.setMark(to, {...f});\n\t\tthis.sys.copyBMFolder(from, to);\n\n\t\treturn false;\n\t}\n\n\t// „Åó„Åä„Çä„ÅÆÊ∂àÂéª\n\t#erasebookmark(hArg: TArg) {\n\t\tconst place = argChk_Num(hArg, 'place', NaN);\n\n\t\t// eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n\t\tdelete this.#d4v.mark[place];\n\t\tthis.flush();\n\n\t\tthis.sys.eraseBMFolder(place);\n\n\t\treturn false;\n\t}\n\n\n//\t//\tÂ§âÊï∞Êìç‰Ωú\n\t// Â§âÊï∞‰ª£ÂÖ•„ÉªÊºîÁÆó\n\t#let(hArg: TArg) {\n\t\tif (! hArg.name) throw 'name„ÅØÂøÖÈ†à„Åß„Åô';\n\n\t\t// Ëá™Âãï„ÅßÊï∞ÂÄ§ÂûãÂ§âÊèõ„Åó„Å™„ÅÑÔºà‚âíÊñáÂ≠óÂ§âÊèõ„Åô„ÇãÔºâÊ©üËÉΩ\n\t\t// anÊôÇ‰ª£„ÉªÁÄ¨Êà∏ÊÑõÁæÖ„Åï„Çì„Çà„Çä https://famibee.blog.fc2.com/blog-entry-108.html\n\t\tlet autocast = true;\n\t\tif (hArg.cast) {\n\t\t\tswitch (hArg.cast) {\n\t\t\tcase 'num':\n\t\t\t\targChk_Num(hArg, 'text', NaN);\n\t\t\t\tbreak;\n\t\t\tcase 'int':\n\t\t\t\thArg.text = String(int(argChk_Num(hArg, 'text', NaN)));\n\t\t\t\tbreak;\n\t\t\tcase 'uint':\n\t\t\t\thArg.text = String(uint(argChk_Num(hArg, 'text', NaN)));\n\t\t\t\tbreak;\n\t\t\tcase 'bool':\n\t\t\t\targChk_Boolean(hArg, 'text', false);\n\t\t\t\tbreak;\n\t\t\tcase 'str':\n\t\t\t\tautocast = false;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow 'cast„Äê'+ hArg.cast +'„Äë„ÅØÊú™ÂÆöÁæ©„Åß„Åô';\n\t\t\t}\n\t\t}\n\n\t\tthis.#setVal(hArg.name, hArg.text, autocast);\n\n\t\treturn false;\n\t}\n\n\t// Áµ∂ÂØæÂÄ§\n\t#let_abs(hArg: TArg) {\n\t\tconst n = argChk_Num(hArg, 'text', 0);\n\t\t//hArg.text = Math.abs(n);\n\t\thArg.text = String(n < 0 ?-n :n);\n\t\t\t// JavaScript„ÅÆMath.abs()„ÅßÁµ∂ÂØæÂÄ§„ÇíÂèñÂæó„Åó„Å™„ÅÑ„Åª„ÅÜ„ÅåËâØ„ÅÑÁêÜÁî± | iwb.jp https://iwb.jp/javascript-math-abs-deprecated/\n\t\t\t// Êï∞ÂÄ§‰ª•Â§ñ„Å†„Å®„Åª„Å®„Çì„Å©„ÅåNaN„ÇíËøî„Åó„ÄÅboolean„ÅØ0„ÇÑ1„ÇíËøî„Åó„Å¶„ÅÑ„Çã„Åü„ÇÅ‰Ωø„ÅÑÊñπ„Å´„Çà„Å£„Å¶„ÅØ„Éê„Ç∞„ÅÆÂéüÂõ†„Å´„Å™„Çã„Åì„Å®„Åå„ÅÇ„Çã„ÄÇ\n\t\tthis.#let(hArg);\n\n\t\treturn false;\n\t}\n\n\t// ÊñáÂ≠óÂàó„Åã„Çâ‰∏ÄÂ≠óÂèñ„Çä„Å†„Åó\n\t#let_char_at(hArg: TArg) {\n\t\thArg.text = (hArg.text ?? '').charAt(argChk_Num(hArg, 'pos', 0));\n\t\tthis.#let(hArg);\n\n\t\treturn false;\n\t}\n\n\t// ÊñáÂ≠óÂàó„ÅßÊ§úÁ¥¢\n\t#let_index_of(hArg: TArg) {\n\t\tconst {val} = hArg;\n\t\tif (! val) throw 'val„ÅØÂøÖÈ†à„Åß„Åô';\n\t\tconst start = argChk_Num(hArg, 'start', 0);\n\n\t\thArg.text = String((hArg.text ?? '').indexOf(val, start));\n\t\tthis.#let(hArg);\n\n\t\treturn false;\n\t}\n\n\t// ÊñáÂ≠óÂàó„ÅÆÈï∑„Åï\n\t#let_length(hArg: TArg) {\n\t\thArg.text = String((hArg.text ?? '').length);\n\t\tthis.#let(hArg);\n\n\t\treturn false;\n\t}\n\n\t// Ê≠£Ë¶èË°®Áèæ„ÅßÁΩÆÊèõ\n\t#let_replace(hArg: TArg) {\n\t\tif (! hArg.reg) throw 'reg„ÅØÂøÖÈ†à„Åß„Åô';\n\n\t\tconst {flags} = hArg;\n\t\tconst reg = ! flags\n\t\t\t? new RegExp(hArg.reg)\n\t\t\t: new RegExp(hArg.reg, flags);\n\t\thArg.text = (hArg.text ?? '').replace(reg, String(hArg.val));\n\t\tthis.#let(hArg);\n\n\t\treturn false;\n\t}\n\n\t// ÂõõÊç®‰∫îÂÖ•\n\t#let_round(hArg: TArg) {\n\t\tconst n = argChk_Num(hArg, 'text', 0);\n\t\thArg.text = String(Math.round(n));\n\t\tthis.#let(hArg);\n\n\t\treturn false;\n\t}\n\n\t// Ê≠£Ë¶èË°®Áèæ„ÅßÊ§úÁ¥¢\n\t#let_search(hArg: TArg) {\n\t\tif (! hArg.reg) throw 'reg„ÅØÂøÖÈ†à„Åß„Åô';\n\n\t\tconst {flags} = hArg;\n\t\tconst reg = ! flags\n\t\t\t? new RegExp(hArg.reg)\n\t\t\t: new RegExp(hArg.reg, flags);\n\t\thArg.text = String((hArg.text ?? '').search(reg));\n\t\tthis.#let(hArg);\n\n\t\treturn false;\n\t}\n\n\t// ÊñáÂ≠óÂàó„Åã„ÇâÊäú„Åç„Å†„Åó\n\t#let_substr(hArg: TArg) {\n\t\tconst i = argChk_Num(hArg, 'pos', 0);\n\t\thArg.text = hArg.len !== 'all'\n\t\t\t? (hArg.text ?? '').slice(i, i +int(argChk_Num(hArg, 'len', 1)))\n\t\t\t: (hArg.text ?? '').slice(i);\n\t\tthis.#let(hArg);\n\n\t\treturn false;\n\t}\n\n\n//\t// „Éá„Éê„ÉÉ„Ç∞„Éª„Åù„ÅÆ‰ªñ\n\t// „Ç∑„Çπ„ÉÜ„É†Â§âÊï∞„ÅÆÂÖ®Ê∂àÂéª\n\t#clearsysvar(init = false) {\n\t\tconst sys = this.#hSys = this.#hScopes.sys = this.#d4v.sys = creSYS_DATA();\n\n\t\tconst is_nw = typeof process !== 'undefined';\n\t\tif (is_nw) {\n\t\t//\t//\tthis.setVal_Sub('sys:const.sn.window.x', stage.nativeWindow.x);\n\t\t//\t//\tthis.setVal_Sub('sys:const.sn.window.y', stage.nativeWindow.y);\n\t\t\t//NOTE: „Åì„Çå„ÅØÔºüÔºü\n\t\t}\n\t\telse {\n\t\t\tthis.setVal_Nochk('sys', 'const.sn.window.x', 0);\n\t\t\tthis.setVal_Nochk('sys', 'const.sn.window.y', 0);\n\t\t}\n\n\t\t// ÊñáÂ≠óË°®Á§∫WaitÊôÇÈñì\n\t\tthis.setVal_Nochk('sys', 'sn.tagCh.msecWait', this.cfg.oCfg.init.tagch_msecwait);\n\t\tthis.setVal_Nochk('sys', 'sn.tagCh.msecWait_Kidoku', this.cfg.oCfg.init.tagch_msecwait);\n\n\t\t// Ëá™ÂãïË™≠„Åø„Åô„Åô„Åø„É¢„Éº„ÉâÊôÇ„ÅÆÊîπ„Éö„Éº„Ç∏ÊôÇ„ÅÆ„Ç¶„Çß„Ç§„Éà\n\t\t//\t//\trunFirst_sys_an_auto_msecPageWait('sn.auto.msecPageWait', '');\n\t\tthis.setVal_Nochk('sys', 'sn.auto.msecPageWait', argChk_Num(sys, 'sn.auto.msecPageWait', this.cfg.oCfg.init.auto_msecpagewait));\n\t\tthis.setVal_Nochk('sys', 'sn.auto.msecPageWait_Kidoku', argChk_Num(sys, 'sn.auto.msecPageWait', this.cfg.oCfg.init.auto_msecpagewait));\n\n\t\t//\tSoundMixer.soundTransform = new SoundTransform(\n\t\t//\t\t(sys['flash.media.SoundMixer.soundTransform.volume'] = 1)\n\t\t//\t);\n\n\t\tfor (const ar of Object.values(this.#hAreaKidoku)) ar.clear();\n\t\t\t// this.#data.kidoku „Å∏„ÅÆ„Ç≥„Éî„Éº„ÅØ saveKidoku() „Å´‰ªª„Åõ„Çã\n\n\t\tthis.#hScopes.mark = this.#d4v.mark = {};\n\n\t\tif (! init) this.#saPageLog();\n\n\n\t\tthis.flush();\n\n\t\treturn false;\n\t}\n\n\t// „Ç≤„Éº„É†Â§âÊï∞„ÅÆÂÖ®Ê∂àÂéª\n\t#clearvar() {\n\t\tconst mesLayer\t: string = this.#hSave['const.sn.mesLayer'];\n\t\tconst doRecLog\t: boolean= this.#hSave['sn.doRecLog'];\n\t\tconst sLog\t\t: string = this.#hSave['const.sn.sLog'];\n\t\tconst styPaging\t: string = this.#hSave['const.sn.styPaging'];\n\n\t\tthis.#hSave = this.#hScopes.save = creSAVEDATA();\n\n\t\tthis.setVal_Nochk('save', 'const.sn.mesLayer', mesLayer);\n\t\tthis.setVal_Nochk('save', 'sn.doRecLog', doRecLog);\n\t\tthis.setVal_Nochk('save', 'const.sn.sLog', sLog);\n\t\tthis.setVal_Nochk('save', 'const.sn.styPaging', styPaging);\n\n\t\treturn false;\n\t}\n\n\t#setVal(arg_name: string, val: T_VAL_BSNU, autocast = true) {\n\t\tif (! arg_name) throw '[Â§âÊï∞„Å´ÂÄ§„Çª„ÉÉ„Éà] name„ÅØÂøÖÈ†à„Åß„Åô';\n\t\tif (val === undefined) throw '[Â§âÊï∞„Å´ÂÄ§„Çª„ÉÉ„Éà] text„ÅØÂøÖÈ†à„Åß„ÅôÔºàÁ©∫ÊñáÂ≠ó„ÅØOKÔºâ';\n\n\t\tconst o = PropParser.getValName(arg_name);\n\t\tif (! o) throw `[Â§âÊï∞ÂèÇÁÖß] name(${arg_name})„ÅåÂ§âÊï∞Âêç„Å®„Åó„Å¶Áï∞Â∏∏„Åß„Åô`;\n\n\t\tconst {scope='tmp', name} = o;\n\t\tconst hScope = this.#hScopes[scope];\n\t\tif (name.startsWith('const.') && name in hScope) {\n\t\t\tthrow `[Â§âÊï∞„Å´ÂÄ§„Çª„ÉÉ„Éà] Â§âÊï∞„Äê${name}„Äë„ÅØÊõ∏„ÅçÊèõ„Åà‰∏çÂèØ„Åß„Åô`;\n\t\t}\n\n\t\tthis.setVal_Nochk(scope, name, val, autocast);\n\t}\n\tsetVal_Nochk(scope: Scope, nm: string, ival: T_VAL_BSNU, autocast = false) {\n\t\tconst hScope = this.#hScopes[scope];\n\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n\t\tconst new_v = autocast ?this.#castAuto(ival) : ival;\n\n\t\tconst fullnm = scope +':'+ nm;\n\t\tif (fullnm in Variable.#hSetEvent) {\n\t\t\tconst old_v = hScope[<keyof typeof hScope>nm];\n\t\t\t// eslint-disable-next-line eqeqeq\n\t\t\tif (old_v != new_v) this.#callHook('data_break', {\n\t\t\t\tdataId: fullnm,\n\t\t\t\told_v,\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n\t\t\t\tnew_v,\n\t\t\t});\n\t\t}\n\n\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-assignment\n\t\t(<any>hScope)[nm] = new_v;\n\n\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n\t\tthis.#hSetValTrg[fullnm]?.(nm, new_v ?? '');\n\n\t\t// if (scope === 'sys') this.flush()\n\t\t\t// Âé≥ÂØÜ„Å´„ÅØ„Åì„Åì„Åß„Åô„Åπ„Åç„Å†„Åå„ÄÅ„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„Å´ÂïèÈ°å„Åå„ÅÇ„Çã„ÅÆ„Åß\n\t\t\t// „ÇØ„É™„ÉÉ„ÇØÂæÖ„Å°„ÇíÊúüÂæÖ„Åß„Åç„Çãwait„ÄÅwaitclick„ÄÅs„ÄÅl„ÄÅp„Çø„Ç∞„Åß\n\t\t\t// saveKidoku()„Çí„Ç≥„Éº„É´„ÄÇÔºà‰∏≠„Åß‰øùÂ≠ò„Åó„Å¶„ÅÑ„Çã„ÅÆ„Åß„Å§„ÅÑ„Åß„Å´Ôºâ\n\n\t\t//console.log(`\\tlet s[${scope}] n[${nm}]='${new_v}' trg[${(trg)}]`);\n\t}\n\t// reload ÂÜçÁîüÊàê Main „Å´Âèó„ÅëÊ∏°„Åô„Åü„ÇÅ static\n\tstatic\t#hSetEvent: {[fullnm: string]: 1} = {};\n\n\n\t// readonly getVal_save = (arg_name: string, def?: number | string)=> {\n\t// \tif (! arg_name) throw '[Â§âÊï∞ÂèÇÁÖß] name„ÅØÂøÖÈ†à„Åß„Åô';\n\n\tgetVal(arg_name: string, def?: number | string, touch = false): T_VAL_DATA {\n\t\tif (! arg_name) throw '[Â§âÊï∞ÂèÇÁÖß] name„ÅØÂøÖÈ†à„Åß„Åô';\n\n\t\tconst o = PropParser.getValName(arg_name);\n\t\tif (! o) throw '[Â§âÊï∞ÂèÇÁÖß] name('+ arg_name +')„ÅåÂ§âÊï∞Âêç„Å®„Åó„Å¶Áï∞Â∏∏„Åß„Åô';\n\n\t\tconst {scope='tmp', name, at} = o;\n\t\tconst hScope = this.#hScopes[scope];\n\n\t\tlet val = <T_VAL_DATA_FNC>hScope[<keyof typeof hScope>name];\n// console.log(`getVal arg_name=${arg_name}= nm=${name}= A:${String(! (name in hScope))} val:${String(val)}`);\n\t\tif (! (name in hScope)) {\t// Â≠òÂú®„Åó„Å™„ÅÑÂ§âÊï∞Âêç„ÅÆÂ†¥Âêà„ÄÅÂàª„Çì„ÅßË™ø„Åπ„Å¶„ÅÑ„Åè\n\t\t\tval = def;\n\t\t\tif (touch) {\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-explicit-any\n\t\t\t\t(<any>hScope)[name] = def;\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-return\n\t\t\t\treturn at === '@str' ?val :this.#castAuto(val);\n\t\t\t}\n\n\t\t\tlet n = '';\n\t\t\tconst aNm = name.split('.');\n\t\t\tconst len = aNm.length;\n\t\t\tfor (let i=0; i<len; ++i, n += '.') {\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n\t\t\t\tn += aNm[i];\n\t\t\t\tif (! (n in hScope)) continue;\t// Â≠òÂú®„Åó„Å™„ÅÑÂ§âÊï∞Âêç„ÅÆÂ†¥Âêà„ÄÅÂª∂„Å∞„Åô\n\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n\t\t\t\tlet v = JSON.parse(hScope[<keyof typeof hScope>n]);\n\t\t\t\tif (Object.prototype.toString.call(v) !== '[object Object]') {\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n\t\t\t\t\tif (i +1 === len) {val = v; break}\t// ÊúÄ‰∏ãÂ±§„Å™„Çâ„Åù„ÅÆ„Åæ„ÅæËøî„Åô\n\t\t\t\t\tcontinue;\n\t\t\t\t\t\t// Áü≠„ÅÑÂêçÂâç„Åß„Éí„ÉÉ„Éà„Åó„Åü„Åå„ÄÅJSON„Åß„ÇÇ„Å™„Åè\n\t\t\t\t\t\t// Â§âÊï∞Âêç„Å´„ÅØ„Åæ„Å†Á∂ö„Åç„Åå„ÅÇ„Çã„ÅÆ„ÅßÊé¢Á¥¢Á∂öË°å\n\t\t\t\t}\n\n\t\t\t\tlet j = i;\t// JSON„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÈöéÂ±§„ÇíÈôç„Çä„Å§„Å§Êé¢Á¥¢\n\t\t\t\twhile (++j < len) {\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\t\tconst nj = aNm[j]!;\n\t\t\t\t\tif (! (nj in v)) {val = def; break}\n\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unsafe-member-access\n\t\t\t\t\tv = v[nj];\n\t\t\t\t\tif (Object.prototype.toString.call(v) !== '[object Object]'\n\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n\t\t\t\t\t\t|| j +1 === len) {val = v; break}// ÊúÄ‰∏ãÂ±§„Å™„Çâ„Åù„ÅÆ„Åæ„ÅæËøî„Åô\n\t\t\t\t}\n\n\t\t\t\tif (val instanceof Object) val = JSON.stringify(val);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (val instanceof Function) val = val();\n// console.log(`\\tget [${arg_name}] -> s[${scope ?? 'tmp'}'] a[${at ?? ''}] n[${name}'] ret['${String(val)}']('${typeof val}')'`);\n\n\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-return\n\t\treturn at === '@str' ?val :this.#castAuto(val);\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t#castAuto(val: T_VAL_DATA): any {\n\t\tconst s_val = <string>val;\n\t\tif (s_val === 'true') return true;\n\t\tif (s_val === 'false') return false;\n\t\tif (s_val === 'null') return null;\n\t\tif (s_val === 'undefined') return undefined;\n\t\tif (this.#REG_NUMERICLITERAL.test(s_val)) return parseFloat(s_val);\n\n\t\treturn val;\n\t}\n\t#REG_NUMERICLITERAL\t= /^-?[\\d.]+$/;\n\n\n\t// Â§âÊï∞„ÅÆ„ÉÄ„É≥„Éó\n\t#dump_val() {\n\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\tconst val: any = {tmp:{}, sys:{}, save:{}, mp:{}};\n\t\tfor (const scope in val) {\n\t\t\tconst hVal = this.#hScopes[<Scope>scope];\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unsafe-member-access\n\t\t\tconst hRet = val[scope];\n\t\t\tfor (const [key, v] of Object.entries(hVal)) {\n\t\t\t\tif (v instanceof Function) continue;\n\n\t\t\t\t// // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n\t\t\t\t// hRet[key] = v instanceof Function ?v() :v;\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n\t\t\t\thRet[key] = v;\n\t\t\t\t\t//TODO: ÂÆüË°å„Åô„Çã„ÅÆ„ÅãÁÑ°Ë¶ñ„Åô„Çã„ÅÆ„ÅãÂïèÈ°å\n\t\t\t}\n\t\t}\n\t\tconsole.info('ü•ü [dump_val]', val);\n\n\t\treturn false;\n\t}\n\n\t#doRecLog\t= false;\n\tdoRecLog() {return this.#doRecLog}\n\n\n\t#tagCh_doWait = false;\n\tget tagCh_doWait() {return this.#tagCh_doWait;}\n\t#tagCh_doWait_Kidoku = false;\n\tget tagCh_doWait_Kidoku() {return this.#tagCh_doWait_Kidoku;}\n\t#tagCh_msecWait\t\t= 0;\n\tget tagCh_msecWait() {return this.#tagCh_msecWait;}\n\t#tagCh_msecWait_Kidoku= 0;\n\tget tagCh_msecWait_Kidoku() {return this.#tagCh_msecWait_Kidoku;}\n\n\t#hSetValTrg\t: {[name: string]: T_fncSetVal}\t= {\n\t\t// sys\n\t\t'sys:sn.tagCh.doWait'\t\t\t: name=> {\n\t\t\tthis.#tagCh_doWait =\n\t\t\tthis.#runFirst_Bool_hSysVal_true(name);\n\t\t},\n\t\t'sys:sn.tagCh.doWait_Kidoku'\t: name=> {\n\t\t\tthis.#tagCh_doWait_Kidoku =\n\t\t\tthis.#runFirst_Bool_hSysVal_true(name);\n\t\t},\n\t\t'sys:sn.tagCh.msecWait'\t\t\t: name=> {\n\t\t\tthis.#tagCh_msecWait =\n\t\t\tthis.#runFirst_sys_an_tagCh_msecWait(name);\n\t\t},\n\t\t'sys:sn.tagCh.msecWait_Kidoku'\t: name=> {\n\t\t\tthis.#tagCh_msecWait_Kidoku =\n\t\t\tthis.#runFirst_sys_an_tagCh_msecWait_Kidoku(name);\n\t\t},\n\t\t'sys:sn.tagCh.canskip'\t\t\t: name=> this.#runFirst_Bool_hSysVal_true(name),\n\n\t\t'sys:sn.auto.msecPageWait'\t\t\t: name=>\n\t\t\tthis.#runFirst_sys_an_auto_msecPageWait(name),\n\t\t'sys:sn.auto.msecPageWait_Kidoku'\t: name=>\n\t\t\tthis.#runFirst_sys_an_auto_msecPageWait(name),\n\t\t'sys:sn.auto.msecLineWait'\t\t\t: name=>\n\t\t\tthis.#runFirst_sys_an_auto_msecLineWait(name),\n\t\t'sys:sn.auto.msecLineWait_Kidoku'\t: name=>\n\t\t\tthis.#runFirst_sys_an_auto_msecLineWait(name),\n\n\t\t// save\n\t\t'save:sn.doRecLog'\t\t: name=> {\n\t\t\tthis.#doRecProc(\n\t\t\t\tthis.#doRecLog = this.#runFirst_Bool_hSaveVal_true(name)\n\t\t\t);\n\t\t},\n\t\t'save:sn.userFnTail'\t: (_name, ival)=> {\n\t\t\tconst val = String(ival);\n\t\t\tif (val.includes('@')) throw '„Åì„ÅÆÂ§âÊï∞„Åß„ÅØÊñáÂ≠ó„Äå@„Äç„ÅØÁ¶ÅÊ≠¢„Åß„Åô';\n\t\t\tthis.cfg.userFnTail = val;\n\t\t},\n\n\t\t// tmp\n\t\t'tmp:flash.desktop.NativeApplication.nativeApplication.systemIdleMode'\t:\n\t\t\t()=> {\n\t\t\t//\tNativeApplication.nativeApplication.systemIdleMode = val;\n\t\t\t}\n\t\t,\n\t};\n\tdefValTrg(name: string, fnc: T_fncSetVal) {this.#hSetValTrg[name] = fnc}\n\treadonly\t#runFirst_Bool_hSysVal_true = (name: string)=> argChk_Boolean(this.#hSys, name, true);\n\treadonly\t#runFirst_sys_an_tagCh_msecWait = (name: string)=> argChk_Num(this.#hSys, name, 10);\n\treadonly\t#runFirst_sys_an_tagCh_msecWait_Kidoku = (name: string)=> argChk_Num(\n\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\tthis.#hSys, name, this.cfg.oCfg.init.tagch_msecwait ?? 10\n\t);\n\treadonly\t#runFirst_sys_an_auto_msecPageWait = (name: string)=> argChk_Num(\n\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\tthis.#hSys, name, this.cfg.oCfg.init.auto_msecpagewait ?? 3500\n\t);\n\treadonly\t#runFirst_sys_an_auto_msecLineWait = (name: string)=> argChk_Num(this.#hSys, name, 500);\n\n\t#runFirst_Bool_hSaveVal_true(name: string) {\n\t\treturn argChk_Boolean(this.#hSave, name, true);\n\t}\n\n}\n"],"mappings":";;;;;;;AAUA,IAAa,QAAb,MAAa,EAAM;CAClB,KAAsB,EAAE;CAExB,QAAQ;AAAC,QAAA,IAAe,EAAE;;CAC1B,OAAO,KAAK,GAA2B;EACtC,IAAM,IAAK,IAAI,GAAK;AAEpB,SADA,GAAA,IAAa,EAAC,GAAG,GAAQ,EAClB;;CAER,MAAiB;AAAC,SAAO,EAAC,GAAG,MAAA,GAAa;;CAE1C,OAAO,GAAsB;AAC5B,SAAO,OAAO,QAAQ,MAAA,EAAa,CAClC,MAAM,CAAC,GAAO,OAAM,KAAO,SAAS,EAAM,IAAI,KAAO,EAAE;;CAGzD,OAAO,GAAmB;AACrB,YAAK,OAAO,EAAI,EAEpB;QAAK,IAAM,CAAC,GAAO,MAAM,OAAO,QAAQ,MAAA,EAAa,CAEpD,KAAI,IAAG,MAAM,GAAK;AACjB,IAAI,OAAO,IAAK,EAAE,IAAI,MAAA,KAGrB,MAAA,EAAa,KAAS,MAAA,EAAa,IAAK,IAExC,OAAO,MAAA,EAAa,IAAK,MAErB,MAAA,EAAa,KAAS;AAC3B;;AAKF,OAAI,OAAO,IAAK,EAAE,IAAI,MAAA,GAAc;AAInC,IAFA,MAAA,EAAa,KAAO,MAAA,EAAa,IAAK,IAEtC,OAAO,MAAA,EAAa,IAAK;AACzB;;AAGD,SAAA,EAAa,KAAO;;;CAGrB,MAAM,GAAmB;AAClB,WAAK,OAAO,EAAI,EAGtB;OAAI,OAAO,EAAI,IAAI,MAAA,GAAc;AAIhC,IAFI,MAAA,EAAa,KAAQ,MAAK,MAAA,EAAa,IAAK,KAAK,MAAA,EAAa,KAElE,OAAO,MAAA,EAAa;AACpB;;AAGD,QAAK,IAAM,CAAC,GAAO,MAAM,OAAO,QAAQ,MAAA,EAAa,CAChD,WAAM,SAAS,EAAM,IAAI,IAAI,IAGjC;QAAI,MAAA,EAAa,OAAW,GAAK;AAChC,WAAA,EAAa,KAAS,IAAK;AAC3B;;AAKD,IADA,MAAA,EAAa,IAAK,KAAK,GACvB,MAAA,EAAa,KAAS,IAAK;AAC3B;;;;CAIF,IAAI,QAAgB;AAAC,SAAO,OAAO,KAAK,MAAA,EAAa,CAAC;;CAEtD,WAAmB;EAClB,IAAI,IAAM;AAEV,OAAK,IAAM,KAAK,OAAO,KAAK,MAAA,EAAa,CACxC,KAAI,MAAI,SAAS,EAAE,CAAC,CACpB,MAAM,GAAG,MAAK,IAAE,EAAE,CAClB,MAAO,MAAM,MAAA,EAAa,KACxB,MAAK,OAAO,EAAE,GACd,MAAK,OAAO,EAAE,GAAE,MAAK,OAAO,MAAA,EAAa,OAAO,EAAE,EAAE;AAGvD,SAAO;;GC/EI,WAAb,MAAa,EAA+B;CAC3C,KAA0B,aAAa;CACvC,KAAwB,aAAa;CACrC,KAAW;EACV,KAAO,EAAE;EACT,MAAO,MAAA;EACP,KAAO,MAAA;EACP,IAAkB,EAAE;EACpB,MAAqB,EAAE;EACvB;CAGD,YAAY,GAAiC,GAA8B,GAAc;AAwExF,EAxE4B,KAAA,MAAA,GAAiC,KAAA,MAAA,GAE7D,EAAK,OAAQ,MAAI,MAAA,EAAU,EAAE,EAC7B,EAAK,WAAW,MAAI,MAAA,EAAc,EAAE,EACpC,EAAK,eAAc,MAAI,MAAA,EAAkB,EAAE,EAC3C,EAAK,gBAAe,MAAI,MAAA,EAAmB,EAAE,EAC7C,EAAK,cAAc,MAAI,MAAA,EAAiB,EAAE,EAE1C,EAAK,eAAc,MAAI,MAAA,EAAkB,EAAE,EAC3C,EAAK,aAAa,MAAI,MAAA,EAAgB,EAAE,EACxC,EAAK,cAAc,MAAI,MAAA,EAAiB,EAAE,EAC1C,EAAK,cAAc,MAAI,MAAA,EAAiB,EAAE,EAK1C,EAAK,oBAAmB,MAAA,GAAmB,EAC3C,EAAK,iBAAiB,MAAA,GAAgB,EACtC,EAAK,iBAAiB,MAAA,GAAgB,EAGtC,EAAK,gBAAe,MAAI,MAAA,EAAmB,EAAE,EAC7C,EAAK,iBAAgB,MAAI,MAAA,EAAoB,EAAE,EAM/C,KAAK,OAAO,gCAA+B;GAC1C,IAAMmB,IAAY,EAAE;AACpB,QAAK,IAAM,CAAC,GAAI,MAAO,OAAO,QAAQ,MAAA,EAAU,KAAK,EAAE;IACtD,IAAM,IAAI,EAAC,GAAG,EAAG,MAAK;AAEtB,IADA,EAAE,QAAQ,KAAK,EAAG,EAClB,EAAE,KAAK,EAAE;;AAEV,UAAO,KAAK,UAAU,EAAE;IACvB,EAiCF,MAAA,EAAW,kCAAkC,EAAI,KAAK,OAAO,OAC7D,MAAA,EAAW,mCAAmC,EAAI,KAAK,OAAO,QAC9D,MAAA,EAAW,gCAAgC,EAAI,KAAK,KAAK,OACzD,MAAA,EAAW,kCAAkC,EAAI,KAAK,KAAK;;CAI5D,KAAqB;EACpB,KAAqB,EAAE;EACvB,MAAO,EAAE;EACT,QAAS,EAAE;EACX;CACD;CACA,KAAuC,EAAE;CACzC;CACA,MAAM,OAAO;AAAC,SAAO,KAAK,IAAI,QAAQ,MAAA,IAAY,MAAO;AAmBxD,GAlBA,KAAK,WAAW,EAAK,EAEjB,KAAK,IAAI,KAAK,MAAM,WAAU,MAAA,EAAkB,KAAK,IAAI,GACxD,KAAK,cAAa,KAAK,IAAI,OAAO,EACvC,KAAK,OAAO,EAEZ,MAAA,KAAkB,GAAM,MAAK,KAAK,IAAI,SAAS,GAAM,EAAE,EACvD,KAAK,IAAI,SAAS,GAAM,MAAK,MAAA,EAAkB,KAAQ,GAAM,EAAE,CAAC,EAGrD,IAAI,KAAK,OAAO,yBAAyB,GAAG,CAAC,KAC7C,MAAI,MAAA,EAAkB,GAAK,EAEtC,MAAA,IAAqB,EAAQ,KAAK,OAAO,sBAAsB,EAC/D,MAAA,IAA4B,EAAQ,KAAK,OAAO,6BAA6B,EAC7E,MAAA,IAAuB,IAAI,KAAK,OAAO,wBAAwB,CAAC,EAChE,MAAA,IAA8B,IAAI,KAAK,OAAO,+BAA+B,CAAC,EAE9E,MAAA,GAAiB;IAChB;;CAGF,GAAa,GAAgB;AAC5B,iBAAe,OAAO;EACtB,IAAM,IAAK,KAAK,IAAI;AAEpB,OAAK,cAAc;GAClB,IAAM,IAAO,aAAa;AAC1B,QAAK,IAAM,CAAC,GAAG,MAAM,OAAO,QAAQ,MAAA,EAAW,CAC1C,cAAa,aAEX,EAAM,KAAK;AAElB,kBAAe,IAAK,SAAS,KAAK,UAAU,EAAK;GAEjD,IAAM,IAAQ,aAAa;AAC3B,QAAK,IAAM,CAAC,GAAG,MAAM,OAAO,QAAQ,MAAA,EAAY,CAEzC,GAAO,KAAK;AAEnB,kBAAe,IAAK,UAAU,KAAK,UAAU,EAAM;GAEnD,IAAM,IAAO,aAAa;AAC1B,QAAK,IAAM,CAAC,GAAG,MAAM,OAAO,QAAQ,MAAA,EAAW,CAExC,GAAM,KAAK,aAAa,WAAW,GAAG,GAAG;AAGhD,kBAAe,IAAK,SAAS,KAAK,UAAU,EAAK;GAEjD,IAAM,IAAM,UAAU;AACtB,QAAK,IAAM,CAAC,GAAG,MAAM,OAAO,QAAQ,MAAA,EAAc,GAAG,CAE9C,GAAK,KAAK;AAEjB,kBAAe,IAAK,QAAQ,KAAK,UAAU,EAAI;GAE/C,IAAMY,IAAsB,EAAE;AAC9B,QAAK,IAAM,CAAC,GAAG,MAAM,OAAO,QAAQ,MAAA,EAAU,KAAK,CAElD,GAAM,IAAI,EAAE,IAAI,aAAa,WAAW,GAAG,GAAG;AAM/C,GAJA,eAAe,IAAK,UAAU,KAAK,UAAU,EAAM,EAEnD,eAAe,IAAK,YAAY,gBAAgB,MAAA,EAAU,OAAO,EAEjE,EAAI,OAAO;;;CAKb,KAAa;AAAC,eAAa,aAC1B,OAAO,KAAK,OAAO,yBAAyB,KAAK,CAAC,EAClD,OAAO,KAAK,OAAO,2BAA2B,aAAa,YAAY,CAAC,CACxE;;CACD,KAEoD;EAEnD,OAAO,GAAG,MAAK,MAAA,EAAqB,EAAE,YAAY,MAAM;EAExD,MAAO,GAAE,MAAK,KAAK,IAAI,SAAS,EAAE,IAAI,EAAC,GAAG,MAAA,EAAqB,EAAE,UAAU,EAAE,EAAC,CAAC;EAC/E,UAAW,GAAG,MAAK;AAElB,OAAI;AAA4B,IAA3B,MAAA,EAAa,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,IAAI,SAAS,EAAE,IAAI,EAAE,CAAC;WAAQ;;EAEpE,iBAAkB,GAAG,MAAK;AAIzB,GAFA,MAAA,EAAqB,EAAE,EAAE,EAEzB,KAAK,IAAI,SAAS,EAAE,IAAI,EAAE,CAAC;;EAE5B,aAAY,MAAI;AAAC,MAAA,IAAsB,EAAE;;EACzC;CAED,GAAgB,GAAU;AACzB,KAAA,IAAsB,EAAE;AAExB,OAAK,IAAM,KAAK,EAAG,IAAA,EAAoB,EAAE,UAAU;;CAMpD,WAAW,GAAwB;AAIlC,EAHA,MAAA,IAAY,GACZ,MAAA,IAAa,MAAA,EAAc,MAAM,EAAI,KAErC,MAAA,IAAoB,EAAE;AACtB,OAAK,IAAM,CAAC,GAAI,MAAO,OAAO,QAAQ,EAAI,OAAO,CAChD,OAAA,EAAkB,KAAM,MAAM,KAAK,EAAG;;CAIxC,cAAa;CAEb,aAAa,GAA8B;AAAC,QAAA,IAAkB;;CAC9D,MAAc,MAAmB;CAGjC,OAAO,GAAc,GAAgB;AAAO,QAAA,EAAY,KAAQ;;CAEhE,UAAU;AAAC,SAAO,EAAC,GAAG,MAAA,EAAc,IAAG;;CACvC,MAAM,GAAgB;AAAC,QAAA,EAAc,KAAK;;CAE1C,QAAQ,GAAe,GAAc;AAEpC,EADA,MAAA,EAAU,KAAK,KAAS,GACxB,KAAK,OAAO;;CAEb,QAAQ,GAAe;EACtB,IAAM,IAAO,MAAA,EAAU,KAAK;AAC5B,MAAI,CAAE,EAAM,OAAM,SAAS,OAAO,EAAM,CAAC;AACzC,SAAO;;CAGR,YAAY;AAAC,SAAO,EAAC,GAAG,MAAA,EAAc,MAAK;;CAC3C,UAAU,GAAc;AAEvB,EADA,MAAA,IAAc,MAAA,EAAc,OAAO,EAAC,GAAG,EAAK,OAAM,EAClD,MAAA,IAAiB,MAAA,EAAY;;CAK9B,gBAAgB,GAAmB;AAMlC,SALW,MAAA,EAAkB,OAG7B,MAAA,EAAU,OAAO,KAAM,EAAE,EACb,MAAA,EAAkB,KAAM,IAAI,OAAK;;CAG9C,cAAc,GAAmB;EAChC,IAAM,IAAK,MAAA,EAAkB;AAC7B,MAAI,CAAE,EAAI,OAAM,cAAc,EAAG;AACjC,SAAO;;CAER,aAAa;AACZ,OAAK,IAAM,CAAC,GAAI,MAAO,OAAO,QAAQ,MAAA,EAAkB,CACvD,OAAA,EAAU,OAAO,KAAM,EAAG,KAAK;AAEhC,OAAK,OAAO;;CAMb,GAAc,GAAY;EACzB,IAAM,IAAO,WAAW,GAAM,QAAQ,IAAI,EACpC,IAAK,WAAW,GAAM,MAAM,IAAI;AAGtC,MAAI,MAAS,EAAI,QAAO;EAExB,IAAM,IAAI,MAAA,EAAU,KAAK;AACzB,MAAI,CAAE,EAAG,OAAM,QAAQ,OAAO,EAAK,CAAC;AAIpC,SAHA,KAAK,QAAQ,GAAI,EAAC,GAAG,GAAE,CAAC,EACxB,KAAK,IAAI,aAAa,GAAM,EAAG,EAExB;;CAIR,GAAe,GAAY;EAC1B,IAAM,IAAQ,WAAW,GAAM,SAAS,IAAI;AAQ5C,SALA,OAAO,MAAA,EAAU,KAAK,IACtB,KAAK,OAAO,EAEZ,KAAK,IAAI,cAAc,EAAM,EAEtB;;CAMR,GAAK,GAAY;AAChB,MAAI,CAAE,EAAK,KAAM,OAAM;EAIvB,IAAI,IAAW;AACf,MAAI,EAAK,KACR,SAAQ,EAAK,MAAb;GACA,KAAK;AACJ,eAAW,GAAM,QAAQ,IAAI;AAC7B;GACD,KAAK;AACJ,MAAK,OAAO,OAAO,IAAI,WAAW,GAAM,QAAQ,IAAI,CAAC,CAAC;AACtD;GACD,KAAK;AACJ,MAAK,OAAO,OAAO,KAAK,WAAW,GAAM,QAAQ,IAAI,CAAC,CAAC;AACvD;GACD,KAAK;AACJ,mBAAe,GAAM,QAAQ,GAAM;AACnC;GACD,KAAK;AACJ,QAAW;AACX;GACD,QACC,OAAM,UAAS,EAAK,OAAM;;AAM5B,SAFA,MAAA,EAAa,EAAK,MAAM,EAAK,MAAM,EAAS,EAErC;;CAIR,GAAS,GAAY;EACpB,IAAM,IAAI,WAAW,GAAM,QAAQ,EAAE;AAOrC,SALA,EAAK,OAAO,OAAO,IAAI,IAAG,CAAC,IAAG,EAAE,EAGhC,MAAA,EAAU,EAAK,EAER;;CAIR,GAAa,GAAY;AAIxB,SAHA,EAAK,QAAQ,EAAK,QAAQ,IAAI,OAAO,WAAW,GAAM,OAAO,EAAE,CAAC,EAChE,MAAA,EAAU,EAAK,EAER;;CAIR,GAAc,GAAY;EACzB,IAAM,EAAC,WAAO;AACd,MAAI,CAAE,EAAK,OAAM;EACjB,IAAM,IAAQ,WAAW,GAAM,SAAS,EAAE;AAK1C,SAHA,EAAK,OAAO,QAAQ,EAAK,QAAQ,IAAI,QAAQ,GAAK,EAAM,CAAC,EACzD,MAAA,EAAU,EAAK,EAER;;CAIR,GAAY,GAAY;AAIvB,SAHA,EAAK,OAAO,QAAQ,EAAK,QAAQ,IAAI,OAAO,EAC5C,MAAA,EAAU,EAAK,EAER;;CAIR,GAAa,GAAY;AACxB,MAAI,CAAE,EAAK,IAAK,OAAM;EAEtB,IAAM,EAAC,aAAS,GACV,IAAQ,IAEX,IAAI,OAAO,EAAK,KAAK,EAAM,GAD3B,IAAI,OAAO,EAAK,IAAI;AAKvB,SAHA,EAAK,QAAQ,EAAK,QAAQ,IAAI,QAAQ,GAAK,OAAO,EAAK,IAAI,CAAC,EAC5D,MAAA,EAAU,EAAK,EAER;;CAIR,GAAW,GAAY;EACtB,IAAM,IAAI,WAAW,GAAM,QAAQ,EAAE;AAIrC,SAHA,EAAK,OAAO,OAAO,KAAK,MAAM,EAAE,CAAC,EACjC,MAAA,EAAU,EAAK,EAER;;CAIR,GAAY,GAAY;AACvB,MAAI,CAAE,EAAK,IAAK,OAAM;EAEtB,IAAM,EAAC,aAAS,GACV,IAAQ,IAEX,IAAI,OAAO,EAAK,KAAK,EAAM,GAD3B,IAAI,OAAO,EAAK,IAAI;AAKvB,SAHA,EAAK,OAAO,QAAQ,EAAK,QAAQ,IAAI,OAAO,EAAI,CAAC,EACjD,MAAA,EAAU,EAAK,EAER;;CAIR,GAAY,GAAY;EACvB,IAAM,IAAI,WAAW,GAAM,OAAO,EAAE;AAMpC,SALA,EAAK,OAAO,EAAK,QAAQ,SAErB,EAAK,QAAQ,IAAI,MAAM,EAAE,IADzB,EAAK,QAAQ,IAAI,MAAM,GAAG,IAAG,IAAI,WAAW,GAAM,OAAO,EAAE,CAAC,CAAC,EAEjE,MAAA,EAAU,EAAK,EAER;;CAMR,GAAa,IAAO,IAAO;EAC1B,IAAM,IAAM,MAAA,IAAa,MAAA,EAAc,MAAM,MAAA,EAAU,MAAM,aAAa;AAoB1E,EAlBc,OAAO,UAAY,QAOhC,KAAK,aAAa,OAAO,qBAAqB,EAAE,EAChD,KAAK,aAAa,OAAO,qBAAqB,EAAE,GAIjD,KAAK,aAAa,OAAO,qBAAqB,KAAK,IAAI,KAAK,KAAK,eAAe,EAChF,KAAK,aAAa,OAAO,4BAA4B,KAAK,IAAI,KAAK,KAAK,eAAe,EAIvF,KAAK,aAAa,OAAO,wBAAwB,WAAW,GAAK,wBAAwB,KAAK,IAAI,KAAK,KAAK,kBAAkB,CAAC,EAC/H,KAAK,aAAa,OAAO,+BAA+B,WAAW,GAAK,wBAAwB,KAAK,IAAI,KAAK,KAAK,kBAAkB,CAAC;AAMtI,OAAK,IAAM,KAAM,OAAO,OAAO,MAAA,EAAkB,CAAE,GAAG,OAAO;AAU7D,SAPA,MAAA,EAAc,OAAO,MAAA,EAAU,OAAO,EAAE,EAElC,KAAM,MAAA,GAAiB,EAG7B,KAAK,OAAO,EAEL;;CAIR,KAAY;EACX,IAAMO,IAAoB,MAAA,EAAY,sBAChCC,IAAoB,MAAA,EAAY,gBAChCC,IAAiB,MAAA,EAAY,kBAC7BC,IAAqB,MAAA,EAAY;AASvC,SAPA,MAAA,IAAc,MAAA,EAAc,OAAO,aAAa,EAEhD,KAAK,aAAa,QAAQ,qBAAqB,EAAS,EACxD,KAAK,aAAa,QAAQ,eAAe,EAAS,EAClD,KAAK,aAAa,QAAQ,iBAAiB,EAAK,EAChD,KAAK,aAAa,QAAQ,sBAAsB,EAAU,EAEnD;;CAGR,GAAQ,GAAkB,GAAiB,IAAW,IAAM;AAC3D,MAAI,CAAE,EAAU,OAAM;AACtB,MAAI,MAAQ,KAAA,EAAW,OAAM;EAE7B,IAAM,IAAI,WAAW,WAAW,EAAS;AACzC,MAAI,CAAE,EAAG,OAAM,eAAe,EAAS;EAEvC,IAAM,EAAC,WAAM,OAAO,YAAQ,GACtB,IAAS,MAAA,EAAc;AAC7B,MAAI,EAAK,WAAW,SAAS,IAAI,KAAQ,EACxC,OAAM,gBAAgB,EAAK;AAG5B,OAAK,aAAa,GAAO,GAAM,GAAK,EAAS;;CAE9C,aAAa,GAAc,GAAY,GAAkB,IAAW,IAAO;EAC1E,IAAM,IAAS,MAAA,EAAc,IAEvB,IAAQ,IAAU,MAAA,EAAe,EAAK,GAAG,GAEzC,IAAS,IAAO,MAAK;AAC3B,MAAI,KAAU,GAAA,GAAqB;GAClC,IAAM,IAAQ,EAA4B;AAE1C,GAAI,KAAS,KAAO,MAAA,EAAe,cAAc;IAChD,QAAQ;IACR;IAEA;IACA,CAAC;;AAOH,EAHM,EAAQ,KAAM,GAGpB,MAAA,EAAiB,KAAU,GAAI,KAAS,GAAG;;CAU5C,QAAA,IAA2C,EAAE;CAM7C,OAAO,GAAkB,GAAuB,IAAQ,IAAmB;AAC1E,MAAI,CAAE,EAAU,OAAM;EAEtB,IAAM,IAAI,WAAW,WAAW,EAAS;AACzC,MAAI,CAAE,EAAG,OAAM,iBAAgB,IAAU;EAEzC,IAAM,EAAC,WAAM,OAAO,SAAM,UAAM,GAC1B,IAAS,MAAA,EAAc,IAEzB,IAAsB,EAA4B;AAEtD,MAAI,EAAG,KAAQ,IAAS;AAEvB,OADA,IAAM,GACF,EAIH,QAFM,EAAQ,KAAQ,GAEf,MAAO,SAAQ,IAAK,MAAA,EAAe,EAAI;GAG/C,IAAI,IAAI,IACF,IAAM,EAAK,MAAM,IAAI,EACrB,IAAM,EAAI;AAChB,QAAK,IAAI,IAAE,GAAG,IAAE,GAAK,EAAE,GAAG,KAAK,KAAK;AAGnC,QADA,KAAK,EAAI,IACL,EAAG,KAAK,GAAS;IAGrB,IAAI,IAAI,KAAK,MAAM,EAA4B,GAAG;AAClD,QAAI,OAAO,UAAU,SAAS,KAAK,EAAE,KAAK,mBAAmB;AAE5D,SAAI,IAAG,MAAM,GAAK;AAAC,UAAM;AAAG;;AAC5B;;IAKD,IAAI,IAAI;AACR,WAAO,EAAE,IAAI,IAAK;KAEjB,IAAM,IAAK,EAAI;AACf,SAAI,EAAG,KAAM,IAAI;AAAC,UAAM;AAAK;;AAI7B,SADA,IAAI,EAAE,IACF,OAAO,UAAU,SAAS,KAAK,EAAE,KAAK,qBAEtC,IAAG,MAAM,GAAK;AAAC,UAAM;AAAG;;;AAG7B,IAAI,aAAe,WAAQ,IAAM,KAAK,UAAU,EAAI;AACpD;;;AAOF,SAJI,aAAe,aAAU,IAAM,GAAK,GAIjC,MAAO,SAAQ,IAAK,MAAA,EAAe,EAAI;;CAI/C,GAAU,GAAsB;EAC/B,IAAM,IAAgB;AACtB,MAAI,MAAU,OAAQ,QAAO;AAC7B,MAAI,MAAU,QAAS,QAAO;AAC9B,MAAI,MAAU,OAAQ,QAAO;AACzB,YAAU,YAGd,QAFI,MAAA,EAAyB,KAAK,EAAM,GAAS,WAAW,EAAM,GAE3D;;CAER,KAAsB;CAItB,KAAY;EAEX,IAAMI,IAAW;GAAC,KAAI,EAAE;GAAE,KAAI,EAAE;GAAE,MAAK,EAAE;GAAE,IAAG,EAAE;GAAC;AACjD,OAAK,IAAM,KAAS,GAAK;GACxB,IAAM,IAAO,MAAA,EAAqB,IAE5B,IAAO,EAAI;AACjB,QAAK,IAAM,CAAC,GAAK,MAAM,OAAO,QAAQ,EAAK,CACtC,cAAa,aAKjB,EAAK,KAAO;;AAMd,SAFA,QAAQ,KAAK,iBAAiB,EAAI,EAE3B;;CAGR,KAAY;CACZ,WAAW;AAAC,SAAO,MAAA;;CAGnB,KAAgB;CAChB,IAAI,eAAe;AAAC,SAAO,MAAA;;CAC3B,KAAuB;CACvB,IAAI,sBAAsB;AAAC,SAAO,MAAA;;CAClC,KAAmB;CACnB,IAAI,iBAAiB;AAAC,SAAO,MAAA;;CAC7B,KAAwB;CACxB,IAAI,wBAAwB;AAAC,SAAO,MAAA;;CAEpC,KAA8C;EAE7C,wBAA0B,MAAO;AAChC,SAAA,IACA,MAAA,EAAiC,EAAK;;EAEvC,+BAA+B,MAAO;AACrC,SAAA,IACA,MAAA,EAAiC,EAAK;;EAEvC,0BAA4B,MAAO;AAClC,SAAA,IACA,MAAA,EAAqC,EAAK;;EAE3C,iCAAiC,MAAO;AACvC,SAAA,IACA,MAAA,EAA4C,EAAK;;EAElD,yBAA2B,MAAO,MAAA,EAAiC,EAAK;EAExE,6BAA+B,MAC9B,MAAA,EAAwC,EAAK;EAC9C,oCAAoC,MACnC,MAAA,EAAwC,EAAK;EAC9C,6BAA+B,MAC9B,MAAA,EAAwC,EAAK;EAC9C,oCAAoC,MACnC,MAAA,EAAwC,EAAK;EAG9C,qBAAsB,MAAO;AAC5B,SAAA,EACC,MAAA,IAAiB,MAAA,EAAkC,EAAK,CACxD;;EAEF,uBAAwB,GAAO,MAAQ;GACtC,IAAM,IAAM,OAAO,EAAK;AACxB,OAAI,EAAI,SAAS,IAAI,CAAE,OAAM;AAC7B,QAAK,IAAI,aAAa;;EAIvB,8EACM;EAIN;CACD,UAAU,GAAc,GAAkB;AAAC,QAAA,EAAiB,KAAQ;;CACpE,MAAwC,MAAgB,eAAe,MAAA,GAAY,GAAM,GAAK;CAC9F,MAA4C,MAAgB,WAAW,MAAA,GAAY,GAAM,GAAG;CAC5F,MAAmD,MAAgB,WAElE,MAAA,GAAY,GAAM,KAAK,IAAI,KAAK,KAAK,kBAAkB,GACvD;CACD,MAA+C,MAAgB,WAE9D,MAAA,GAAY,GAAM,KAAK,IAAI,KAAK,KAAK,qBAAqB,KAC1D;CACD,MAA+C,MAAgB,WAAW,MAAA,GAAY,GAAM,IAAI;CAEhG,GAA6B,GAAc;AAC1C,SAAO,eAAe,MAAA,GAAa,GAAM,GAAK"}