"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const re=require("electron"),xi=require("fs"),Pu=require("constants"),Tu=require("stream"),Du=require("util"),Au=require("assert"),Be=require("path"),lt=require("node:process"),de=require("node:path"),Ae=require("node:util"),ie=require("node:fs"),zr=require("node:crypto"),Lu=require("node:assert"),Gn=require("node:os"),Da=require("zlib"),Fu=require("crypto");var kn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ke={},Pe={};Pe.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,n)=>{t.push((i,s)=>i!=null?n(i):r(s)),e.apply(this,t)})},"name",{value:e.name})};Pe.fromPromise=function(e){return Object.defineProperty(function(...t){const r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);t.pop(),e.apply(this,t).then(n=>r(null,n),r)},"name",{value:e.name})};var Dt=Pu,ku=process.cwd,Rn=null,ju=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Rn||(Rn=ku.call(process)),Rn};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var uo=process.chdir;process.chdir=function(e){Rn=null,uo.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,uo)}var Mu=Uu;function Uu(e){Dt.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=f(e.stat),e.fstat=f(e.fstat),e.lstat=f(e.lstat),e.statSync=u(e.statSync),e.fstatSync=u(e.fstatSync),e.lstatSync=u(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(a,d,$){$&&process.nextTick($)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(a,d,$,m){m&&process.nextTick(m)},e.lchownSync=function(){}),ju==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(a){function d($,m,c){var y=Date.now(),E=0;a($,m,function l(g){if(g&&(g.code==="EACCES"||g.code==="EPERM"||g.code==="EBUSY")&&Date.now()-y<6e4){setTimeout(function(){e.stat(m,function(I,T){I&&I.code==="ENOENT"?a($,m,l):c(g)})},E),E<100&&(E+=10);return}c&&c(g)})}return Object.setPrototypeOf&&Object.setPrototypeOf(d,a),d}(e.rename)),e.read=typeof e.read!="function"?e.read:function(a){function d($,m,c,y,E,l){var g;if(l&&typeof l=="function"){var I=0;g=function(T,k,W){if(T&&T.code==="EAGAIN"&&I<10)return I++,a.call(e,$,m,c,y,E,g);l.apply(this,arguments)}}return a.call(e,$,m,c,y,E,g)}return Object.setPrototypeOf&&Object.setPrototypeOf(d,a),d}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(a){return function(d,$,m,c,y){for(var E=0;;)try{return a.call(e,d,$,m,c,y)}catch(l){if(l.code==="EAGAIN"&&E<10){E++;continue}throw l}}}(e.readSync);function t(a){a.lchmod=function(d,$,m){a.open(d,Dt.O_WRONLY|Dt.O_SYMLINK,$,function(c,y){if(c){m&&m(c);return}a.fchmod(y,$,function(E){a.close(y,function(l){m&&m(E||l)})})})},a.lchmodSync=function(d,$){var m=a.openSync(d,Dt.O_WRONLY|Dt.O_SYMLINK,$),c=!0,y;try{y=a.fchmodSync(m,$),c=!1}finally{if(c)try{a.closeSync(m)}catch{}else a.closeSync(m)}return y}}function r(a){Dt.hasOwnProperty("O_SYMLINK")&&a.futimes?(a.lutimes=function(d,$,m,c){a.open(d,Dt.O_SYMLINK,function(y,E){if(y){c&&c(y);return}a.futimes(E,$,m,function(l){a.close(E,function(g){c&&c(l||g)})})})},a.lutimesSync=function(d,$,m){var c=a.openSync(d,Dt.O_SYMLINK),y,E=!0;try{y=a.futimesSync(c,$,m),E=!1}finally{if(E)try{a.closeSync(c)}catch{}else a.closeSync(c)}return y}):a.futimes&&(a.lutimes=function(d,$,m,c){c&&process.nextTick(c)},a.lutimesSync=function(){})}function n(a){return a&&function(d,$,m){return a.call(e,d,$,function(c){h(c)&&(c=null),m&&m.apply(this,arguments)})}}function i(a){return a&&function(d,$){try{return a.call(e,d,$)}catch(m){if(!h(m))throw m}}}function s(a){return a&&function(d,$,m,c){return a.call(e,d,$,m,function(y){h(y)&&(y=null),c&&c.apply(this,arguments)})}}function o(a){return a&&function(d,$,m){try{return a.call(e,d,$,m)}catch(c){if(!h(c))throw c}}}function f(a){return a&&function(d,$,m){typeof $=="function"&&(m=$,$=null);function c(y,E){E&&(E.uid<0&&(E.uid+=4294967296),E.gid<0&&(E.gid+=4294967296)),m&&m.apply(this,arguments)}return $?a.call(e,d,$,c):a.call(e,d,c)}}function u(a){return a&&function(d,$){var m=$?a.call(e,d,$):a.call(e,d);return m&&(m.uid<0&&(m.uid+=4294967296),m.gid<0&&(m.gid+=4294967296)),m}}function h(a){if(!a||a.code==="ENOSYS")return!0;var d=!process.getuid||process.getuid()!==0;return!!(d&&(a.code==="EINVAL"||a.code==="EPERM"))}}var lo=Tu.Stream,Vu=zu;function zu(e){return{ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);lo.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),f=0,u=o.length;f<u;f++){var h=o[f];this[h]=i[h]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}e.open(this.path,this.flags,this.mode,function(a,d){if(a){s.emit("error",a),s.readable=!1;return}s.fd=d,s.emit("open",d),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);lo.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,f=s.length;o<f;o++){var u=s[o];this[u]=i[u]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var xu=Gu,Hu=Object.getPrototypeOf||function(e){return e.__proto__};function Gu(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:Hu(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}var _e=xi,qu=Mu,Bu=Vu,Ku=xu,En=Du,ke,jn;typeof Symbol=="function"&&typeof Symbol.for=="function"?(ke=Symbol.for("graceful-fs.queue"),jn=Symbol.for("graceful-fs.previous")):(ke="___graceful-fs.queue",jn="___graceful-fs.previous");function Zu(){}function Aa(e,t){Object.defineProperty(e,ke,{get:function(){return t}})}var Yt=Zu;En.debuglog?Yt=En.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Yt=function(){var e=En.format.apply(En,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});if(!_e[ke]){var Wu=kn[ke]||[];Aa(_e,Wu),_e.close=function(e){function t(r,n){return e.call(_e,r,function(i){i||fo(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,jn,{value:e}),t}(_e.close),_e.closeSync=function(e){function t(r){e.apply(_e,arguments),fo()}return Object.defineProperty(t,jn,{value:e}),t}(_e.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Yt(_e[ke]),Au.equal(_e[ke].length,0)})}kn[ke]||Aa(kn,_e[ke]);var Or=Hi(Ku(_e));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!_e.__patched&&(Or=Hi(_e),_e.__patched=!0);function Hi(e){qu(e),e.gracefulify=Hi,e.createReadStream=k,e.createWriteStream=W;var t=e.readFile;e.readFile=r;function r(A,z,B){return typeof z=="function"&&(B=z,z=null),Z(A,z,B);function Z(F,D,j,U){return t(F,D,function(M){M&&(M.code==="EMFILE"||M.code==="ENFILE")?lr([Z,[F,D,j],M,U||Date.now(),Date.now()]):typeof j=="function"&&j.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=i;function i(A,z,B,Z){return typeof B=="function"&&(Z=B,B=null),F(A,z,B,Z);function F(D,j,U,M,V){return n(D,j,U,function(x){x&&(x.code==="EMFILE"||x.code==="ENFILE")?lr([F,[D,j,U,M],x,V||Date.now(),Date.now()]):typeof M=="function"&&M.apply(this,arguments)})}}var s=e.appendFile;s&&(e.appendFile=o);function o(A,z,B,Z){return typeof B=="function"&&(Z=B,B=null),F(A,z,B,Z);function F(D,j,U,M,V){return s(D,j,U,function(x){x&&(x.code==="EMFILE"||x.code==="ENFILE")?lr([F,[D,j,U,M],x,V||Date.now(),Date.now()]):typeof M=="function"&&M.apply(this,arguments)})}}var f=e.copyFile;f&&(e.copyFile=u);function u(A,z,B,Z){return typeof B=="function"&&(Z=B,B=0),F(A,z,B,Z);function F(D,j,U,M,V){return f(D,j,U,function(x){x&&(x.code==="EMFILE"||x.code==="ENFILE")?lr([F,[D,j,U,M],x,V||Date.now(),Date.now()]):typeof M=="function"&&M.apply(this,arguments)})}}var h=e.readdir;e.readdir=d;var a=/^v[0-5]\./;function d(A,z,B){typeof z=="function"&&(B=z,z=null);var Z=a.test(process.version)?function(j,U,M,V){return h(j,F(j,U,M,V))}:function(j,U,M,V){return h(j,U,F(j,U,M,V))};return Z(A,z,B);function F(D,j,U,M){return function(V,x){V&&(V.code==="EMFILE"||V.code==="ENFILE")?lr([Z,[D,j,U],V,M||Date.now(),Date.now()]):(x&&x.sort&&x.sort(),typeof U=="function"&&U.call(this,V,x))}}}if(process.version.substr(0,4)==="v0.8"){var $=Bu(e);l=$.ReadStream,I=$.WriteStream}var m=e.ReadStream;m&&(l.prototype=Object.create(m.prototype),l.prototype.open=g);var c=e.WriteStream;c&&(I.prototype=Object.create(c.prototype),I.prototype.open=T),Object.defineProperty(e,"ReadStream",{get:function(){return l},set:function(A){l=A},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return I},set:function(A){I=A},enumerable:!0,configurable:!0});var y=l;Object.defineProperty(e,"FileReadStream",{get:function(){return y},set:function(A){y=A},enumerable:!0,configurable:!0});var E=I;Object.defineProperty(e,"FileWriteStream",{get:function(){return E},set:function(A){E=A},enumerable:!0,configurable:!0});function l(A,z){return this instanceof l?(m.apply(this,arguments),this):l.apply(Object.create(l.prototype),arguments)}function g(){var A=this;fe(A.path,A.flags,A.mode,function(z,B){z?(A.autoClose&&A.destroy(),A.emit("error",z)):(A.fd=B,A.emit("open",B),A.read())})}function I(A,z){return this instanceof I?(c.apply(this,arguments),this):I.apply(Object.create(I.prototype),arguments)}function T(){var A=this;fe(A.path,A.flags,A.mode,function(z,B){z?(A.destroy(),A.emit("error",z)):(A.fd=B,A.emit("open",B))})}function k(A,z){return new e.ReadStream(A,z)}function W(A,z){return new e.WriteStream(A,z)}var Q=e.open;e.open=fe;function fe(A,z,B,Z){return typeof B=="function"&&(Z=B,B=null),F(A,z,B,Z);function F(D,j,U,M,V){return Q(D,j,U,function(x,L){x&&(x.code==="EMFILE"||x.code==="ENFILE")?lr([F,[D,j,U,M],x,V||Date.now(),Date.now()]):typeof M=="function"&&M.apply(this,arguments)})}}return e}function lr(e){Yt("ENQUEUE",e[0].name,e[1]),_e[ke].push(e),Gi()}var $n;function fo(){for(var e=Date.now(),t=0;t<_e[ke].length;++t)_e[ke][t].length>2&&(_e[ke][t][3]=e,_e[ke][t][4]=e);Gi()}function Gi(){if(clearTimeout($n),$n=void 0,_e[ke].length!==0){var e=_e[ke].shift(),t=e[0],r=e[1],n=e[2],i=e[3],s=e[4];if(i===void 0)Yt("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){Yt("TIMEOUT",t.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var f=Date.now()-s,u=Math.max(s-i,1),h=Math.min(u*1.2,100);f>=h?(Yt("RETRY",t.name,r),t.apply(null,r.concat([i]))):_e[ke].push(e)}$n===void 0&&($n=setTimeout(Gi,0))}}(function(e){const t=Pe.fromCallback,r=Or,n=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(i=>typeof r[i]=="function");Object.assign(e,r),n.forEach(i=>{e[i]=t(r[i])}),e.exists=function(i,s){return typeof s=="function"?r.exists(i,s):new Promise(o=>r.exists(i,o))},e.read=function(i,s,o,f,u,h){return typeof h=="function"?r.read(i,s,o,f,u,h):new Promise((a,d)=>{r.read(i,s,o,f,u,($,m,c)=>{if($)return d($);a({bytesRead:m,buffer:c})})})},e.write=function(i,s,...o){return typeof o[o.length-1]=="function"?r.write(i,s,...o):new Promise((f,u)=>{r.write(i,s,...o,(h,a,d)=>{if(h)return u(h);f({bytesWritten:a,buffer:d})})})},e.readv=function(i,s,...o){return typeof o[o.length-1]=="function"?r.readv(i,s,...o):new Promise((f,u)=>{r.readv(i,s,...o,(h,a,d)=>{if(h)return u(h);f({bytesRead:a,buffers:d})})})},e.writev=function(i,s,...o){return typeof o[o.length-1]=="function"?r.writev(i,s,...o):new Promise((f,u)=>{r.writev(i,s,...o,(h,a,d)=>{if(h)return u(h);f({bytesWritten:a,buffers:d})})})},typeof r.realpath.native=="function"?e.realpath.native=t(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")})(Ke);var qi={},La={};const Xu=Be;La.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(Xu.parse(t).root,""))){const n=new Error(`Path contains invalid characters: ${t}`);throw n.code="EINVAL",n}};const Fa=Ke,{checkPath:ka}=La,ja=e=>{const t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};qi.makeDir=async(e,t)=>(ka(e),Fa.mkdir(e,{mode:ja(t),recursive:!0}));qi.makeDirSync=(e,t)=>(ka(e),Fa.mkdirSync(e,{mode:ja(t),recursive:!0}));const Ju=Pe.fromPromise,{makeDir:Yu,makeDirSync:li}=qi,fi=Ju(Yu);var Nt={mkdirs:fi,mkdirsSync:li,mkdirp:fi,mkdirpSync:li,ensureDir:fi,ensureDirSync:li};const Qu=Pe.fromPromise,Ma=Ke;function el(e){return Ma.access(e).then(()=>!0).catch(()=>!1)}var rr={pathExists:Qu(el),pathExistsSync:Ma.existsSync};const vr=Ke,tl=Pe.fromPromise;async function rl(e,t,r){const n=await vr.open(e,"r+");let i=null;try{await vr.futimes(n,t,r)}finally{try{await vr.close(n)}catch(s){i=s}}if(i)throw i}function nl(e,t,r){const n=vr.openSync(e,"r+");return vr.futimesSync(n,t,r),vr.closeSync(n)}var Ua={utimesMillis:tl(rl),utimesMillisSync:nl};const wr=Ke,De=Be,ho=Pe.fromPromise;function il(e,t,r){const n=r.dereference?i=>wr.stat(i,{bigint:!0}):i=>wr.lstat(i,{bigint:!0});return Promise.all([n(e),n(t).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,s])=>({srcStat:i,destStat:s}))}function sl(e,t,r){let n;const i=r.dereference?o=>wr.statSync(o,{bigint:!0}):o=>wr.lstatSync(o,{bigint:!0}),s=i(e);try{n=i(t)}catch(o){if(o.code==="ENOENT")return{srcStat:s,destStat:null};throw o}return{srcStat:s,destStat:n}}async function ol(e,t,r,n){const{srcStat:i,destStat:s}=await il(e,t,n);if(s){if(on(i,s)){const o=De.basename(e),f=De.basename(t);if(r==="move"&&o!==f&&o.toLowerCase()===f.toLowerCase())return{srcStat:i,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&Bi(e,t))throw new Error(Bn(e,t,r));return{srcStat:i,destStat:s}}function al(e,t,r,n){const{srcStat:i,destStat:s}=sl(e,t,n);if(s){if(on(i,s)){const o=De.basename(e),f=De.basename(t);if(r==="move"&&o!==f&&o.toLowerCase()===f.toLowerCase())return{srcStat:i,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&Bi(e,t))throw new Error(Bn(e,t,r));return{srcStat:i,destStat:s}}async function Va(e,t,r,n){const i=De.resolve(De.dirname(e)),s=De.resolve(De.dirname(r));if(s===i||s===De.parse(s).root)return;let o;try{o=await wr.stat(s,{bigint:!0})}catch(f){if(f.code==="ENOENT")return;throw f}if(on(t,o))throw new Error(Bn(e,r,n));return Va(e,t,s,n)}function za(e,t,r,n){const i=De.resolve(De.dirname(e)),s=De.resolve(De.dirname(r));if(s===i||s===De.parse(s).root)return;let o;try{o=wr.statSync(s,{bigint:!0})}catch(f){if(f.code==="ENOENT")return;throw f}if(on(t,o))throw new Error(Bn(e,r,n));return za(e,t,s,n)}function on(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function Bi(e,t){const r=De.resolve(e).split(De.sep).filter(i=>i),n=De.resolve(t).split(De.sep).filter(i=>i);return r.every((i,s)=>n[s]===i)}function Bn(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}var br={checkPaths:ho(ol),checkPathsSync:al,checkParentPaths:ho(Va),checkParentPathsSync:za,isSrcSubdir:Bi,areIdentical:on};const ze=Ke,Qr=Be,{mkdirs:cl}=Nt,{pathExists:ul}=rr,{utimesMillis:ll}=Ua,en=br;async function fl(e,t,r={}){typeof r=="function"&&(r={filter:r}),r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001");const{srcStat:n,destStat:i}=await en.checkPaths(e,t,"copy",r);if(await en.checkParentPaths(e,n,t,"copy"),!await xa(e,t,r))return;const o=Qr.dirname(t);await ul(o)||await cl(o),await Ha(i,e,t,r)}async function xa(e,t,r){return r.filter?r.filter(e,t):!0}async function Ha(e,t,r,n){const s=await(n.dereference?ze.stat:ze.lstat)(t);if(s.isDirectory())return pl(s,e,t,r,n);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return dl(s,e,t,r,n);if(s.isSymbolicLink())return yl(e,t,r,n);throw s.isSocket()?new Error(`Cannot copy a socket file: ${t}`):s.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}async function dl(e,t,r,n,i){if(!t)return mo(e,r,n,i);if(i.overwrite)return await ze.unlink(n),mo(e,r,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}async function mo(e,t,r,n){if(await ze.copyFile(t,r),n.preserveTimestamps){hl(e.mode)&&await ml(r,e.mode);const i=await ze.stat(t);await ll(r,i.atime,i.mtime)}return ze.chmod(r,e.mode)}function hl(e){return(e&128)===0}function ml(e,t){return ze.chmod(e,t|128)}async function pl(e,t,r,n,i){t||await ze.mkdir(n);const s=await ze.readdir(r);await Promise.all(s.map(async o=>{const f=Qr.join(r,o),u=Qr.join(n,o);if(!await xa(f,u,i))return;const{destStat:a}=await en.checkPaths(f,u,"copy",i);return Ha(a,f,u,i)})),t||await ze.chmod(n,e.mode)}async function yl(e,t,r,n){let i=await ze.readlink(t);if(n.dereference&&(i=Qr.resolve(process.cwd(),i)),!e)return ze.symlink(i,r);let s=null;try{s=await ze.readlink(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return ze.symlink(i,r);throw o}if(n.dereference&&(s=Qr.resolve(process.cwd(),s)),en.isSrcSubdir(i,s))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${s}'.`);if(en.isSrcSubdir(s,i))throw new Error(`Cannot overwrite '${s}' with '${i}'.`);return await ze.unlink(r),ze.symlink(i,r)}var El=fl;const Ge=Or,tn=Be,$l=Nt.mkdirsSync,vl=Ua.utimesMillisSync,rn=br;function gl(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:n,destStat:i}=rn.checkPathsSync(e,t,"copy",r);if(rn.checkParentPathsSync(e,n,t,"copy"),r.filter&&!r.filter(e,t))return;const s=tn.dirname(t);return Ge.existsSync(s)||$l(s),Ga(i,e,t,r)}function Ga(e,t,r,n){const s=(n.dereference?Ge.statSync:Ge.lstatSync)(t);if(s.isDirectory())return bl(s,e,t,r,n);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return _l(s,e,t,r,n);if(s.isSymbolicLink())return Pl(e,t,r,n);throw s.isSocket()?new Error(`Cannot copy a socket file: ${t}`):s.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function _l(e,t,r,n,i){return t?wl(e,r,n,i):qa(e,r,n,i)}function wl(e,t,r,n){if(n.overwrite)return Ge.unlinkSync(r),qa(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function qa(e,t,r,n){return Ge.copyFileSync(t,r),n.preserveTimestamps&&Sl(e.mode,t,r),Ki(r,e.mode)}function Sl(e,t,r){return Nl(e)&&Il(r,e),Ol(t,r)}function Nl(e){return(e&128)===0}function Il(e,t){return Ki(e,t|128)}function Ki(e,t){return Ge.chmodSync(e,t)}function Ol(e,t){const r=Ge.statSync(e);return vl(t,r.atime,r.mtime)}function bl(e,t,r,n,i){return t?Ba(r,n,i):Cl(e.mode,r,n,i)}function Cl(e,t,r,n){return Ge.mkdirSync(r),Ba(t,r,n),Ki(r,e)}function Ba(e,t,r){Ge.readdirSync(e).forEach(n=>Rl(n,e,t,r))}function Rl(e,t,r,n){const i=tn.join(t,e),s=tn.join(r,e);if(n.filter&&!n.filter(i,s))return;const{destStat:o}=rn.checkPathsSync(i,s,"copy",n);return Ga(o,i,s,n)}function Pl(e,t,r,n){let i=Ge.readlinkSync(t);if(n.dereference&&(i=tn.resolve(process.cwd(),i)),e){let s;try{s=Ge.readlinkSync(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return Ge.symlinkSync(i,r);throw o}if(n.dereference&&(s=tn.resolve(process.cwd(),s)),rn.isSrcSubdir(i,s))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${s}'.`);if(rn.isSrcSubdir(s,i))throw new Error(`Cannot overwrite '${s}' with '${i}'.`);return Tl(i,r)}else return Ge.symlinkSync(i,r)}function Tl(e,t){return Ge.unlinkSync(t),Ge.symlinkSync(e,t)}var Dl=gl;const Al=Pe.fromPromise;var Zi={copy:Al(El),copySync:Dl};const Ka=Or,Ll=Pe.fromCallback;function Fl(e,t){Ka.rm(e,{recursive:!0,force:!0},t)}function kl(e){Ka.rmSync(e,{recursive:!0,force:!0})}var Kn={remove:Ll(Fl),removeSync:kl};const jl=Pe.fromPromise,Za=Ke,Wa=Be,Xa=Nt,Ja=Kn,po=jl(async function(t){let r;try{r=await Za.readdir(t)}catch{return Xa.mkdirs(t)}return Promise.all(r.map(n=>Ja.remove(Wa.join(t,n))))});function yo(e){let t;try{t=Za.readdirSync(e)}catch{return Xa.mkdirsSync(e)}t.forEach(r=>{r=Wa.join(e,r),Ja.removeSync(r)})}var Ml={emptyDirSync:yo,emptydirSync:yo,emptyDir:po,emptydir:po};const Ul=Pe.fromPromise,Ya=Be,Ct=Ke,Qa=Nt;async function Vl(e){let t;try{t=await Ct.stat(e)}catch{}if(t&&t.isFile())return;const r=Ya.dirname(e);let n=null;try{n=await Ct.stat(r)}catch(i){if(i.code==="ENOENT"){await Qa.mkdirs(r),await Ct.writeFile(e,"");return}else throw i}n.isDirectory()?await Ct.writeFile(e,""):await Ct.readdir(r)}function zl(e){let t;try{t=Ct.statSync(e)}catch{}if(t&&t.isFile())return;const r=Ya.dirname(e);try{Ct.statSync(r).isDirectory()||Ct.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")Qa.mkdirsSync(r);else throw n}Ct.writeFileSync(e,"")}var xl={createFile:Ul(Vl),createFileSync:zl};const Hl=Pe.fromPromise,ec=Be,Mt=Ke,tc=Nt,{pathExists:Gl}=rr,{areIdentical:rc}=br;async function ql(e,t){let r;try{r=await Mt.lstat(t)}catch{}let n;try{n=await Mt.lstat(e)}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}if(r&&rc(n,r))return;const i=ec.dirname(t);await Gl(i)||await tc.mkdirs(i),await Mt.link(e,t)}function Bl(e,t){let r;try{r=Mt.lstatSync(t)}catch{}try{const s=Mt.lstatSync(e);if(r&&rc(s,r))return}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}const n=ec.dirname(t);return Mt.existsSync(n)||tc.mkdirsSync(n),Mt.linkSync(e,t)}var Kl={createLink:Hl(ql),createLinkSync:Bl};const Vt=Be,Kr=Ke,{pathExists:Zl}=rr,Wl=Pe.fromPromise;async function Xl(e,t){if(Vt.isAbsolute(e)){try{await Kr.lstat(e)}catch(s){throw s.message=s.message.replace("lstat","ensureSymlink"),s}return{toCwd:e,toDst:e}}const r=Vt.dirname(t),n=Vt.join(r,e);if(await Zl(n))return{toCwd:n,toDst:e};try{await Kr.lstat(e)}catch(s){throw s.message=s.message.replace("lstat","ensureSymlink"),s}return{toCwd:e,toDst:Vt.relative(r,e)}}function Jl(e,t){if(Vt.isAbsolute(e)){if(!Kr.existsSync(e))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}const r=Vt.dirname(t),n=Vt.join(r,e);if(Kr.existsSync(n))return{toCwd:n,toDst:e};if(!Kr.existsSync(e))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:Vt.relative(r,e)}}var Yl={symlinkPaths:Wl(Xl),symlinkPathsSync:Jl};const nc=Ke,Ql=Pe.fromPromise;async function ef(e,t){if(t)return t;let r;try{r=await nc.lstat(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}function tf(e,t){if(t)return t;let r;try{r=nc.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}var rf={symlinkType:Ql(ef),symlinkTypeSync:tf};const nf=Pe.fromPromise,ic=Be,_t=Ke,{mkdirs:sf,mkdirsSync:of}=Nt,{symlinkPaths:af,symlinkPathsSync:cf}=Yl,{symlinkType:uf,symlinkTypeSync:lf}=rf,{pathExists:ff}=rr,{areIdentical:sc}=br;async function df(e,t,r){let n;try{n=await _t.lstat(t)}catch{}if(n&&n.isSymbolicLink()){const[f,u]=await Promise.all([_t.stat(e),_t.stat(t)]);if(sc(f,u))return}const i=await af(e,t);e=i.toDst;const s=await uf(i.toCwd,r),o=ic.dirname(t);return await ff(o)||await sf(o),_t.symlink(e,t,s)}function hf(e,t,r){let n;try{n=_t.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){const f=_t.statSync(e),u=_t.statSync(t);if(sc(f,u))return}const i=cf(e,t);e=i.toDst,r=lf(i.toCwd,r);const s=ic.dirname(t);return _t.existsSync(s)||of(s),_t.symlinkSync(e,t,r)}var mf={createSymlink:nf(df),createSymlinkSync:hf};const{createFile:Eo,createFileSync:$o}=xl,{createLink:vo,createLinkSync:go}=Kl,{createSymlink:_o,createSymlinkSync:wo}=mf;var pf={createFile:Eo,createFileSync:$o,ensureFile:Eo,ensureFileSync:$o,createLink:vo,createLinkSync:go,ensureLink:vo,ensureLinkSync:go,createSymlink:_o,createSymlinkSync:wo,ensureSymlink:_o,ensureSymlinkSync:wo};function yf(e,{EOL:t=`
`,finalEOL:r=!0,replacer:n=null,spaces:i}={}){const s=r?t:"";return JSON.stringify(e,n,i).replace(/\n/g,t)+s}function Ef(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}var Wi={stringify:yf,stripBom:Ef};let Sr;try{Sr=Or}catch{Sr=xi}const Zn=Pe,{stringify:oc,stripBom:ac}=Wi;async function $f(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Sr,n="throws"in t?t.throws:!0;let i=await Zn.fromCallback(r.readFile)(e,t);i=ac(i);let s;try{s=JSON.parse(i,t?t.reviver:null)}catch(o){if(n)throw o.message=`${e}: ${o.message}`,o;return null}return s}const vf=Zn.fromPromise($f);function gf(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Sr,n="throws"in t?t.throws:!0;try{let i=r.readFileSync(e,t);return i=ac(i),JSON.parse(i,t.reviver)}catch(i){if(n)throw i.message=`${e}: ${i.message}`,i;return null}}async function _f(e,t,r={}){const n=r.fs||Sr,i=oc(t,r);await Zn.fromCallback(n.writeFile)(e,i,r)}const wf=Zn.fromPromise(_f);function Sf(e,t,r={}){const n=r.fs||Sr,i=oc(t,r);return n.writeFileSync(e,i,r)}const Nf={readFile:vf,readFileSync:gf,writeFile:wf,writeFileSync:Sf};var If=Nf;const vn=If;var Of={readJson:vn.readFile,readJsonSync:vn.readFileSync,writeJson:vn.writeFile,writeJsonSync:vn.writeFileSync};const bf=Pe.fromPromise,Ri=Ke,cc=Be,uc=Nt,Cf=rr.pathExists;async function Rf(e,t,r="utf-8"){const n=cc.dirname(e);return await Cf(n)||await uc.mkdirs(n),Ri.writeFile(e,t,r)}function Pf(e,...t){const r=cc.dirname(e);Ri.existsSync(r)||uc.mkdirsSync(r),Ri.writeFileSync(e,...t)}var Xi={outputFile:bf(Rf),outputFileSync:Pf};const{stringify:Tf}=Wi,{outputFile:Df}=Xi;async function Af(e,t,r={}){const n=Tf(t,r);await Df(e,n,r)}var Lf=Af;const{stringify:Ff}=Wi,{outputFileSync:kf}=Xi;function jf(e,t,r){const n=Ff(t,r);kf(e,n,r)}var Mf=jf;const Uf=Pe.fromPromise,qe=Of;qe.outputJson=Uf(Lf);qe.outputJsonSync=Mf;qe.outputJSON=qe.outputJson;qe.outputJSONSync=qe.outputJsonSync;qe.writeJSON=qe.writeJson;qe.writeJSONSync=qe.writeJsonSync;qe.readJSON=qe.readJson;qe.readJSONSync=qe.readJsonSync;var Vf=qe;const zf=Ke,So=Be,{copy:xf}=Zi,{remove:lc}=Kn,{mkdirp:Hf}=Nt,{pathExists:Gf}=rr,No=br;async function qf(e,t,r={}){const n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:s=!1}=await No.checkPaths(e,t,"move",r);await No.checkParentPaths(e,i,t,"move");const o=So.dirname(t);return So.parse(o).root!==o&&await Hf(o),Bf(e,t,n,s)}async function Bf(e,t,r,n){if(!n){if(r)await lc(t);else if(await Gf(t))throw new Error("dest already exists.")}try{await zf.rename(e,t)}catch(i){if(i.code!=="EXDEV")throw i;await Kf(e,t,r)}}async function Kf(e,t,r){return await xf(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),lc(e)}var Zf=qf;const fc=Or,Pi=Be,Wf=Zi.copySync,dc=Kn.removeSync,Xf=Nt.mkdirpSync,Io=br;function Jf(e,t,r){r=r||{};const n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:s=!1}=Io.checkPathsSync(e,t,"move",r);return Io.checkParentPathsSync(e,i,t,"move"),Yf(t)||Xf(Pi.dirname(t)),Qf(e,t,n,s)}function Yf(e){const t=Pi.dirname(e);return Pi.parse(t).root===t}function Qf(e,t,r,n){if(n)return di(e,t,r);if(r)return dc(t),di(e,t,r);if(fc.existsSync(t))throw new Error("dest already exists.");return di(e,t,r)}function di(e,t,r){try{fc.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return ed(e,t,r)}}function ed(e,t,r){return Wf(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),dc(e)}var td=Jf;const rd=Pe.fromPromise;var nd={move:rd(Zf),moveSync:td},nt={...Ke,...Zi,...Ml,...pf,...Vf,...Nt,...nd,...Xi,...rr,...Kn};const Qt=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")},hi=new Set(["__proto__","prototype","constructor"]),id=new Set("0123456789");function Wn(e){const t=[];let r="",n="start",i=!1;for(const s of e)switch(s){case"\\":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");i&&(r+=s),n="property",i=!i;break}case".":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="property";break}if(i){i=!1,r+=s;break}if(hi.has(r))return[];t.push(r),r="",n="property";break}case"[":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="index";break}if(i){i=!1,r+=s;break}if(n==="property"){if(hi.has(r))return[];t.push(r),r=""}n="index";break}case"]":{if(n==="index"){t.push(Number.parseInt(r,10)),r="",n="indexEnd";break}if(n==="indexEnd")throw new Error("Invalid character after an index")}default:{if(n==="index"&&!id.has(s))throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");n==="start"&&(n="property"),i&&(i=!1,r+="\\"),r+=s}}switch(i&&(r+="\\"),n){case"property":{if(hi.has(r))return[];t.push(r);break}case"index":throw new Error("Index was not closed");case"start":{t.push("");break}}return t}function Ji(e,t){if(typeof t!="number"&&Array.isArray(e)){const r=Number.parseInt(t,10);return Number.isInteger(r)&&e[r]===e[t]}return!1}function hc(e,t){if(Ji(e,t))throw new Error("Cannot use string index")}function sd(e,t,r){if(!Qt(e)||typeof t!="string")return r===void 0?e:r;const n=Wn(t);if(n.length===0)return r;for(let i=0;i<n.length;i++){const s=n[i];if(Ji(e,s)?e=i===n.length-1?void 0:null:e=e[s],e==null){if(i!==n.length-1)return r;break}}return e===void 0?r:e}function Oo(e,t,r){if(!Qt(e)||typeof t!="string")return e;const n=e,i=Wn(t);for(let s=0;s<i.length;s++){const o=i[s];hc(e,o),s===i.length-1?e[o]=r:Qt(e[o])||(e[o]=typeof i[s+1]=="number"?[]:{}),e=e[o]}return n}function od(e,t){if(!Qt(e)||typeof t!="string")return!1;const r=Wn(t);for(let n=0;n<r.length;n++){const i=r[n];if(hc(e,i),n===r.length-1)return delete e[i],!0;if(e=e[i],!Qt(e))return!1}}function ad(e,t){if(!Qt(e)||typeof t!="string")return!1;const r=Wn(t);if(r.length===0)return!1;for(const n of r){if(!Qt(e)||!(n in e)||Ji(e,n))return!1;e=e[n]}return!0}const Ut=Gn.homedir(),Yi=Gn.tmpdir(),{env:$r}=lt,cd=e=>{const t=de.join(Ut,"Library");return{data:de.join(t,"Application Support",e),config:de.join(t,"Preferences",e),cache:de.join(t,"Caches",e),log:de.join(t,"Logs",e),temp:de.join(Yi,e)}},ud=e=>{const t=$r.APPDATA||de.join(Ut,"AppData","Roaming"),r=$r.LOCALAPPDATA||de.join(Ut,"AppData","Local");return{data:de.join(r,e,"Data"),config:de.join(t,e,"Config"),cache:de.join(r,e,"Cache"),log:de.join(r,e,"Log"),temp:de.join(Yi,e)}},ld=e=>{const t=de.basename(Ut);return{data:de.join($r.XDG_DATA_HOME||de.join(Ut,".local","share"),e),config:de.join($r.XDG_CONFIG_HOME||de.join(Ut,".config"),e),cache:de.join($r.XDG_CACHE_HOME||de.join(Ut,".cache"),e),log:de.join($r.XDG_STATE_HOME||de.join(Ut,".local","state"),e),temp:de.join(Yi,t,e)}};function fd(e,{suffix:t="nodejs"}={}){if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);return t&&(e+=`-${t}`),lt.platform==="darwin"?cd(e):lt.platform==="win32"?ud(e):ld(e)}const At=(e,t)=>function(...n){return e.apply(void 0,n).catch(t)},bt=(e,t)=>function(...n){try{return e.apply(void 0,n)}catch(i){return t(i)}},dd=lt.getuid?!lt.getuid():!1,hd=1e4,Qe=()=>{},ve={isChangeErrorOk:e=>{if(!ve.isNodeError(e))return!1;const{code:t}=e;return t==="ENOSYS"||!dd&&(t==="EINVAL"||t==="EPERM")},isNodeError:e=>e instanceof Error,isRetriableError:e=>{if(!ve.isNodeError(e))return!1;const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCES"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!ve.isNodeError(e))throw e;if(!ve.isChangeErrorOk(e))throw e}};class md{constructor(){this.interval=25,this.intervalId=void 0,this.limit=hd,this.queueActive=new Set,this.queueWaiting=new Set,this.init=()=>{this.intervalId||(this.intervalId=setInterval(this.tick,this.interval))},this.reset=()=>{this.intervalId&&(clearInterval(this.intervalId),delete this.intervalId)},this.add=t=>{this.queueWaiting.add(t),this.queueActive.size<this.limit/2?this.tick():this.init()},this.remove=t=>{this.queueWaiting.delete(t),this.queueActive.delete(t)},this.schedule=()=>new Promise(t=>{const r=()=>this.remove(n),n=()=>t(r);this.add(n)}),this.tick=()=>{if(!(this.queueActive.size>=this.limit)){if(!this.queueWaiting.size)return this.reset();for(const t of this.queueWaiting){if(this.queueActive.size>=this.limit)break;this.queueWaiting.delete(t),this.queueActive.add(t),t()}}}}}const pd=new md,Lt=(e,t)=>function(n){return function i(...s){return pd.schedule().then(o=>{const f=h=>(o(),h),u=h=>{if(o(),Date.now()>=n)throw h;if(t(h)){const a=Math.round(100*Math.random());return new Promise($=>setTimeout($,a)).then(()=>i.apply(void 0,s))}throw h};return e.apply(void 0,s).then(f,u)})}},Ft=(e,t)=>function(n){return function i(...s){try{return e.apply(void 0,s)}catch(o){if(Date.now()>n)throw o;if(t(o))return i.apply(void 0,s);throw o}}},Ue={attempt:{chmod:At(Ae.promisify(ie.chmod),ve.onChangeError),chown:At(Ae.promisify(ie.chown),ve.onChangeError),close:At(Ae.promisify(ie.close),Qe),fsync:At(Ae.promisify(ie.fsync),Qe),mkdir:At(Ae.promisify(ie.mkdir),Qe),realpath:At(Ae.promisify(ie.realpath),Qe),stat:At(Ae.promisify(ie.stat),Qe),unlink:At(Ae.promisify(ie.unlink),Qe),chmodSync:bt(ie.chmodSync,ve.onChangeError),chownSync:bt(ie.chownSync,ve.onChangeError),closeSync:bt(ie.closeSync,Qe),existsSync:bt(ie.existsSync,Qe),fsyncSync:bt(ie.fsync,Qe),mkdirSync:bt(ie.mkdirSync,Qe),realpathSync:bt(ie.realpathSync,Qe),statSync:bt(ie.statSync,Qe),unlinkSync:bt(ie.unlinkSync,Qe)},retry:{close:Lt(Ae.promisify(ie.close),ve.isRetriableError),fsync:Lt(Ae.promisify(ie.fsync),ve.isRetriableError),open:Lt(Ae.promisify(ie.open),ve.isRetriableError),readFile:Lt(Ae.promisify(ie.readFile),ve.isRetriableError),rename:Lt(Ae.promisify(ie.rename),ve.isRetriableError),stat:Lt(Ae.promisify(ie.stat),ve.isRetriableError),write:Lt(Ae.promisify(ie.write),ve.isRetriableError),writeFile:Lt(Ae.promisify(ie.writeFile),ve.isRetriableError),closeSync:Ft(ie.closeSync,ve.isRetriableError),fsyncSync:Ft(ie.fsyncSync,ve.isRetriableError),openSync:Ft(ie.openSync,ve.isRetriableError),readFileSync:Ft(ie.readFileSync,ve.isRetriableError),renameSync:Ft(ie.renameSync,ve.isRetriableError),statSync:Ft(ie.statSync,ve.isRetriableError),writeSync:Ft(ie.writeSync,ve.isRetriableError),writeFileSync:Ft(ie.writeFileSync,ve.isRetriableError)}},yd="utf8",bo=438,Ed=511,$d={},vd=Gn.userInfo().uid,gd=Gn.userInfo().gid,_d=1e3,wd=!!lt.getuid;lt.getuid&&lt.getuid();const Co=128,Sd=e=>e instanceof Error&&"code"in e,Ro=e=>typeof e=="string",mi=e=>e===void 0;class Nd{constructor(){this.callbacks=new Set,this.exit=()=>{for(const t of this.callbacks)t()},this.hook=()=>{window.addEventListener("beforeunload",this.exit)},this.register=t=>(this.callbacks.add(t),()=>{this.callbacks.delete(t)}),this.hook()}}const Id=new Nd,Od=Id.register,Ve={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),i=`.tmp-${Date.now().toString().slice(-10)}${t}`;return`${e}${i}`},get:(e,t,r=!0)=>{const n=Ve.truncate(t(e));return n in Ve.store?Ve.get(e,t,r):(Ve.store[n]=r,[n,()=>delete Ve.store[n]])},purge:e=>{Ve.store[e]&&(delete Ve.store[e],Ue.attempt.unlink(e))},purgeSync:e=>{Ve.store[e]&&(delete Ve.store[e],Ue.attempt.unlinkSync(e))},purgeSyncAll:()=>{for(const e in Ve.store)Ve.purgeSync(e)},truncate:e=>{const t=de.basename(e);if(t.length<=Co)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-Co;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};Od(Ve.purgeSyncAll);function mc(e,t,r=$d){if(Ro(r))return mc(e,t,{encoding:r});const n=Date.now()+((r.timeout??_d)||-1);let i=null,s=null,o=null;try{const f=Ue.attempt.realpathSync(e),u=!!f;e=f||e,[s,i]=Ve.get(e,r.tmpCreate||Ve.create,r.tmpPurge!==!1);const h=wd&&mi(r.chown),a=mi(r.mode);if(u&&(h||a)){const d=Ue.attempt.statSync(e);d&&(r={...r},h&&(r.chown={uid:d.uid,gid:d.gid}),a&&(r.mode=d.mode))}if(!u){const d=de.dirname(e);Ue.attempt.mkdirSync(d,{mode:Ed,recursive:!0})}o=Ue.retry.openSync(n)(s,"w",r.mode||bo),r.tmpCreated&&r.tmpCreated(s),Ro(t)?Ue.retry.writeSync(n)(o,t,0,r.encoding||yd):mi(t)||Ue.retry.writeSync(n)(o,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?Ue.retry.fsyncSync(n)(o):Ue.attempt.fsync(o)),Ue.retry.closeSync(n)(o),o=null,r.chown&&(r.chown.uid!==vd||r.chown.gid!==gd)&&Ue.attempt.chownSync(s,r.chown.uid,r.chown.gid),r.mode&&r.mode!==bo&&Ue.attempt.chmodSync(s,r.mode);try{Ue.retry.renameSync(n)(s,e)}catch(d){if(!Sd(d)||d.code!=="ENAMETOOLONG")throw d;Ue.retry.renameSync(n)(s,Ve.truncate(e))}i(),s=null}finally{o&&Ue.attempt.closeSync(o),s&&Ve.purge(s)}}var Ti={exports:{}},pc={},ut={},Nr={},an={},se={},nn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(g){if(super(),!e.IDENTIFIER.test(g))throw new Error("CodeGen: name must be a valid identifier");this.str=g}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(g){super(),this._items=typeof g=="string"?[g]:g}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const g=this._items[0];return g===""||g==='""'}get str(){var g;return(g=this._str)!==null&&g!==void 0?g:this._str=this._items.reduce((I,T)=>`${I}${T}`,"")}get names(){var g;return(g=this._names)!==null&&g!==void 0?g:this._names=this._items.reduce((I,T)=>(T instanceof r&&(I[T.str]=(I[T.str]||0)+1),I),{})}}e._Code=n,e.nil=new n("");function i(l,...g){const I=[l[0]];let T=0;for(;T<g.length;)f(I,g[T]),I.push(l[++T]);return new n(I)}e._=i;const s=new n("+");function o(l,...g){const I=[m(l[0])];let T=0;for(;T<g.length;)I.push(s),f(I,g[T]),I.push(s,m(l[++T]));return u(I),new n(I)}e.str=o;function f(l,g){g instanceof n?l.push(...g._items):g instanceof r?l.push(g):l.push(d(g))}e.addCodeArg=f;function u(l){let g=1;for(;g<l.length-1;){if(l[g]===s){const I=h(l[g-1],l[g+1]);if(I!==void 0){l.splice(g-1,3,I);continue}l[g++]="+"}g++}}function h(l,g){if(g==='""')return l;if(l==='""')return g;if(typeof l=="string")return g instanceof r||l[l.length-1]!=='"'?void 0:typeof g!="string"?`${l.slice(0,-1)}${g}"`:g[0]==='"'?l.slice(0,-1)+g.slice(1):void 0;if(typeof g=="string"&&g[0]==='"'&&!(l instanceof r))return`"${l}${g.slice(1)}`}function a(l,g){return g.emptyStr()?l:l.emptyStr()?g:o`${l}${g}`}e.strConcat=a;function d(l){return typeof l=="number"||typeof l=="boolean"||l===null?l:m(Array.isArray(l)?l.join(","):l)}function $(l){return new n(m(l))}e.stringify=$;function m(l){return JSON.stringify(l).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function c(l){return typeof l=="string"&&e.IDENTIFIER.test(l)?new n(`.${l}`):i`[${l}]`}e.getProperty=c;function y(l){if(typeof l=="string"&&e.IDENTIFIER.test(l))return new n(`${l}`);throw new Error(`CodeGen: invalid export name: ${l}, use explicit $id name mapping`)}e.getEsmExportName=y;function E(l){return new n(l.toString())}e.regexpCode=E})(nn);var Di={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=nn;class r extends Error{constructor(h){super(`CodeGen: "code" for ${h} not defined`),this.value=h.value}}var n;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:h,parent:a}={}){this._names={},this._prefixes=h,this._parent=a}toName(h){return h instanceof t.Name?h:this.name(h)}name(h){return new t.Name(this._newName(h))}_newName(h){const a=this._names[h]||this._nameGroup(h);return`${h}${a.index++}`}_nameGroup(h){var a,d;if(!((d=(a=this._parent)===null||a===void 0?void 0:a._prefixes)===null||d===void 0)&&d.has(h)||this._prefixes&&!this._prefixes.has(h))throw new Error(`CodeGen: prefix "${h}" is not allowed in this scope`);return this._names[h]={prefix:h,index:0}}}e.Scope=i;class s extends t.Name{constructor(h,a){super(a),this.prefix=h}setValue(h,{property:a,itemIndex:d}){this.value=h,this.scopePath=(0,t._)`.${new t.Name(a)}[${d}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class f extends i{constructor(h){super(h),this._values={},this._scope=h.scope,this.opts={...h,_n:h.lines?o:t.nil}}get(){return this._scope}name(h){return new s(h,this._newName(h))}value(h,a){var d;if(a.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const $=this.toName(h),{prefix:m}=$,c=(d=a.key)!==null&&d!==void 0?d:a.ref;let y=this._values[m];if(y){const g=y.get(c);if(g)return g}else y=this._values[m]=new Map;y.set(c,$);const E=this._scope[m]||(this._scope[m]=[]),l=E.length;return E[l]=a.ref,$.setValue(a,{property:m,itemIndex:l}),$}getValue(h,a){const d=this._values[h];if(d)return d.get(a)}scopeRefs(h,a=this._values){return this._reduceValues(a,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,t._)`${h}${d.scopePath}`})}scopeCode(h=this._values,a,d){return this._reduceValues(h,$=>{if($.value===void 0)throw new Error(`CodeGen: name "${$}" has no value`);return $.value.code},a,d)}_reduceValues(h,a,d={},$){let m=t.nil;for(const c in h){const y=h[c];if(!y)continue;const E=d[c]=d[c]||new Map;y.forEach(l=>{if(E.has(l))return;E.set(l,n.Started);let g=a(l);if(g){const I=this.opts.es5?e.varKinds.var:e.varKinds.const;m=(0,t._)`${m}${I} ${l} = ${g};${this.opts._n}`}else if(g=$?.(l))m=(0,t._)`${m}${g}${this.opts._n}`;else throw new r(l);E.set(l,n.Completed)})}return m}}e.ValueScope=f})(Di);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=nn,r=Di;var n=nn;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=Di;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(p,w){return this}}class o extends s{constructor(p,w,P){super(),this.varKind=p,this.name=w,this.rhs=P}render({es5:p,_n:w}){const P=p?r.varKinds.var:this.varKind,H=this.rhs===void 0?"":` = ${this.rhs}`;return`${P} ${this.name}${H};`+w}optimizeNames(p,w){if(p[this.name.str])return this.rhs&&(this.rhs=D(this.rhs,p,w)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class f extends s{constructor(p,w,P){super(),this.lhs=p,this.rhs=w,this.sideEffects=P}render({_n:p}){return`${this.lhs} = ${this.rhs};`+p}optimizeNames(p,w){if(!(this.lhs instanceof t.Name&&!p[this.lhs.str]&&!this.sideEffects))return this.rhs=D(this.rhs,p,w),this}get names(){const p=this.lhs instanceof t.Name?{}:{...this.lhs.names};return F(p,this.rhs)}}class u extends f{constructor(p,w,P,H){super(p,P,H),this.op=w}render({_n:p}){return`${this.lhs} ${this.op}= ${this.rhs};`+p}}class h extends s{constructor(p){super(),this.label=p,this.names={}}render({_n:p}){return`${this.label}:`+p}}class a extends s{constructor(p){super(),this.label=p,this.names={}}render({_n:p}){return`break${this.label?` ${this.label}`:""};`+p}}class d extends s{constructor(p){super(),this.error=p}render({_n:p}){return`throw ${this.error};`+p}get names(){return this.error.names}}class $ extends s{constructor(p){super(),this.code=p}render({_n:p}){return`${this.code};`+p}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(p,w){return this.code=D(this.code,p,w),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class m extends s{constructor(p=[]){super(),this.nodes=p}render(p){return this.nodes.reduce((w,P)=>w+P.render(p),"")}optimizeNodes(){const{nodes:p}=this;let w=p.length;for(;w--;){const P=p[w].optimizeNodes();Array.isArray(P)?p.splice(w,1,...P):P?p[w]=P:p.splice(w,1)}return p.length>0?this:void 0}optimizeNames(p,w){const{nodes:P}=this;let H=P.length;for(;H--;){const q=P[H];q.optimizeNames(p,w)||(j(p,q.names),P.splice(H,1))}return P.length>0?this:void 0}get names(){return this.nodes.reduce((p,w)=>Z(p,w.names),{})}}class c extends m{render(p){return"{"+p._n+super.render(p)+"}"+p._n}}class y extends m{}class E extends c{}E.kind="else";class l extends c{constructor(p,w){super(w),this.condition=p}render(p){let w=`if(${this.condition})`+super.render(p);return this.else&&(w+="else "+this.else.render(p)),w}optimizeNodes(){super.optimizeNodes();const p=this.condition;if(p===!0)return this.nodes;let w=this.else;if(w){const P=w.optimizeNodes();w=this.else=Array.isArray(P)?new E(P):P}if(w)return p===!1?w instanceof l?w:w.nodes:this.nodes.length?this:new l(U(p),w instanceof l?[w]:w.nodes);if(!(p===!1||!this.nodes.length))return this}optimizeNames(p,w){var P;if(this.else=(P=this.else)===null||P===void 0?void 0:P.optimizeNames(p,w),!!(super.optimizeNames(p,w)||this.else))return this.condition=D(this.condition,p,w),this}get names(){const p=super.names;return F(p,this.condition),this.else&&Z(p,this.else.names),p}}l.kind="if";class g extends c{}g.kind="for";class I extends g{constructor(p){super(),this.iteration=p}render(p){return`for(${this.iteration})`+super.render(p)}optimizeNames(p,w){if(super.optimizeNames(p,w))return this.iteration=D(this.iteration,p,w),this}get names(){return Z(super.names,this.iteration.names)}}class T extends g{constructor(p,w,P,H){super(),this.varKind=p,this.name=w,this.from=P,this.to=H}render(p){const w=p.es5?r.varKinds.var:this.varKind,{name:P,from:H,to:q}=this;return`for(${w} ${P}=${H}; ${P}<${q}; ${P}++)`+super.render(p)}get names(){const p=F(super.names,this.from);return F(p,this.to)}}class k extends g{constructor(p,w,P,H){super(),this.loop=p,this.varKind=w,this.name=P,this.iterable=H}render(p){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(p)}optimizeNames(p,w){if(super.optimizeNames(p,w))return this.iterable=D(this.iterable,p,w),this}get names(){return Z(super.names,this.iterable.names)}}class W extends c{constructor(p,w,P){super(),this.name=p,this.args=w,this.async=P}render(p){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(p)}}W.kind="func";class Q extends m{render(p){return"return "+super.render(p)}}Q.kind="return";class fe extends c{render(p){let w="try"+super.render(p);return this.catch&&(w+=this.catch.render(p)),this.finally&&(w+=this.finally.render(p)),w}optimizeNodes(){var p,w;return super.optimizeNodes(),(p=this.catch)===null||p===void 0||p.optimizeNodes(),(w=this.finally)===null||w===void 0||w.optimizeNodes(),this}optimizeNames(p,w){var P,H;return super.optimizeNames(p,w),(P=this.catch)===null||P===void 0||P.optimizeNames(p,w),(H=this.finally)===null||H===void 0||H.optimizeNames(p,w),this}get names(){const p=super.names;return this.catch&&Z(p,this.catch.names),this.finally&&Z(p,this.finally.names),p}}class A extends c{constructor(p){super(),this.error=p}render(p){return`catch(${this.error})`+super.render(p)}}A.kind="catch";class z extends c{render(p){return"finally"+super.render(p)}}z.kind="finally";class B{constructor(p,w={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...w,_n:w.lines?`
`:""},this._extScope=p,this._scope=new r.Scope({parent:p}),this._nodes=[new y]}toString(){return this._root.render(this.opts)}name(p){return this._scope.name(p)}scopeName(p){return this._extScope.name(p)}scopeValue(p,w){const P=this._extScope.value(p,w);return(this._values[P.prefix]||(this._values[P.prefix]=new Set)).add(P),P}getScopeValue(p,w){return this._extScope.getValue(p,w)}scopeRefs(p){return this._extScope.scopeRefs(p,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(p,w,P,H){const q=this._scope.toName(w);return P!==void 0&&H&&(this._constants[q.str]=P),this._leafNode(new o(p,q,P)),q}const(p,w,P){return this._def(r.varKinds.const,p,w,P)}let(p,w,P){return this._def(r.varKinds.let,p,w,P)}var(p,w,P){return this._def(r.varKinds.var,p,w,P)}assign(p,w,P){return this._leafNode(new f(p,w,P))}add(p,w){return this._leafNode(new u(p,e.operators.ADD,w))}code(p){return typeof p=="function"?p():p!==t.nil&&this._leafNode(new $(p)),this}object(...p){const w=["{"];for(const[P,H]of p)w.length>1&&w.push(","),w.push(P),(P!==H||this.opts.es5)&&(w.push(":"),(0,t.addCodeArg)(w,H));return w.push("}"),new t._Code(w)}if(p,w,P){if(this._blockNode(new l(p)),w&&P)this.code(w).else().code(P).endIf();else if(w)this.code(w).endIf();else if(P)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(p){return this._elseNode(new l(p))}else(){return this._elseNode(new E)}endIf(){return this._endBlockNode(l,E)}_for(p,w){return this._blockNode(p),w&&this.code(w).endFor(),this}for(p,w){return this._for(new I(p),w)}forRange(p,w,P,H,q=this.opts.es5?r.varKinds.var:r.varKinds.let){const ae=this._scope.toName(p);return this._for(new T(q,ae,w,P),()=>H(ae))}forOf(p,w,P,H=r.varKinds.const){const q=this._scope.toName(p);if(this.opts.es5){const ae=w instanceof t.Name?w:this.var("_arr",w);return this.forRange("_i",0,(0,t._)`${ae}.length`,ue=>{this.var(q,(0,t._)`${ae}[${ue}]`),P(q)})}return this._for(new k("of",H,q,w),()=>P(q))}forIn(p,w,P,H=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(p,(0,t._)`Object.keys(${w})`,P);const q=this._scope.toName(p);return this._for(new k("in",H,q,w),()=>P(q))}endFor(){return this._endBlockNode(g)}label(p){return this._leafNode(new h(p))}break(p){return this._leafNode(new a(p))}return(p){const w=new Q;if(this._blockNode(w),this.code(p),w.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Q)}try(p,w,P){if(!w&&!P)throw new Error('CodeGen: "try" without "catch" and "finally"');const H=new fe;if(this._blockNode(H),this.code(p),w){const q=this.name("e");this._currNode=H.catch=new A(q),w(q)}return P&&(this._currNode=H.finally=new z,this.code(P)),this._endBlockNode(A,z)}throw(p){return this._leafNode(new d(p))}block(p,w){return this._blockStarts.push(this._nodes.length),p&&this.code(p).endBlock(w),this}endBlock(p){const w=this._blockStarts.pop();if(w===void 0)throw new Error("CodeGen: not in self-balancing block");const P=this._nodes.length-w;if(P<0||p!==void 0&&P!==p)throw new Error(`CodeGen: wrong number of nodes: ${P} vs ${p} expected`);return this._nodes.length=w,this}func(p,w=t.nil,P,H){return this._blockNode(new W(p,w,P)),H&&this.code(H).endFunc(),this}endFunc(){return this._endBlockNode(W)}optimize(p=1){for(;p-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(p){return this._currNode.nodes.push(p),this}_blockNode(p){this._currNode.nodes.push(p),this._nodes.push(p)}_endBlockNode(p,w){const P=this._currNode;if(P instanceof p||w&&P instanceof w)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${w?`${p.kind}/${w.kind}`:p.kind}"`)}_elseNode(p){const w=this._currNode;if(!(w instanceof l))throw new Error('CodeGen: "else" without "if"');return this._currNode=w.else=p,this}get _root(){return this._nodes[0]}get _currNode(){const p=this._nodes;return p[p.length-1]}set _currNode(p){const w=this._nodes;w[w.length-1]=p}}e.CodeGen=B;function Z(O,p){for(const w in p)O[w]=(O[w]||0)+(p[w]||0);return O}function F(O,p){return p instanceof t._CodeOrName?Z(O,p.names):O}function D(O,p,w){if(O instanceof t.Name)return P(O);if(!H(O))return O;return new t._Code(O._items.reduce((q,ae)=>(ae instanceof t.Name&&(ae=P(ae)),ae instanceof t._Code?q.push(...ae._items):q.push(ae),q),[]));function P(q){const ae=w[q.str];return ae===void 0||p[q.str]!==1?q:(delete p[q.str],ae)}function H(q){return q instanceof t._Code&&q._items.some(ae=>ae instanceof t.Name&&p[ae.str]===1&&w[ae.str]!==void 0)}}function j(O,p){for(const w in p)O[w]=(O[w]||0)-(p[w]||0)}function U(O){return typeof O=="boolean"||typeof O=="number"||O===null?!O:(0,t._)`!${R(O)}`}e.not=U;const M=N(e.operators.AND);function V(...O){return O.reduce(M)}e.and=V;const x=N(e.operators.OR);function L(...O){return O.reduce(x)}e.or=L;function N(O){return(p,w)=>p===t.nil?w:w===t.nil?p:(0,t._)`${R(p)} ${O} ${R(w)}`}function R(O){return O instanceof t.Name?O:(0,t._)`(${O})`}})(se);var G={};Object.defineProperty(G,"__esModule",{value:!0});G.checkStrictMode=G.getErrorPath=G.Type=G.useFunc=G.setEvaluated=G.evaluatedPropsToName=G.mergeEvaluated=G.eachItem=G.unescapeJsonPointer=G.escapeJsonPointer=G.escapeFragment=G.unescapeFragment=G.schemaRefOrVal=G.schemaHasRulesButRef=G.schemaHasRules=G.checkUnknownRules=G.alwaysValidSchema=G.toHash=void 0;const he=se,bd=nn;function Cd(e){const t={};for(const r of e)t[r]=!0;return t}G.toHash=Cd;function Rd(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(yc(e,t),!Ec(t,e.self.RULES.all))}G.alwaysValidSchema=Rd;function yc(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const i=n.RULES.keywords;for(const s in t)i[s]||gc(e,`unknown keyword: "${s}"`)}G.checkUnknownRules=yc;function Ec(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}G.schemaHasRules=Ec;function Pd(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}G.schemaHasRulesButRef=Pd;function Td({topSchemaRef:e,schemaPath:t},r,n,i){if(!i){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,he._)`${r}`}return(0,he._)`${e}${t}${(0,he.getProperty)(n)}`}G.schemaRefOrVal=Td;function Dd(e){return $c(decodeURIComponent(e))}G.unescapeFragment=Dd;function Ad(e){return encodeURIComponent(Qi(e))}G.escapeFragment=Ad;function Qi(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}G.escapeJsonPointer=Qi;function $c(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}G.unescapeJsonPointer=$c;function Ld(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}G.eachItem=Ld;function Po({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(i,s,o,f)=>{const u=o===void 0?s:o instanceof he.Name?(s instanceof he.Name?e(i,s,o):t(i,s,o),o):s instanceof he.Name?(t(i,o,s),s):r(s,o);return f===he.Name&&!(u instanceof he.Name)?n(i,u):u}}G.mergeEvaluated={props:Po({mergeNames:(e,t,r)=>e.if((0,he._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,he._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,he._)`${r} || {}`).code((0,he._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,he._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,he._)`${r} || {}`),es(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:vc}),items:Po({mergeNames:(e,t,r)=>e.if((0,he._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,he._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,he._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,he._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function vc(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,he._)`{}`);return t!==void 0&&es(e,r,t),r}G.evaluatedPropsToName=vc;function es(e,t,r){Object.keys(r).forEach(n=>e.assign((0,he._)`${t}${(0,he.getProperty)(n)}`,!0))}G.setEvaluated=es;const To={};function Fd(e,t){return e.scopeValue("func",{ref:t,code:To[t.code]||(To[t.code]=new bd._Code(t.code))})}G.useFunc=Fd;var Ai;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Ai||(G.Type=Ai={}));function kd(e,t,r){if(e instanceof he.Name){const n=t===Ai.Num;return r?n?(0,he._)`"[" + ${e} + "]"`:(0,he._)`"['" + ${e} + "']"`:n?(0,he._)`"/" + ${e}`:(0,he._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,he.getProperty)(e).toString():"/"+Qi(e)}G.getErrorPath=kd;function gc(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}G.checkStrictMode=gc;var It={};Object.defineProperty(It,"__esModule",{value:!0});const Me=se,jd={data:new Me.Name("data"),valCxt:new Me.Name("valCxt"),instancePath:new Me.Name("instancePath"),parentData:new Me.Name("parentData"),parentDataProperty:new Me.Name("parentDataProperty"),rootData:new Me.Name("rootData"),dynamicAnchors:new Me.Name("dynamicAnchors"),vErrors:new Me.Name("vErrors"),errors:new Me.Name("errors"),this:new Me.Name("this"),self:new Me.Name("self"),scope:new Me.Name("scope"),json:new Me.Name("json"),jsonPos:new Me.Name("jsonPos"),jsonLen:new Me.Name("jsonLen"),jsonPart:new Me.Name("jsonPart")};It.default=jd;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=se,r=G,n=It;e.keywordError={message:({keyword:E})=>(0,t.str)`must pass "${E}" keyword validation`},e.keyword$DataError={message:({keyword:E,schemaType:l})=>l?(0,t.str)`"${E}" keyword must be ${l} ($data)`:(0,t.str)`"${E}" keyword is invalid ($data)`};function i(E,l=e.keywordError,g,I){const{it:T}=E,{gen:k,compositeRule:W,allErrors:Q}=T,fe=d(E,l,g);I??(W||Q)?u(k,fe):h(T,(0,t._)`[${fe}]`)}e.reportError=i;function s(E,l=e.keywordError,g){const{it:I}=E,{gen:T,compositeRule:k,allErrors:W}=I,Q=d(E,l,g);u(T,Q),k||W||h(I,n.default.vErrors)}e.reportExtraError=s;function o(E,l){E.assign(n.default.errors,l),E.if((0,t._)`${n.default.vErrors} !== null`,()=>E.if(l,()=>E.assign((0,t._)`${n.default.vErrors}.length`,l),()=>E.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function f({gen:E,keyword:l,schemaValue:g,data:I,errsCount:T,it:k}){if(T===void 0)throw new Error("ajv implementation error");const W=E.name("err");E.forRange("i",T,n.default.errors,Q=>{E.const(W,(0,t._)`${n.default.vErrors}[${Q}]`),E.if((0,t._)`${W}.instancePath === undefined`,()=>E.assign((0,t._)`${W}.instancePath`,(0,t.strConcat)(n.default.instancePath,k.errorPath))),E.assign((0,t._)`${W}.schemaPath`,(0,t.str)`${k.errSchemaPath}/${l}`),k.opts.verbose&&(E.assign((0,t._)`${W}.schema`,g),E.assign((0,t._)`${W}.data`,I))})}e.extendErrors=f;function u(E,l){const g=E.const("err",l);E.if((0,t._)`${n.default.vErrors} === null`,()=>E.assign(n.default.vErrors,(0,t._)`[${g}]`),(0,t._)`${n.default.vErrors}.push(${g})`),E.code((0,t._)`${n.default.errors}++`)}function h(E,l){const{gen:g,validateName:I,schemaEnv:T}=E;T.$async?g.throw((0,t._)`new ${E.ValidationError}(${l})`):(g.assign((0,t._)`${I}.errors`,l),g.return(!1))}const a={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function d(E,l,g){const{createErrors:I}=E.it;return I===!1?(0,t._)`{}`:$(E,l,g)}function $(E,l,g={}){const{gen:I,it:T}=E,k=[m(T,g),c(E,g)];return y(E,l,k),I.object(...k)}function m({errorPath:E},{instancePath:l}){const g=l?(0,t.str)`${E}${(0,r.getErrorPath)(l,r.Type.Str)}`:E;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,g)]}function c({keyword:E,it:{errSchemaPath:l}},{schemaPath:g,parentSchema:I}){let T=I?l:(0,t.str)`${l}/${E}`;return g&&(T=(0,t.str)`${T}${(0,r.getErrorPath)(g,r.Type.Str)}`),[a.schemaPath,T]}function y(E,{params:l,message:g},I){const{keyword:T,data:k,schemaValue:W,it:Q}=E,{opts:fe,propertyName:A,topSchemaRef:z,schemaPath:B}=Q;I.push([a.keyword,T],[a.params,typeof l=="function"?l(E):l||(0,t._)`{}`]),fe.messages&&I.push([a.message,typeof g=="function"?g(E):g]),fe.verbose&&I.push([a.schema,W],[a.parentSchema,(0,t._)`${z}${B}`],[n.default.data,k]),A&&I.push([a.propertyName,A])}})(an);Object.defineProperty(Nr,"__esModule",{value:!0});Nr.boolOrEmptySchema=Nr.topBoolOrEmptySchema=void 0;const Md=an,Ud=se,Vd=It,zd={message:"boolean schema is false"};function xd(e){const{gen:t,schema:r,validateName:n}=e;r===!1?_c(e,!1):typeof r=="object"&&r.$async===!0?t.return(Vd.default.data):(t.assign((0,Ud._)`${n}.errors`,null),t.return(!0))}Nr.topBoolOrEmptySchema=xd;function Hd(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),_c(e)):r.var(t,!0)}Nr.boolOrEmptySchema=Hd;function _c(e,t){const{gen:r,data:n}=e,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Md.reportError)(i,zd,void 0,t)}var Re={},er={};Object.defineProperty(er,"__esModule",{value:!0});er.getRules=er.isJSONType=void 0;const Gd=["string","number","integer","boolean","null","object","array"],qd=new Set(Gd);function Bd(e){return typeof e=="string"&&qd.has(e)}er.isJSONType=Bd;function Kd(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}er.getRules=Kd;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.shouldUseRule=Rt.shouldUseGroup=Rt.schemaHasRulesForType=void 0;function Zd({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&wc(e,n)}Rt.schemaHasRulesForType=Zd;function wc(e,t){return t.rules.some(r=>Sc(e,r))}Rt.shouldUseGroup=wc;function Sc(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Rt.shouldUseRule=Sc;Object.defineProperty(Re,"__esModule",{value:!0});Re.reportTypeError=Re.checkDataTypes=Re.checkDataType=Re.coerceAndCheckDataType=Re.getJSONTypes=Re.getSchemaTypes=Re.DataType=void 0;const Wd=er,Xd=Rt,Jd=an,ne=se,Nc=G;var gr;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(gr||(Re.DataType=gr={}));function Yd(e){const t=Ic(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Re.getSchemaTypes=Yd;function Ic(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(Wd.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Re.getJSONTypes=Ic;function Qd(e,t){const{gen:r,data:n,opts:i}=e,s=eh(t,i.coerceTypes),o=t.length>0&&!(s.length===0&&t.length===1&&(0,Xd.schemaHasRulesForType)(e,t[0]));if(o){const f=ts(t,n,i.strictNumbers,gr.Wrong);r.if(f,()=>{s.length?th(e,t,s):rs(e)})}return o}Re.coerceAndCheckDataType=Qd;const Oc=new Set(["string","number","integer","boolean","null"]);function eh(e,t){return t?e.filter(r=>Oc.has(r)||t==="array"&&r==="array"):[]}function th(e,t,r){const{gen:n,data:i,opts:s}=e,o=n.let("dataType",(0,ne._)`typeof ${i}`),f=n.let("coerced",(0,ne._)`undefined`);s.coerceTypes==="array"&&n.if((0,ne._)`${o} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>n.assign(i,(0,ne._)`${i}[0]`).assign(o,(0,ne._)`typeof ${i}`).if(ts(t,i,s.strictNumbers),()=>n.assign(f,i))),n.if((0,ne._)`${f} !== undefined`);for(const h of r)(Oc.has(h)||h==="array"&&s.coerceTypes==="array")&&u(h);n.else(),rs(e),n.endIf(),n.if((0,ne._)`${f} !== undefined`,()=>{n.assign(i,f),rh(e,f)});function u(h){switch(h){case"string":n.elseIf((0,ne._)`${o} == "number" || ${o} == "boolean"`).assign(f,(0,ne._)`"" + ${i}`).elseIf((0,ne._)`${i} === null`).assign(f,(0,ne._)`""`);return;case"number":n.elseIf((0,ne._)`${o} == "boolean" || ${i} === null
              || (${o} == "string" && ${i} && ${i} == +${i})`).assign(f,(0,ne._)`+${i}`);return;case"integer":n.elseIf((0,ne._)`${o} === "boolean" || ${i} === null
              || (${o} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(f,(0,ne._)`+${i}`);return;case"boolean":n.elseIf((0,ne._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(f,!1).elseIf((0,ne._)`${i} === "true" || ${i} === 1`).assign(f,!0);return;case"null":n.elseIf((0,ne._)`${i} === "" || ${i} === 0 || ${i} === false`),n.assign(f,null);return;case"array":n.elseIf((0,ne._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${i} === null`).assign(f,(0,ne._)`[${i}]`)}}}function rh({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,ne._)`${t} !== undefined`,()=>e.assign((0,ne._)`${t}[${r}]`,n))}function Li(e,t,r,n=gr.Correct){const i=n===gr.Correct?ne.operators.EQ:ne.operators.NEQ;let s;switch(e){case"null":return(0,ne._)`${t} ${i} null`;case"array":s=(0,ne._)`Array.isArray(${t})`;break;case"object":s=(0,ne._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":s=o((0,ne._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":s=o();break;default:return(0,ne._)`typeof ${t} ${i} ${e}`}return n===gr.Correct?s:(0,ne.not)(s);function o(f=ne.nil){return(0,ne.and)((0,ne._)`typeof ${t} == "number"`,f,r?(0,ne._)`isFinite(${t})`:ne.nil)}}Re.checkDataType=Li;function ts(e,t,r,n){if(e.length===1)return Li(e[0],t,r,n);let i;const s=(0,Nc.toHash)(e);if(s.array&&s.object){const o=(0,ne._)`typeof ${t} != "object"`;i=s.null?o:(0,ne._)`!${t} || ${o}`,delete s.null,delete s.array,delete s.object}else i=ne.nil;s.number&&delete s.integer;for(const o in s)i=(0,ne.and)(i,Li(o,t,r,n));return i}Re.checkDataTypes=ts;const nh={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,ne._)`{type: ${e}}`:(0,ne._)`{type: ${t}}`};function rs(e){const t=ih(e);(0,Jd.reportError)(t,nh)}Re.reportTypeError=rs;function ih(e){const{gen:t,data:r,schema:n}=e,i=(0,Nc.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:e}}var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.assignDefaults=void 0;const fr=se,sh=G;function oh(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const i in r)Do(e,i,r[i].default);else t==="array"&&Array.isArray(n)&&n.forEach((i,s)=>Do(e,s,i.default))}Xn.assignDefaults=oh;function Do(e,t,r){const{gen:n,compositeRule:i,data:s,opts:o}=e;if(r===void 0)return;const f=(0,fr._)`${s}${(0,fr.getProperty)(t)}`;if(i){(0,sh.checkStrictMode)(e,`default is ignored for: ${f}`);return}let u=(0,fr._)`${f} === undefined`;o.useDefaults==="empty"&&(u=(0,fr._)`${u} || ${f} === null || ${f} === ""`),n.if(u,(0,fr._)`${f} = ${(0,fr.stringify)(r)}`)}var St={},oe={};Object.defineProperty(oe,"__esModule",{value:!0});oe.validateUnion=oe.validateArray=oe.usePattern=oe.callValidateCode=oe.schemaProperties=oe.allSchemaProperties=oe.noPropertyInData=oe.propertyInData=oe.isOwnProperty=oe.hasPropFunc=oe.reportMissingProp=oe.checkMissingProp=oe.checkReportMissingProp=void 0;const ye=se,ns=G,kt=It,ah=G;function ch(e,t){const{gen:r,data:n,it:i}=e;r.if(ss(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,ye._)`${t}`},!0),e.error()})}oe.checkReportMissingProp=ch;function uh({gen:e,data:t,it:{opts:r}},n,i){return(0,ye.or)(...n.map(s=>(0,ye.and)(ss(e,t,s,r.ownProperties),(0,ye._)`${i} = ${s}`)))}oe.checkMissingProp=uh;function lh(e,t){e.setParams({missingProperty:t},!0),e.error()}oe.reportMissingProp=lh;function bc(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ye._)`Object.prototype.hasOwnProperty`})}oe.hasPropFunc=bc;function is(e,t,r){return(0,ye._)`${bc(e)}.call(${t}, ${r})`}oe.isOwnProperty=is;function fh(e,t,r,n){const i=(0,ye._)`${t}${(0,ye.getProperty)(r)} !== undefined`;return n?(0,ye._)`${i} && ${is(e,t,r)}`:i}oe.propertyInData=fh;function ss(e,t,r,n){const i=(0,ye._)`${t}${(0,ye.getProperty)(r)} === undefined`;return n?(0,ye.or)(i,(0,ye.not)(is(e,t,r))):i}oe.noPropertyInData=ss;function Cc(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}oe.allSchemaProperties=Cc;function dh(e,t){return Cc(t).filter(r=>!(0,ns.alwaysValidSchema)(e,t[r]))}oe.schemaProperties=dh;function hh({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:s},it:o},f,u,h){const a=h?(0,ye._)`${e}, ${t}, ${n}${i}`:t,d=[[kt.default.instancePath,(0,ye.strConcat)(kt.default.instancePath,s)],[kt.default.parentData,o.parentData],[kt.default.parentDataProperty,o.parentDataProperty],[kt.default.rootData,kt.default.rootData]];o.opts.dynamicRef&&d.push([kt.default.dynamicAnchors,kt.default.dynamicAnchors]);const $=(0,ye._)`${a}, ${r.object(...d)}`;return u!==ye.nil?(0,ye._)`${f}.call(${u}, ${$})`:(0,ye._)`${f}(${$})`}oe.callValidateCode=hh;const mh=(0,ye._)`new RegExp`;function ph({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,ye._)`${i.code==="new RegExp"?mh:(0,ah.useFunc)(e,i)}(${r}, ${n})`})}oe.usePattern=ph;function yh(e){const{gen:t,data:r,keyword:n,it:i}=e,s=t.name("valid");if(i.allErrors){const f=t.let("valid",!0);return o(()=>t.assign(f,!1)),f}return t.var(s,!0),o(()=>t.break()),s;function o(f){const u=t.const("len",(0,ye._)`${r}.length`);t.forRange("i",0,u,h=>{e.subschema({keyword:n,dataProp:h,dataPropType:ns.Type.Num},s),t.if((0,ye.not)(s),f)})}}oe.validateArray=yh;function Eh(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(u=>(0,ns.alwaysValidSchema)(i,u))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),f=t.name("_valid");t.block(()=>r.forEach((u,h)=>{const a=e.subschema({keyword:n,schemaProp:h,compositeRule:!0},f);t.assign(o,(0,ye._)`${o} || ${f}`),e.mergeValidEvaluated(a,f)||t.if((0,ye.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}oe.validateUnion=Eh;Object.defineProperty(St,"__esModule",{value:!0});St.validateKeywordUsage=St.validSchemaType=St.funcKeywordCode=St.macroKeywordCode=void 0;const xe=se,Wt=It,$h=oe,vh=an;function gh(e,t){const{gen:r,keyword:n,schema:i,parentSchema:s,it:o}=e,f=t.macro.call(o.self,i,s,o),u=Rc(r,n,f);o.opts.validateSchema!==!1&&o.self.validateSchema(f,!0);const h=r.name("valid");e.subschema({schema:f,schemaPath:xe.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:u,compositeRule:!0},h),e.pass(h,()=>e.error(!0))}St.macroKeywordCode=gh;function _h(e,t){var r;const{gen:n,keyword:i,schema:s,parentSchema:o,$data:f,it:u}=e;Sh(u,t);const h=!f&&t.compile?t.compile.call(u.self,s,o,u):t.validate,a=Rc(n,i,h),d=n.let("valid");e.block$data(d,$),e.ok((r=t.valid)!==null&&r!==void 0?r:d);function $(){if(t.errors===!1)y(),t.modifying&&Ao(e),E(()=>e.error());else{const l=t.async?m():c();t.modifying&&Ao(e),E(()=>wh(e,l))}}function m(){const l=n.let("ruleErrs",null);return n.try(()=>y((0,xe._)`await `),g=>n.assign(d,!1).if((0,xe._)`${g} instanceof ${u.ValidationError}`,()=>n.assign(l,(0,xe._)`${g}.errors`),()=>n.throw(g))),l}function c(){const l=(0,xe._)`${a}.errors`;return n.assign(l,null),y(xe.nil),l}function y(l=t.async?(0,xe._)`await `:xe.nil){const g=u.opts.passContext?Wt.default.this:Wt.default.self,I=!("compile"in t&&!f||t.schema===!1);n.assign(d,(0,xe._)`${l}${(0,$h.callValidateCode)(e,a,g,I)}`,t.modifying)}function E(l){var g;n.if((0,xe.not)((g=t.valid)!==null&&g!==void 0?g:d),l)}}St.funcKeywordCode=_h;function Ao(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,xe._)`${n.parentData}[${n.parentDataProperty}]`))}function wh(e,t){const{gen:r}=e;r.if((0,xe._)`Array.isArray(${t})`,()=>{r.assign(Wt.default.vErrors,(0,xe._)`${Wt.default.vErrors} === null ? ${t} : ${Wt.default.vErrors}.concat(${t})`).assign(Wt.default.errors,(0,xe._)`${Wt.default.vErrors}.length`),(0,vh.extendErrors)(e)},()=>e.error())}function Sh({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Rc(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,xe.stringify)(r)})}function Nh(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}St.validSchemaType=Nh;function Ih({schema:e,opts:t,self:r,errSchemaPath:n},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o?.some(f=>!Object.prototype.hasOwnProperty.call(e,f)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const u=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(u);else throw new Error(u)}}St.validateKeywordUsage=Ih;var xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.extendSubschemaMode=xt.extendSubschemaData=xt.getSubschema=void 0;const wt=se,Pc=G;function Oh(e,{keyword:t,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const f=e.schema[t];return r===void 0?{schema:f,schemaPath:(0,wt._)`${e.schemaPath}${(0,wt.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:f[r],schemaPath:(0,wt._)`${e.schemaPath}${(0,wt.getProperty)(t)}${(0,wt.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Pc.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}xt.getSubschema=Oh;function bh(e,t,{dataProp:r,dataPropType:n,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:f}=t;if(r!==void 0){const{errorPath:h,dataPathArr:a,opts:d}=t,$=f.let("data",(0,wt._)`${t.data}${(0,wt.getProperty)(r)}`,!0);u($),e.errorPath=(0,wt.str)`${h}${(0,Pc.getErrorPath)(r,n,d.jsPropertySyntax)}`,e.parentDataProperty=(0,wt._)`${r}`,e.dataPathArr=[...a,e.parentDataProperty]}if(i!==void 0){const h=i instanceof wt.Name?i:f.let("data",i,!0);u(h),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function u(h){e.data=h,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,h]}}xt.extendSubschemaData=bh;function Ch(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:s}){n!==void 0&&(e.compositeRule=n),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}xt.extendSubschemaMode=Ch;var Fe={},Tc=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r},Dc={exports:{}},zt=Dc.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};Pn(t,n,i,e,"",e)};zt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};zt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};zt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};zt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Pn(e,t,r,n,i,s,o,f,u,h){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,s,o,f,u,h);for(var a in n){var d=n[a];if(Array.isArray(d)){if(a in zt.arrayKeywords)for(var $=0;$<d.length;$++)Pn(e,t,r,d[$],i+"/"+a+"/"+$,s,i,a,n,$)}else if(a in zt.propsKeywords){if(d&&typeof d=="object")for(var m in d)Pn(e,t,r,d[m],i+"/"+a+"/"+Rh(m),s,i,a,n,m)}else(a in zt.keywords||e.allKeys&&!(a in zt.skipKeywords))&&Pn(e,t,r,d,i+"/"+a,s,i,a,n)}r(n,i,s,o,f,u,h)}}function Rh(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Ph=Dc.exports;Object.defineProperty(Fe,"__esModule",{value:!0});Fe.getSchemaRefs=Fe.resolveUrl=Fe.normalizeId=Fe._getFullPath=Fe.getFullPath=Fe.inlineRef=void 0;const Th=G,Dh=Tc,Ah=Ph,Lh=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Fh(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Fi(e):t?Ac(e)<=t:!1}Fe.inlineRef=Fh;const kh=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Fi(e){for(const t in e){if(kh.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Fi)||typeof r=="object"&&Fi(r))return!0}return!1}function Ac(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Lh.has(r)&&(typeof e[r]=="object"&&(0,Th.eachItem)(e[r],n=>t+=Ac(n)),t===1/0))return 1/0}return t}function Lc(e,t="",r){r!==!1&&(t=_r(t));const n=e.parse(t);return Fc(e,n)}Fe.getFullPath=Lc;function Fc(e,t){return e.serialize(t).split("#")[0]+"#"}Fe._getFullPath=Fc;const jh=/#\/?$/;function _r(e){return e?e.replace(jh,""):""}Fe.normalizeId=_r;function Mh(e,t,r){return r=_r(r),e.resolve(t,r)}Fe.resolveUrl=Mh;const Uh=/^[a-z_][-a-z0-9._]*$/i;function Vh(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=_r(e[r]||t),s={"":i},o=Lc(n,i,!1),f={},u=new Set;return Ah(e,{allKeys:!0},(d,$,m,c)=>{if(c===void 0)return;const y=o+$;let E=s[c];typeof d[r]=="string"&&(E=l.call(this,d[r])),g.call(this,d.$anchor),g.call(this,d.$dynamicAnchor),s[$]=E;function l(I){const T=this.opts.uriResolver.resolve;if(I=_r(E?T(E,I):I),u.has(I))throw a(I);u.add(I);let k=this.refs[I];return typeof k=="string"&&(k=this.refs[k]),typeof k=="object"?h(d,k.schema,I):I!==_r(y)&&(I[0]==="#"?(h(d,f[I],I),f[I]=d):this.refs[I]=y),I}function g(I){if(typeof I=="string"){if(!Uh.test(I))throw new Error(`invalid anchor "${I}"`);l.call(this,`#${I}`)}}}),f;function h(d,$,m){if($!==void 0&&!Dh(d,$))throw a(m)}function a(d){return new Error(`reference "${d}" resolves to more than one schema`)}}Fe.getSchemaRefs=Vh;Object.defineProperty(ut,"__esModule",{value:!0});ut.getData=ut.KeywordCxt=ut.validateFunctionCode=void 0;const kc=Nr,Lo=Re,os=Rt,Mn=Re,zh=Xn,Zr=St,pi=xt,X=se,ee=It,xh=Fe,Pt=G,xr=an;function Hh(e){if(Uc(e)&&(Vc(e),Mc(e))){Bh(e);return}jc(e,()=>(0,kc.topBoolOrEmptySchema)(e))}ut.validateFunctionCode=Hh;function jc({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},s){i.code.es5?e.func(t,(0,X._)`${ee.default.data}, ${ee.default.valCxt}`,n.$async,()=>{e.code((0,X._)`"use strict"; ${Fo(r,i)}`),qh(e,i),e.code(s)}):e.func(t,(0,X._)`${ee.default.data}, ${Gh(i)}`,n.$async,()=>e.code(Fo(r,i)).code(s))}function Gh(e){return(0,X._)`{${ee.default.instancePath}="", ${ee.default.parentData}, ${ee.default.parentDataProperty}, ${ee.default.rootData}=${ee.default.data}${e.dynamicRef?(0,X._)`, ${ee.default.dynamicAnchors}={}`:X.nil}}={}`}function qh(e,t){e.if(ee.default.valCxt,()=>{e.var(ee.default.instancePath,(0,X._)`${ee.default.valCxt}.${ee.default.instancePath}`),e.var(ee.default.parentData,(0,X._)`${ee.default.valCxt}.${ee.default.parentData}`),e.var(ee.default.parentDataProperty,(0,X._)`${ee.default.valCxt}.${ee.default.parentDataProperty}`),e.var(ee.default.rootData,(0,X._)`${ee.default.valCxt}.${ee.default.rootData}`),t.dynamicRef&&e.var(ee.default.dynamicAnchors,(0,X._)`${ee.default.valCxt}.${ee.default.dynamicAnchors}`)},()=>{e.var(ee.default.instancePath,(0,X._)`""`),e.var(ee.default.parentData,(0,X._)`undefined`),e.var(ee.default.parentDataProperty,(0,X._)`undefined`),e.var(ee.default.rootData,ee.default.data),t.dynamicRef&&e.var(ee.default.dynamicAnchors,(0,X._)`{}`)})}function Bh(e){const{schema:t,opts:r,gen:n}=e;jc(e,()=>{r.$comment&&t.$comment&&xc(e),Jh(e),n.let(ee.default.vErrors,null),n.let(ee.default.errors,0),r.unevaluated&&Kh(e),zc(e),em(e)})}function Kh(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,X._)`${r}.evaluated`),t.if((0,X._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,X._)`${e.evaluated}.props`,(0,X._)`undefined`)),t.if((0,X._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,X._)`${e.evaluated}.items`,(0,X._)`undefined`))}function Fo(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,X._)`/*# sourceURL=${r} */`:X.nil}function Zh(e,t){if(Uc(e)&&(Vc(e),Mc(e))){Wh(e,t);return}(0,kc.boolOrEmptySchema)(e,t)}function Mc({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Uc(e){return typeof e.schema!="boolean"}function Wh(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&xc(e),Yh(e),Qh(e);const s=n.const("_errs",ee.default.errors);zc(e,s),n.var(t,(0,X._)`${s} === ${ee.default.errors}`)}function Vc(e){(0,Pt.checkUnknownRules)(e),Xh(e)}function zc(e,t){if(e.opts.jtd)return ko(e,[],!1,t);const r=(0,Lo.getSchemaTypes)(e.schema),n=(0,Lo.coerceAndCheckDataType)(e,r);ko(e,r,!n,t)}function Xh(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Pt.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Jh(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Pt.checkStrictMode)(e,"default is ignored in the schema root")}function Yh(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,xh.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Qh(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function xc({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const s=r.$comment;if(i.$comment===!0)e.code((0,X._)`${ee.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,X.str)`${n}/$comment`,f=e.scopeValue("root",{ref:t.root});e.code((0,X._)`${ee.default.self}.opts.$comment(${s}, ${o}, ${f}.schema)`)}}function em(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:s}=e;r.$async?t.if((0,X._)`${ee.default.errors} === 0`,()=>t.return(ee.default.data),()=>t.throw((0,X._)`new ${i}(${ee.default.vErrors})`)):(t.assign((0,X._)`${n}.errors`,ee.default.vErrors),s.unevaluated&&tm(e),t.return((0,X._)`${ee.default.errors} === 0`))}function tm({gen:e,evaluated:t,props:r,items:n}){r instanceof X.Name&&e.assign((0,X._)`${t}.props`,r),n instanceof X.Name&&e.assign((0,X._)`${t}.items`,n)}function ko(e,t,r,n){const{gen:i,schema:s,data:o,allErrors:f,opts:u,self:h}=e,{RULES:a}=h;if(s.$ref&&(u.ignoreKeywordsWithRef||!(0,Pt.schemaHasRulesButRef)(s,a))){i.block(()=>qc(e,"$ref",a.all.$ref.definition));return}u.jtd||rm(e,t),i.block(()=>{for(const $ of a.rules)d($);d(a.post)});function d($){(0,os.shouldUseGroup)(s,$)&&($.type?(i.if((0,Mn.checkDataType)($.type,o,u.strictNumbers)),jo(e,$),t.length===1&&t[0]===$.type&&r&&(i.else(),(0,Mn.reportTypeError)(e)),i.endIf()):jo(e,$),f||i.if((0,X._)`${ee.default.errors} === ${n||0}`))}}function jo(e,t){const{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,zh.assignDefaults)(e,t.type),r.block(()=>{for(const s of t.rules)(0,os.shouldUseRule)(n,s)&&qc(e,s.keyword,s.definition,t.type)})}function rm(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(nm(e,t),e.opts.allowUnionTypes||im(e,t),sm(e,e.dataTypes))}function nm(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{Hc(e.dataTypes,r)||as(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),am(e,t)}}function im(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&as(e,"use allowUnionTypes to allow union type keyword")}function sm(e,t){const r=e.self.RULES.all;for(const n in r){const i=r[n];if(typeof i=="object"&&(0,os.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>om(t,o))&&as(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function om(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function Hc(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function am(e,t){const r=[];for(const n of e.dataTypes)Hc(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function as(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Pt.checkStrictMode)(e,t,e.opts.strictTypes)}class Gc{constructor(t,r,n){if((0,Zr.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Pt.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",Bc(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Zr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",ee.default.errors))}result(t,r,n){this.failResult((0,X.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,X.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,X._)`${r} !== undefined && (${(0,X.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?xr.reportExtraError:xr.reportError)(this,this.def.error,r)}$dataError(){(0,xr.reportError)(this,this.def.$dataError||xr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,xr.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=X.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=X.nil,r=X.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:s,def:o}=this;n.if((0,X.or)((0,X._)`${i} === undefined`,r)),t!==X.nil&&n.assign(t,!0),(s.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==X.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:i,it:s}=this;return(0,X.or)(o(),f());function o(){if(n.length){if(!(r instanceof X.Name))throw new Error("ajv implementation error");const u=Array.isArray(n)?n:[n];return(0,X._)`${(0,Mn.checkDataTypes)(u,r,s.opts.strictNumbers,Mn.DataType.Wrong)}`}return X.nil}function f(){if(i.validateSchema){const u=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,X._)`!${u}(${r})`}return X.nil}}subschema(t,r){const n=(0,pi.getSubschema)(this.it,t);(0,pi.extendSubschemaData)(n,this.it,t),(0,pi.extendSubschemaMode)(n,t);const i={...this.it,...n,items:void 0,props:void 0};return Zh(i,r),i}mergeEvaluated(t,r){const{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Pt.mergeEvaluated.props(i,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Pt.mergeEvaluated.items(i,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(t,X.Name)),!0}}ut.KeywordCxt=Gc;function qc(e,t,r,n){const i=new Gc(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,Zr.funcKeywordCode)(i,r):"macro"in r?(0,Zr.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,Zr.funcKeywordCode)(i,r)}const cm=/^\/(?:[^~]|~0|~1)*$/,um=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Bc(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,s;if(e==="")return ee.default.rootData;if(e[0]==="/"){if(!cm.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=ee.default.rootData}else{const h=um.exec(e);if(!h)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+h[1];if(i=h[2],i==="#"){if(a>=t)throw new Error(u("property/index",a));return n[t-a]}if(a>t)throw new Error(u("data",a));if(s=r[t-a],!i)return s}let o=s;const f=i.split("/");for(const h of f)h&&(s=(0,X._)`${s}${(0,X.getProperty)((0,Pt.unescapeJsonPointer)(h))}`,o=(0,X._)`${o} && ${s}`);return o;function u(h,a){return`Cannot access ${h} ${a} levels up, current level is ${t}`}}ut.getData=Bc;var cn={};Object.defineProperty(cn,"__esModule",{value:!0});class lm extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}cn.default=lm;var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});const yi=Fe;class fm extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,yi.resolveUrl)(t,r,n),this.missingSchema=(0,yi.normalizeId)((0,yi.getFullPath)(t,this.missingRef))}}Cr.default=fm;var Je={};Object.defineProperty(Je,"__esModule",{value:!0});Je.resolveSchema=Je.getCompilingSchema=Je.resolveRef=Je.compileSchema=Je.SchemaEnv=void 0;const ot=se,dm=cn,Kt=It,ct=Fe,Mo=G,hm=ut;class Jn{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,ct.normalizeId)(n?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n?.$async,this.refs={}}}Je.SchemaEnv=Jn;function cs(e){const t=Kc.call(this,e);if(t)return t;const r=(0,ct.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new ot.CodeGen(this.scope,{es5:n,lines:i,ownProperties:s});let f;e.$async&&(f=o.scopeValue("Error",{ref:dm.default,code:(0,ot._)`require("ajv/dist/runtime/validation_error").default`}));const u=o.scopeName("validate");e.validateName=u;const h={gen:o,allErrors:this.opts.allErrors,data:Kt.default.data,parentData:Kt.default.parentData,parentDataProperty:Kt.default.parentDataProperty,dataNames:[Kt.default.data],dataPathArr:[ot.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,ot.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:f,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:ot.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ot._)`""`,opts:this.opts,self:this};let a;try{this._compilations.add(e),(0,hm.validateFunctionCode)(h),o.optimize(this.opts.code.optimize);const d=o.toString();a=`${o.scopeRefs(Kt.default.scope)}return ${d}`,this.opts.code.process&&(a=this.opts.code.process(a,e));const m=new Function(`${Kt.default.self}`,`${Kt.default.scope}`,a)(this,this.scope.get());if(this.scope.value(u,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:u,validateCode:d,scopeValues:o._values}),this.opts.unevaluated){const{props:c,items:y}=h;m.evaluated={props:c instanceof ot.Name?void 0:c,items:y instanceof ot.Name?void 0:y,dynamicProps:c instanceof ot.Name,dynamicItems:y instanceof ot.Name},m.source&&(m.source.evaluated=(0,ot.stringify)(m.evaluated))}return e.validate=m,e}catch(d){throw delete e.validate,delete e.validateName,a&&this.logger.error("Error compiling schema, function code:",a),d}finally{this._compilations.delete(e)}}Je.compileSchema=cs;function mm(e,t,r){var n;r=(0,ct.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let s=Em.call(this,e,r);if(s===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:f}=this.opts;o&&(s=new Jn({schema:o,schemaId:f,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=pm.call(this,s)}Je.resolveRef=mm;function pm(e){return(0,ct.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:cs.call(this,e)}function Kc(e){for(const t of this._compilations)if(ym(t,e))return t}Je.getCompilingSchema=Kc;function ym(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Em(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Yn.call(this,e,t)}function Yn(e,t){const r=this.opts.uriResolver.parse(t),n=(0,ct._getFullPath)(this.opts.uriResolver,r);let i=(0,ct.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return Ei.call(this,r,e);const s=(0,ct.normalizeId)(n),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const f=Yn.call(this,e,o);return typeof f?.schema!="object"?void 0:Ei.call(this,r,f)}if(typeof o?.schema=="object"){if(o.validate||cs.call(this,o),s===(0,ct.normalizeId)(t)){const{schema:f}=o,{schemaId:u}=this.opts,h=f[u];return h&&(i=(0,ct.resolveUrl)(this.opts.uriResolver,i,h)),new Jn({schema:f,schemaId:u,root:e,baseId:i})}return Ei.call(this,r,o)}}Je.resolveSchema=Yn;const $m=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Ei(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const f of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const u=r[(0,Mo.unescapeFragment)(f)];if(u===void 0)return;r=u;const h=typeof r=="object"&&r[this.opts.schemaId];!$m.has(f)&&h&&(t=(0,ct.resolveUrl)(this.opts.uriResolver,t,h))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,Mo.schemaHasRulesButRef)(r,this.RULES)){const f=(0,ct.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=Yn.call(this,n,f)}const{schemaId:o}=this.opts;if(s=s||new Jn({schema:r,schemaId:o,root:n,baseId:t}),s.schema!==s.root.schema)return s}const vm="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",gm="Meta-schema for $data reference (JSON AnySchema extension proposal)",_m="object",wm=["$data"],Sm={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Nm=!1,Im={$id:vm,description:gm,type:_m,required:wm,properties:Sm,additionalProperties:Nm};var us={},ki={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(kn,function(r){function n(){for(var _=arguments.length,v=Array(_),S=0;S<_;S++)v[S]=arguments[S];if(v.length>1){v[0]=v[0].slice(0,-1);for(var C=v.length-1,b=1;b<C;++b)v[b]=v[b].slice(1,-1);return v[C]=v[C].slice(1),v.join("")}else return v[0]}function i(_){return"(?:"+_+")"}function s(_){return _===void 0?"undefined":_===null?"null":Object.prototype.toString.call(_).split(" ").pop().split("]").shift().toLowerCase()}function o(_){return _.toUpperCase()}function f(_){return _!=null?_ instanceof Array?_:typeof _.length!="number"||_.split||_.setInterval||_.call?[_]:Array.prototype.slice.call(_):[]}function u(_,v){var S=_;if(v)for(var C in v)S[C]=v[C];return S}function h(_){var v="[A-Za-z]",S="[0-9]",C=n(S,"[A-Fa-f]"),b=i(i("%[EFef]"+C+"%"+C+C+"%"+C+C)+"|"+i("%[89A-Fa-f]"+C+"%"+C+C)+"|"+i("%"+C+C)),J="[\\:\\/\\?\\#\\[\\]\\@]",Y="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",le=n(J,Y),pe=_?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Se=_?"[\\uE000-\\uF8FF]":"[]",ce=n(v,S,"[\\-\\.\\_\\~]",pe);i(v+n(v,S,"[\\+\\-\\.]")+"*"),i(i(b+"|"+n(ce,Y,"[\\:]"))+"*");var me=i(i("25[0-5]")+"|"+i("2[0-4]"+S)+"|"+i("1"+S+S)+"|"+i("0?[1-9]"+S)+"|0?0?"+S),Ne=i(me+"\\."+me+"\\."+me+"\\."+me),te=i(C+"{1,4}"),Ee=i(i(te+"\\:"+te)+"|"+Ne),Oe=i(i(te+"\\:")+"{6}"+Ee),$e=i("\\:\\:"+i(te+"\\:")+"{5}"+Ee),Tt=i(i(te)+"?\\:\\:"+i(te+"\\:")+"{4}"+Ee),yt=i(i(i(te+"\\:")+"{0,1}"+te)+"?\\:\\:"+i(te+"\\:")+"{3}"+Ee),Et=i(i(i(te+"\\:")+"{0,2}"+te)+"?\\:\\:"+i(te+"\\:")+"{2}"+Ee),ur=i(i(i(te+"\\:")+"{0,3}"+te)+"?\\:\\:"+te+"\\:"+Ee),qt=i(i(i(te+"\\:")+"{0,4}"+te)+"?\\:\\:"+Ee),rt=i(i(i(te+"\\:")+"{0,5}"+te)+"?\\:\\:"+te),$t=i(i(i(te+"\\:")+"{0,6}"+te)+"?\\:\\:"),Bt=i([Oe,$e,Tt,yt,Et,ur,qt,rt,$t].join("|")),Ot=i(i(ce+"|"+b)+"+");i("[vV]"+C+"+\\."+n(ce,Y,"[\\:]")+"+"),i(i(b+"|"+n(ce,Y))+"*");var Ur=i(b+"|"+n(ce,Y,"[\\:\\@]"));return i(i(b+"|"+n(ce,Y,"[\\@]"))+"+"),i(i(Ur+"|"+n("[\\/\\?]",Se))+"*"),{NOT_SCHEME:new RegExp(n("[^]",v,S,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",ce,Y),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",ce,Y),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",ce,Y),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",ce,Y),"g"),NOT_QUERY:new RegExp(n("[^\\%]",ce,Y,"[\\:\\@\\/\\?]",Se),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",ce,Y,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",ce,Y),"g"),UNRESERVED:new RegExp(ce,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",ce,le),"g"),PCT_ENCODED:new RegExp(b,"g"),IPV4ADDRESS:new RegExp("^("+Ne+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Bt+")"+i(i("\\%25|\\%(?!"+C+"{2})")+"("+Ot+")")+"?\\]?$")}}var a=h(!1),d=h(!0),$=function(){function _(v,S){var C=[],b=!0,J=!1,Y=void 0;try{for(var le=v[Symbol.iterator](),pe;!(b=(pe=le.next()).done)&&(C.push(pe.value),!(S&&C.length===S));b=!0);}catch(Se){J=!0,Y=Se}finally{try{!b&&le.return&&le.return()}finally{if(J)throw Y}}return C}return function(v,S){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return _(v,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(_){if(Array.isArray(_)){for(var v=0,S=Array(_.length);v<_.length;v++)S[v]=_[v];return S}else return Array.from(_)},c=2147483647,y=36,E=1,l=26,g=38,I=700,T=72,k=128,W="-",Q=/^xn--/,fe=/[^\0-\x7E]/,A=/[\x2E\u3002\uFF0E\uFF61]/g,z={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},B=y-E,Z=Math.floor,F=String.fromCharCode;function D(_){throw new RangeError(z[_])}function j(_,v){for(var S=[],C=_.length;C--;)S[C]=v(_[C]);return S}function U(_,v){var S=_.split("@"),C="";S.length>1&&(C=S[0]+"@",_=S[1]),_=_.replace(A,".");var b=_.split("."),J=j(b,v).join(".");return C+J}function M(_){for(var v=[],S=0,C=_.length;S<C;){var b=_.charCodeAt(S++);if(b>=55296&&b<=56319&&S<C){var J=_.charCodeAt(S++);(J&64512)==56320?v.push(((b&1023)<<10)+(J&1023)+65536):(v.push(b),S--)}else v.push(b)}return v}var V=function(v){return String.fromCodePoint.apply(String,m(v))},x=function(v){return v-48<10?v-22:v-65<26?v-65:v-97<26?v-97:y},L=function(v,S){return v+22+75*(v<26)-((S!=0)<<5)},N=function(v,S,C){var b=0;for(v=C?Z(v/I):v>>1,v+=Z(v/S);v>B*l>>1;b+=y)v=Z(v/B);return Z(b+(B+1)*v/(v+g))},R=function(v){var S=[],C=v.length,b=0,J=k,Y=T,le=v.lastIndexOf(W);le<0&&(le=0);for(var pe=0;pe<le;++pe)v.charCodeAt(pe)>=128&&D("not-basic"),S.push(v.charCodeAt(pe));for(var Se=le>0?le+1:0;Se<C;){for(var ce=b,me=1,Ne=y;;Ne+=y){Se>=C&&D("invalid-input");var te=x(v.charCodeAt(Se++));(te>=y||te>Z((c-b)/me))&&D("overflow"),b+=te*me;var Ee=Ne<=Y?E:Ne>=Y+l?l:Ne-Y;if(te<Ee)break;var Oe=y-Ee;me>Z(c/Oe)&&D("overflow"),me*=Oe}var $e=S.length+1;Y=N(b-ce,$e,ce==0),Z(b/$e)>c-J&&D("overflow"),J+=Z(b/$e),b%=$e,S.splice(b++,0,J)}return String.fromCodePoint.apply(String,S)},O=function(v){var S=[];v=M(v);var C=v.length,b=k,J=0,Y=T,le=!0,pe=!1,Se=void 0;try{for(var ce=v[Symbol.iterator](),me;!(le=(me=ce.next()).done);le=!0){var Ne=me.value;Ne<128&&S.push(F(Ne))}}catch(Vr){pe=!0,Se=Vr}finally{try{!le&&ce.return&&ce.return()}finally{if(pe)throw Se}}var te=S.length,Ee=te;for(te&&S.push(W);Ee<C;){var Oe=c,$e=!0,Tt=!1,yt=void 0;try{for(var Et=v[Symbol.iterator](),ur;!($e=(ur=Et.next()).done);$e=!0){var qt=ur.value;qt>=b&&qt<Oe&&(Oe=qt)}}catch(Vr){Tt=!0,yt=Vr}finally{try{!$e&&Et.return&&Et.return()}finally{if(Tt)throw yt}}var rt=Ee+1;Oe-b>Z((c-J)/rt)&&D("overflow"),J+=(Oe-b)*rt,b=Oe;var $t=!0,Bt=!1,Ot=void 0;try{for(var Ur=v[Symbol.iterator](),so;!($t=(so=Ur.next()).done);$t=!0){var oo=so.value;if(oo<b&&++J>c&&D("overflow"),oo==b){for(var mn=J,pn=y;;pn+=y){var yn=pn<=Y?E:pn>=Y+l?l:pn-Y;if(mn<yn)break;var ao=mn-yn,co=y-yn;S.push(F(L(yn+ao%co,0))),mn=Z(ao/co)}S.push(F(L(mn,0))),Y=N(J,rt,Ee==te),J=0,++Ee}}}catch(Vr){Bt=!0,Ot=Vr}finally{try{!$t&&Ur.return&&Ur.return()}finally{if(Bt)throw Ot}}++J,++b}return S.join("")},p=function(v){return U(v,function(S){return Q.test(S)?R(S.slice(4).toLowerCase()):S})},w=function(v){return U(v,function(S){return fe.test(S)?"xn--"+O(S):S})},P={version:"2.1.0",ucs2:{decode:M,encode:V},decode:R,encode:O,toASCII:w,toUnicode:p},H={};function q(_){var v=_.charCodeAt(0),S=void 0;return v<16?S="%0"+v.toString(16).toUpperCase():v<128?S="%"+v.toString(16).toUpperCase():v<2048?S="%"+(v>>6|192).toString(16).toUpperCase()+"%"+(v&63|128).toString(16).toUpperCase():S="%"+(v>>12|224).toString(16).toUpperCase()+"%"+(v>>6&63|128).toString(16).toUpperCase()+"%"+(v&63|128).toString(16).toUpperCase(),S}function ae(_){for(var v="",S=0,C=_.length;S<C;){var b=parseInt(_.substr(S+1,2),16);if(b<128)v+=String.fromCharCode(b),S+=3;else if(b>=194&&b<224){if(C-S>=6){var J=parseInt(_.substr(S+4,2),16);v+=String.fromCharCode((b&31)<<6|J&63)}else v+=_.substr(S,6);S+=6}else if(b>=224){if(C-S>=9){var Y=parseInt(_.substr(S+4,2),16),le=parseInt(_.substr(S+7,2),16);v+=String.fromCharCode((b&15)<<12|(Y&63)<<6|le&63)}else v+=_.substr(S,9);S+=9}else v+=_.substr(S,3),S+=3}return v}function ue(_,v){function S(C){var b=ae(C);return b.match(v.UNRESERVED)?b:C}return _.scheme&&(_.scheme=String(_.scheme).replace(v.PCT_ENCODED,S).toLowerCase().replace(v.NOT_SCHEME,"")),_.userinfo!==void 0&&(_.userinfo=String(_.userinfo).replace(v.PCT_ENCODED,S).replace(v.NOT_USERINFO,q).replace(v.PCT_ENCODED,o)),_.host!==void 0&&(_.host=String(_.host).replace(v.PCT_ENCODED,S).toLowerCase().replace(v.NOT_HOST,q).replace(v.PCT_ENCODED,o)),_.path!==void 0&&(_.path=String(_.path).replace(v.PCT_ENCODED,S).replace(_.scheme?v.NOT_PATH:v.NOT_PATH_NOSCHEME,q).replace(v.PCT_ENCODED,o)),_.query!==void 0&&(_.query=String(_.query).replace(v.PCT_ENCODED,S).replace(v.NOT_QUERY,q).replace(v.PCT_ENCODED,o)),_.fragment!==void 0&&(_.fragment=String(_.fragment).replace(v.PCT_ENCODED,S).replace(v.NOT_FRAGMENT,q).replace(v.PCT_ENCODED,o)),_}function we(_){return _.replace(/^0*(.*)/,"$1")||"0"}function ht(_,v){var S=_.match(v.IPV4ADDRESS)||[],C=$(S,2),b=C[1];return b?b.split(".").map(we).join("."):_}function nr(_,v){var S=_.match(v.IPV6ADDRESS)||[],C=$(S,3),b=C[1],J=C[2];if(b){for(var Y=b.toLowerCase().split("::").reverse(),le=$(Y,2),pe=le[0],Se=le[1],ce=Se?Se.split(":").map(we):[],me=pe.split(":").map(we),Ne=v.IPV4ADDRESS.test(me[me.length-1]),te=Ne?7:8,Ee=me.length-te,Oe=Array(te),$e=0;$e<te;++$e)Oe[$e]=ce[$e]||me[Ee+$e]||"";Ne&&(Oe[te-1]=ht(Oe[te-1],v));var Tt=Oe.reduce(function(rt,$t,Bt){if(!$t||$t==="0"){var Ot=rt[rt.length-1];Ot&&Ot.index+Ot.length===Bt?Ot.length++:rt.push({index:Bt,length:1})}return rt},[]),yt=Tt.sort(function(rt,$t){return $t.length-rt.length})[0],Et=void 0;if(yt&&yt.length>1){var ur=Oe.slice(0,yt.index),qt=Oe.slice(yt.index+yt.length);Et=ur.join(":")+"::"+qt.join(":")}else Et=Oe.join(":");return J&&(Et+="%"+J),Et}else return _}var Dr=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Ar="".match(/(){0}/)[1]===void 0;function Ye(_){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S={},C=v.iri!==!1?d:a;v.reference==="suffix"&&(_=(v.scheme?v.scheme+":":"")+"//"+_);var b=_.match(Dr);if(b){Ar?(S.scheme=b[1],S.userinfo=b[3],S.host=b[4],S.port=parseInt(b[5],10),S.path=b[6]||"",S.query=b[7],S.fragment=b[8],isNaN(S.port)&&(S.port=b[5])):(S.scheme=b[1]||void 0,S.userinfo=_.indexOf("@")!==-1?b[3]:void 0,S.host=_.indexOf("//")!==-1?b[4]:void 0,S.port=parseInt(b[5],10),S.path=b[6]||"",S.query=_.indexOf("?")!==-1?b[7]:void 0,S.fragment=_.indexOf("#")!==-1?b[8]:void 0,isNaN(S.port)&&(S.port=_.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?b[4]:void 0)),S.host&&(S.host=nr(ht(S.host,C),C)),S.scheme===void 0&&S.userinfo===void 0&&S.host===void 0&&S.port===void 0&&!S.path&&S.query===void 0?S.reference="same-document":S.scheme===void 0?S.reference="relative":S.fragment===void 0?S.reference="absolute":S.reference="uri",v.reference&&v.reference!=="suffix"&&v.reference!==S.reference&&(S.error=S.error||"URI is not a "+v.reference+" reference.");var J=H[(v.scheme||S.scheme||"").toLowerCase()];if(!v.unicodeSupport&&(!J||!J.unicodeSupport)){if(S.host&&(v.domainHost||J&&J.domainHost))try{S.host=P.toASCII(S.host.replace(C.PCT_ENCODED,ae).toLowerCase())}catch(Y){S.error=S.error||"Host's domain name can not be converted to ASCII via punycode: "+Y}ue(S,a)}else ue(S,C);J&&J.parse&&J.parse(S,v)}else S.error=S.error||"URI can not be parsed.";return S}function Lr(_,v){var S=v.iri!==!1?d:a,C=[];return _.userinfo!==void 0&&(C.push(_.userinfo),C.push("@")),_.host!==void 0&&C.push(nr(ht(String(_.host),S),S).replace(S.IPV6ADDRESS,function(b,J,Y){return"["+J+(Y?"%25"+Y:"")+"]"})),(typeof _.port=="number"||typeof _.port=="string")&&(C.push(":"),C.push(String(_.port))),C.length?C.join(""):void 0}var ir=/^\.\.?\//,sr=/^\/\.(\/|$)/,or=/^\/\.\.(\/|$)/,Fr=/^\/?(?:.|\n)*?(?=\/|$)/;function mt(_){for(var v=[];_.length;)if(_.match(ir))_=_.replace(ir,"");else if(_.match(sr))_=_.replace(sr,"/");else if(_.match(or))_=_.replace(or,"/"),v.pop();else if(_==="."||_==="..")_="";else{var S=_.match(Fr);if(S){var C=S[0];_=_.slice(C.length),v.push(C)}else throw new Error("Unexpected dot segment condition")}return v.join("")}function We(_){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=v.iri?d:a,C=[],b=H[(v.scheme||_.scheme||"").toLowerCase()];if(b&&b.serialize&&b.serialize(_,v),_.host&&!S.IPV6ADDRESS.test(_.host)){if(v.domainHost||b&&b.domainHost)try{_.host=v.iri?P.toUnicode(_.host):P.toASCII(_.host.replace(S.PCT_ENCODED,ae).toLowerCase())}catch(le){_.error=_.error||"Host's domain name can not be converted to "+(v.iri?"Unicode":"ASCII")+" via punycode: "+le}}ue(_,S),v.reference!=="suffix"&&_.scheme&&(C.push(_.scheme),C.push(":"));var J=Lr(_,v);if(J!==void 0&&(v.reference!=="suffix"&&C.push("//"),C.push(J),_.path&&_.path.charAt(0)!=="/"&&C.push("/")),_.path!==void 0){var Y=_.path;!v.absolutePath&&(!b||!b.absolutePath)&&(Y=mt(Y)),J===void 0&&(Y=Y.replace(/^\/\//,"/%2F")),C.push(Y)}return _.query!==void 0&&(C.push("?"),C.push(_.query)),_.fragment!==void 0&&(C.push("#"),C.push(_.fragment)),C.join("")}function ar(_,v){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},C=arguments[3],b={};return C||(_=Ye(We(_,S),S),v=Ye(We(v,S),S)),S=S||{},!S.tolerant&&v.scheme?(b.scheme=v.scheme,b.userinfo=v.userinfo,b.host=v.host,b.port=v.port,b.path=mt(v.path||""),b.query=v.query):(v.userinfo!==void 0||v.host!==void 0||v.port!==void 0?(b.userinfo=v.userinfo,b.host=v.host,b.port=v.port,b.path=mt(v.path||""),b.query=v.query):(v.path?(v.path.charAt(0)==="/"?b.path=mt(v.path):((_.userinfo!==void 0||_.host!==void 0||_.port!==void 0)&&!_.path?b.path="/"+v.path:_.path?b.path=_.path.slice(0,_.path.lastIndexOf("/")+1)+v.path:b.path=v.path,b.path=mt(b.path)),b.query=v.query):(b.path=_.path,v.query!==void 0?b.query=v.query:b.query=_.query),b.userinfo=_.userinfo,b.host=_.host,b.port=_.port),b.scheme=_.scheme),b.fragment=v.fragment,b}function kr(_,v,S){var C=u({scheme:"null"},S);return We(ar(Ye(_,C),Ye(v,C),C,!0),C)}function Ht(_,v){return typeof _=="string"?_=We(Ye(_,v),v):s(_)==="object"&&(_=Ye(We(_,v),v)),_}function jr(_,v,S){return typeof _=="string"?_=We(Ye(_,S),S):s(_)==="object"&&(_=We(_,S)),typeof v=="string"?v=We(Ye(v,S),S):s(v)==="object"&&(v=We(v,S)),_===v}function hn(_,v){return _&&_.toString().replace(!v||!v.iri?a.ESCAPE:d.ESCAPE,q)}function tt(_,v){return _&&_.toString().replace(!v||!v.iri?a.PCT_ENCODED:d.PCT_ENCODED,ae)}var Gt={scheme:"http",domainHost:!0,parse:function(v,S){return v.host||(v.error=v.error||"HTTP URIs must have a host."),v},serialize:function(v,S){var C=String(v.scheme).toLowerCase()==="https";return(v.port===(C?443:80)||v.port==="")&&(v.port=void 0),v.path||(v.path="/"),v}},Js={scheme:"https",domainHost:Gt.domainHost,parse:Gt.parse,serialize:Gt.serialize};function Ys(_){return typeof _.secure=="boolean"?_.secure:String(_.scheme).toLowerCase()==="wss"}var Mr={scheme:"ws",domainHost:!0,parse:function(v,S){var C=v;return C.secure=Ys(C),C.resourceName=(C.path||"/")+(C.query?"?"+C.query:""),C.path=void 0,C.query=void 0,C},serialize:function(v,S){if((v.port===(Ys(v)?443:80)||v.port==="")&&(v.port=void 0),typeof v.secure=="boolean"&&(v.scheme=v.secure?"wss":"ws",v.secure=void 0),v.resourceName){var C=v.resourceName.split("?"),b=$(C,2),J=b[0],Y=b[1];v.path=J&&J!=="/"?J:void 0,v.query=Y,v.resourceName=void 0}return v.fragment=void 0,v}},Qs={scheme:"wss",domainHost:Mr.domainHost,parse:Mr.parse,serialize:Mr.serialize},vu={},eo="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",pt="[0-9A-Fa-f]",gu=i(i("%[EFef]"+pt+"%"+pt+pt+"%"+pt+pt)+"|"+i("%[89A-Fa-f]"+pt+"%"+pt+pt)+"|"+i("%"+pt+pt)),_u="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",wu="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Su=n(wu,'[\\"\\\\]'),Nu="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Iu=new RegExp(eo,"g"),cr=new RegExp(gu,"g"),Ou=new RegExp(n("[^]",_u,"[\\.]",'[\\"]',Su),"g"),to=new RegExp(n("[^]",eo,Nu),"g"),bu=to;function ui(_){var v=ae(_);return v.match(Iu)?v:_}var ro={scheme:"mailto",parse:function(v,S){var C=v,b=C.to=C.path?C.path.split(","):[];if(C.path=void 0,C.query){for(var J=!1,Y={},le=C.query.split("&"),pe=0,Se=le.length;pe<Se;++pe){var ce=le[pe].split("=");switch(ce[0]){case"to":for(var me=ce[1].split(","),Ne=0,te=me.length;Ne<te;++Ne)b.push(me[Ne]);break;case"subject":C.subject=tt(ce[1],S);break;case"body":C.body=tt(ce[1],S);break;default:J=!0,Y[tt(ce[0],S)]=tt(ce[1],S);break}}J&&(C.headers=Y)}C.query=void 0;for(var Ee=0,Oe=b.length;Ee<Oe;++Ee){var $e=b[Ee].split("@");if($e[0]=tt($e[0]),S.unicodeSupport)$e[1]=tt($e[1],S).toLowerCase();else try{$e[1]=P.toASCII(tt($e[1],S).toLowerCase())}catch(Tt){C.error=C.error||"Email address's domain name can not be converted to ASCII via punycode: "+Tt}b[Ee]=$e.join("@")}return C},serialize:function(v,S){var C=v,b=f(v.to);if(b){for(var J=0,Y=b.length;J<Y;++J){var le=String(b[J]),pe=le.lastIndexOf("@"),Se=le.slice(0,pe).replace(cr,ui).replace(cr,o).replace(Ou,q),ce=le.slice(pe+1);try{ce=S.iri?P.toUnicode(ce):P.toASCII(tt(ce,S).toLowerCase())}catch(Ee){C.error=C.error||"Email address's domain name can not be converted to "+(S.iri?"Unicode":"ASCII")+" via punycode: "+Ee}b[J]=Se+"@"+ce}C.path=b.join(",")}var me=v.headers=v.headers||{};v.subject&&(me.subject=v.subject),v.body&&(me.body=v.body);var Ne=[];for(var te in me)me[te]!==vu[te]&&Ne.push(te.replace(cr,ui).replace(cr,o).replace(to,q)+"="+me[te].replace(cr,ui).replace(cr,o).replace(bu,q));return Ne.length&&(C.query=Ne.join("&")),C}},Cu=/^([^\:]+)\:(.*)/,no={scheme:"urn",parse:function(v,S){var C=v.path&&v.path.match(Cu),b=v;if(C){var J=S.scheme||b.scheme||"urn",Y=C[1].toLowerCase(),le=C[2],pe=J+":"+(S.nid||Y),Se=H[pe];b.nid=Y,b.nss=le,b.path=void 0,Se&&(b=Se.parse(b,S))}else b.error=b.error||"URN can not be parsed.";return b},serialize:function(v,S){var C=S.scheme||v.scheme||"urn",b=v.nid,J=C+":"+(S.nid||b),Y=H[J];Y&&(v=Y.serialize(v,S));var le=v,pe=v.nss;return le.path=(b||S.nid)+":"+pe,le}},Ru=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,io={scheme:"urn:uuid",parse:function(v,S){var C=v;return C.uuid=C.nss,C.nss=void 0,!S.tolerant&&(!C.uuid||!C.uuid.match(Ru))&&(C.error=C.error||"UUID is not valid."),C},serialize:function(v,S){var C=v;return C.nss=(v.uuid||"").toLowerCase(),C}};H[Gt.scheme]=Gt,H[Js.scheme]=Js,H[Mr.scheme]=Mr,H[Qs.scheme]=Qs,H[ro.scheme]=ro,H[no.scheme]=no,H[io.scheme]=io,r.SCHEMES=H,r.pctEncChar=q,r.pctDecChars=ae,r.parse=Ye,r.removeDotSegments=mt,r.serialize=We,r.resolveComponents=ar,r.resolve=kr,r.normalize=Ht,r.equal=jr,r.escapeComponent=hn,r.unescapeComponent=tt,Object.defineProperty(r,"__esModule",{value:!0})})})(ki,ki.exports);var Om=ki.exports;Object.defineProperty(us,"__esModule",{value:!0});const Zc=Om;Zc.code='require("ajv/dist/runtime/uri").default';us.default=Zc;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=ut;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=se;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=cn,i=Cr,s=er,o=Je,f=se,u=Fe,h=Re,a=G,d=Im,$=us,m=(L,N)=>new RegExp(L,N);m.code="new RegExp";const c=["removeAdditional","useDefaults","coerceTypes"],y=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),E={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},l={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},g=200;function I(L){var N,R,O,p,w,P,H,q,ae,ue,we,ht,nr,Dr,Ar,Ye,Lr,ir,sr,or,Fr,mt,We,ar,kr;const Ht=L.strict,jr=(N=L.code)===null||N===void 0?void 0:N.optimize,hn=jr===!0||jr===void 0?1:jr||0,tt=(O=(R=L.code)===null||R===void 0?void 0:R.regExp)!==null&&O!==void 0?O:m,Gt=(p=L.uriResolver)!==null&&p!==void 0?p:$.default;return{strictSchema:(P=(w=L.strictSchema)!==null&&w!==void 0?w:Ht)!==null&&P!==void 0?P:!0,strictNumbers:(q=(H=L.strictNumbers)!==null&&H!==void 0?H:Ht)!==null&&q!==void 0?q:!0,strictTypes:(ue=(ae=L.strictTypes)!==null&&ae!==void 0?ae:Ht)!==null&&ue!==void 0?ue:"log",strictTuples:(ht=(we=L.strictTuples)!==null&&we!==void 0?we:Ht)!==null&&ht!==void 0?ht:"log",strictRequired:(Dr=(nr=L.strictRequired)!==null&&nr!==void 0?nr:Ht)!==null&&Dr!==void 0?Dr:!1,code:L.code?{...L.code,optimize:hn,regExp:tt}:{optimize:hn,regExp:tt},loopRequired:(Ar=L.loopRequired)!==null&&Ar!==void 0?Ar:g,loopEnum:(Ye=L.loopEnum)!==null&&Ye!==void 0?Ye:g,meta:(Lr=L.meta)!==null&&Lr!==void 0?Lr:!0,messages:(ir=L.messages)!==null&&ir!==void 0?ir:!0,inlineRefs:(sr=L.inlineRefs)!==null&&sr!==void 0?sr:!0,schemaId:(or=L.schemaId)!==null&&or!==void 0?or:"$id",addUsedSchema:(Fr=L.addUsedSchema)!==null&&Fr!==void 0?Fr:!0,validateSchema:(mt=L.validateSchema)!==null&&mt!==void 0?mt:!0,validateFormats:(We=L.validateFormats)!==null&&We!==void 0?We:!0,unicodeRegExp:(ar=L.unicodeRegExp)!==null&&ar!==void 0?ar:!0,int32range:(kr=L.int32range)!==null&&kr!==void 0?kr:!0,uriResolver:Gt}}class T{constructor(N={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,N=this.opts={...N,...I(N)};const{es5:R,lines:O}=this.opts.code;this.scope=new f.ValueScope({scope:{},prefixes:y,es5:R,lines:O}),this.logger=Z(N.logger);const p=N.validateFormats;N.validateFormats=!1,this.RULES=(0,s.getRules)(),k.call(this,E,N,"NOT SUPPORTED"),k.call(this,l,N,"DEPRECATED","warn"),this._metaOpts=z.call(this),N.formats&&fe.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),N.keywords&&A.call(this,N.keywords),typeof N.meta=="object"&&this.addMetaSchema(N.meta),Q.call(this),N.validateFormats=p}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:N,meta:R,schemaId:O}=this.opts;let p=d;O==="id"&&(p={...d},p.id=p.$id,delete p.$id),R&&N&&this.addMetaSchema(p,p[O],!1)}defaultMeta(){const{meta:N,schemaId:R}=this.opts;return this.opts.defaultMeta=typeof N=="object"?N[R]||N:void 0}validate(N,R){let O;if(typeof N=="string"){if(O=this.getSchema(N),!O)throw new Error(`no schema with key or ref "${N}"`)}else O=this.compile(N);const p=O(R);return"$async"in O||(this.errors=O.errors),p}compile(N,R){const O=this._addSchema(N,R);return O.validate||this._compileSchemaEnv(O)}compileAsync(N,R){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:O}=this.opts;return p.call(this,N,R);async function p(ue,we){await w.call(this,ue.$schema);const ht=this._addSchema(ue,we);return ht.validate||P.call(this,ht)}async function w(ue){ue&&!this.getSchema(ue)&&await p.call(this,{$ref:ue},!0)}async function P(ue){try{return this._compileSchemaEnv(ue)}catch(we){if(!(we instanceof i.default))throw we;return H.call(this,we),await q.call(this,we.missingSchema),P.call(this,ue)}}function H({missingSchema:ue,missingRef:we}){if(this.refs[ue])throw new Error(`AnySchema ${ue} is loaded but ${we} cannot be resolved`)}async function q(ue){const we=await ae.call(this,ue);this.refs[ue]||await w.call(this,we.$schema),this.refs[ue]||this.addSchema(we,ue,R)}async function ae(ue){const we=this._loading[ue];if(we)return we;try{return await(this._loading[ue]=O(ue))}finally{delete this._loading[ue]}}}addSchema(N,R,O,p=this.opts.validateSchema){if(Array.isArray(N)){for(const P of N)this.addSchema(P,void 0,O,p);return this}let w;if(typeof N=="object"){const{schemaId:P}=this.opts;if(w=N[P],w!==void 0&&typeof w!="string")throw new Error(`schema ${P} must be string`)}return R=(0,u.normalizeId)(R||w),this._checkUnique(R),this.schemas[R]=this._addSchema(N,O,R,p,!0),this}addMetaSchema(N,R,O=this.opts.validateSchema){return this.addSchema(N,R,!0,O),this}validateSchema(N,R){if(typeof N=="boolean")return!0;let O;if(O=N.$schema,O!==void 0&&typeof O!="string")throw new Error("$schema must be a string");if(O=O||this.opts.defaultMeta||this.defaultMeta(),!O)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const p=this.validate(O,N);if(!p&&R){const w="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(w);else throw new Error(w)}return p}getSchema(N){let R;for(;typeof(R=W.call(this,N))=="string";)N=R;if(R===void 0){const{schemaId:O}=this.opts,p=new o.SchemaEnv({schema:{},schemaId:O});if(R=o.resolveSchema.call(this,p,N),!R)return;this.refs[N]=R}return R.validate||this._compileSchemaEnv(R)}removeSchema(N){if(N instanceof RegExp)return this._removeAllSchemas(this.schemas,N),this._removeAllSchemas(this.refs,N),this;switch(typeof N){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const R=W.call(this,N);return typeof R=="object"&&this._cache.delete(R.schema),delete this.schemas[N],delete this.refs[N],this}case"object":{const R=N;this._cache.delete(R);let O=N[this.opts.schemaId];return O&&(O=(0,u.normalizeId)(O),delete this.schemas[O],delete this.refs[O]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(N){for(const R of N)this.addKeyword(R);return this}addKeyword(N,R){let O;if(typeof N=="string")O=N,typeof R=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),R.keyword=O);else if(typeof N=="object"&&R===void 0){if(R=N,O=R.keyword,Array.isArray(O)&&!O.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(D.call(this,O,R),!R)return(0,a.eachItem)(O,w=>j.call(this,w)),this;M.call(this,R);const p={...R,type:(0,h.getJSONTypes)(R.type),schemaType:(0,h.getJSONTypes)(R.schemaType)};return(0,a.eachItem)(O,p.type.length===0?w=>j.call(this,w,p):w=>p.type.forEach(P=>j.call(this,w,p,P))),this}getKeyword(N){const R=this.RULES.all[N];return typeof R=="object"?R.definition:!!R}removeKeyword(N){const{RULES:R}=this;delete R.keywords[N],delete R.all[N];for(const O of R.rules){const p=O.rules.findIndex(w=>w.keyword===N);p>=0&&O.rules.splice(p,1)}return this}addFormat(N,R){return typeof R=="string"&&(R=new RegExp(R)),this.formats[N]=R,this}errorsText(N=this.errors,{separator:R=", ",dataVar:O="data"}={}){return!N||N.length===0?"No errors":N.map(p=>`${O}${p.instancePath} ${p.message}`).reduce((p,w)=>p+R+w)}$dataMetaSchema(N,R){const O=this.RULES.all;N=JSON.parse(JSON.stringify(N));for(const p of R){const w=p.split("/").slice(1);let P=N;for(const H of w)P=P[H];for(const H in O){const q=O[H];if(typeof q!="object")continue;const{$data:ae}=q.definition,ue=P[H];ae&&ue&&(P[H]=x(ue))}}return N}_removeAllSchemas(N,R){for(const O in N){const p=N[O];(!R||R.test(O))&&(typeof p=="string"?delete N[O]:p&&!p.meta&&(this._cache.delete(p.schema),delete N[O]))}}_addSchema(N,R,O,p=this.opts.validateSchema,w=this.opts.addUsedSchema){let P;const{schemaId:H}=this.opts;if(typeof N=="object")P=N[H];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof N!="boolean")throw new Error("schema must be object or boolean")}let q=this._cache.get(N);if(q!==void 0)return q;O=(0,u.normalizeId)(P||O);const ae=u.getSchemaRefs.call(this,N,O);return q=new o.SchemaEnv({schema:N,schemaId:H,meta:R,baseId:O,localRefs:ae}),this._cache.set(q.schema,q),w&&!O.startsWith("#")&&(O&&this._checkUnique(O),this.refs[O]=q),p&&this.validateSchema(N,!0),q}_checkUnique(N){if(this.schemas[N]||this.refs[N])throw new Error(`schema with key or id "${N}" already exists`)}_compileSchemaEnv(N){if(N.meta?this._compileMetaSchema(N):o.compileSchema.call(this,N),!N.validate)throw new Error("ajv implementation error");return N.validate}_compileMetaSchema(N){const R=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,N)}finally{this.opts=R}}}T.ValidationError=n.default,T.MissingRefError=i.default,e.default=T;function k(L,N,R,O="error"){for(const p in L){const w=p;w in N&&this.logger[O](`${R}: option ${p}. ${L[w]}`)}}function W(L){return L=(0,u.normalizeId)(L),this.schemas[L]||this.refs[L]}function Q(){const L=this.opts.schemas;if(L)if(Array.isArray(L))this.addSchema(L);else for(const N in L)this.addSchema(L[N],N)}function fe(){for(const L in this.opts.formats){const N=this.opts.formats[L];N&&this.addFormat(L,N)}}function A(L){if(Array.isArray(L)){this.addVocabulary(L);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const N in L){const R=L[N];R.keyword||(R.keyword=N),this.addKeyword(R)}}function z(){const L={...this.opts};for(const N of c)delete L[N];return L}const B={log(){},warn(){},error(){}};function Z(L){if(L===!1)return B;if(L===void 0)return console;if(L.log&&L.warn&&L.error)return L;throw new Error("logger must implement log, warn and error methods")}const F=/^[a-z_$][a-z0-9_$:-]*$/i;function D(L,N){const{RULES:R}=this;if((0,a.eachItem)(L,O=>{if(R.keywords[O])throw new Error(`Keyword ${O} is already defined`);if(!F.test(O))throw new Error(`Keyword ${O} has invalid name`)}),!!N&&N.$data&&!("code"in N||"validate"in N))throw new Error('$data keyword must have "code" or "validate" function')}function j(L,N,R){var O;const p=N?.post;if(R&&p)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:w}=this;let P=p?w.post:w.rules.find(({type:q})=>q===R);if(P||(P={type:R,rules:[]},w.rules.push(P)),w.keywords[L]=!0,!N)return;const H={keyword:L,definition:{...N,type:(0,h.getJSONTypes)(N.type),schemaType:(0,h.getJSONTypes)(N.schemaType)}};N.before?U.call(this,P,H,N.before):P.rules.push(H),w.all[L]=H,(O=N.implements)===null||O===void 0||O.forEach(q=>this.addKeyword(q))}function U(L,N,R){const O=L.rules.findIndex(p=>p.keyword===R);O>=0?L.rules.splice(O,0,N):(L.rules.push(N),this.logger.warn(`rule ${R} is not defined`))}function M(L){let{metaSchema:N}=L;N!==void 0&&(L.$data&&this.opts.$data&&(N=x(N)),L.validateSchema=this.compile(N,!0))}const V={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function x(L){return{anyOf:[L,V]}}})(pc);var ls={},fs={},ds={};Object.defineProperty(ds,"__esModule",{value:!0});const bm={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};ds.default=bm;var tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.callRef=tr.getValidate=void 0;const Cm=Cr,Uo=oe,Xe=se,dr=It,Vo=Je,gn=G,Rm={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:s,validateName:o,opts:f,self:u}=n,{root:h}=s;if((r==="#"||r==="#/")&&i===h.baseId)return d();const a=Vo.resolveRef.call(u,h,i,r);if(a===void 0)throw new Cm.default(n.opts.uriResolver,i,r);if(a instanceof Vo.SchemaEnv)return $(a);return m(a);function d(){if(s===h)return Tn(e,o,s,s.$async);const c=t.scopeValue("root",{ref:h});return Tn(e,(0,Xe._)`${c}.validate`,h,h.$async)}function $(c){const y=Wc(e,c);Tn(e,y,c,c.$async)}function m(c){const y=t.scopeValue("schema",f.code.source===!0?{ref:c,code:(0,Xe.stringify)(c)}:{ref:c}),E=t.name("valid"),l=e.subschema({schema:c,dataTypes:[],schemaPath:Xe.nil,topSchemaRef:y,errSchemaPath:r},E);e.mergeEvaluated(l),e.ok(E)}}};function Wc(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Xe._)`${r.scopeValue("wrapper",{ref:t})}.validate`}tr.getValidate=Wc;function Tn(e,t,r,n){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:f,opts:u}=s,h=u.passContext?dr.default.this:Xe.nil;n?a():d();function a(){if(!f.$async)throw new Error("async schema referenced by sync schema");const c=i.let("valid");i.try(()=>{i.code((0,Xe._)`await ${(0,Uo.callValidateCode)(e,t,h)}`),m(t),o||i.assign(c,!0)},y=>{i.if((0,Xe._)`!(${y} instanceof ${s.ValidationError})`,()=>i.throw(y)),$(y),o||i.assign(c,!1)}),e.ok(c)}function d(){e.result((0,Uo.callValidateCode)(e,t,h),()=>m(t),()=>$(t))}function $(c){const y=(0,Xe._)`${c}.errors`;i.assign(dr.default.vErrors,(0,Xe._)`${dr.default.vErrors} === null ? ${y} : ${dr.default.vErrors}.concat(${y})`),i.assign(dr.default.errors,(0,Xe._)`${dr.default.vErrors}.length`)}function m(c){var y;if(!s.opts.unevaluated)return;const E=(y=r?.validate)===null||y===void 0?void 0:y.evaluated;if(s.props!==!0)if(E&&!E.dynamicProps)E.props!==void 0&&(s.props=gn.mergeEvaluated.props(i,E.props,s.props));else{const l=i.var("props",(0,Xe._)`${c}.evaluated.props`);s.props=gn.mergeEvaluated.props(i,l,s.props,Xe.Name)}if(s.items!==!0)if(E&&!E.dynamicItems)E.items!==void 0&&(s.items=gn.mergeEvaluated.items(i,E.items,s.items));else{const l=i.var("items",(0,Xe._)`${c}.evaluated.items`);s.items=gn.mergeEvaluated.items(i,l,s.items,Xe.Name)}}}tr.callRef=Tn;tr.default=Rm;Object.defineProperty(fs,"__esModule",{value:!0});const Pm=ds,Tm=tr,Dm=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Pm.default,Tm.default];fs.default=Dm;var hs={},ms={};Object.defineProperty(ms,"__esModule",{value:!0});const Un=se,jt=Un.operators,Vn={maximum:{okStr:"<=",ok:jt.LTE,fail:jt.GT},minimum:{okStr:">=",ok:jt.GTE,fail:jt.LT},exclusiveMaximum:{okStr:"<",ok:jt.LT,fail:jt.GTE},exclusiveMinimum:{okStr:">",ok:jt.GT,fail:jt.LTE}},Am={message:({keyword:e,schemaCode:t})=>(0,Un.str)`must be ${Vn[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Un._)`{comparison: ${Vn[e].okStr}, limit: ${t}}`},Lm={keyword:Object.keys(Vn),type:"number",schemaType:"number",$data:!0,error:Am,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Un._)`${r} ${Vn[t].fail} ${n} || isNaN(${r})`)}};ms.default=Lm;var ps={};Object.defineProperty(ps,"__esModule",{value:!0});const Wr=se,Fm={message:({schemaCode:e})=>(0,Wr.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Wr._)`{multipleOf: ${e}}`},km={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Fm,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),f=s?(0,Wr._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Wr._)`${o} !== parseInt(${o})`;e.fail$data((0,Wr._)`(${n} === 0 || (${o} = ${r}/${n}, ${f}))`)}};ps.default=km;var ys={},Es={};Object.defineProperty(Es,"__esModule",{value:!0});function Xc(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}Es.default=Xc;Xc.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(ys,"__esModule",{value:!0});const Xt=se,jm=G,Mm=Es,Um={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Xt.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Xt._)`{limit: ${e}}`},Vm={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Um,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,s=t==="maxLength"?Xt.operators.GT:Xt.operators.LT,o=i.opts.unicode===!1?(0,Xt._)`${r}.length`:(0,Xt._)`${(0,jm.useFunc)(e.gen,Mm.default)}(${r})`;e.fail$data((0,Xt._)`${o} ${s} ${n}`)}};ys.default=Vm;var $s={};Object.defineProperty($s,"__esModule",{value:!0});const zm=oe,zn=se,xm={message:({schemaCode:e})=>(0,zn.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,zn._)`{pattern: ${e}}`},Hm={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:xm,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",f=r?(0,zn._)`(new RegExp(${i}, ${o}))`:(0,zm.usePattern)(e,n);e.fail$data((0,zn._)`!${f}.test(${t})`)}};$s.default=Hm;var vs={};Object.defineProperty(vs,"__esModule",{value:!0});const Xr=se,Gm={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Xr.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Xr._)`{limit: ${e}}`},qm={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Gm,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?Xr.operators.GT:Xr.operators.LT;e.fail$data((0,Xr._)`Object.keys(${r}).length ${i} ${n}`)}};vs.default=qm;var gs={};Object.defineProperty(gs,"__esModule",{value:!0});const Hr=oe,Jr=se,Bm=G,Km={message:({params:{missingProperty:e}})=>(0,Jr.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Jr._)`{missingProperty: ${e}}`},Zm={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Km,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:s,it:o}=e,{opts:f}=o;if(!s&&r.length===0)return;const u=r.length>=f.loopRequired;if(o.allErrors?h():a(),f.strictRequired){const m=e.parentSchema.properties,{definedProperties:c}=e.it;for(const y of r)if(m?.[y]===void 0&&!c.has(y)){const E=o.schemaEnv.baseId+o.errSchemaPath,l=`required property "${y}" is not defined at "${E}" (strictRequired)`;(0,Bm.checkStrictMode)(o,l,o.opts.strictRequired)}}function h(){if(u||s)e.block$data(Jr.nil,d);else for(const m of r)(0,Hr.checkReportMissingProp)(e,m)}function a(){const m=t.let("missing");if(u||s){const c=t.let("valid",!0);e.block$data(c,()=>$(m,c)),e.ok(c)}else t.if((0,Hr.checkMissingProp)(e,r,m)),(0,Hr.reportMissingProp)(e,m),t.else()}function d(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,Hr.noPropertyInData)(t,i,m,f.ownProperties),()=>e.error())})}function $(m,c){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(c,(0,Hr.propertyInData)(t,i,m,f.ownProperties)),t.if((0,Jr.not)(c),()=>{e.error(),t.break()})},Jr.nil)}}};gs.default=Zm;var _s={};Object.defineProperty(_s,"__esModule",{value:!0});const Yr=se,Wm={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Yr.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Yr._)`{limit: ${e}}`},Xm={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Wm,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?Yr.operators.GT:Yr.operators.LT;e.fail$data((0,Yr._)`${r}.length ${i} ${n}`)}};_s.default=Xm;var ws={},un={};Object.defineProperty(un,"__esModule",{value:!0});const Jc=Tc;Jc.code='require("ajv/dist/runtime/equal").default';un.default=Jc;Object.defineProperty(ws,"__esModule",{value:!0});const $i=Re,Le=se,Jm=G,Ym=un,Qm={message:({params:{i:e,j:t}})=>(0,Le.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Le._)`{i: ${e}, j: ${t}}`},ep={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Qm,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:s,schemaCode:o,it:f}=e;if(!n&&!i)return;const u=t.let("valid"),h=s.items?(0,$i.getSchemaTypes)(s.items):[];e.block$data(u,a,(0,Le._)`${o} === false`),e.ok(u);function a(){const c=t.let("i",(0,Le._)`${r}.length`),y=t.let("j");e.setParams({i:c,j:y}),t.assign(u,!0),t.if((0,Le._)`${c} > 1`,()=>(d()?$:m)(c,y))}function d(){return h.length>0&&!h.some(c=>c==="object"||c==="array")}function $(c,y){const E=t.name("item"),l=(0,$i.checkDataTypes)(h,E,f.opts.strictNumbers,$i.DataType.Wrong),g=t.const("indices",(0,Le._)`{}`);t.for((0,Le._)`;${c}--;`,()=>{t.let(E,(0,Le._)`${r}[${c}]`),t.if(l,(0,Le._)`continue`),h.length>1&&t.if((0,Le._)`typeof ${E} == "string"`,(0,Le._)`${E} += "_"`),t.if((0,Le._)`typeof ${g}[${E}] == "number"`,()=>{t.assign(y,(0,Le._)`${g}[${E}]`),e.error(),t.assign(u,!1).break()}).code((0,Le._)`${g}[${E}] = ${c}`)})}function m(c,y){const E=(0,Jm.useFunc)(t,Ym.default),l=t.name("outer");t.label(l).for((0,Le._)`;${c}--;`,()=>t.for((0,Le._)`${y} = ${c}; ${y}--;`,()=>t.if((0,Le._)`${E}(${r}[${c}], ${r}[${y}])`,()=>{e.error(),t.assign(u,!1).break(l)})))}}};ws.default=ep;var Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});const ji=se,tp=G,rp=un,np={message:"must be equal to constant",params:({schemaCode:e})=>(0,ji._)`{allowedValue: ${e}}`},ip={keyword:"const",$data:!0,error:np,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,ji._)`!${(0,tp.useFunc)(t,rp.default)}(${r}, ${i})`):e.fail((0,ji._)`${s} !== ${r}`)}};Ss.default=ip;var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});const qr=se,sp=G,op=un,ap={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,qr._)`{allowedValues: ${e}}`},cp={keyword:"enum",schemaType:"array",$data:!0,error:ap,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:s,it:o}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const f=i.length>=o.opts.loopEnum;let u;const h=()=>u??(u=(0,sp.useFunc)(t,op.default));let a;if(f||n)a=t.let("valid"),e.block$data(a,d);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const m=t.const("vSchema",s);a=(0,qr.or)(...i.map((c,y)=>$(m,y)))}e.pass(a);function d(){t.assign(a,!1),t.forOf("v",s,m=>t.if((0,qr._)`${h()}(${r}, ${m})`,()=>t.assign(a,!0).break()))}function $(m,c){const y=i[c];return typeof y=="object"&&y!==null?(0,qr._)`${h()}(${r}, ${m}[${c}])`:(0,qr._)`${r} === ${y}`}}};Ns.default=cp;Object.defineProperty(hs,"__esModule",{value:!0});const up=ms,lp=ps,fp=ys,dp=$s,hp=vs,mp=gs,pp=_s,yp=ws,Ep=Ss,$p=Ns,vp=[up.default,lp.default,fp.default,dp.default,hp.default,mp.default,pp.default,yp.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Ep.default,$p.default];hs.default=vp;var Is={},Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.validateAdditionalItems=void 0;const Jt=se,Mi=G,gp={message:({params:{len:e}})=>(0,Jt.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Jt._)`{limit: ${e}}`},_p={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:gp,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Mi.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Yc(e,n)}};function Yc(e,t){const{gen:r,schema:n,data:i,keyword:s,it:o}=e;o.items=!0;const f=r.const("len",(0,Jt._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Jt._)`${f} <= ${t.length}`);else if(typeof n=="object"&&!(0,Mi.alwaysValidSchema)(o,n)){const h=r.var("valid",(0,Jt._)`${f} <= ${t.length}`);r.if((0,Jt.not)(h),()=>u(h)),e.ok(h)}function u(h){r.forRange("i",t.length,f,a=>{e.subschema({keyword:s,dataProp:a,dataPropType:Mi.Type.Num},h),o.allErrors||r.if((0,Jt.not)(h),()=>r.break())})}}Rr.validateAdditionalItems=Yc;Rr.default=_p;var Os={},Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.validateTuple=void 0;const zo=se,Dn=G,wp=oe,Sp={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Qc(e,"additionalItems",t);r.items=!0,!(0,Dn.alwaysValidSchema)(r,t)&&e.ok((0,wp.validateArray)(e))}};function Qc(e,t,r=e.schema){const{gen:n,parentSchema:i,data:s,keyword:o,it:f}=e;a(i),f.opts.unevaluated&&r.length&&f.items!==!0&&(f.items=Dn.mergeEvaluated.items(n,r.length,f.items));const u=n.name("valid"),h=n.const("len",(0,zo._)`${s}.length`);r.forEach((d,$)=>{(0,Dn.alwaysValidSchema)(f,d)||(n.if((0,zo._)`${h} > ${$}`,()=>e.subschema({keyword:o,schemaProp:$,dataProp:$},u)),e.ok(u))});function a(d){const{opts:$,errSchemaPath:m}=f,c=r.length,y=c===d.minItems&&(c===d.maxItems||d[t]===!1);if($.strictTuples&&!y){const E=`"${o}" is ${c}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,Dn.checkStrictMode)(f,E,$.strictTuples)}}}Pr.validateTuple=Qc;Pr.default=Sp;Object.defineProperty(Os,"__esModule",{value:!0});const Np=Pr,Ip={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Np.validateTuple)(e,"items")};Os.default=Ip;var bs={};Object.defineProperty(bs,"__esModule",{value:!0});const xo=se,Op=G,bp=oe,Cp=Rr,Rp={message:({params:{len:e}})=>(0,xo.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,xo._)`{limit: ${e}}`},Pp={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Rp,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,Op.alwaysValidSchema)(n,t)&&(i?(0,Cp.validateAdditionalItems)(e,i):e.ok((0,bp.validateArray)(e)))}};bs.default=Pp;var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});const st=se,_n=G,Tp={message:({params:{min:e,max:t}})=>t===void 0?(0,st.str)`must contain at least ${e} valid item(s)`:(0,st.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,st._)`{minContains: ${e}}`:(0,st._)`{minContains: ${e}, maxContains: ${t}}`},Dp={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Tp,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;let o,f;const{minContains:u,maxContains:h}=n;s.opts.next?(o=u===void 0?1:u,f=h):o=1;const a=t.const("len",(0,st._)`${i}.length`);if(e.setParams({min:o,max:f}),f===void 0&&o===0){(0,_n.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(f!==void 0&&o>f){(0,_n.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,_n.alwaysValidSchema)(s,r)){let y=(0,st._)`${a} >= ${o}`;f!==void 0&&(y=(0,st._)`${y} && ${a} <= ${f}`),e.pass(y);return}s.items=!0;const d=t.name("valid");f===void 0&&o===1?m(d,()=>t.if(d,()=>t.break())):o===0?(t.let(d,!0),f!==void 0&&t.if((0,st._)`${i}.length > 0`,$)):(t.let(d,!1),$()),e.result(d,()=>e.reset());function $(){const y=t.name("_valid"),E=t.let("count",0);m(y,()=>t.if(y,()=>c(E)))}function m(y,E){t.forRange("i",0,a,l=>{e.subschema({keyword:"contains",dataProp:l,dataPropType:_n.Type.Num,compositeRule:!0},y),E()})}function c(y){t.code((0,st._)`${y}++`),f===void 0?t.if((0,st._)`${y} >= ${o}`,()=>t.assign(d,!0).break()):(t.if((0,st._)`${y} > ${f}`,()=>t.assign(d,!1).break()),o===1?t.assign(d,!0):t.if((0,st._)`${y} >= ${o}`,()=>t.assign(d,!0)))}}};Cs.default=Dp;var eu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=se,r=G,n=oe;e.error={message:({params:{property:u,depsCount:h,deps:a}})=>{const d=h===1?"property":"properties";return(0,t.str)`must have ${d} ${a} when property ${u} is present`},params:({params:{property:u,depsCount:h,deps:a,missingProperty:d}})=>(0,t._)`{property: ${u},
    missingProperty: ${d},
    depsCount: ${h},
    deps: ${a}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[h,a]=s(u);o(u,h),f(u,a)}};function s({schema:u}){const h={},a={};for(const d in u){if(d==="__proto__")continue;const $=Array.isArray(u[d])?h:a;$[d]=u[d]}return[h,a]}function o(u,h=u.schema){const{gen:a,data:d,it:$}=u;if(Object.keys(h).length===0)return;const m=a.let("missing");for(const c in h){const y=h[c];if(y.length===0)continue;const E=(0,n.propertyInData)(a,d,c,$.opts.ownProperties);u.setParams({property:c,depsCount:y.length,deps:y.join(", ")}),$.allErrors?a.if(E,()=>{for(const l of y)(0,n.checkReportMissingProp)(u,l)}):(a.if((0,t._)`${E} && (${(0,n.checkMissingProp)(u,y,m)})`),(0,n.reportMissingProp)(u,m),a.else())}}e.validatePropertyDeps=o;function f(u,h=u.schema){const{gen:a,data:d,keyword:$,it:m}=u,c=a.name("valid");for(const y in h)(0,r.alwaysValidSchema)(m,h[y])||(a.if((0,n.propertyInData)(a,d,y,m.opts.ownProperties),()=>{const E=u.subschema({keyword:$,schemaProp:y},c);u.mergeValidEvaluated(E,c)},()=>a.var(c,!0)),u.ok(c))}e.validateSchemaDeps=f,e.default=i})(eu);var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});const tu=se,Ap=G,Lp={message:"property name must be valid",params:({params:e})=>(0,tu._)`{propertyName: ${e.propertyName}}`},Fp={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Lp,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,Ap.alwaysValidSchema)(i,r))return;const s=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,tu.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};Rs.default=Fp;var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});const wn=oe,at=se,kp=It,Sn=G,jp={message:"must NOT have additional properties",params:({params:e})=>(0,at._)`{additionalProperty: ${e.additionalProperty}}`},Mp={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:jp,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:f,opts:u}=o;if(o.props=!0,u.removeAdditional!=="all"&&(0,Sn.alwaysValidSchema)(o,r))return;const h=(0,wn.allSchemaProperties)(n.properties),a=(0,wn.allSchemaProperties)(n.patternProperties);d(),e.ok((0,at._)`${s} === ${kp.default.errors}`);function d(){t.forIn("key",i,E=>{!h.length&&!a.length?c(E):t.if($(E),()=>c(E))})}function $(E){let l;if(h.length>8){const g=(0,Sn.schemaRefOrVal)(o,n.properties,"properties");l=(0,wn.isOwnProperty)(t,g,E)}else h.length?l=(0,at.or)(...h.map(g=>(0,at._)`${E} === ${g}`)):l=at.nil;return a.length&&(l=(0,at.or)(l,...a.map(g=>(0,at._)`${(0,wn.usePattern)(e,g)}.test(${E})`))),(0,at.not)(l)}function m(E){t.code((0,at._)`delete ${i}[${E}]`)}function c(E){if(u.removeAdditional==="all"||u.removeAdditional&&r===!1){m(E);return}if(r===!1){e.setParams({additionalProperty:E}),e.error(),f||t.break();return}if(typeof r=="object"&&!(0,Sn.alwaysValidSchema)(o,r)){const l=t.name("valid");u.removeAdditional==="failing"?(y(E,l,!1),t.if((0,at.not)(l),()=>{e.reset(),m(E)})):(y(E,l),f||t.if((0,at.not)(l),()=>t.break()))}}function y(E,l,g){const I={keyword:"additionalProperties",dataProp:E,dataPropType:Sn.Type.Str};g===!1&&Object.assign(I,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(I,l)}}};Qn.default=Mp;var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});const Up=ut,Ho=oe,vi=G,Go=Qn,Vp={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Go.default.code(new Up.KeywordCxt(s,Go.default,"additionalProperties"));const o=(0,Ho.allSchemaProperties)(r);for(const d of o)s.definedProperties.add(d);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=vi.mergeEvaluated.props(t,(0,vi.toHash)(o),s.props));const f=o.filter(d=>!(0,vi.alwaysValidSchema)(s,r[d]));if(f.length===0)return;const u=t.name("valid");for(const d of f)h(d)?a(d):(t.if((0,Ho.propertyInData)(t,i,d,s.opts.ownProperties)),a(d),s.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(d),e.ok(u);function h(d){return s.opts.useDefaults&&!s.compositeRule&&r[d].default!==void 0}function a(d){e.subschema({keyword:"properties",schemaProp:d,dataProp:d},u)}}};Ps.default=Vp;var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});const qo=oe,Nn=se,Bo=G,Ko=G,zp={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:s}=e,{opts:o}=s,f=(0,qo.allSchemaProperties)(r),u=f.filter(y=>(0,Bo.alwaysValidSchema)(s,r[y]));if(f.length===0||u.length===f.length&&(!s.opts.unevaluated||s.props===!0))return;const h=o.strictSchema&&!o.allowMatchingProperties&&i.properties,a=t.name("valid");s.props!==!0&&!(s.props instanceof Nn.Name)&&(s.props=(0,Ko.evaluatedPropsToName)(t,s.props));const{props:d}=s;$();function $(){for(const y of f)h&&m(y),s.allErrors?c(y):(t.var(a,!0),c(y),t.if(a))}function m(y){for(const E in h)new RegExp(y).test(E)&&(0,Bo.checkStrictMode)(s,`property ${E} matches pattern ${y} (use allowMatchingProperties)`)}function c(y){t.forIn("key",n,E=>{t.if((0,Nn._)`${(0,qo.usePattern)(e,y)}.test(${E})`,()=>{const l=u.includes(y);l||e.subschema({keyword:"patternProperties",schemaProp:y,dataProp:E,dataPropType:Ko.Type.Str},a),s.opts.unevaluated&&d!==!0?t.assign((0,Nn._)`${d}[${E}]`,!0):!l&&!s.allErrors&&t.if((0,Nn.not)(a),()=>t.break())})})}}};Ts.default=zp;var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});const xp=G,Hp={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,xp.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Ds.default=Hp;var As={};Object.defineProperty(As,"__esModule",{value:!0});const Gp=oe,qp={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Gp.validateUnion,error:{message:"must match a schema in anyOf"}};As.default=qp;var Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});const An=se,Bp=G,Kp={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,An._)`{passingSchemas: ${e.passing}}`},Zp={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Kp,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const s=r,o=t.let("valid",!1),f=t.let("passing",null),u=t.name("_valid");e.setParams({passing:f}),t.block(h),e.result(o,()=>e.reset(),()=>e.error(!0));function h(){s.forEach((a,d)=>{let $;(0,Bp.alwaysValidSchema)(i,a)?t.var(u,!0):$=e.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},u),d>0&&t.if((0,An._)`${u} && ${o}`).assign(o,!1).assign(f,(0,An._)`[${f}, ${d}]`).else(),t.if(u,()=>{t.assign(o,!0),t.assign(f,d),$&&e.mergeEvaluated($,An.Name)})})}}};Ls.default=Zp;var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});const Wp=G,Xp={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((s,o)=>{if((0,Wp.alwaysValidSchema)(n,s))return;const f=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(f)})}};Fs.default=Xp;var ks={};Object.defineProperty(ks,"__esModule",{value:!0});const xn=se,ru=G,Jp={message:({params:e})=>(0,xn.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,xn._)`{failingKeyword: ${e.ifClause}}`},Yp={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Jp,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,ru.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=Zo(n,"then"),s=Zo(n,"else");if(!i&&!s)return;const o=t.let("valid",!0),f=t.name("_valid");if(u(),e.reset(),i&&s){const a=t.let("ifClause");e.setParams({ifClause:a}),t.if(f,h("then",a),h("else",a))}else i?t.if(f,h("then")):t.if((0,xn.not)(f),h("else"));e.pass(o,()=>e.error(!0));function u(){const a=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},f);e.mergeEvaluated(a)}function h(a,d){return()=>{const $=e.subschema({keyword:a},f);t.assign(o,f),e.mergeValidEvaluated($,o),d?t.assign(d,(0,xn._)`${a}`):e.setParams({ifClause:a})}}}};function Zo(e,t){const r=e.schema[t];return r!==void 0&&!(0,ru.alwaysValidSchema)(e,r)}ks.default=Yp;var js={};Object.defineProperty(js,"__esModule",{value:!0});const Qp=G,ey={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Qp.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};js.default=ey;Object.defineProperty(Is,"__esModule",{value:!0});const ty=Rr,ry=Os,ny=Pr,iy=bs,sy=Cs,oy=eu,ay=Rs,cy=Qn,uy=Ps,ly=Ts,fy=Ds,dy=As,hy=Ls,my=Fs,py=ks,yy=js;function Ey(e=!1){const t=[fy.default,dy.default,hy.default,my.default,py.default,yy.default,ay.default,cy.default,oy.default,uy.default,ly.default];return e?t.push(ry.default,iy.default):t.push(ty.default,ny.default),t.push(sy.default),t}Is.default=Ey;var Ms={},Us={};Object.defineProperty(Us,"__esModule",{value:!0});const Ie=se,$y={message:({schemaCode:e})=>(0,Ie.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Ie._)`{format: ${e}}`},vy={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:$y,code(e,t){const{gen:r,data:n,$data:i,schema:s,schemaCode:o,it:f}=e,{opts:u,errSchemaPath:h,schemaEnv:a,self:d}=f;if(!u.validateFormats)return;i?$():m();function $(){const c=r.scopeValue("formats",{ref:d.formats,code:u.code.formats}),y=r.const("fDef",(0,Ie._)`${c}[${o}]`),E=r.let("fType"),l=r.let("format");r.if((0,Ie._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>r.assign(E,(0,Ie._)`${y}.type || "string"`).assign(l,(0,Ie._)`${y}.validate`),()=>r.assign(E,(0,Ie._)`"string"`).assign(l,y)),e.fail$data((0,Ie.or)(g(),I()));function g(){return u.strictSchema===!1?Ie.nil:(0,Ie._)`${o} && !${l}`}function I(){const T=a.$async?(0,Ie._)`(${y}.async ? await ${l}(${n}) : ${l}(${n}))`:(0,Ie._)`${l}(${n})`,k=(0,Ie._)`(typeof ${l} == "function" ? ${T} : ${l}.test(${n}))`;return(0,Ie._)`${l} && ${l} !== true && ${E} === ${t} && !${k}`}}function m(){const c=d.formats[s];if(!c){g();return}if(c===!0)return;const[y,E,l]=I(c);y===t&&e.pass(T());function g(){if(u.strictSchema===!1){d.logger.warn(k());return}throw new Error(k());function k(){return`unknown format "${s}" ignored in schema at path "${h}"`}}function I(k){const W=k instanceof RegExp?(0,Ie.regexpCode)(k):u.code.formats?(0,Ie._)`${u.code.formats}${(0,Ie.getProperty)(s)}`:void 0,Q=r.scopeValue("formats",{key:s,ref:k,code:W});return typeof k=="object"&&!(k instanceof RegExp)?[k.type||"string",k.validate,(0,Ie._)`${Q}.validate`]:["string",k,Q]}function T(){if(typeof c=="object"&&!(c instanceof RegExp)&&c.async){if(!a.$async)throw new Error("async format in sync schema");return(0,Ie._)`await ${l}(${n})`}return typeof E=="function"?(0,Ie._)`${l}(${n})`:(0,Ie._)`${l}.test(${n})`}}}};Us.default=vy;Object.defineProperty(Ms,"__esModule",{value:!0});const gy=Us,_y=[gy.default];Ms.default=_y;var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.contentVocabulary=Ir.metadataVocabulary=void 0;Ir.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Ir.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(ls,"__esModule",{value:!0});const wy=fs,Sy=hs,Ny=Is,Iy=Ms,Wo=Ir,Oy=[wy.default,Sy.default,(0,Ny.default)(),Iy.default,Wo.metadataVocabulary,Wo.contentVocabulary];ls.default=Oy;var Vs={},ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.DiscrError=void 0;var Xo;(function(e){e.Tag="tag",e.Mapping="mapping"})(Xo||(ei.DiscrError=Xo={}));Object.defineProperty(Vs,"__esModule",{value:!0});const yr=se,Ui=ei,Jo=Je,by=Cr,Cy=G,Ry={message:({params:{discrError:e,tagName:t}})=>e===Ui.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,yr._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Py={keyword:"discriminator",type:"object",schemaType:"object",error:Ry,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const f=n.propertyName;if(typeof f!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),h=t.const("tag",(0,yr._)`${r}${(0,yr.getProperty)(f)}`);t.if((0,yr._)`typeof ${h} == "string"`,()=>a(),()=>e.error(!1,{discrError:Ui.DiscrError.Tag,tag:h,tagName:f})),e.ok(u);function a(){const m=$();t.if(!1);for(const c in m)t.elseIf((0,yr._)`${h} === ${c}`),t.assign(u,d(m[c]));t.else(),e.error(!1,{discrError:Ui.DiscrError.Mapping,tag:h,tagName:f}),t.endIf()}function d(m){const c=t.name("valid"),y=e.subschema({keyword:"oneOf",schemaProp:m},c);return e.mergeEvaluated(y,yr.Name),c}function $(){var m;const c={},y=l(i);let E=!0;for(let T=0;T<o.length;T++){let k=o[T];if(k?.$ref&&!(0,Cy.schemaHasRulesButRef)(k,s.self.RULES)){const Q=k.$ref;if(k=Jo.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,Q),k instanceof Jo.SchemaEnv&&(k=k.schema),k===void 0)throw new by.default(s.opts.uriResolver,s.baseId,Q)}const W=(m=k?.properties)===null||m===void 0?void 0:m[f];if(typeof W!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${f}"`);E=E&&(y||l(k)),g(W,T)}if(!E)throw new Error(`discriminator: "${f}" must be required`);return c;function l({required:T}){return Array.isArray(T)&&T.includes(f)}function g(T,k){if(T.const)I(T.const,k);else if(T.enum)for(const W of T.enum)I(W,k);else throw new Error(`discriminator: "properties/${f}" must have "const" or "enum"`)}function I(T,k){if(typeof T!="string"||T in c)throw new Error(`discriminator: "${f}" values must be unique strings`);c[T]=k}}}};Vs.default=Py;const Ty="http://json-schema.org/draft-07/schema#",Dy="http://json-schema.org/draft-07/schema#",Ay="Core schema meta-schema",Ly={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Fy=["object","boolean"],ky={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},jy={$schema:Ty,$id:Dy,title:Ay,definitions:Ly,type:Fy,properties:ky,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=pc,n=ls,i=Vs,s=jy,o=["/properties"],f="http://json-schema.org/draft-07/schema";class u extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(c=>this.addVocabulary(c)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const c=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(c,f,!1),this.refs["http://json-schema.org/schema"]=f}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(f)?f:void 0)}}t.Ajv=u,e.exports=t=u,e.exports.Ajv=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var h=ut;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return h.KeywordCxt}});var a=se;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return a._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return a.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return a.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return a.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return a.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return a.CodeGen}});var d=cn;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var $=Cr;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return $.default}})})(Ti,Ti.exports);var nu=Ti.exports;const My=qn(nu);var Vi={exports:{}},iu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(A,z){return{validate:A,compare:z}}e.fullFormats={date:t(s,o),time:t(u,h),"date-time":t(d,$),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:y,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:fe,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:l,int32:{type:"number",validate:T},int64:{type:"number",validate:k},float:{type:"number",validate:W},double:{type:"number",validate:W},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,h),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,$),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(A){return A%4===0&&(A%100!==0||A%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(A){const z=n.exec(A);if(!z)return!1;const B=+z[1],Z=+z[2],F=+z[3];return Z>=1&&Z<=12&&F>=1&&F<=(Z===2&&r(B)?29:i[Z])}function o(A,z){if(A&&z)return A>z?1:A<z?-1:0}const f=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function u(A,z){const B=f.exec(A);if(!B)return!1;const Z=+B[1],F=+B[2],D=+B[3],j=B[5];return(Z<=23&&F<=59&&D<=59||Z===23&&F===59&&D===60)&&(!z||j!=="")}function h(A,z){if(!(A&&z))return;const B=f.exec(A),Z=f.exec(z);if(B&&Z)return A=B[1]+B[2]+B[3]+(B[4]||""),z=Z[1]+Z[2]+Z[3]+(Z[4]||""),A>z?1:A<z?-1:0}const a=/t|\s/i;function d(A){const z=A.split(a);return z.length===2&&s(z[0])&&u(z[1],!0)}function $(A,z){if(!(A&&z))return;const[B,Z]=A.split(a),[F,D]=z.split(a),j=o(B,F);if(j!==void 0)return j||h(Z,D)}const m=/\/|:/,c=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function y(A){return m.test(A)&&c.test(A)}const E=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function l(A){return E.lastIndex=0,E.test(A)}const g=-(2**31),I=2**31-1;function T(A){return Number.isInteger(A)&&A<=I&&A>=g}function k(A){return Number.isInteger(A)}function W(){return!0}const Q=/[^\\]\\Z/;function fe(A){if(Q.test(A))return!1;try{return new RegExp(A),!0}catch{return!1}}})(iu);var su={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=nu,r=se,n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:f,schemaCode:u})=>r.str`should be ${i[f].okStr} ${u}`,params:({keyword:f,schemaCode:u})=>r._`{comparison: ${i[f].okStr}, limit: ${u}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:s,code(f){const{gen:u,data:h,schemaCode:a,keyword:d,it:$}=f,{opts:m,self:c}=$;if(!m.validateFormats)return;const y=new t.KeywordCxt($,c.RULES.all.format.definition,"format");y.$data?E():l();function E(){const I=u.scopeValue("formats",{ref:c.formats,code:m.code.formats}),T=u.const("fmt",r._`${I}[${y.schemaCode}]`);f.fail$data(r.or(r._`typeof ${T} != "object"`,r._`${T} instanceof RegExp`,r._`typeof ${T}.compare != "function"`,g(T)))}function l(){const I=y.schema,T=c.formats[I];if(!T||T===!0)return;if(typeof T!="object"||T instanceof RegExp||typeof T.compare!="function")throw new Error(`"${d}": format "${I}" does not define "compare" function`);const k=u.scopeValue("formats",{key:I,ref:T,code:m.code.formats?r._`${m.code.formats}${r.getProperty(I)}`:void 0});f.fail$data(g(k))}function g(I){return r._`${I}.compare(${h}, ${a}) ${i[d].fail} 0`}},dependencies:["format"]};const o=f=>(f.addKeyword(e.formatLimitDefinition),f);e.default=o})(su);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=iu,n=su,i=se,s=new i.Name("fullFormats"),o=new i.Name("fastFormats"),f=(h,a={keywords:!0})=>{if(Array.isArray(a))return u(h,a,r.fullFormats,s),h;const[d,$]=a.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,s],m=a.formats||r.formatNames;return u(h,m,d,$),a.keywords&&n.default(h),h};f.get=(h,a="full")=>{const $=(a==="fast"?r.fastFormats:r.fullFormats)[h];if(!$)throw new Error(`Unknown format "${h}"`);return $};function u(h,a,d,$){var m,c;(m=(c=h.opts.code).formats)!==null&&m!==void 0||(c.formats=i._`require("ajv-formats/dist/formats").${$}`);for(const y of a)h.addFormat(y,d[y])}e.exports=t=f,Object.defineProperty(t,"__esModule",{value:!0}),t.default=f})(Vi,Vi.exports);var Uy=Vi.exports;const Vy=qn(Uy),zy=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const i=Object.getOwnPropertyDescriptor(e,r),s=Object.getOwnPropertyDescriptor(t,r);!xy(i,s)&&n||Object.defineProperty(e,r,s)},xy=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},Hy=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},Gy=(e,t)=>`/* Wrapped ${e}*/
${t}`,qy=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),By=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Ky=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,i=Gy.bind(null,n,t.toString());Object.defineProperty(i,"name",By),Object.defineProperty(e,"toString",{...qy,value:i})};function Zy(e,t,{ignoreNonConfigurable:r=!1}={}){const{name:n}=e;for(const i of Reflect.ownKeys(t))zy(e,t,i,r);return Hy(e,t),Ky(e,t,n),e}const Yo=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,maxWait:n=Number.POSITIVE_INFINITY,before:i=!1,after:s=!0}=t;if(!i&&!s)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let o,f,u;const h=function(...a){const d=this,$=()=>{o=void 0,f&&(clearTimeout(f),f=void 0),s&&(u=e.apply(d,a))},m=()=>{f=void 0,o&&(clearTimeout(o),o=void 0),s&&(u=e.apply(d,a))},c=i&&!o;return clearTimeout(o),o=setTimeout($,r),n>0&&n!==Number.POSITIVE_INFINITY&&!f&&(f=setTimeout(m,n)),c&&(u=e.apply(d,a)),u};return Zy(h,e),h.cancel=()=>{o&&(clearTimeout(o),o=void 0),f&&(clearTimeout(f),f=void 0)},h};var zi={exports:{}};const Wy="2.0.0",ou=256,Xy=Number.MAX_SAFE_INTEGER||9007199254740991,Jy=16,Yy=ou-6,Qy=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var ti={MAX_LENGTH:ou,MAX_SAFE_COMPONENT_LENGTH:Jy,MAX_SAFE_BUILD_LENGTH:Yy,MAX_SAFE_INTEGER:Xy,RELEASE_TYPES:Qy,SEMVER_SPEC_VERSION:Wy,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const e0=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var ri=e0;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=ti,s=ri;t=e.exports={};const o=t.re=[],f=t.safeRe=[],u=t.src=[],h=t.t={};let a=0;const d="[a-zA-Z0-9-]",$=[["\\s",1],["\\d",i],[d,n]],m=y=>{for(const[E,l]of $)y=y.split(`${E}*`).join(`${E}{0,${l}}`).split(`${E}+`).join(`${E}{1,${l}}`);return y},c=(y,E,l)=>{const g=m(E),I=a++;s(y,I,E),h[y]=I,u[I]=E,o[I]=new RegExp(E,l?"g":void 0),f[I]=new RegExp(g,l?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","\\d+"),c("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),c("MAINVERSION",`(${u[h.NUMERICIDENTIFIER]})\\.(${u[h.NUMERICIDENTIFIER]})\\.(${u[h.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${u[h.NUMERICIDENTIFIERLOOSE]})\\.(${u[h.NUMERICIDENTIFIERLOOSE]})\\.(${u[h.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${u[h.NUMERICIDENTIFIER]}|${u[h.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${u[h.NUMERICIDENTIFIERLOOSE]}|${u[h.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${u[h.PRERELEASEIDENTIFIER]}(?:\\.${u[h.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${u[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[h.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER",`${d}+`),c("BUILD",`(?:\\+(${u[h.BUILDIDENTIFIER]}(?:\\.${u[h.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${u[h.MAINVERSION]}${u[h.PRERELEASE]}?${u[h.BUILD]}?`),c("FULL",`^${u[h.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${u[h.MAINVERSIONLOOSE]}${u[h.PRERELEASELOOSE]}?${u[h.BUILD]}?`),c("LOOSE",`^${u[h.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",`${u[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),c("XRANGEIDENTIFIER",`${u[h.NUMERICIDENTIFIER]}|x|X|\\*`),c("XRANGEPLAIN",`[v=\\s]*(${u[h.XRANGEIDENTIFIER]})(?:\\.(${u[h.XRANGEIDENTIFIER]})(?:\\.(${u[h.XRANGEIDENTIFIER]})(?:${u[h.PRERELEASE]})?${u[h.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${u[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[h.XRANGEIDENTIFIERLOOSE]})(?:${u[h.PRERELEASELOOSE]})?${u[h.BUILD]}?)?)?`),c("XRANGE",`^${u[h.GTLT]}\\s*${u[h.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${u[h.GTLT]}\\s*${u[h.XRANGEPLAINLOOSE]}$`),c("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),c("COERCE",`${u[h.COERCEPLAIN]}(?:$|[^\\d])`),c("COERCEFULL",u[h.COERCEPLAIN]+`(?:${u[h.PRERELEASE]})?(?:${u[h.BUILD]})?(?:$|[^\\d])`),c("COERCERTL",u[h.COERCE],!0),c("COERCERTLFULL",u[h.COERCEFULL],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${u[h.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",c("TILDE",`^${u[h.LONETILDE]}${u[h.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${u[h.LONETILDE]}${u[h.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${u[h.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",c("CARET",`^${u[h.LONECARET]}${u[h.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${u[h.LONECARET]}${u[h.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${u[h.GTLT]}\\s*(${u[h.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${u[h.GTLT]}\\s*(${u[h.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${u[h.GTLT]}\\s*(${u[h.LOOSEPLAIN]}|${u[h.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${u[h.XRANGEPLAIN]})\\s+-\\s+(${u[h.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${u[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[h.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(zi,zi.exports);var ln=zi.exports;const t0=Object.freeze({loose:!0}),r0=Object.freeze({}),n0=e=>e?typeof e!="object"?t0:e:r0;var zs=n0;const Qo=/^[0-9]+$/,au=(e,t)=>{const r=Qo.test(e),n=Qo.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},i0=(e,t)=>au(t,e);var cu={compareIdentifiers:au,rcompareIdentifiers:i0};const In=ri,{MAX_LENGTH:ea,MAX_SAFE_INTEGER:On}=ti,{safeRe:ta,t:ra}=ln,s0=zs,{compareIdentifiers:hr}=cu;let o0=class gt{constructor(t,r){if(r=s0(r),t instanceof gt){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>ea)throw new TypeError(`version is longer than ${ea} characters`);In("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?ta[ra.LOOSE]:ta[ra.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>On||this.major<0)throw new TypeError("Invalid major version");if(this.minor>On||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>On||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<On)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(In("SemVer.compare",this.version,this.options,t),!(t instanceof gt)){if(typeof t=="string"&&t===this.version)return 0;t=new gt(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof gt||(t=new gt(t,this.options)),hr(this.major,t.major)||hr(this.minor,t.minor)||hr(this.patch,t.patch)}comparePre(t){if(t instanceof gt||(t=new gt(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=t.prerelease[r];if(In("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return hr(n,i)}while(++r)}compareBuild(t){t instanceof gt||(t=new gt(t,this.options));let r=0;do{const n=this.build[r],i=t.build[r];if(In("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return hr(n,i)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),hr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Ze=o0;const na=Ze,a0=(e,t,r=!1)=>{if(e instanceof na)return e;try{return new na(e,t)}catch(n){if(!r)return null;throw n}};var Tr=a0;const c0=Tr,u0=(e,t)=>{const r=c0(e,t);return r?r.version:null};var l0=u0;const f0=Tr,d0=(e,t)=>{const r=f0(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var h0=d0;const ia=Ze,m0=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new ia(e instanceof ia?e.version:e,r).inc(t,n,i).version}catch{return null}};var p0=m0;const sa=Tr,y0=(e,t)=>{const r=sa(e,null,!0),n=sa(t,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,f=s?n:r,u=!!o.prerelease.length;if(!!f.prerelease.length&&!u)return!f.patch&&!f.minor?"major":o.patch?"patch":o.minor?"minor":"major";const a=u?"pre":"";return r.major!==n.major?a+"major":r.minor!==n.minor?a+"minor":r.patch!==n.patch?a+"patch":"prerelease"};var E0=y0;const $0=Ze,v0=(e,t)=>new $0(e,t).major;var g0=v0;const _0=Ze,w0=(e,t)=>new _0(e,t).minor;var S0=w0;const N0=Ze,I0=(e,t)=>new N0(e,t).patch;var O0=I0;const b0=Tr,C0=(e,t)=>{const r=b0(e,t);return r&&r.prerelease.length?r.prerelease:null};var R0=C0;const oa=Ze,P0=(e,t,r)=>new oa(e,r).compare(new oa(t,r));var ft=P0;const T0=ft,D0=(e,t,r)=>T0(t,e,r);var A0=D0;const L0=ft,F0=(e,t)=>L0(e,t,!0);var k0=F0;const aa=Ze,j0=(e,t,r)=>{const n=new aa(e,r),i=new aa(t,r);return n.compare(i)||n.compareBuild(i)};var xs=j0;const M0=xs,U0=(e,t)=>e.sort((r,n)=>M0(r,n,t));var V0=U0;const z0=xs,x0=(e,t)=>e.sort((r,n)=>z0(n,r,t));var H0=x0;const G0=ft,q0=(e,t,r)=>G0(e,t,r)>0;var ni=q0;const B0=ft,K0=(e,t,r)=>B0(e,t,r)<0;var Hs=K0;const Z0=ft,W0=(e,t,r)=>Z0(e,t,r)===0;var uu=W0;const X0=ft,J0=(e,t,r)=>X0(e,t,r)!==0;var lu=J0;const Y0=ft,Q0=(e,t,r)=>Y0(e,t,r)>=0;var Gs=Q0;const eE=ft,tE=(e,t,r)=>eE(e,t,r)<=0;var qs=tE;const rE=uu,nE=lu,iE=ni,sE=Gs,oE=Hs,aE=qs,cE=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return rE(e,r,n);case"!=":return nE(e,r,n);case">":return iE(e,r,n);case">=":return sE(e,r,n);case"<":return oE(e,r,n);case"<=":return aE(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var fu=cE;const uE=Ze,lE=Tr,{safeRe:bn,t:Cn}=ln,fE=(e,t)=>{if(e instanceof uE)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?bn[Cn.COERCEFULL]:bn[Cn.COERCE]);else{const u=t.includePrerelease?bn[Cn.COERCERTLFULL]:bn[Cn.COERCERTL];let h;for(;(h=u.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||h.index+h[0].length!==r.index+r[0].length)&&(r=h),u.lastIndex=h.index+h[1].length+h[2].length;u.lastIndex=-1}if(r===null)return null;const n=r[2],i=r[3]||"0",s=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",f=t.includePrerelease&&r[6]?`+${r[6]}`:"";return lE(`${n}.${i}.${s}${o}${f}`,t)};var dE=fE;class hE{constructor(){this.max=1e3,this.map=new Map}get(t){const r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}}var mE=hE,gi,ca;function dt(){if(ca)return gi;ca=1;class e{constructor(D,j){if(j=n(j),D instanceof e)return D.loose===!!j.loose&&D.includePrerelease===!!j.includePrerelease?D:new e(D.raw,j);if(D instanceof i)return this.raw=D.value,this.set=[[D]],this.format(),this;if(this.options=j,this.loose=!!j.loose,this.includePrerelease=!!j.includePrerelease,this.raw=D.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(U=>this.parseRange(U.trim())).filter(U=>U.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const U=this.set[0];if(this.set=this.set.filter(M=>!c(M[0])),this.set.length===0)this.set=[U];else if(this.set.length>1){for(const M of this.set)if(M.length===1&&y(M[0])){this.set=[M];break}}}this.format()}format(){return this.range=this.set.map(D=>D.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(D){const U=((this.options.includePrerelease&&$)|(this.options.loose&&m))+":"+D,M=r.get(U);if(M)return M;const V=this.options.loose,x=V?f[u.HYPHENRANGELOOSE]:f[u.HYPHENRANGE];D=D.replace(x,B(this.options.includePrerelease)),s("hyphen replace",D),D=D.replace(f[u.COMPARATORTRIM],h),s("comparator trim",D),D=D.replace(f[u.TILDETRIM],a),s("tilde trim",D),D=D.replace(f[u.CARETTRIM],d),s("caret trim",D);let L=D.split(" ").map(p=>l(p,this.options)).join(" ").split(/\s+/).map(p=>z(p,this.options));V&&(L=L.filter(p=>(s("loose invalid filter",p,this.options),!!p.match(f[u.COMPARATORLOOSE])))),s("range list",L);const N=new Map,R=L.map(p=>new i(p,this.options));for(const p of R){if(c(p))return[p];N.set(p.value,p)}N.size>1&&N.has("")&&N.delete("");const O=[...N.values()];return r.set(U,O),O}intersects(D,j){if(!(D instanceof e))throw new TypeError("a Range is required");return this.set.some(U=>E(U,j)&&D.set.some(M=>E(M,j)&&U.every(V=>M.every(x=>V.intersects(x,j)))))}test(D){if(!D)return!1;if(typeof D=="string")try{D=new o(D,this.options)}catch{return!1}for(let j=0;j<this.set.length;j++)if(Z(this.set[j],D,this.options))return!0;return!1}}gi=e;const t=mE,r=new t,n=zs,i=ii(),s=ri,o=Ze,{safeRe:f,t:u,comparatorTrimReplace:h,tildeTrimReplace:a,caretTrimReplace:d}=ln,{FLAG_INCLUDE_PRERELEASE:$,FLAG_LOOSE:m}=ti,c=F=>F.value==="<0.0.0-0",y=F=>F.value==="",E=(F,D)=>{let j=!0;const U=F.slice();let M=U.pop();for(;j&&U.length;)j=U.every(V=>M.intersects(V,D)),M=U.pop();return j},l=(F,D)=>(s("comp",F,D),F=k(F,D),s("caret",F),F=I(F,D),s("tildes",F),F=Q(F,D),s("xrange",F),F=A(F,D),s("stars",F),F),g=F=>!F||F.toLowerCase()==="x"||F==="*",I=(F,D)=>F.trim().split(/\s+/).map(j=>T(j,D)).join(" "),T=(F,D)=>{const j=D.loose?f[u.TILDELOOSE]:f[u.TILDE];return F.replace(j,(U,M,V,x,L)=>{s("tilde",F,U,M,V,x,L);let N;return g(M)?N="":g(V)?N=`>=${M}.0.0 <${+M+1}.0.0-0`:g(x)?N=`>=${M}.${V}.0 <${M}.${+V+1}.0-0`:L?(s("replaceTilde pr",L),N=`>=${M}.${V}.${x}-${L} <${M}.${+V+1}.0-0`):N=`>=${M}.${V}.${x} <${M}.${+V+1}.0-0`,s("tilde return",N),N})},k=(F,D)=>F.trim().split(/\s+/).map(j=>W(j,D)).join(" "),W=(F,D)=>{s("caret",F,D);const j=D.loose?f[u.CARETLOOSE]:f[u.CARET],U=D.includePrerelease?"-0":"";return F.replace(j,(M,V,x,L,N)=>{s("caret",F,M,V,x,L,N);let R;return g(V)?R="":g(x)?R=`>=${V}.0.0${U} <${+V+1}.0.0-0`:g(L)?V==="0"?R=`>=${V}.${x}.0${U} <${V}.${+x+1}.0-0`:R=`>=${V}.${x}.0${U} <${+V+1}.0.0-0`:N?(s("replaceCaret pr",N),V==="0"?x==="0"?R=`>=${V}.${x}.${L}-${N} <${V}.${x}.${+L+1}-0`:R=`>=${V}.${x}.${L}-${N} <${V}.${+x+1}.0-0`:R=`>=${V}.${x}.${L}-${N} <${+V+1}.0.0-0`):(s("no pr"),V==="0"?x==="0"?R=`>=${V}.${x}.${L}${U} <${V}.${x}.${+L+1}-0`:R=`>=${V}.${x}.${L}${U} <${V}.${+x+1}.0-0`:R=`>=${V}.${x}.${L} <${+V+1}.0.0-0`),s("caret return",R),R})},Q=(F,D)=>(s("replaceXRanges",F,D),F.split(/\s+/).map(j=>fe(j,D)).join(" ")),fe=(F,D)=>{F=F.trim();const j=D.loose?f[u.XRANGELOOSE]:f[u.XRANGE];return F.replace(j,(U,M,V,x,L,N)=>{s("xRange",F,U,M,V,x,L,N);const R=g(V),O=R||g(x),p=O||g(L),w=p;return M==="="&&w&&(M=""),N=D.includePrerelease?"-0":"",R?M===">"||M==="<"?U="<0.0.0-0":U="*":M&&w?(O&&(x=0),L=0,M===">"?(M=">=",O?(V=+V+1,x=0,L=0):(x=+x+1,L=0)):M==="<="&&(M="<",O?V=+V+1:x=+x+1),M==="<"&&(N="-0"),U=`${M+V}.${x}.${L}${N}`):O?U=`>=${V}.0.0${N} <${+V+1}.0.0-0`:p&&(U=`>=${V}.${x}.0${N} <${V}.${+x+1}.0-0`),s("xRange return",U),U})},A=(F,D)=>(s("replaceStars",F,D),F.trim().replace(f[u.STAR],"")),z=(F,D)=>(s("replaceGTE0",F,D),F.trim().replace(f[D.includePrerelease?u.GTE0PRE:u.GTE0],"")),B=F=>(D,j,U,M,V,x,L,N,R,O,p,w)=>(g(U)?j="":g(M)?j=`>=${U}.0.0${F?"-0":""}`:g(V)?j=`>=${U}.${M}.0${F?"-0":""}`:x?j=`>=${j}`:j=`>=${j}${F?"-0":""}`,g(R)?N="":g(O)?N=`<${+R+1}.0.0-0`:g(p)?N=`<${R}.${+O+1}.0-0`:w?N=`<=${R}.${O}.${p}-${w}`:F?N=`<${R}.${O}.${+p+1}-0`:N=`<=${N}`,`${j} ${N}`.trim()),Z=(F,D,j)=>{for(let U=0;U<F.length;U++)if(!F[U].test(D))return!1;if(D.prerelease.length&&!j.includePrerelease){for(let U=0;U<F.length;U++)if(s(F[U].semver),F[U].semver!==i.ANY&&F[U].semver.prerelease.length>0){const M=F[U].semver;if(M.major===D.major&&M.minor===D.minor&&M.patch===D.patch)return!0}return!1}return!0};return gi}var _i,ua;function ii(){if(ua)return _i;ua=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(a,d){if(d=r(d),a instanceof t){if(a.loose===!!d.loose)return a;a=a.value}a=a.trim().split(/\s+/).join(" "),o("comparator",a,d),this.options=d,this.loose=!!d.loose,this.parse(a),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(a){const d=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],$=a.match(d);if(!$)throw new TypeError(`Invalid comparator: ${a}`);this.operator=$[1]!==void 0?$[1]:"",this.operator==="="&&(this.operator=""),$[2]?this.semver=new f($[2],this.options.loose):this.semver=e}toString(){return this.value}test(a){if(o("Comparator.test",a,this.options.loose),this.semver===e||a===e)return!0;if(typeof a=="string")try{a=new f(a,this.options)}catch{return!1}return s(a,this.operator,this.semver,this.options)}intersects(a,d){if(!(a instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(a.value,d).test(this.value):a.operator===""?a.value===""?!0:new u(this.value,d).test(a.semver):(d=r(d),d.includePrerelease&&(this.value==="<0.0.0-0"||a.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||a.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&a.operator.startsWith(">")||this.operator.startsWith("<")&&a.operator.startsWith("<")||this.semver.version===a.semver.version&&this.operator.includes("=")&&a.operator.includes("=")||s(this.semver,"<",a.semver,d)&&this.operator.startsWith(">")&&a.operator.startsWith("<")||s(this.semver,">",a.semver,d)&&this.operator.startsWith("<")&&a.operator.startsWith(">")))}}_i=t;const r=zs,{safeRe:n,t:i}=ln,s=fu,o=ri,f=Ze,u=dt();return _i}const pE=dt(),yE=(e,t,r)=>{try{t=new pE(t,r)}catch{return!1}return t.test(e)};var si=yE;const EE=dt(),$E=(e,t)=>new EE(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var vE=$E;const gE=Ze,_E=dt(),wE=(e,t,r)=>{let n=null,i=null,s=null;try{s=new _E(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new gE(n,r))}),n};var SE=wE;const NE=Ze,IE=dt(),OE=(e,t,r)=>{let n=null,i=null,s=null;try{s=new IE(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new NE(n,r))}),n};var bE=OE;const wi=Ze,CE=dt(),la=ni,RE=(e,t)=>{e=new CE(e,t);let r=new wi("0.0.0");if(e.test(r)||(r=new wi("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const i=e.set[n];let s=null;i.forEach(o=>{const f=new wi(o.semver.version);switch(o.operator){case">":f.prerelease.length===0?f.patch++:f.prerelease.push(0),f.raw=f.format();case"":case">=":(!s||la(f,s))&&(s=f);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||la(r,s))&&(r=s)}return r&&e.test(r)?r:null};var PE=RE;const TE=dt(),DE=(e,t)=>{try{return new TE(e,t).range||"*"}catch{return null}};var AE=DE;const LE=Ze,du=ii(),{ANY:FE}=du,kE=dt(),jE=si,fa=ni,da=Hs,ME=qs,UE=Gs,VE=(e,t,r,n)=>{e=new LE(e,n),t=new kE(t,n);let i,s,o,f,u;switch(r){case">":i=fa,s=ME,o=da,f=">",u=">=";break;case"<":i=da,s=UE,o=fa,f="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(jE(e,t,n))return!1;for(let h=0;h<t.set.length;++h){const a=t.set[h];let d=null,$=null;if(a.forEach(m=>{m.semver===FE&&(m=new du(">=0.0.0")),d=d||m,$=$||m,i(m.semver,d.semver,n)?d=m:o(m.semver,$.semver,n)&&($=m)}),d.operator===f||d.operator===u||(!$.operator||$.operator===f)&&s(e,$.semver))return!1;if($.operator===u&&o(e,$.semver))return!1}return!0};var Bs=VE;const zE=Bs,xE=(e,t,r)=>zE(e,t,">",r);var HE=xE;const GE=Bs,qE=(e,t,r)=>GE(e,t,"<",r);var BE=qE;const ha=dt(),KE=(e,t,r)=>(e=new ha(e,r),t=new ha(t,r),e.intersects(t,r));var ZE=KE;const WE=si,XE=ft;var JE=(e,t,r)=>{const n=[];let i=null,s=null;const o=e.sort((a,d)=>XE(a,d,r));for(const a of o)WE(a,t,r)?(s=a,i||(i=a)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const f=[];for(const[a,d]of n)a===d?f.push(a):!d&&a===o[0]?f.push("*"):d?a===o[0]?f.push(`<=${d}`):f.push(`${a} - ${d}`):f.push(`>=${a}`);const u=f.join(" || "),h=typeof t.raw=="string"?t.raw:String(t);return u.length<h.length?u:t};const ma=dt(),Ks=ii(),{ANY:Si}=Ks,Gr=si,Zs=ft,YE=(e,t,r={})=>{if(e===t)return!0;e=new ma(e,r),t=new ma(t,r);let n=!1;e:for(const i of e.set){for(const s of t.set){const o=e$(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},QE=[new Ks(">=0.0.0-0")],pa=[new Ks(">=0.0.0")],e$=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Si){if(t.length===1&&t[0].semver===Si)return!0;r.includePrerelease?e=QE:e=pa}if(t.length===1&&t[0].semver===Si){if(r.includePrerelease)return!0;t=pa}const n=new Set;let i,s;for(const m of e)m.operator===">"||m.operator===">="?i=ya(i,m,r):m.operator==="<"||m.operator==="<="?s=Ea(s,m,r):n.add(m.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Zs(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const m of n){if(i&&!Gr(m,String(i),r)||s&&!Gr(m,String(s),r))return null;for(const c of t)if(!Gr(m,String(c),r))return!1;return!0}let f,u,h,a,d=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,$=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const m of t){if(a=a||m.operator===">"||m.operator===">=",h=h||m.operator==="<"||m.operator==="<=",i){if($&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===$.major&&m.semver.minor===$.minor&&m.semver.patch===$.patch&&($=!1),m.operator===">"||m.operator===">="){if(f=ya(i,m,r),f===m&&f!==i)return!1}else if(i.operator===">="&&!Gr(i.semver,String(m),r))return!1}if(s){if(d&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===d.major&&m.semver.minor===d.minor&&m.semver.patch===d.patch&&(d=!1),m.operator==="<"||m.operator==="<="){if(u=Ea(s,m,r),u===m&&u!==s)return!1}else if(s.operator==="<="&&!Gr(s.semver,String(m),r))return!1}if(!m.operator&&(s||i)&&o!==0)return!1}return!(i&&h&&!s&&o!==0||s&&a&&!i&&o!==0||$||d)},ya=(e,t,r)=>{if(!e)return t;const n=Zs(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Ea=(e,t,r)=>{if(!e)return t;const n=Zs(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var t$=YE;const Ni=ln,$a=ti,r$=Ze,va=cu,n$=Tr,i$=l0,s$=h0,o$=p0,a$=E0,c$=g0,u$=S0,l$=O0,f$=R0,d$=ft,h$=A0,m$=k0,p$=xs,y$=V0,E$=H0,$$=ni,v$=Hs,g$=uu,_$=lu,w$=Gs,S$=qs,N$=fu,I$=dE,O$=ii(),b$=dt(),C$=si,R$=vE,P$=SE,T$=bE,D$=PE,A$=AE,L$=Bs,F$=HE,k$=BE,j$=ZE,M$=JE,U$=t$;var V$={parse:n$,valid:i$,clean:s$,inc:o$,diff:a$,major:c$,minor:u$,patch:l$,prerelease:f$,compare:d$,rcompare:h$,compareLoose:m$,compareBuild:p$,sort:y$,rsort:E$,gt:$$,lt:v$,eq:g$,neq:_$,gte:w$,lte:S$,cmp:N$,coerce:I$,Comparator:O$,Range:b$,satisfies:C$,toComparators:R$,maxSatisfying:P$,minSatisfying:T$,minVersion:D$,validRange:A$,outside:L$,gtr:F$,ltr:k$,intersects:j$,simplifyRange:M$,subset:U$,SemVer:r$,re:Ni.re,src:Ni.src,tokens:Ni.t,SEMVER_SPEC_VERSION:$a.SEMVER_SPEC_VERSION,RELEASE_TYPES:$a.RELEASE_TYPES,compareIdentifiers:va.compareIdentifiers,rcompareIdentifiers:va.rcompareIdentifiers};const mr=qn(V$),z$=Object.prototype.toString;function x$(e){return e&&z$.call(e)==="[object Uint8Array]"}function hu(e){if(!x$(e))throw new TypeError(`Expected \`Uint8Array\`, got \`${typeof e}\``)}function ga(e,t){if(e.length===0)return new Uint8Array(0);t??=e.reduce((i,s)=>i+s.length,0);const r=new Uint8Array(t);let n=0;for(const i of e)hu(i),r.set(i,n),n+=i.length;return r}function _a(e){return hu(e),new globalThis.TextDecoder().decode(e)}function H$(e){if(typeof e!="string")throw new TypeError(`Expected \`string\`, got \`${typeof e}\``)}function Ii(e){return H$(e),new globalThis.TextEncoder().encode(e)}Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));const G$=My.default,q$=Vy.default,wa="aes-256-cbc",pr=()=>Object.create(null),B$=e=>e!=null,K$=(e,t)=>{const r=new Set(["undefined","symbol","function"]),n=typeof t;if(r.has(n))throw new TypeError(`Setting a value of type \`${n}\` for key \`${e}\` is not allowed as it's not supported by JSON`)},Ln="__internal__",Oi=`${Ln}.migrations.version`;class Z${path;events;#n;#t;#e;#r={};constructor(t={}){const r={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...t};if(!r.cwd){if(!r.projectName)throw new Error("Please specify the `projectName` option.");r.cwd=fd(r.projectName,{suffix:r.projectSuffix}).config}if(this.#e=r,r.schema){if(typeof r.schema!="object")throw new TypeError("The `schema` option must be an object.");const o=new G$({allErrors:!0,useDefaults:!0});q$(o);const f={type:"object",properties:r.schema};this.#n=o.compile(f);for(const[u,h]of Object.entries(r.schema))h?.default&&(this.#r[u]=h.default)}r.defaults&&(this.#r={...this.#r,...r.defaults}),r.serialize&&(this._serialize=r.serialize),r.deserialize&&(this._deserialize=r.deserialize),this.events=new EventTarget,this.#t=r.encryptionKey;const n=r.fileExtension?`.${r.fileExtension}`:"";this.path=de.resolve(r.cwd,`${r.configName??"config"}${n}`);const i=this.store,s=Object.assign(pr(),r.defaults,i);this._validate(s);try{Lu.deepEqual(i,s)}catch{this.store=s}if(r.watch&&this._watch(),r.migrations){if(!r.projectVersion)throw new Error("Please specify the `projectVersion` option.");this._migrate(r.migrations,r.projectVersion,r.beforeEachMigration)}}get(t,r){if(this.#e.accessPropertiesByDotNotation)return this._get(t,r);const{store:n}=this;return t in n?n[t]:r}set(t,r){if(typeof t!="string"&&typeof t!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof t}`);if(typeof t!="object"&&r===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(t))throw new TypeError(`Please don't use the ${Ln} key, as it's used to manage this module internal operations.`);const{store:n}=this,i=(s,o)=>{K$(s,o),this.#e.accessPropertiesByDotNotation?Oo(n,s,o):n[s]=o};if(typeof t=="object"){const s=t;for(const[o,f]of Object.entries(s))i(o,f)}else i(t,r);this.store=n}has(t){return this.#e.accessPropertiesByDotNotation?ad(this.store,t):t in this.store}reset(...t){for(const r of t)B$(this.#r[r])&&this.set(r,this.#r[r])}delete(t){const{store:r}=this;this.#e.accessPropertiesByDotNotation?od(r,t):delete r[t],this.store=r}clear(){this.store=pr();for(const t of Object.keys(this.#r))this.reset(t)}onDidChange(t,r){if(typeof t!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof t}`);if(typeof r!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof r}`);return this._handleChange(()=>this.get(t),r)}onDidAnyChange(t){if(typeof t!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof t}`);return this._handleChange(()=>this.store,t)}get size(){return Object.keys(this.store).length}get store(){try{const t=ie.readFileSync(this.path,this.#t?null:"utf8"),r=this._encryptData(t),n=this._deserialize(r);return this._validate(n),Object.assign(pr(),n)}catch(t){if(t?.code==="ENOENT")return this._ensureDirectory(),pr();if(this.#e.clearInvalidConfig&&t.name==="SyntaxError")return pr();throw t}}set store(t){this._ensureDirectory(),this._validate(t),this._write(t),this.events.dispatchEvent(new Event("change"))}*[Symbol.iterator](){for(const[t,r]of Object.entries(this.store))yield[t,r]}_encryptData(t){if(!this.#t)return typeof t=="string"?t:_a(t);try{const r=t.slice(0,16),n=zr.pbkdf2Sync(this.#t,r.toString(),1e4,32,"sha512"),i=zr.createDecipheriv(wa,n,r),s=t.slice(17),o=typeof s=="string"?Ii(s):s;return _a(ga([i.update(o),i.final()]))}catch{}return t.toString()}_handleChange(t,r){let n=t();const i=()=>{const s=n,o=t();Ae.isDeepStrictEqual(o,s)||(n=o,r.call(this,o,s))};return this.events.addEventListener("change",i),()=>{this.events.removeEventListener("change",i)}}_deserialize=t=>JSON.parse(t);_serialize=t=>JSON.stringify(t,void 0,"	");_validate(t){if(!this.#n||this.#n(t)||!this.#n.errors)return;const n=this.#n.errors.map(({instancePath:i,message:s=""})=>`\`${i.slice(1)}\` ${s}`);throw new Error("Config schema violation: "+n.join("; "))}_ensureDirectory(){ie.mkdirSync(de.dirname(this.path),{recursive:!0})}_write(t){let r=this._serialize(t);if(this.#t){const n=zr.randomBytes(16),i=zr.pbkdf2Sync(this.#t,n.toString(),1e4,32,"sha512"),s=zr.createCipheriv(wa,i,n);r=ga([n,Ii(":"),s.update(Ii(r)),s.final()])}if(lt.env.SNAP)ie.writeFileSync(this.path,r,{mode:this.#e.configFileMode});else try{mc(this.path,r,{mode:this.#e.configFileMode})}catch(n){if(n?.code==="EXDEV"){ie.writeFileSync(this.path,r,{mode:this.#e.configFileMode});return}throw n}}_watch(){this._ensureDirectory(),ie.existsSync(this.path)||this._write(pr()),lt.platform==="win32"?ie.watch(this.path,{persistent:!1},Yo(()=>{this.events.dispatchEvent(new Event("change"))},{wait:100})):ie.watchFile(this.path,{persistent:!1},Yo(()=>{this.events.dispatchEvent(new Event("change"))},{wait:5e3}))}_migrate(t,r,n){let i=this._get(Oi,"0.0.0");const s=Object.keys(t).filter(f=>this._shouldPerformMigration(f,i,r));let o={...this.store};for(const f of s)try{n&&n(this,{fromVersion:i,toVersion:f,finalVersion:r,versions:s});const u=t[f];u?.(this),this._set(Oi,f),i=f,o={...this.store}}catch(u){throw this.store=o,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${u}`)}(this._isVersionInRangeFormat(i)||!mr.eq(i,r))&&this._set(Oi,r)}_containsReservedKey(t){return typeof t=="object"&&Object.keys(t)[0]===Ln?!0:typeof t!="string"?!1:this.#e.accessPropertiesByDotNotation?!!t.startsWith(`${Ln}.`):!1}_isVersionInRangeFormat(t){return mr.clean(t)===null}_shouldPerformMigration(t,r,n){return this._isVersionInRangeFormat(t)?r!=="0.0.0"&&mr.satisfies(r,t)?!1:mr.satisfies(n,t):!(mr.lte(t,r)||mr.gt(t,n))}_get(t,r){return sd(this.store,t,r)}_set(t,r){const{store:n}=this;Oo(n,t,r),this.store=n}}let Sa=!1;const Na=()=>{if(!re.ipcMain||!re.app)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:re.app.getPath("userData"),appVersion:re.app.getVersion()};return Sa||(re.ipcMain.on("electron-store-get-data",t=>{t.returnValue=e}),Sa=!0),e};class Ia extends Z${constructor(t){let r,n;if(lt.type==="renderer"){const i=re.ipcRenderer.sendSync("electron-store-get-data");if(!i)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=i)}else re.ipcMain&&re.app&&({defaultCwd:r,appVersion:n}=Na());t={name:"config",...t},t.projectVersion||=n,t.cwd?t.cwd=de.isAbsolute(t.cwd)?t.cwd:de.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){Na()}async openInEditor(){const t=await re.shell.openPath(this.path);if(t)throw new Error(t)}}var fn={exports:{}},Ws={},W$=Ws.require=function(){if(typeof process=="object"&&process.versions&&process.versions.electron)try{const e=W$("original-fs");if(Object.keys(e).length>0)return e}catch{}return xi},mu={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24},pu={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed",FILE_IN_THE_WAY:"There is a file in the way: %s",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",DISK_ENTRY_TOO_LARGE:"Number of disk entries is too large",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:"File not found: %s",NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found"};const X$=Ws.require(),He=Be,Oa=mu,J$=pu,Y$=typeof process=="object"&&process.platform==="win32",ba=e=>e&&typeof e=="object",Xs=new Uint32Array(256).map((e,t)=>{for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t>>>=1;return t>>>0});function je(e){this.sep=He.sep,this.fs=X$,ba(e)&&ba(e.fs)&&typeof e.fs.statSync=="function"&&(this.fs=e.fs)}var Q$=je;je.prototype.makeDir=function(e){const t=this;function r(n){let i=n.split(t.sep)[0];n.split(t.sep).forEach(function(s){if(!(!s||s.substr(-1,1)===":")){i+=t.sep+s;var o;try{o=t.fs.statSync(i)}catch{t.fs.mkdirSync(i)}if(o&&o.isFile())throw J$.FILE_IN_THE_WAY.replace("%s",i)}})}r(e)};je.prototype.writeFileTo=function(e,t,r,n){const i=this;if(i.fs.existsSync(e)){if(!r)return!1;var s=i.fs.statSync(e);if(s.isDirectory())return!1}var o=He.dirname(e);i.fs.existsSync(o)||i.makeDir(o);var f;try{f=i.fs.openSync(e,"w",438)}catch{i.fs.chmodSync(e,438),f=i.fs.openSync(e,"w",438)}if(f)try{i.fs.writeSync(f,t,0,t.length,0)}finally{i.fs.closeSync(f)}return i.fs.chmodSync(e,n||438),!0};je.prototype.writeFileToAsync=function(e,t,r,n,i){typeof n=="function"&&(i=n,n=void 0);const s=this;s.fs.exists(e,function(o){if(o&&!r)return i(!1);s.fs.stat(e,function(f,u){if(o&&u.isDirectory())return i(!1);var h=He.dirname(e);s.fs.exists(h,function(a){a||s.makeDir(h),s.fs.open(e,"w",438,function(d,$){d?s.fs.chmod(e,438,function(){s.fs.open(e,"w",438,function(m,c){s.fs.write(c,t,0,t.length,0,function(){s.fs.close(c,function(){s.fs.chmod(e,n||438,function(){i(!0)})})})})}):$?s.fs.write($,t,0,t.length,0,function(){s.fs.close($,function(){s.fs.chmod(e,n||438,function(){i(!0)})})}):s.fs.chmod(e,n||438,function(){i(!0)})})})})})};je.prototype.findFiles=function(e){const t=this;function r(n,i,s){let o=[];return t.fs.readdirSync(n).forEach(function(f){var u=He.join(n,f);t.fs.statSync(u).isDirectory()&&s&&(o=o.concat(r(u,i,s))),o.push(He.normalize(u)+(t.fs.statSync(u).isDirectory()?t.sep:""))}),o}return r(e,void 0,!0)};je.prototype.getAttributes=function(){};je.prototype.setAttributes=function(){};je.crc32update=function(e,t){return Xs[(e^t)&255]^e>>>8};je.crc32=function(e){typeof e=="string"&&(e=Buffer.from(e,"utf8")),Xs.length||genCRCTable();let t=e.length,r=-1;for(let n=0;n<t;)r=je.crc32update(r,e[n++]);return~r>>>0};je.methodToString=function(e){switch(e){case Oa.STORED:return"STORED ("+e+")";case Oa.DEFLATED:return"DEFLATED ("+e+")";default:return"UNSUPPORTED ("+e+")"}};je.canonical=function(e){if(!e)return"";var t=He.posix.normalize("/"+e.split("\\").join("/"));return He.join(".",t)};je.sanitize=function(e,t){e=He.resolve(He.normalize(e));for(var r=t.split("/"),n=0,i=r.length;n<i;n++){var s=He.normalize(He.join(e,r.slice(n,i).join(He.sep)));if(s.indexOf(e)===0)return s}return He.normalize(He.join(e,He.basename(t)))};je.toBuffer=function(t){return Buffer.isBuffer(t)?t:t instanceof Uint8Array?Buffer.from(t):typeof t=="string"?Buffer.from(t,"utf8"):Buffer.alloc(0)};je.readBigUInt64LE=function(e,t){var r=Buffer.from(e.slice(t,t+8));return r.swap64(),parseInt(`0x${r.toString("hex")}`)};je.isWin=Y$;je.crcTable=Xs;const Hn=Ws.require(),yu=Be;Hn.existsSync=Hn.existsSync||yu.existsSync;var ev=function(e){var t=e||"",r=i(),n=null;function i(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return t&&Hn.existsSync(t)?(n=Hn.statSync(t),r.directory=n.isDirectory(),r.mtime=n.mtime,r.atime=n.atime,r.executable=(73&n.mode)!==0,r.readonly=(128&n.mode)===0,r.hidden=yu.basename(t)[0]==="."):console.warn("Invalid path: "+t),{get directory(){return r.directory},get readOnly(){return r.readonly},get hidden(){return r.hidden},get mtime(){return r.mtime},get atime(){return r.atime},get executable(){return r.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:t,isDirectory:r.directory,isReadOnly:r.readonly,isHidden:r.hidden,isExecutable:r.executable,mTime:r.mtime,aTime:r.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}};fn.exports=Q$;fn.exports.Constants=mu;fn.exports.Errors=pu;fn.exports.FileAttr=ev;var dn=fn.exports,oi={},Br=dn,K=Br.Constants,tv=function(){var e=20,t=10,r=0,n=0,i=0,s=0,o=0,f=0,u=0,h=0,a=0,d=0,$=0,m=0,c=0;e|=Br.isWin?2560:768,r|=K.FLG_EFS;var y={};function E(l){l=new Date(l),i=(l.getFullYear()-1980&127)<<25|l.getMonth()+1<<21|l.getDate()<<16|l.getHours()<<11|l.getMinutes()<<5|l.getSeconds()>>1}return E(+new Date),{get made(){return e},set made(l){e=l},get version(){return t},set version(l){t=l},get flags(){return r},set flags(l){r=l},get method(){return n},set method(l){switch(l){case K.STORED:this.version=10;case K.DEFLATED:default:this.version=20}n=l},get time(){return new Date((i>>25&127)+1980,(i>>21&15)-1,i>>16&31,i>>11&31,i>>5&63,(i&31)<<1)},set time(l){E(l)},get timeHighByte(){return i>>>8&255},get crc(){return s},set crc(l){s=Math.max(0,l)>>>0},get compressedSize(){return o},set compressedSize(l){o=Math.max(0,l)>>>0},get size(){return f},set size(l){f=Math.max(0,l)>>>0},get fileNameLength(){return u},set fileNameLength(l){u=l},get extraLength(){return h},set extraLength(l){h=l},get commentLength(){return a},set commentLength(l){a=l},get diskNumStart(){return d},set diskNumStart(l){d=Math.max(0,l)>>>0},get inAttr(){return $},set inAttr(l){$=Math.max(0,l)>>>0},get attr(){return m},set attr(l){m=Math.max(0,l)>>>0},get fileAttr(){return m?(m>>>0|0)>>16&4095:0},get offset(){return c},set offset(l){c=Math.max(0,l)>>>0},get encrypted(){return(r&1)===1},get centralHeaderSize(){return K.CENHDR+u+h+a},get realDataOffset(){return c+K.LOCHDR+y.fnameLen+y.extraLen},get localHeader(){return y},loadLocalHeaderFromBinary:function(l){var g=l.slice(c,c+K.LOCHDR);if(g.readUInt32LE(0)!==K.LOCSIG)throw new Error(Br.Errors.INVALID_LOC);y={version:g.readUInt16LE(K.LOCVER),flags:g.readUInt16LE(K.LOCFLG),method:g.readUInt16LE(K.LOCHOW),time:g.readUInt32LE(K.LOCTIM),crc:g.readUInt32LE(K.LOCCRC),compressedSize:g.readUInt32LE(K.LOCSIZ),size:g.readUInt32LE(K.LOCLEN),fnameLen:g.readUInt16LE(K.LOCNAM),extraLen:g.readUInt16LE(K.LOCEXT)}},loadFromBinary:function(l){if(l.length!==K.CENHDR||l.readUInt32LE(0)!==K.CENSIG)throw new Error(Br.Errors.INVALID_CEN);e=l.readUInt16LE(K.CENVEM),t=l.readUInt16LE(K.CENVER),r=l.readUInt16LE(K.CENFLG),n=l.readUInt16LE(K.CENHOW),i=l.readUInt32LE(K.CENTIM),s=l.readUInt32LE(K.CENCRC),o=l.readUInt32LE(K.CENSIZ),f=l.readUInt32LE(K.CENLEN),u=l.readUInt16LE(K.CENNAM),h=l.readUInt16LE(K.CENEXT),a=l.readUInt16LE(K.CENCOM),d=l.readUInt16LE(K.CENDSK),$=l.readUInt16LE(K.CENATT),m=l.readUInt32LE(K.CENATX),c=l.readUInt32LE(K.CENOFF)},localHeaderToBinary:function(){var l=Buffer.alloc(K.LOCHDR);return l.writeUInt32LE(K.LOCSIG,0),l.writeUInt16LE(t,K.LOCVER),l.writeUInt16LE(r,K.LOCFLG),l.writeUInt16LE(n,K.LOCHOW),l.writeUInt32LE(i,K.LOCTIM),l.writeUInt32LE(s,K.LOCCRC),l.writeUInt32LE(o,K.LOCSIZ),l.writeUInt32LE(f,K.LOCLEN),l.writeUInt16LE(u,K.LOCNAM),l.writeUInt16LE(h,K.LOCEXT),l},centralHeaderToBinary:function(){var l=Buffer.alloc(K.CENHDR+u+h+a);return l.writeUInt32LE(K.CENSIG,0),l.writeUInt16LE(e,K.CENVEM),l.writeUInt16LE(t,K.CENVER),l.writeUInt16LE(r,K.CENFLG),l.writeUInt16LE(n,K.CENHOW),l.writeUInt32LE(i,K.CENTIM),l.writeUInt32LE(s,K.CENCRC),l.writeUInt32LE(o,K.CENSIZ),l.writeUInt32LE(f,K.CENLEN),l.writeUInt16LE(u,K.CENNAM),l.writeUInt16LE(h,K.CENEXT),l.writeUInt16LE(a,K.CENCOM),l.writeUInt16LE(d,K.CENDSK),l.writeUInt16LE($,K.CENATT),l.writeUInt32LE(m,K.CENATX),l.writeUInt32LE(c,K.CENOFF),l.fill(0,K.CENHDR),l},toJSON:function(){const l=function(g){return g+" bytes"};return{made:e,version:t,flags:r,method:Br.methodToString(n),time:this.time,crc:"0x"+s.toString(16).toUpperCase(),compressedSize:l(o),size:l(f),fileNameLength:l(u),extraLength:l(h),commentLength:l(a),diskNumStart:d,inAttr:$,attr:m,offset:c,centralHeaderSize:l(K.CENHDR+u+h+a)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}},Er=dn,ge=Er.Constants,rv=function(){var e=0,t=0,r=0,n=0,i=0;return{get diskEntries(){return e},set diskEntries(s){e=t=s},get totalEntries(){return t},set totalEntries(s){t=e=s},get size(){return r},set size(s){r=s},get offset(){return n},set offset(s){n=s},get commentLength(){return i},set commentLength(s){i=s},get mainHeaderSize(){return ge.ENDHDR+i},loadFromBinary:function(s){if((s.length!==ge.ENDHDR||s.readUInt32LE(0)!==ge.ENDSIG)&&(s.length<ge.ZIP64HDR||s.readUInt32LE(0)!==ge.ZIP64SIG))throw new Error(Er.Errors.INVALID_END);s.readUInt32LE(0)===ge.ENDSIG?(e=s.readUInt16LE(ge.ENDSUB),t=s.readUInt16LE(ge.ENDTOT),r=s.readUInt32LE(ge.ENDSIZ),n=s.readUInt32LE(ge.ENDOFF),i=s.readUInt16LE(ge.ENDCOM)):(e=Er.readBigUInt64LE(s,ge.ZIP64SUB),t=Er.readBigUInt64LE(s,ge.ZIP64TOT),r=Er.readBigUInt64LE(s,ge.ZIP64SIZE),n=Er.readBigUInt64LE(s,ge.ZIP64OFF),i=0)},toBinary:function(){var s=Buffer.alloc(ge.ENDHDR+i);return s.writeUInt32LE(ge.ENDSIG,0),s.writeUInt32LE(0,4),s.writeUInt16LE(e,ge.ENDSUB),s.writeUInt16LE(t,ge.ENDTOT),s.writeUInt32LE(r,ge.ENDSIZ),s.writeUInt32LE(n,ge.ENDOFF),s.writeUInt16LE(i,ge.ENDCOM),s.fill(" ",ge.ENDHDR),s},toJSON:function(){const s=function(o,f){let u=o.toString(16).toUpperCase();for(;u.length<f;)u="0"+u;return"0x"+u};return{diskEntries:e,totalEntries:t,size:r+" bytes",offset:s(n,4),commentLength:i}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}};oi.EntryHeader=tv;oi.MainHeader=rv;var ai={},nv=function(e){var t=Da,r={chunkSize:(parseInt(e.length/1024)+1)*1024};return{deflate:function(){return t.deflateRawSync(e,r)},deflateAsync:function(n){var i=t.createDeflateRaw(r),s=[],o=0;i.on("data",function(f){s.push(f),o+=f.length}),i.on("end",function(){var f=Buffer.alloc(o),u=0;f.fill(0);for(var h=0;h<s.length;h++){var a=s[h];a.copy(f,u),u+=a.length}n&&n(f)}),i.end(e)}}};const iv=+(process.versions?process.versions.node:"").split(".")[0]||0;var sv=function(e,t){var r=Da;const n=iv>=15&&t>0?{maxOutputLength:t}:{};return{inflate:function(){return r.inflateRawSync(e,n)},inflateAsync:function(i){var s=r.createInflateRaw(n),o=[],f=0;s.on("data",function(u){o.push(u),f+=u.length}),s.on("end",function(){var u=Buffer.alloc(f),h=0;u.fill(0);for(var a=0;a<o.length;a++){var d=o[a];d.copy(u,h),h+=d.length}i&&i(u)}),s.end(e)}}};const{randomFillSync:Ca}=Fu,ov=new Uint32Array(256).map((e,t)=>{for(let r=0;r<8;r++)t&1?t=t>>>1^3988292384:t>>>=1;return t>>>0}),Eu=(e,t)=>Math.imul(e,t)>>>0,Ra=(e,t)=>ov[(e^t)&255]^e>>>8,sn=()=>typeof Ca=="function"?Ca(Buffer.alloc(12)):sn.node();sn.node=()=>{const e=Buffer.alloc(12),t=e.length;for(let r=0;r<t;r++)e[r]=Math.random()*256&255;return e};const Fn={genSalt:sn};function ci(e){const t=Buffer.isBuffer(e)?e:Buffer.from(e);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let r=0;r<t.length;r++)this.updateKeys(t[r])}ci.prototype.updateKeys=function(e){const t=this.keys;return t[0]=Ra(t[0],e),t[1]+=t[0]&255,t[1]=Eu(t[1],134775813)+1,t[2]=Ra(t[2],t[1]>>>24),e};ci.prototype.next=function(){const e=(this.keys[2]|2)>>>0;return Eu(e,e^1)>>8&255};function av(e){const t=new ci(e);return function(r){const n=Buffer.alloc(r.length);let i=0;for(let s of r)n[i++]=t.updateKeys(s^t.next());return n}}function cv(e){const t=new ci(e);return function(r,n,i=0){n||(n=Buffer.alloc(r.length));for(let s of r){const o=t.next();n[i++]=s^o,t.updateKeys(s)}return n}}function uv(e,t,r){if(!e||!Buffer.isBuffer(e)||e.length<12)return Buffer.alloc(0);const n=av(r),i=n(e.slice(0,12)),s=(t.flags&8)===8?t.timeHighByte:t.crc>>>24;if(i[11]!==s)throw"ADM-ZIP: Wrong Password";return n(e.slice(12))}function lv(e){Buffer.isBuffer(e)&&e.length>=12?Fn.genSalt=function(){return e.slice(0,12)}:e==="node"?Fn.genSalt=sn.node:Fn.genSalt=sn}function fv(e,t,r,n=!1){e==null&&(e=Buffer.alloc(0)),Buffer.isBuffer(e)||(e=Buffer.from(e.toString()));const i=cv(r),s=Fn.genSalt();s[11]=t.crc>>>24&255,n&&(s[10]=t.crc>>>16&255);const o=Buffer.alloc(e.length+12);return i(s,o),i(e,o,12)}var dv={decrypt:uv,encrypt:fv,_salter:lv};ai.Deflater=nv;ai.Inflater=sv;ai.ZipCrypto=dv;var be=dn,hv=oi,et=be.Constants,bi=ai,$u=function(e){var t=new hv.EntryHeader,r=Buffer.alloc(0),n=Buffer.alloc(0),i=!1,s=null,o=Buffer.alloc(0);function f(){return!e||!(e instanceof Uint8Array)?Buffer.alloc(0):(t.loadLocalHeaderFromBinary(e),e.slice(t.realDataOffset,t.realDataOffset+t.compressedSize))}function u(c){return!((t.flags&8)!==8&&be.crc32(c)!==t.localHeader.crc)}function h(c,y,E){if(typeof y>"u"&&typeof c=="string"&&(E=c,c=void 0),i)return c&&y&&y(Buffer.alloc(0),be.Errors.DIRECTORY_CONTENT_ERROR),Buffer.alloc(0);var l=f();if(l.length===0)return c&&y&&y(l),l;if(t.encrypted){if(typeof E!="string"&&!Buffer.isBuffer(E))throw new Error("ADM-ZIP: Incompatible password parameter");l=bi.ZipCrypto.decrypt(l,t,E)}var g=Buffer.alloc(t.size);switch(t.method){case be.Constants.STORED:if(l.copy(g),u(g))return c&&y&&y(g),g;throw c&&y&&y(g,be.Errors.BAD_CRC),new Error(be.Errors.BAD_CRC);case be.Constants.DEFLATED:var I=new bi.Inflater(l,t.size);if(c)I.inflateAsync(function(T){T.copy(T,0),y&&(u(T)?y(T):y(T,be.Errors.BAD_CRC))});else{if(I.inflate(g).copy(g,0),!u(g))throw new Error(be.Errors.BAD_CRC+" "+r.toString());return g}break;default:throw c&&y&&y(Buffer.alloc(0),be.Errors.UNKNOWN_METHOD),new Error(be.Errors.UNKNOWN_METHOD)}}function a(c,y){if((!s||!s.length)&&Buffer.isBuffer(e))return c&&y&&y(f()),f();if(s.length&&!i){var E;switch(t.method){case be.Constants.STORED:return t.compressedSize=t.size,E=Buffer.alloc(s.length),s.copy(E),c&&y&&y(E),E;default:case be.Constants.DEFLATED:var l=new bi.Deflater(s);if(c)l.deflateAsync(function(I){E=Buffer.alloc(I.length),t.compressedSize=I.length,I.copy(E),y&&y(E)});else{var g=l.deflate();return t.compressedSize=g.length,g}l=null;break}}else if(c&&y)y(Buffer.alloc(0));else return Buffer.alloc(0)}function d(c,y){return(c.readUInt32LE(y+4)<<4)+c.readUInt32LE(y)}function $(c){for(var y=0,E,l,g;y<c.length;)E=c.readUInt16LE(y),y+=2,l=c.readUInt16LE(y),y+=2,g=c.slice(y,y+l),y+=l,et.ID_ZIP64===E&&m(g)}function m(c){var y,E,l,g;c.length>=et.EF_ZIP64_SCOMP&&(y=d(c,et.EF_ZIP64_SUNCOMP),t.size===et.EF_ZIP64_OR_32&&(t.size=y)),c.length>=et.EF_ZIP64_RHO&&(E=d(c,et.EF_ZIP64_SCOMP),t.compressedSize===et.EF_ZIP64_OR_32&&(t.compressedSize=E)),c.length>=et.EF_ZIP64_DSN&&(l=d(c,et.EF_ZIP64_RHO),t.offset===et.EF_ZIP64_OR_32&&(t.offset=l)),c.length>=et.EF_ZIP64_DSN+4&&(g=c.readUInt32LE(et.EF_ZIP64_DSN),t.diskNumStart===et.EF_ZIP64_OR_16&&(t.diskNumStart=g))}return{get entryName(){return r.toString()},get rawEntryName(){return r},set entryName(c){r=be.toBuffer(c);var y=r[r.length-1];i=y===47||y===92,t.fileNameLength=r.length},get extra(){return o},set extra(c){o=c,t.extraLength=c.length,$(c)},get comment(){return n.toString()},set comment(c){n=be.toBuffer(c),t.commentLength=n.length},get name(){var c=r.toString();return i?c.substr(c.length-1).split("/").pop():c.split("/").pop()},get isDirectory(){return i},getCompressedData:function(){return a(!1,null)},getCompressedDataAsync:function(c){a(!0,c)},setData:function(c){s=be.toBuffer(c),!i&&s.length?(t.size=s.length,t.method=be.Constants.DEFLATED,t.crc=be.crc32(c),t.changed=!0):t.method=be.Constants.STORED},getData:function(c){return t.changed?s:h(!1,null,c)},getDataAsync:function(c,y){t.changed?c(s):h(!0,c,y)},set attr(c){t.attr=c},get attr(){return t.attr},set header(c){t.loadFromBinary(c)},get header(){return t},packCentralHeader:function(){var c=t.centralHeaderToBinary(),y=be.Constants.CENHDR;return r.copy(c,y),y+=r.length,t.extraLength&&(o.copy(c,y),y+=t.extraLength),t.commentLength&&n.copy(c,y),c},packLocalHeader:function(){let c=0;const y=t.localHeaderToBinary(),E=Buffer.alloc(y.length+r.length+o.length);return y.copy(E,c),c+=y.length,r.copy(E,c),c+=r.length,o.copy(E,c),c+=o.length,E},toJSON:function(){const c=function(y){return"<"+(y&&y.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:t.toJSON(),compressedData:c(e),data:c(s)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}};const Pa=$u,mv=oi,Te=dn;var pv=function(e,t){var r=[],n={},i=Buffer.alloc(0),s=new mv.MainHeader,o=!1;const f=Object.assign(Object.create(null),t),{noSort:u}=f;e?d(f.readEntries):o=!0;function h(m){const c=s.diskEntries;let y=s.offset;for(let E=0;E<c;E++){let l=y;const g=new Pa(e);g.header=e.slice(l,l+=Te.Constants.CENHDR),g.entryName=e.slice(l,l+=g.header.fileNameLength),y+=g.header.centralHeaderSize,m(g)}}function a(){if(o=!0,n={},s.diskEntries>(e.length-s.offset)/Te.Constants.CENHDR)throw new Error(Te.Errors.DISK_ENTRY_TOO_LARGE);r=new Array(s.diskEntries);for(var m=s.offset,c=0;c<r.length;c++){var y=m,E=new Pa(e);E.header=e.slice(y,y+=Te.Constants.CENHDR),E.entryName=e.slice(y,y+=E.header.fileNameLength),E.header.extraLength&&(E.extra=e.slice(y,y+=E.header.extraLength)),E.header.commentLength&&(E.comment=e.slice(y,y+E.header.commentLength)),m+=E.header.centralHeaderSize,r[c]=E,n[E.entryName]=E}}function d(m){var c=e.length-Te.Constants.ENDHDR,y=Math.max(0,c-65535),E=y,l=e.length,g=-1,I=0;for(c;c>=E;c--)if(e[c]===80){if(e.readUInt32LE(c)===Te.Constants.ENDSIG){g=c,I=c,l=c+Te.Constants.ENDHDR,E=c-Te.Constants.END64HDR;continue}if(e.readUInt32LE(c)===Te.Constants.END64SIG){E=y;continue}if(e.readUInt32LE(c)===Te.Constants.ZIP64SIG){g=c,l=c+Te.readBigUInt64LE(e,c+Te.Constants.ZIP64SIZE)+Te.Constants.ZIP64LEAD;break}}if(!~g)throw new Error(Te.Errors.INVALID_FORMAT);s.loadFromBinary(e.slice(g,l)),s.commentLength&&(i=e.slice(I+Te.Constants.ENDHDR)),m&&a()}function $(){r.length>1&&!u&&r.sort((m,c)=>m.entryName.toLowerCase().localeCompare(c.entryName.toLowerCase()))}return{get entries(){return o||a(),r},get comment(){return i.toString()},set comment(m){i=Te.toBuffer(m),s.commentLength=i.length},getEntryCount:function(){return o?r.length:s.diskEntries},forEach:function(m){if(!o){h(m);return}r.forEach(m)},getEntry:function(m){return o||a(),n[m]||null},setEntry:function(m){o||a(),r.push(m),n[m.entryName]=m,s.totalEntries=r.length},deleteEntry:function(m){o||a();var c=n[m];if(c&&c.isDirectory){var y=this;this.getEntryChildren(c).forEach(function(E){E.entryName!==m&&y.deleteEntry(E.entryName)})}r.splice(r.indexOf(c),1),delete n[m],s.totalEntries=r.length},getEntryChildren:function(m){if(o||a(),m&&m.isDirectory){const c=[],y=m.entryName,E=y.length;return r.forEach(function(l){l.entryName.substr(0,E)===y&&c.push(l)}),c}return[]},compressToBuffer:function(){o||a(),$();const m=[],c=[];let y=0,E=0;s.size=0,s.offset=0;for(const I of r){const T=I.getCompressedData();I.header.offset=E;const k=I.packLocalHeader(),W=k.length+T.length;E+=W,m.push(k),m.push(T);const Q=I.packCentralHeader();c.push(Q),s.size+=Q.length,y+=W+Q.length}y+=s.mainHeaderSize,s.offset=E,E=0;const l=Buffer.alloc(y);for(const I of m)I.copy(l,E),E+=I.length;for(const I of c)I.copy(l,E),E+=I.length;const g=s.toBinary();return i&&i.copy(g,Te.Constants.ENDHDR),g.copy(l,E),l},toAsyncBuffer:function(m,c,y,E){try{o||a(),$();const l=[],g=[];let I=0,T=0;s.size=0,s.offset=0;const k=function(W){if(W.length>0){const Q=W.shift(),fe=Q.entryName+Q.extra.toString();y&&y(fe),Q.getCompressedDataAsync(function(A){E&&E(fe),Q.header.offset=T;const z=Q.packLocalHeader(),B=z.length+A.length;T+=B,l.push(z),l.push(A);const Z=Q.packCentralHeader();g.push(Z),s.size+=Z.length,I+=B+Z.length,k(W)})}else{I+=s.mainHeaderSize,s.offset=T,T=0;const Q=Buffer.alloc(I);l.forEach(function(A){A.copy(Q,T),T+=A.length}),g.forEach(function(A){A.copy(Q,T),T+=A.length});const fe=s.toBinary();i&&i.copy(fe,Te.Constants.ENDHDR),fe.copy(Q,T),m(Q)}};k(Array.from(r))}catch(l){c(l)}}}};const Ce=dn,vt=Be,yv=$u,Ev=pv,Zt=(e,t)=>typeof e=="boolean"?e:t,Ci=(e,t)=>typeof e=="string"?e:t,$v={noSort:!1,readEntries:!1,method:Ce.Constants.NONE,fs:null};var vv=function(e,t){let r=null;const n=Object.assign(Object.create(null),$v);e&&typeof e=="object"&&(e instanceof Uint8Array||(Object.assign(n,e),e=n.input?n.input:void 0,n.input&&delete n.input),Buffer.isBuffer(e)&&(r=e,n.method=Ce.Constants.BUFFER,e=void 0)),Object.assign(n,t);const i=new Ce(n);if(e&&typeof e=="string")if(i.fs.existsSync(e))n.method=Ce.Constants.FILE,n.filename=e,r=i.fs.readFileSync(e);else throw new Error(Ce.Errors.INVALID_FILENAME);const s=new Ev(r,n),{canonical:o,sanitize:f}=Ce;function u(a){if(a&&s){var d;if(typeof a=="string"&&(d=s.getEntry(a)),typeof a=="object"&&typeof a.entryName<"u"&&typeof a.header<"u"&&(d=s.getEntry(a.entryName)),d)return d}return null}function h(a){const{join:d,normalize:$,sep:m}=vt.posix;return d(".",$(m+a.split("\\").join(m)+m))}return{readFile:function(a,d){var $=u(a);return $&&$.getData(d)||null},readFileAsync:function(a,d){var $=u(a);$?$.getDataAsync(d):d(null,"getEntry failed for:"+a)},readAsText:function(a,d){var $=u(a);if($){var m=$.getData();if(m&&m.length)return m.toString(d||"utf8")}return""},readAsTextAsync:function(a,d,$){var m=u(a);m?m.getDataAsync(function(c,y){if(y){d(c,y);return}c&&c.length?d(c.toString($||"utf8")):d("")}):d("")},deleteFile:function(a){var d=u(a);d&&s.deleteEntry(d.entryName)},addZipComment:function(a){s.comment=a},getZipComment:function(){return s.comment||""},addZipEntryComment:function(a,d){var $=u(a);$&&($.comment=d)},getZipEntryComment:function(a){var d=u(a);return d&&d.comment||""},updateFile:function(a,d){var $=u(a);$&&$.setData(d)},addLocalFile:function(a,d,$,m){if(i.fs.existsSync(a)){d=d?h(d):"";var c=a.split("\\").join("/").split("/").pop();d+=$||c;const y=i.fs.statSync(a);this.addFile(d,i.fs.readFileSync(a),m,y)}else throw new Error(Ce.Errors.FILE_NOT_FOUND.replace("%s",a))},addLocalFolder:function(a,d,$,m){if($ instanceof RegExp?$=function(c){return function(y){return c.test(y)}}($):typeof $!="function"&&($=function(){return!0}),d=d?h(d):"",a=vt.normalize(a),i.fs.existsSync(a)){const c=i.findFiles(a),y=this;c.length&&c.forEach(function(E){var l=vt.relative(a,E).split("\\").join("/");if($(l)){var g=i.fs.statSync(E);g.isFile()?y.addFile(d+l,i.fs.readFileSync(E),"",m||g):y.addFile(d+l+"/",Buffer.alloc(0),"",m||g)}})}else throw new Error(Ce.Errors.FILE_NOT_FOUND.replace("%s",a))},addLocalFolderAsync:function(a,d,$,m){m instanceof RegExp?m=function(y){return function(E){return y.test(E)}}(m):typeof m!="function"&&(m=function(){return!0}),$=$?h($):"",a=vt.normalize(a);var c=this;i.fs.open(a,"r",function(y){if(y&&y.code==="ENOENT")d(void 0,Ce.Errors.FILE_NOT_FOUND.replace("%s",a));else if(y)d(void 0,y);else{var E=i.findFiles(a),l=-1,g=function(){if(l+=1,l<E.length){var I=E[l],T=vt.relative(a,I).split("\\").join("/");T=T.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),m(T)?i.fs.stat(I,function(k,W){k&&d(void 0,k),W.isFile()?i.fs.readFile(I,function(Q,fe){Q?d(void 0,Q):(c.addFile($+T,fe,"",W),g())}):(c.addFile($+T+"/",Buffer.alloc(0),"",W),g())}):process.nextTick(()=>{g()})}else d(!0,void 0)};g()}})},addLocalFolderPromise:function(a,d){return new Promise(($,m)=>{const{filter:c,zipPath:y}=Object.assign({},d);this.addLocalFolderAsync(a,(E,l)=>{l&&m(l),E&&$(this)},y,c)})},addFile:function(a,d,$,m){let c=u(a);const y=c!=null;y||(c=new yv,c.entryName=Ce.canonical(a)),c.comment=$||"";const E=typeof m=="object"&&m instanceof i.fs.Stats;E&&(c.header.time=m.mtime);var l=c.isDirectory?16:0;let g=c.isDirectory?16384:32768;return E?g|=4095&m.mode:typeof m=="number"?g|=4095&m:g|=c.isDirectory?493:420,l=(l|g<<16)>>>0,c.attr=l,c.setData(d),y||s.setEntry(c),c},getEntries:function(a){return s.password=a,s?s.entries:[]},getEntry:function(a){return u(a)},getEntryCount:function(){return s.getEntryCount()},forEach:function(a){return s.forEach(a)},extractEntryTo:function(a,d,$,m,c,y){m=Zt(m,!1),c=Zt(c,!1),$=Zt($,!0),y=Ci(y,Ci(c,void 0));var E=u(a);if(!E)throw new Error(Ce.Errors.NO_ENTRY);var l=o(E.entryName),g=f(d,y&&!E.isDirectory?y:$?l:vt.basename(l));if(E.isDirectory){var I=s.getEntryChildren(E);return I.forEach(function(W){if(W.isDirectory)return;var Q=W.getData();if(!Q)throw new Error(Ce.Errors.CANT_EXTRACT_FILE);var fe=o(W.entryName),A=f(d,$?fe:vt.basename(fe));const z=c?W.header.fileAttr:void 0;i.writeFileTo(A,Q,m,z)}),!0}var T=E.getData(s.password);if(!T)throw new Error(Ce.Errors.CANT_EXTRACT_FILE);if(i.fs.existsSync(g)&&!m)throw new Error(Ce.Errors.CANT_OVERRIDE);const k=c?a.header.fileAttr:void 0;return i.writeFileTo(g,T,m,k),!0},test:function(a){if(!s)return!1;for(var d in s.entries)try{if(d.isDirectory)continue;var $=s.entries[d].getData(a);if(!$)return!1}catch{return!1}return!0},extractAllTo:function(a,d,$,m){if(d=Zt(d,!1),m=Ci($,m),$=Zt($,!1),!s)throw new Error(Ce.Errors.NO_ZIP);s.entries.forEach(function(c){var y=f(a,o(c.entryName.toString()));if(c.isDirectory){i.makeDir(y);return}var E=c.getData(m);if(!E)throw new Error(Ce.Errors.CANT_EXTRACT_FILE);const l=$?c.header.fileAttr:void 0;i.writeFileTo(y,E,d,l);try{i.fs.utimesSync(y,c.header.time,c.header.time)}catch{throw new Error(Ce.Errors.CANT_EXTRACT_FILE)}})},extractAllToAsync:function(a,d,$,m){if(typeof d=="function"&&!m&&(m=d),d=Zt(d,!1),typeof $=="function"&&!m&&(m=$),$=Zt($,!1),!m)return new Promise((g,I)=>{this.extractAllToAsync(a,d,$,function(T){T?I(T):g(this)})});if(!s){m(new Error(Ce.Errors.NO_ZIP));return}a=vt.resolve(a);const c=g=>f(a,vt.normalize(o(g.entryName.toString()))),y=(g,I)=>new Error(g+': "'+I+'"'),E=[],l=[];s.entries.forEach(g=>{g.isDirectory?E.push(g):l.push(g)});for(const g of E){const I=c(g),T=$?g.header.fileAttr:void 0;try{i.makeDir(I),T&&i.fs.chmodSync(I,T),i.fs.utimesSync(I,g.header.time,g.header.time)}catch{m(y("Unable to create folder",I))}}l.reverse().reduce(function(g,I){return function(T){if(T)g(T);else{const k=vt.normalize(o(I.entryName.toString())),W=f(a,k);I.getDataAsync(function(Q,fe){if(fe)g(new Error(fe));else if(!Q)g(new Error(Ce.Errors.CANT_EXTRACT_FILE));else{const A=$?I.header.fileAttr:void 0;i.writeFileToAsync(W,Q,d,A,function(z){z||g(y("Unable to write file",W)),i.fs.utimes(W,I.header.time,I.header.time,function(B){B?g(y("Unable to set times",W)):g()})})}})}}},m)()},writeZip:function(a,d){if(arguments.length===1&&typeof a=="function"&&(d=a,a=""),!a&&n.filename&&(a=n.filename),!!a){var $=s.compressToBuffer();if($){var m=i.writeFileTo(a,$,!0);typeof d=="function"&&d(m?null:new Error("failed"),"")}}},writeZipPromise:function(a,d){const{overwrite:$,perm:m}=Object.assign({overwrite:!0},d);return new Promise((c,y)=>{!a&&n.filename&&(a=n.filename),a||y("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(E=>{const l=g=>g?c(g):y("ADM-ZIP: Wasn't able to write zip file");i.writeFileToAsync(a,E,$,m,l)},y)})},toBufferPromise:function(){return new Promise((a,d)=>{s.toAsyncBuffer(a,d)})},toBuffer:function(a,d,$,m){return this.valueOf=2,typeof a=="function"?(s.toAsyncBuffer(a,d,$,m),null):s.compressToBuffer()}}};const Ta=qn(vv);class it{constructor(t,r){this.bw=t,this.#r.getVersion=r,re.ipcMain.handle("getInfo",()=>this.#r),re.ipcMain.handle("existsSync",(i,s)=>nt.existsSync(s)),re.ipcMain.handle("copySync",(i,s,o)=>nt.copySync(s,o)),re.ipcMain.handle("removeSync",(i,s)=>nt.removeSync(s)),re.ipcMain.handle("ensureFileSync",(i,s)=>nt.ensureFileSync(s)),re.ipcMain.handle("readFileSync",(i,s)=>nt.readFileSync(s,{encoding:"utf8"})),re.ipcMain.handle("readFile",(i,s,o)=>nt.readFile(s,o)),re.ipcMain.handle("writeFileSync",(i,s,o,f)=>nt.writeFileSync(s,o,f)),re.ipcMain.handle("appendFile",(i,s,o,f)=>nt.appendFile(s,o).catch(u=>f(u))),re.ipcMain.handle("win_close",()=>t.close()),re.ipcMain.handle("win_setTitle",(i,s)=>t.setTitle(s)),re.ipcMain.handle("showMessageBox",(i,s)=>re.dialog.showMessageBox(s)),re.ipcMain.handle("capturePage",(i,s,o,f)=>t.webContents.capturePage().then(u=>{nt.ensureFileSync(s);const h=u.resize({width:o,height:f,quality:"best"}),a=s.slice(-4)===".png"?h.toPNG():h.toJPEG(80);nt.writeFileSync(s,a)})),re.ipcMain.handle("navigate_to",(i,s)=>re.shell.openExternal(s)),re.ipcMain.handle("openDevTools",()=>t.webContents.openDevTools()),re.ipcMain.handle("win_ev_devtools_opened",(i,s)=>t.webContents.on("devtools-opened",s));let n;re.ipcMain.handle("Store",(i,s)=>{n=new Ia(s)}),re.ipcMain.handle("flush",(i,s)=>{n.store=s}),re.ipcMain.handle("Store_isEmpty",()=>n.size===0),re.ipcMain.handle("Store_get",()=>n.store),re.ipcMain.handle("zip",(i,s,o)=>{const f=new Ta;f.addLocalFolder(s),f.writeZip(o)}),re.ipcMain.handle("unzip",(i,s,o)=>{nt.removeSync(o),nt.ensureDirSync(o),new Ta(s).extractAllTo(o,!0)}),re.ipcMain.handle("isSimpleFullScreen",()=>t.simpleFullScreen),this.#p?(re.ipcMain.handle("setSimpleFullScreen",(i,s)=>{this.#i=!0,t.setSimpleFullScreen(s),s||(t.setPosition(this.#c,this.#u),t.setContentSize(this.#o,this.#a+it.#s)),this.#i=!1}),t.on("enter-full-screen",()=>{t.setContentSize(this.#t,this.#e-it.#s)}),t.on("leave-full-screen",()=>{this.#f(!1,this.#c,this.#u,this.#o,this.#a+it.#s)})):re.ipcMain.handle("setSimpleFullScreen",(i,s)=>{t.setSimpleFullScreen(s),s||t.setContentSize(this.#o,this.#a+it.#s)}),re.ipcMain.handle("window",(i,s,o,f,u,h)=>this.#f(s,o,f,u,h)),t.on("move",()=>this.#d())}#n=re.screen.getPrimaryDisplay().size;#t=this.#n.width;#e=this.#n.height;#r={getAppPath:re.app.getAppPath(),isPackaged:re.app.isPackaged,downloads:re.app.getPath("downloads"),userData:re.app.getPath("userData"),getVersion:"",env:{...process.env},platform:process.platform,arch:process.arch};#c=0;#u=0;#o=0;#a=0;#p=process.platform==="win32";#l=void 0;#d(){if(this.#l||this.#i)return;this.#i=!0;const{x:t,y:r}=this.bw.getBounds();this.#l=setTimeout(()=>{if(this.#l=void 0,this.#h){this.#h=!1;return}this.#i=!1;const n=this.bw.getBounds();if(t!==n.x||r!==n.y){this.#d();return}this.#f(!1,n.x,n.y,this.#o,this.#a)},1e3/60*10)}#h=!1;#i=!1;#f(t,r,n,i,s){this.#i||(this.#i=!0,!this.bw.simpleFullScreen&&(t?(r=(this.#t-i)*.5,n=(this.#e-s)*.5):((r<0||r>this.#t)&&(r=0),(n<0||n>this.#e)&&(n=0)),(this.#c!==r||this.#u!==n)&&(this.#c=r,this.#u=n,this.bw.webContents.send("save_win_pos",r,n),this.bw.setPosition(r,n)),this.#o=i,this.#a=s,this.bw.setContentSize(i,s+it.#s),this.#i=!1))}openDevTools(){this.bw.webContents.openDevTools()}static#m;static initRenderer(t,r,n){let i=()=>{},s;try{Ia.initRenderer(),process.env.ELECTRON_DISABLE_SECURITY_WARNINGS="true",s=new re.BrowserWindow({...n,fullscreenable:!0,maximizable:!1,webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:`${__dirname}/preload.js`}}),s.setMenuBarVisibility(!1);const o=s.getContentSize()[1];s.setMenuBarVisibility(!0);const f=s.getContentSize()[1];it.#s=o-f,it.#m=new it(s,r),i=()=>it.#m.openDevTools(),s.loadFile(t),s.once("ready-to-show",()=>s.show())}catch(o){throw console.error(`ealy err:${o}`),i(),"initRenderer error"}return s}static#s=0}module.exports=it;exports.appMain=it;
//# sourceMappingURL=appMain.js.map
