"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const ae=require("electron"),jr=require("fs"),ul=require("constants"),ll=require("stream"),rs=require("util"),Ja=require("assert"),Ne=require("path"),Ya=require("crypto"),fl=require("events"),dl=require("os"),Qa=require("zlib");var Gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ec(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Xe={},Re={};Re.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,n)=>{t.push((i,s)=>i!=null?n(i):r(s)),e.apply(this,t)})},"name",{value:e.name})};Re.fromPromise=function(e){return Object.defineProperty(function(...t){const r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);t.pop(),e.apply(this,t).then(n=>r(null,n),r)},"name",{value:e.name})};var Mt=ul,hl=process.cwd,Hn=null,ml=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Hn||(Hn=hl.call(process)),Hn};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var Co=process.chdir;process.chdir=function(e){Hn=null,Co.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Co)}var pl=yl;function yl(e){Mt.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=f(e.stat),e.fstat=f(e.fstat),e.lstat=f(e.lstat),e.statSync=c(e.statSync),e.fstatSync=c(e.fstatSync),e.lstatSync=c(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(a,d,E){E&&process.nextTick(E)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(a,d,E,m){m&&process.nextTick(m)},e.lchownSync=function(){}),ml==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(a){function d(E,m,u){var y=Date.now(),v=0;a(E,m,function l($){if($&&($.code==="EACCES"||$.code==="EPERM"||$.code==="EBUSY")&&Date.now()-y<6e4){setTimeout(function(){e.stat(m,function(_,b){_&&_.code==="ENOENT"?a(E,m,l):u($)})},v),v<100&&(v+=10);return}u&&u($)})}return Object.setPrototypeOf&&Object.setPrototypeOf(d,a),d}(e.rename)),e.read=typeof e.read!="function"?e.read:function(a){function d(E,m,u,y,v,l){var $;if(l&&typeof l=="function"){var _=0;$=function(b,x,T){if(b&&b.code==="EAGAIN"&&_<10)return _++,a.call(e,E,m,u,y,v,$);l.apply(this,arguments)}}return a.call(e,E,m,u,y,v,$)}return Object.setPrototypeOf&&Object.setPrototypeOf(d,a),d}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(a){return function(d,E,m,u,y){for(var v=0;;)try{return a.call(e,d,E,m,u,y)}catch(l){if(l.code==="EAGAIN"&&v<10){v++;continue}throw l}}}(e.readSync);function t(a){a.lchmod=function(d,E,m){a.open(d,Mt.O_WRONLY|Mt.O_SYMLINK,E,function(u,y){if(u){m&&m(u);return}a.fchmod(y,E,function(v){a.close(y,function(l){m&&m(v||l)})})})},a.lchmodSync=function(d,E){var m=a.openSync(d,Mt.O_WRONLY|Mt.O_SYMLINK,E),u=!0,y;try{y=a.fchmodSync(m,E),u=!1}finally{if(u)try{a.closeSync(m)}catch{}else a.closeSync(m)}return y}}function r(a){Mt.hasOwnProperty("O_SYMLINK")&&a.futimes?(a.lutimes=function(d,E,m,u){a.open(d,Mt.O_SYMLINK,function(y,v){if(y){u&&u(y);return}a.futimes(v,E,m,function(l){a.close(v,function($){u&&u(l||$)})})})},a.lutimesSync=function(d,E,m){var u=a.openSync(d,Mt.O_SYMLINK),y,v=!0;try{y=a.futimesSync(u,E,m),v=!1}finally{if(v)try{a.closeSync(u)}catch{}else a.closeSync(u)}return y}):a.futimes&&(a.lutimes=function(d,E,m,u){u&&process.nextTick(u)},a.lutimesSync=function(){})}function n(a){return a&&function(d,E,m){return a.call(e,d,E,function(u){h(u)&&(u=null),m&&m.apply(this,arguments)})}}function i(a){return a&&function(d,E){try{return a.call(e,d,E)}catch(m){if(!h(m))throw m}}}function s(a){return a&&function(d,E,m,u){return a.call(e,d,E,m,function(y){h(y)&&(y=null),u&&u.apply(this,arguments)})}}function o(a){return a&&function(d,E,m){try{return a.call(e,d,E,m)}catch(u){if(!h(u))throw u}}}function f(a){return a&&function(d,E,m){typeof E=="function"&&(m=E,E=null);function u(y,v){v&&(v.uid<0&&(v.uid+=4294967296),v.gid<0&&(v.gid+=4294967296)),m&&m.apply(this,arguments)}return E?a.call(e,d,E,u):a.call(e,d,u)}}function c(a){return a&&function(d,E){var m=E?a.call(e,d,E):a.call(e,d);return m&&(m.uid<0&&(m.uid+=4294967296),m.gid<0&&(m.gid+=4294967296)),m}}function h(a){if(!a||a.code==="ENOSYS")return!0;var d=!process.getuid||process.getuid()!==0;return!!(d&&(a.code==="EINVAL"||a.code==="EPERM"))}}var Ao=ll.Stream,vl=El;function El(e){return{ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);Ao.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),f=0,c=o.length;f<c;f++){var h=o[f];this[h]=i[h]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}e.open(this.path,this.flags,this.mode,function(a,d){if(a){s.emit("error",a),s.readable=!1;return}s.fd=d,s.emit("open",d),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);Ao.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,f=s.length;o<f;o++){var c=s[o];this[c]=i[c]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var gl=_l,$l=Object.getPrototypeOf||function(e){return e.__proto__};function _l(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:$l(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}var _e=jr,Sl=pl,wl=vl,Nl=gl,Rn=rs,Me,Jn;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Me=Symbol.for("graceful-fs.queue"),Jn=Symbol.for("graceful-fs.previous")):(Me="___graceful-fs.queue",Jn="___graceful-fs.previous");function Il(){}function tc(e,t){Object.defineProperty(e,Me,{get:function(){return t}})}var ar=Il;Rn.debuglog?ar=Rn.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(ar=function(){var e=Rn.format.apply(Rn,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});if(!_e[Me]){var Ol=Gt[Me]||[];tc(_e,Ol),_e.close=function(e){function t(r,n){return e.call(_e,r,function(i){i||Lo(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,Jn,{value:e}),t}(_e.close),_e.closeSync=function(e){function t(r){e.apply(_e,arguments),Lo()}return Object.defineProperty(t,Jn,{value:e}),t}(_e.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){ar(_e[Me]),Ja.equal(_e[Me].length,0)})}Gt[Me]||tc(Gt,_e[Me]);var kr=ns(Nl(_e));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!_e.__patched&&(kr=ns(_e),_e.__patched=!0);function ns(e){Sl(e),e.gracefulify=ns,e.createReadStream=x,e.createWriteStream=T;var t=e.readFile;e.readFile=r;function r(C,V,B){return typeof V=="function"&&(B=V,V=null),K(C,V,B);function K(z,M,H,q){return t(z,M,function(G){G&&(G.code==="EMFILE"||G.code==="ENFILE")?gr([K,[z,M,H],G,q||Date.now(),Date.now()]):typeof H=="function"&&H.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=i;function i(C,V,B,K){return typeof B=="function"&&(K=B,B=null),z(C,V,B,K);function z(M,H,q,G,R){return n(M,H,q,function(F){F&&(F.code==="EMFILE"||F.code==="ENFILE")?gr([z,[M,H,q,G],F,R||Date.now(),Date.now()]):typeof G=="function"&&G.apply(this,arguments)})}}var s=e.appendFile;s&&(e.appendFile=o);function o(C,V,B,K){return typeof B=="function"&&(K=B,B=null),z(C,V,B,K);function z(M,H,q,G,R){return s(M,H,q,function(F){F&&(F.code==="EMFILE"||F.code==="ENFILE")?gr([z,[M,H,q,G],F,R||Date.now(),Date.now()]):typeof G=="function"&&G.apply(this,arguments)})}}var f=e.copyFile;f&&(e.copyFile=c);function c(C,V,B,K){return typeof B=="function"&&(K=B,B=0),z(C,V,B,K);function z(M,H,q,G,R){return f(M,H,q,function(F){F&&(F.code==="EMFILE"||F.code==="ENFILE")?gr([z,[M,H,q,G],F,R||Date.now(),Date.now()]):typeof G=="function"&&G.apply(this,arguments)})}}var h=e.readdir;e.readdir=d;var a=/^v[0-5]\./;function d(C,V,B){typeof V=="function"&&(B=V,V=null);var K=a.test(process.version)?function(H,q,G,R){return h(H,z(H,q,G,R))}:function(H,q,G,R){return h(H,q,z(H,q,G,R))};return K(C,V,B);function z(M,H,q,G){return function(R,F){R&&(R.code==="EMFILE"||R.code==="ENFILE")?gr([K,[M,H,q],R,G||Date.now(),Date.now()]):(F&&F.sort&&F.sort(),typeof q=="function"&&q.call(this,R,F))}}}if(process.version.substr(0,4)==="v0.8"){var E=wl(e);l=E.ReadStream,_=E.WriteStream}var m=e.ReadStream;m&&(l.prototype=Object.create(m.prototype),l.prototype.open=$);var u=e.WriteStream;u&&(_.prototype=Object.create(u.prototype),_.prototype.open=b),Object.defineProperty(e,"ReadStream",{get:function(){return l},set:function(C){l=C},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return _},set:function(C){_=C},enumerable:!0,configurable:!0});var y=l;Object.defineProperty(e,"FileReadStream",{get:function(){return y},set:function(C){y=C},enumerable:!0,configurable:!0});var v=_;Object.defineProperty(e,"FileWriteStream",{get:function(){return v},set:function(C){v=C},enumerable:!0,configurable:!0});function l(C,V){return this instanceof l?(m.apply(this,arguments),this):l.apply(Object.create(l.prototype),arguments)}function $(){var C=this;U(C.path,C.flags,C.mode,function(V,B){V?(C.autoClose&&C.destroy(),C.emit("error",V)):(C.fd=B,C.emit("open",B),C.read())})}function _(C,V){return this instanceof _?(u.apply(this,arguments),this):_.apply(Object.create(_.prototype),arguments)}function b(){var C=this;U(C.path,C.flags,C.mode,function(V,B){V?(C.destroy(),C.emit("error",V)):(C.fd=B,C.emit("open",B))})}function x(C,V){return new e.ReadStream(C,V)}function T(C,V){return new e.WriteStream(C,V)}var P=e.open;e.open=U;function U(C,V,B,K){return typeof B=="function"&&(K=B,B=null),z(C,V,B,K);function z(M,H,q,G,R){return P(M,H,q,function(F,O){F&&(F.code==="EMFILE"||F.code==="ENFILE")?gr([z,[M,H,q,G],F,R||Date.now(),Date.now()]):typeof G=="function"&&G.apply(this,arguments)})}}return e}function gr(e){ar("ENQUEUE",e[0].name,e[1]),_e[Me].push(e),is()}var Pn;function Lo(){for(var e=Date.now(),t=0;t<_e[Me].length;++t)_e[Me][t].length>2&&(_e[Me][t][3]=e,_e[Me][t][4]=e);is()}function is(){if(clearTimeout(Pn),Pn=void 0,_e[Me].length!==0){var e=_e[Me].shift(),t=e[0],r=e[1],n=e[2],i=e[3],s=e[4];if(i===void 0)ar("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){ar("TIMEOUT",t.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var f=Date.now()-s,c=Math.max(s-i,1),h=Math.min(c*1.2,100);f>=h?(ar("RETRY",t.name,r),t.apply(null,r.concat([i]))):_e[Me].push(e)}Pn===void 0&&(Pn=setTimeout(is,0))}}(function(e){const t=Re.fromCallback,r=kr,n=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(i=>typeof r[i]=="function");Object.assign(e,r),n.forEach(i=>{e[i]=t(r[i])}),e.exists=function(i,s){return typeof s=="function"?r.exists(i,s):new Promise(o=>r.exists(i,o))},e.read=function(i,s,o,f,c,h){return typeof h=="function"?r.read(i,s,o,f,c,h):new Promise((a,d)=>{r.read(i,s,o,f,c,(E,m,u)=>{if(E)return d(E);a({bytesRead:m,buffer:u})})})},e.write=function(i,s,...o){return typeof o[o.length-1]=="function"?r.write(i,s,...o):new Promise((f,c)=>{r.write(i,s,...o,(h,a,d)=>{if(h)return c(h);f({bytesWritten:a,buffer:d})})})},e.readv=function(i,s,...o){return typeof o[o.length-1]=="function"?r.readv(i,s,...o):new Promise((f,c)=>{r.readv(i,s,...o,(h,a,d)=>{if(h)return c(h);f({bytesRead:a,buffers:d})})})},e.writev=function(i,s,...o){return typeof o[o.length-1]=="function"?r.writev(i,s,...o):new Promise((f,c)=>{r.writev(i,s,...o,(h,a,d)=>{if(h)return c(h);f({bytesWritten:a,buffers:d})})})},typeof r.realpath.native=="function"?e.realpath.native=t(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")})(Xe);var ss={},rc={};const Tl=Ne;rc.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(Tl.parse(t).root,""))){const n=new Error(`Path contains invalid characters: ${t}`);throw n.code="EINVAL",n}};const nc=Xe,{checkPath:ic}=rc,sc=e=>{const t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};ss.makeDir=async(e,t)=>(ic(e),nc.mkdir(e,{mode:sc(t),recursive:!0}));ss.makeDirSync=(e,t)=>(ic(e),nc.mkdirSync(e,{mode:sc(t),recursive:!0}));const bl=Re.fromPromise,{makeDir:Dl,makeDirSync:Ni}=ss,Ii=bl(Dl);var Dt={mkdirs:Ii,mkdirsSync:Ni,mkdirp:Ii,mkdirpSync:Ni,ensureDir:Ii,ensureDirSync:Ni};const Rl=Re.fromPromise,oc=Xe;function Pl(e){return oc.access(e).then(()=>!0).catch(()=>!1)}var fr={pathExists:Rl(Pl),pathExistsSync:oc.existsSync};const Tr=Xe,Cl=Re.fromPromise;async function Al(e,t,r){const n=await Tr.open(e,"r+");let i=null;try{await Tr.futimes(n,t,r)}finally{try{await Tr.close(n)}catch(s){i=s}}if(i)throw i}function Ll(e,t,r){const n=Tr.openSync(e,"r+");return Tr.futimesSync(n,t,r),Tr.closeSync(n)}var ac={utimesMillis:Cl(Al),utimesMillisSync:Ll};const Rr=Xe,Le=Ne,Fo=Re.fromPromise;function Fl(e,t,r){const n=r.dereference?i=>Rr.stat(i,{bigint:!0}):i=>Rr.lstat(i,{bigint:!0});return Promise.all([n(e),n(t).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,s])=>({srcStat:i,destStat:s}))}function jl(e,t,r){let n;const i=r.dereference?o=>Rr.statSync(o,{bigint:!0}):o=>Rr.lstatSync(o,{bigint:!0}),s=i(e);try{n=i(t)}catch(o){if(o.code==="ENOENT")return{srcStat:s,destStat:null};throw o}return{srcStat:s,destStat:n}}async function kl(e,t,r,n){const{srcStat:i,destStat:s}=await Fl(e,t,n);if(s){if(vn(i,s)){const o=Le.basename(e),f=Le.basename(t);if(r==="move"&&o!==f&&o.toLowerCase()===f.toLowerCase())return{srcStat:i,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&os(e,t))throw new Error(oi(e,t,r));return{srcStat:i,destStat:s}}function Ml(e,t,r,n){const{srcStat:i,destStat:s}=jl(e,t,n);if(s){if(vn(i,s)){const o=Le.basename(e),f=Le.basename(t);if(r==="move"&&o!==f&&o.toLowerCase()===f.toLowerCase())return{srcStat:i,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&os(e,t))throw new Error(oi(e,t,r));return{srcStat:i,destStat:s}}async function cc(e,t,r,n){const i=Le.resolve(Le.dirname(e)),s=Le.resolve(Le.dirname(r));if(s===i||s===Le.parse(s).root)return;let o;try{o=await Rr.stat(s,{bigint:!0})}catch(f){if(f.code==="ENOENT")return;throw f}if(vn(t,o))throw new Error(oi(e,r,n));return cc(e,t,s,n)}function uc(e,t,r,n){const i=Le.resolve(Le.dirname(e)),s=Le.resolve(Le.dirname(r));if(s===i||s===Le.parse(s).root)return;let o;try{o=Rr.statSync(s,{bigint:!0})}catch(f){if(f.code==="ENOENT")return;throw f}if(vn(t,o))throw new Error(oi(e,r,n));return uc(e,t,s,n)}function vn(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function os(e,t){const r=Le.resolve(e).split(Le.sep).filter(i=>i),n=Le.resolve(t).split(Le.sep).filter(i=>i);return r.every((i,s)=>n[s]===i)}function oi(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}var Mr={checkPaths:Fo(kl),checkPathsSync:Ml,checkParentPaths:Fo(cc),checkParentPathsSync:uc,isSrcSubdir:os,areIdentical:vn};const ze=Xe,fn=Ne,{mkdirs:Ul}=Dt,{pathExists:xl}=fr,{utimesMillis:Vl}=ac,dn=Mr;async function zl(e,t,r={}){typeof r=="function"&&(r={filter:r}),r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001");const{srcStat:n,destStat:i}=await dn.checkPaths(e,t,"copy",r);if(await dn.checkParentPaths(e,n,t,"copy"),!await lc(e,t,r))return;const o=fn.dirname(t);await xl(o)||await Ul(o),await fc(i,e,t,r)}async function lc(e,t,r){return r.filter?r.filter(e,t):!0}async function fc(e,t,r,n){const s=await(n.dereference?ze.stat:ze.lstat)(t);if(s.isDirectory())return Bl(s,e,t,r,n);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return Gl(s,e,t,r,n);if(s.isSymbolicLink())return Kl(e,t,r,n);throw s.isSocket()?new Error(`Cannot copy a socket file: ${t}`):s.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}async function Gl(e,t,r,n,i){if(!t)return jo(e,r,n,i);if(i.overwrite)return await ze.unlink(n),jo(e,r,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}async function jo(e,t,r,n){if(await ze.copyFile(t,r),n.preserveTimestamps){Hl(e.mode)&&await ql(r,e.mode);const i=await ze.stat(t);await Vl(r,i.atime,i.mtime)}return ze.chmod(r,e.mode)}function Hl(e){return(e&128)===0}function ql(e,t){return ze.chmod(e,t|128)}async function Bl(e,t,r,n,i){t||await ze.mkdir(n);const s=await ze.readdir(r);await Promise.all(s.map(async o=>{const f=fn.join(r,o),c=fn.join(n,o);if(!await lc(f,c,i))return;const{destStat:a}=await dn.checkPaths(f,c,"copy",i);return fc(a,f,c,i)})),t||await ze.chmod(n,e.mode)}async function Kl(e,t,r,n){let i=await ze.readlink(t);if(n.dereference&&(i=fn.resolve(process.cwd(),i)),!e)return ze.symlink(i,r);let s=null;try{s=await ze.readlink(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return ze.symlink(i,r);throw o}if(n.dereference&&(s=fn.resolve(process.cwd(),s)),dn.isSrcSubdir(i,s))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${s}'.`);if(dn.isSrcSubdir(s,i))throw new Error(`Cannot overwrite '${s}' with '${i}'.`);return await ze.unlink(r),ze.symlink(i,r)}var Wl=zl;const Ke=kr,hn=Ne,Xl=Dt.mkdirsSync,Zl=ac.utimesMillisSync,mn=Mr;function Jl(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:n,destStat:i}=mn.checkPathsSync(e,t,"copy",r);if(mn.checkParentPathsSync(e,n,t,"copy"),r.filter&&!r.filter(e,t))return;const s=hn.dirname(t);return Ke.existsSync(s)||Xl(s),dc(i,e,t,r)}function dc(e,t,r,n){const s=(n.dereference?Ke.statSync:Ke.lstatSync)(t);if(s.isDirectory())return sf(s,e,t,r,n);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return Yl(s,e,t,r,n);if(s.isSymbolicLink())return cf(e,t,r,n);throw s.isSocket()?new Error(`Cannot copy a socket file: ${t}`):s.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function Yl(e,t,r,n,i){return t?Ql(e,r,n,i):hc(e,r,n,i)}function Ql(e,t,r,n){if(n.overwrite)return Ke.unlinkSync(r),hc(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function hc(e,t,r,n){return Ke.copyFileSync(t,r),n.preserveTimestamps&&ef(e.mode,t,r),as(r,e.mode)}function ef(e,t,r){return tf(e)&&rf(r,e),nf(t,r)}function tf(e){return(e&128)===0}function rf(e,t){return as(e,t|128)}function as(e,t){return Ke.chmodSync(e,t)}function nf(e,t){const r=Ke.statSync(e);return Zl(t,r.atime,r.mtime)}function sf(e,t,r,n,i){return t?mc(r,n,i):of(e.mode,r,n,i)}function of(e,t,r,n){return Ke.mkdirSync(r),mc(t,r,n),as(r,e)}function mc(e,t,r){Ke.readdirSync(e).forEach(n=>af(n,e,t,r))}function af(e,t,r,n){const i=hn.join(t,e),s=hn.join(r,e);if(n.filter&&!n.filter(i,s))return;const{destStat:o}=mn.checkPathsSync(i,s,"copy",n);return dc(o,i,s,n)}function cf(e,t,r,n){let i=Ke.readlinkSync(t);if(n.dereference&&(i=hn.resolve(process.cwd(),i)),e){let s;try{s=Ke.readlinkSync(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return Ke.symlinkSync(i,r);throw o}if(n.dereference&&(s=hn.resolve(process.cwd(),s)),mn.isSrcSubdir(i,s))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${s}'.`);if(mn.isSrcSubdir(s,i))throw new Error(`Cannot overwrite '${s}' with '${i}'.`);return uf(i,r)}else return Ke.symlinkSync(i,r)}function uf(e,t){return Ke.unlinkSync(t),Ke.symlinkSync(e,t)}var lf=Jl;const ff=Re.fromPromise;var cs={copy:ff(Wl),copySync:lf};const pc=kr,df=Re.fromCallback;function hf(e,t){pc.rm(e,{recursive:!0,force:!0},t)}function mf(e){pc.rmSync(e,{recursive:!0,force:!0})}var ai={remove:df(hf),removeSync:mf};const pf=Re.fromPromise,yc=Xe,vc=Ne,Ec=Dt,gc=ai,ko=pf(async function(t){let r;try{r=await yc.readdir(t)}catch{return Ec.mkdirs(t)}return Promise.all(r.map(n=>gc.remove(vc.join(t,n))))});function Mo(e){let t;try{t=yc.readdirSync(e)}catch{return Ec.mkdirsSync(e)}t.forEach(r=>{r=vc.join(e,r),gc.removeSync(r)})}var yf={emptyDirSync:Mo,emptydirSync:Mo,emptyDir:ko,emptydir:ko};const vf=Re.fromPromise,$c=Ne,Lt=Xe,_c=Dt;async function Ef(e){let t;try{t=await Lt.stat(e)}catch{}if(t&&t.isFile())return;const r=$c.dirname(e);let n=null;try{n=await Lt.stat(r)}catch(i){if(i.code==="ENOENT"){await _c.mkdirs(r),await Lt.writeFile(e,"");return}else throw i}n.isDirectory()?await Lt.writeFile(e,""):await Lt.readdir(r)}function gf(e){let t;try{t=Lt.statSync(e)}catch{}if(t&&t.isFile())return;const r=$c.dirname(e);try{Lt.statSync(r).isDirectory()||Lt.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")_c.mkdirsSync(r);else throw n}Lt.writeFileSync(e,"")}var $f={createFile:vf(Ef),createFileSync:gf};const _f=Re.fromPromise,Sc=Ne,Vt=Xe,wc=Dt,{pathExists:Sf}=fr,{areIdentical:Nc}=Mr;async function wf(e,t){let r;try{r=await Vt.lstat(t)}catch{}let n;try{n=await Vt.lstat(e)}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}if(r&&Nc(n,r))return;const i=Sc.dirname(t);await Sf(i)||await wc.mkdirs(i),await Vt.link(e,t)}function Nf(e,t){let r;try{r=Vt.lstatSync(t)}catch{}try{const s=Vt.lstatSync(e);if(r&&Nc(s,r))return}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}const n=Sc.dirname(t);return Vt.existsSync(n)||wc.mkdirsSync(n),Vt.linkSync(e,t)}var If={createLink:_f(wf),createLinkSync:Nf};const Ht=Ne,nn=Xe,{pathExists:Of}=fr,Tf=Re.fromPromise;async function bf(e,t){if(Ht.isAbsolute(e)){try{await nn.lstat(e)}catch(s){throw s.message=s.message.replace("lstat","ensureSymlink"),s}return{toCwd:e,toDst:e}}const r=Ht.dirname(t),n=Ht.join(r,e);if(await Of(n))return{toCwd:n,toDst:e};try{await nn.lstat(e)}catch(s){throw s.message=s.message.replace("lstat","ensureSymlink"),s}return{toCwd:e,toDst:Ht.relative(r,e)}}function Df(e,t){if(Ht.isAbsolute(e)){if(!nn.existsSync(e))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}const r=Ht.dirname(t),n=Ht.join(r,e);if(nn.existsSync(n))return{toCwd:n,toDst:e};if(!nn.existsSync(e))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:Ht.relative(r,e)}}var Rf={symlinkPaths:Tf(bf),symlinkPathsSync:Df};const Ic=Xe,Pf=Re.fromPromise;async function Cf(e,t){if(t)return t;let r;try{r=await Ic.lstat(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}function Af(e,t){if(t)return t;let r;try{r=Ic.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}var Lf={symlinkType:Pf(Cf),symlinkTypeSync:Af};const Ff=Re.fromPromise,Oc=Ne,It=Xe,{mkdirs:jf,mkdirsSync:kf}=Dt,{symlinkPaths:Mf,symlinkPathsSync:Uf}=Rf,{symlinkType:xf,symlinkTypeSync:Vf}=Lf,{pathExists:zf}=fr,{areIdentical:Tc}=Mr;async function Gf(e,t,r){let n;try{n=await It.lstat(t)}catch{}if(n&&n.isSymbolicLink()){const[f,c]=await Promise.all([It.stat(e),It.stat(t)]);if(Tc(f,c))return}const i=await Mf(e,t);e=i.toDst;const s=await xf(i.toCwd,r),o=Oc.dirname(t);return await zf(o)||await jf(o),It.symlink(e,t,s)}function Hf(e,t,r){let n;try{n=It.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){const f=It.statSync(e),c=It.statSync(t);if(Tc(f,c))return}const i=Uf(e,t);e=i.toDst,r=Vf(i.toCwd,r);const s=Oc.dirname(t);return It.existsSync(s)||kf(s),It.symlinkSync(e,t,r)}var qf={createSymlink:Ff(Gf),createSymlinkSync:Hf};const{createFile:Uo,createFileSync:xo}=$f,{createLink:Vo,createLinkSync:zo}=If,{createSymlink:Go,createSymlinkSync:Ho}=qf;var Bf={createFile:Uo,createFileSync:xo,ensureFile:Uo,ensureFileSync:xo,createLink:Vo,createLinkSync:zo,ensureLink:Vo,ensureLinkSync:zo,createSymlink:Go,createSymlinkSync:Ho,ensureSymlink:Go,ensureSymlinkSync:Ho};function Kf(e,{EOL:t=`
`,finalEOL:r=!0,replacer:n=null,spaces:i}={}){const s=r?t:"";return JSON.stringify(e,n,i).replace(/\n/g,t)+s}function Wf(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}var us={stringify:Kf,stripBom:Wf};let Pr;try{Pr=kr}catch{Pr=jr}const ci=Re,{stringify:bc,stripBom:Dc}=us;async function Xf(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Pr,n="throws"in t?t.throws:!0;let i=await ci.fromCallback(r.readFile)(e,t);i=Dc(i);let s;try{s=JSON.parse(i,t?t.reviver:null)}catch(o){if(n)throw o.message=`${e}: ${o.message}`,o;return null}return s}const Zf=ci.fromPromise(Xf);function Jf(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Pr,n="throws"in t?t.throws:!0;try{let i=r.readFileSync(e,t);return i=Dc(i),JSON.parse(i,t.reviver)}catch(i){if(n)throw i.message=`${e}: ${i.message}`,i;return null}}async function Yf(e,t,r={}){const n=r.fs||Pr,i=bc(t,r);await ci.fromCallback(n.writeFile)(e,i,r)}const Qf=ci.fromPromise(Yf);function ed(e,t,r={}){const n=r.fs||Pr,i=bc(t,r);return n.writeFileSync(e,i,r)}const td={readFile:Zf,readFileSync:Jf,writeFile:Qf,writeFileSync:ed};var rd=td;const Cn=rd;var nd={readJson:Cn.readFile,readJsonSync:Cn.readFileSync,writeJson:Cn.writeFile,writeJsonSync:Cn.writeFileSync};const id=Re.fromPromise,zi=Xe,Rc=Ne,Pc=Dt,sd=fr.pathExists;async function od(e,t,r="utf-8"){const n=Rc.dirname(e);return await sd(n)||await Pc.mkdirs(n),zi.writeFile(e,t,r)}function ad(e,...t){const r=Rc.dirname(e);zi.existsSync(r)||Pc.mkdirsSync(r),zi.writeFileSync(e,...t)}var ls={outputFile:id(od),outputFileSync:ad};const{stringify:cd}=us,{outputFile:ud}=ls;async function ld(e,t,r={}){const n=cd(t,r);await ud(e,n,r)}var fd=ld;const{stringify:dd}=us,{outputFileSync:hd}=ls;function md(e,t,r){const n=dd(t,r);hd(e,n,r)}var pd=md;const yd=Re.fromPromise,We=nd;We.outputJson=yd(fd);We.outputJsonSync=pd;We.outputJSON=We.outputJson;We.outputJSONSync=We.outputJsonSync;We.writeJSON=We.writeJson;We.writeJSONSync=We.writeJsonSync;We.readJSON=We.readJson;We.readJSONSync=We.readJsonSync;var vd=We;const Ed=Xe,qo=Ne,{copy:gd}=cs,{remove:Cc}=ai,{mkdirp:$d}=Dt,{pathExists:_d}=fr,Bo=Mr;async function Sd(e,t,r={}){const n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:s=!1}=await Bo.checkPaths(e,t,"move",r);await Bo.checkParentPaths(e,i,t,"move");const o=qo.dirname(t);return qo.parse(o).root!==o&&await $d(o),wd(e,t,n,s)}async function wd(e,t,r,n){if(!n){if(r)await Cc(t);else if(await _d(t))throw new Error("dest already exists.")}try{await Ed.rename(e,t)}catch(i){if(i.code!=="EXDEV")throw i;await Nd(e,t,r)}}async function Nd(e,t,r){return await gd(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),Cc(e)}var Id=Sd;const Ac=kr,Gi=Ne,Od=cs.copySync,Lc=ai.removeSync,Td=Dt.mkdirpSync,Ko=Mr;function bd(e,t,r){r=r||{};const n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:s=!1}=Ko.checkPathsSync(e,t,"move",r);return Ko.checkParentPathsSync(e,i,t,"move"),Dd(t)||Td(Gi.dirname(t)),Rd(e,t,n,s)}function Dd(e){const t=Gi.dirname(e);return Gi.parse(t).root===t}function Rd(e,t,r,n){if(n)return Oi(e,t,r);if(r)return Lc(t),Oi(e,t,r);if(Ac.existsSync(t))throw new Error("dest already exists.");return Oi(e,t,r)}function Oi(e,t,r){try{Ac.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return Pd(e,t,r)}}function Pd(e,t,r){return Od(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),Lc(e)}var Cd=bd;const Ad=Re.fromPromise;var Ld={move:Ad(Id),moveSync:Cd},at={...Xe,...cs,...yf,...Bf,...vd,...Dt,...Ld,...ls,...fr,...ai},Hi={exports:{}},Fd=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")};const Qt=Fd,jd=new Set(["__proto__","prototype","constructor"]),kd=e=>!e.some(t=>jd.has(t));function An(e){const t=e.split("."),r=[];for(let n=0;n<t.length;n++){let i=t[n];for(;i[i.length-1]==="\\"&&t[n+1]!==void 0;)i=i.slice(0,-1)+".",i+=t[++n];r.push(i)}return kd(r)?r:[]}var Md={get(e,t,r){if(!Qt(e)||typeof t!="string")return r===void 0?e:r;const n=An(t);if(n.length!==0){for(let i=0;i<n.length;i++)if(e=e[n[i]],e==null){if(i!==n.length-1)return r;break}return e===void 0?r:e}},set(e,t,r){if(!Qt(e)||typeof t!="string")return e;const n=e,i=An(t);for(let s=0;s<i.length;s++){const o=i[s];Qt(e[o])||(e[o]={}),s===i.length-1&&(e[o]=r),e=e[o]}return n},delete(e,t){if(!Qt(e)||typeof t!="string")return!1;const r=An(t);for(let n=0;n<r.length;n++){const i=r[n];if(n===r.length-1)return delete e[i],!0;if(e=e[i],!Qt(e))return!1}},has(e,t){if(!Qt(e)||typeof t!="string")return!1;const r=An(t);if(r.length===0)return!1;for(let n=0;n<r.length;n++)if(Qt(e)){if(!(r[n]in e))return!1;e=e[r[n]]}else return!1;return!0}},fs={exports:{}},ds={exports:{}},hs={exports:{}},ms={exports:{}};const Fc=jr;ms.exports=e=>new Promise(t=>{Fc.access(e,r=>{t(!r)})});ms.exports.sync=e=>{try{return Fc.accessSync(e),!0}catch{return!1}};var Ud=ms.exports,ps={exports:{}},ys={exports:{}};const jc=(e,...t)=>new Promise(r=>{r(e(...t))});ys.exports=jc;ys.exports.default=jc;var xd=ys.exports;const Vd=xd,kc=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let r=0;const n=()=>{r--,t.length>0&&t.shift()()},i=(f,c,...h)=>{r++;const a=Vd(f,...h);c(a),a.then(n,n)},s=(f,c,...h)=>{r<e?i(f,c,...h):t.push(i.bind(null,f,c,...h))},o=(f,...c)=>new Promise(h=>s(f,h,...c));return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),o};ps.exports=kc;ps.exports.default=kc;var zd=ps.exports;const Wo=zd;class Mc extends Error{constructor(t){super(),this.value=t}}const Gd=(e,t)=>Promise.resolve(e).then(t),Hd=e=>Promise.all(e).then(t=>t[1]===!0&&Promise.reject(new Mc(t[0])));var qd=(e,t,r)=>{r=Object.assign({concurrency:1/0,preserveOrder:!0},r);const n=Wo(r.concurrency),i=[...e].map(o=>[o,n(Gd,o,t)]),s=Wo(r.preserveOrder?1:1/0);return Promise.all(i.map(o=>s(Hd,o))).then(()=>{}).catch(o=>o instanceof Mc?o.value:Promise.reject(o))};const Uc=Ne,xc=Ud,Bd=qd;hs.exports=(e,t)=>(t=Object.assign({cwd:process.cwd()},t),Bd(e,r=>xc(Uc.resolve(t.cwd,r)),t));hs.exports.sync=(e,t)=>{t=Object.assign({cwd:process.cwd()},t);for(const r of e)if(xc.sync(Uc.resolve(t.cwd,r)))return r};var Kd=hs.exports;const qt=Ne,Vc=Kd;ds.exports=(e,t={})=>{const r=qt.resolve(t.cwd||""),{root:n}=qt.parse(r),i=[].concat(e);return new Promise(s=>{(function o(f){Vc(i,{cwd:f}).then(c=>{c?s(qt.join(f,c)):f===n?s(null):o(qt.dirname(f))})})(r)})};ds.exports.sync=(e,t={})=>{let r=qt.resolve(t.cwd||"");const{root:n}=qt.parse(r),i=[].concat(e);for(;;){const s=Vc.sync(i,{cwd:r});if(s)return qt.join(r,s);if(r===n)return null;r=qt.dirname(r)}};var Wd=ds.exports;const zc=Wd;fs.exports=async({cwd:e}={})=>zc("package.json",{cwd:e});fs.exports.sync=({cwd:e}={})=>zc.sync("package.json",{cwd:e});var Xd=fs.exports,vs={exports:{}};const Se=Ne,Gc=dl,zt=Gc.homedir(),Es=Gc.tmpdir(),{env:Or}=process,Zd=e=>{const t=Se.join(zt,"Library");return{data:Se.join(t,"Application Support",e),config:Se.join(t,"Preferences",e),cache:Se.join(t,"Caches",e),log:Se.join(t,"Logs",e),temp:Se.join(Es,e)}},Jd=e=>{const t=Or.APPDATA||Se.join(zt,"AppData","Roaming"),r=Or.LOCALAPPDATA||Se.join(zt,"AppData","Local");return{data:Se.join(r,e,"Data"),config:Se.join(t,e,"Config"),cache:Se.join(r,e,"Cache"),log:Se.join(r,e,"Log"),temp:Se.join(Es,e)}},Yd=e=>{const t=Se.basename(zt);return{data:Se.join(Or.XDG_DATA_HOME||Se.join(zt,".local","share"),e),config:Se.join(Or.XDG_CONFIG_HOME||Se.join(zt,".config"),e),cache:Se.join(Or.XDG_CACHE_HOME||Se.join(zt,".cache"),e),log:Se.join(Or.XDG_STATE_HOME||Se.join(zt,".local","state"),e),temp:Se.join(Es,t,e)}},Hc=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?Zd(e):process.platform==="win32"?Jd(e):Yd(e)};vs.exports=Hc;vs.exports.default=Hc;var Qd=vs.exports,Tt={},de={};Object.defineProperty(de,"__esModule",{value:!0});de.NOOP=de.LIMIT_FILES_DESCRIPTORS=de.LIMIT_BASENAME_LENGTH=de.IS_USER_ROOT=de.IS_POSIX=de.DEFAULT_TIMEOUT_SYNC=de.DEFAULT_TIMEOUT_ASYNC=de.DEFAULT_WRITE_OPTIONS=de.DEFAULT_READ_OPTIONS=de.DEFAULT_FOLDER_MODE=de.DEFAULT_FILE_MODE=de.DEFAULT_ENCODING=void 0;const eh="utf8";de.DEFAULT_ENCODING=eh;const th=438;de.DEFAULT_FILE_MODE=th;const rh=511;de.DEFAULT_FOLDER_MODE=rh;const nh={};de.DEFAULT_READ_OPTIONS=nh;const ih={};de.DEFAULT_WRITE_OPTIONS=ih;const sh=5e3;de.DEFAULT_TIMEOUT_ASYNC=sh;const oh=100;de.DEFAULT_TIMEOUT_SYNC=oh;const ah=!!process.getuid;de.IS_POSIX=ah;const ch=process.getuid?!process.getuid():!1;de.IS_USER_ROOT=ch;const uh=128;de.LIMIT_BASENAME_LENGTH=uh;const lh=1e4;de.LIMIT_FILES_DESCRIPTORS=lh;const fh=()=>{};de.NOOP=fh;var ui={},Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.attemptifySync=Cr.attemptifyAsync=void 0;const qc=de,dh=(e,t=qc.NOOP)=>function(){return e.apply(void 0,arguments).catch(t)};Cr.attemptifyAsync=dh;const hh=(e,t=qc.NOOP)=>function(){try{return e.apply(void 0,arguments)}catch(r){return t(r)}};Cr.attemptifySync=hh;var gs={};Object.defineProperty(gs,"__esModule",{value:!0});const mh=de,Bc={isChangeErrorOk:e=>{const{code:t}=e;return t==="ENOSYS"||!mh.IS_USER_ROOT&&(t==="EINVAL"||t==="EPERM")},isRetriableError:e=>{const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!Bc.isChangeErrorOk(e))throw e}};gs.default=Bc;var Ar={},$s={};Object.defineProperty($s,"__esModule",{value:!0});const ph=de,pe={interval:25,intervalId:void 0,limit:ph.LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{pe.intervalId||(pe.intervalId=setInterval(pe.tick,pe.interval))},reset:()=>{pe.intervalId&&(clearInterval(pe.intervalId),delete pe.intervalId)},add:e=>{pe.queueWaiting.add(e),pe.queueActive.size<pe.limit/2?pe.tick():pe.init()},remove:e=>{pe.queueWaiting.delete(e),pe.queueActive.delete(e)},schedule:()=>new Promise(e=>{const t=()=>pe.remove(r),r=()=>e(t);pe.add(r)}),tick:()=>{if(!(pe.queueActive.size>=pe.limit)){if(!pe.queueWaiting.size)return pe.reset();for(const e of pe.queueWaiting){if(pe.queueActive.size>=pe.limit)break;pe.queueWaiting.delete(e),pe.queueActive.add(e),e()}}}};$s.default=pe;Object.defineProperty(Ar,"__esModule",{value:!0});Ar.retryifySync=Ar.retryifyAsync=void 0;const yh=$s,vh=(e,t)=>function(r){return function n(){return yh.default.schedule().then(i=>e.apply(void 0,arguments).then(s=>(i(),s),s=>{if(i(),Date.now()>=r)throw s;if(t(s)){const o=Math.round(100+400*Math.random());return new Promise(c=>setTimeout(c,o)).then(()=>n.apply(void 0,arguments))}throw s}))}};Ar.retryifyAsync=vh;const Eh=(e,t)=>function(r){return function n(){try{return e.apply(void 0,arguments)}catch(i){if(Date.now()>r)throw i;if(t(i))return n.apply(void 0,arguments);throw i}}};Ar.retryifySync=Eh;Object.defineProperty(ui,"__esModule",{value:!0});const he=jr,Ge=rs,He=Cr,Pe=gs,Ye=Ar,gh={chmodAttempt:He.attemptifyAsync(Ge.promisify(he.chmod),Pe.default.onChangeError),chownAttempt:He.attemptifyAsync(Ge.promisify(he.chown),Pe.default.onChangeError),closeAttempt:He.attemptifyAsync(Ge.promisify(he.close)),fsyncAttempt:He.attemptifyAsync(Ge.promisify(he.fsync)),mkdirAttempt:He.attemptifyAsync(Ge.promisify(he.mkdir)),realpathAttempt:He.attemptifyAsync(Ge.promisify(he.realpath)),statAttempt:He.attemptifyAsync(Ge.promisify(he.stat)),unlinkAttempt:He.attemptifyAsync(Ge.promisify(he.unlink)),closeRetry:Ye.retryifyAsync(Ge.promisify(he.close),Pe.default.isRetriableError),fsyncRetry:Ye.retryifyAsync(Ge.promisify(he.fsync),Pe.default.isRetriableError),openRetry:Ye.retryifyAsync(Ge.promisify(he.open),Pe.default.isRetriableError),readFileRetry:Ye.retryifyAsync(Ge.promisify(he.readFile),Pe.default.isRetriableError),renameRetry:Ye.retryifyAsync(Ge.promisify(he.rename),Pe.default.isRetriableError),statRetry:Ye.retryifyAsync(Ge.promisify(he.stat),Pe.default.isRetriableError),writeRetry:Ye.retryifyAsync(Ge.promisify(he.write),Pe.default.isRetriableError),chmodSyncAttempt:He.attemptifySync(he.chmodSync,Pe.default.onChangeError),chownSyncAttempt:He.attemptifySync(he.chownSync,Pe.default.onChangeError),closeSyncAttempt:He.attemptifySync(he.closeSync),mkdirSyncAttempt:He.attemptifySync(he.mkdirSync),realpathSyncAttempt:He.attemptifySync(he.realpathSync),statSyncAttempt:He.attemptifySync(he.statSync),unlinkSyncAttempt:He.attemptifySync(he.unlinkSync),closeSyncRetry:Ye.retryifySync(he.closeSync,Pe.default.isRetriableError),fsyncSyncRetry:Ye.retryifySync(he.fsyncSync,Pe.default.isRetriableError),openSyncRetry:Ye.retryifySync(he.openSync,Pe.default.isRetriableError),readFileSyncRetry:Ye.retryifySync(he.readFileSync,Pe.default.isRetriableError),renameSyncRetry:Ye.retryifySync(he.renameSync,Pe.default.isRetriableError),statSyncRetry:Ye.retryifySync(he.statSync,Pe.default.isRetriableError),writeSyncRetry:Ye.retryifySync(he.writeSync,Pe.default.isRetriableError)};ui.default=gh;var _s={};Object.defineProperty(_s,"__esModule",{value:!0});const $h={isFunction:e=>typeof e=="function",isString:e=>typeof e=="string",isUndefined:e=>typeof e>"u"};_s.default=$h;var Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});const Ln={},qi={next:e=>{const t=Ln[e];if(!t)return;t.shift();const r=t[0];r?r(()=>qi.next(e)):delete Ln[e]},schedule:e=>new Promise(t=>{let r=Ln[e];r||(r=Ln[e]=[]),r.push(t),!(r.length>1)&&t(()=>qi.next(e))})};Ss.default=qi;var ws={};Object.defineProperty(ws,"__esModule",{value:!0});const _h=Ne,Xo=de,Zo=ui,nt={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),r=Date.now().toString().slice(-10),n="tmp-",i=`.${n}${r}${t}`;return`${e}${i}`},get:(e,t,r=!0)=>{const n=nt.truncate(t(e));return n in nt.store?nt.get(e,t,r):(nt.store[n]=r,[n,()=>delete nt.store[n]])},purge:e=>{nt.store[e]&&(delete nt.store[e],Zo.default.unlinkAttempt(e))},purgeSync:e=>{nt.store[e]&&(delete nt.store[e],Zo.default.unlinkSyncAttempt(e))},purgeSyncAll:()=>{for(const e in nt.store)nt.purgeSync(e)},truncate:e=>{const t=_h.basename(e);if(t.length<=Xo.LIMIT_BASENAME_LENGTH)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-Xo.LIMIT_BASENAME_LENGTH;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};process.on("exit",nt.purgeSyncAll);ws.default=nt;Object.defineProperty(Tt,"__esModule",{value:!0});Tt.writeFileSync=Tt.writeFile=Tt.readFileSync=Tt.readFile=void 0;const Kc=Ne,je=de,fe=ui,it=_s,Sh=Ss,Bt=ws;function Wc(e,t=je.DEFAULT_READ_OPTIONS){var r;if(it.default.isString(t))return Wc(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:je.DEFAULT_TIMEOUT_ASYNC);return fe.default.readFileRetry(n)(e,t)}Tt.readFile=Wc;function Xc(e,t=je.DEFAULT_READ_OPTIONS){var r;if(it.default.isString(t))return Xc(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:je.DEFAULT_TIMEOUT_SYNC);return fe.default.readFileSyncRetry(n)(e,t)}Tt.readFileSync=Xc;const Zc=(e,t,r,n)=>{if(it.default.isFunction(r))return Zc(e,t,je.DEFAULT_WRITE_OPTIONS,r);const i=Jc(e,t,r);return n&&i.then(n,n),i};Tt.writeFile=Zc;const Jc=async(e,t,r=je.DEFAULT_WRITE_OPTIONS)=>{var n;if(it.default.isString(r))return Jc(e,t,{encoding:r});const i=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:je.DEFAULT_TIMEOUT_ASYNC);let s=null,o=null,f=null,c=null,h=null;try{r.schedule&&(s=await r.schedule(e)),o=await Sh.default.schedule(e),e=await fe.default.realpathAttempt(e)||e,[c,f]=Bt.default.get(e,r.tmpCreate||Bt.default.create,r.tmpPurge!==!1);const a=je.IS_POSIX&&it.default.isUndefined(r.chown),d=it.default.isUndefined(r.mode);if(a||d){const m=await fe.default.statAttempt(e);m&&(r={...r},a&&(r.chown={uid:m.uid,gid:m.gid}),d&&(r.mode=m.mode))}const E=Kc.dirname(e);await fe.default.mkdirAttempt(E,{mode:je.DEFAULT_FOLDER_MODE,recursive:!0}),h=await fe.default.openRetry(i)(c,"w",r.mode||je.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(c),it.default.isString(t)?await fe.default.writeRetry(i)(h,t,0,r.encoding||je.DEFAULT_ENCODING):it.default.isUndefined(t)||await fe.default.writeRetry(i)(h,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?await fe.default.fsyncRetry(i)(h):fe.default.fsyncAttempt(h)),await fe.default.closeRetry(i)(h),h=null,r.chown&&await fe.default.chownAttempt(c,r.chown.uid,r.chown.gid),r.mode&&await fe.default.chmodAttempt(c,r.mode);try{await fe.default.renameRetry(i)(c,e)}catch(m){if(m.code!=="ENAMETOOLONG")throw m;await fe.default.renameRetry(i)(c,Bt.default.truncate(e))}f(),c=null}finally{h&&await fe.default.closeAttempt(h),c&&Bt.default.purge(c),s&&s(),o&&o()}},Yc=(e,t,r=je.DEFAULT_WRITE_OPTIONS)=>{var n;if(it.default.isString(r))return Yc(e,t,{encoding:r});const i=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:je.DEFAULT_TIMEOUT_SYNC);let s=null,o=null,f=null;try{e=fe.default.realpathSyncAttempt(e)||e,[o,s]=Bt.default.get(e,r.tmpCreate||Bt.default.create,r.tmpPurge!==!1);const c=je.IS_POSIX&&it.default.isUndefined(r.chown),h=it.default.isUndefined(r.mode);if(c||h){const d=fe.default.statSyncAttempt(e);d&&(r={...r},c&&(r.chown={uid:d.uid,gid:d.gid}),h&&(r.mode=d.mode))}const a=Kc.dirname(e);fe.default.mkdirSyncAttempt(a,{mode:je.DEFAULT_FOLDER_MODE,recursive:!0}),f=fe.default.openSyncRetry(i)(o,"w",r.mode||je.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(o),it.default.isString(t)?fe.default.writeSyncRetry(i)(f,t,0,r.encoding||je.DEFAULT_ENCODING):it.default.isUndefined(t)||fe.default.writeSyncRetry(i)(f,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?fe.default.fsyncSyncRetry(i)(f):fe.default.fsyncAttempt(f)),fe.default.closeSyncRetry(i)(f),f=null,r.chown&&fe.default.chownSyncAttempt(o,r.chown.uid,r.chown.gid),r.mode&&fe.default.chmodSyncAttempt(o,r.mode);try{fe.default.renameSyncRetry(i)(o,e)}catch(d){if(d.code!=="ENAMETOOLONG")throw d;fe.default.renameSyncRetry(i)(o,Bt.default.truncate(e))}s(),o=null}finally{f&&fe.default.closeSyncAttempt(f),o&&Bt.default.purge(o)}};Tt.writeFileSync=Yc;var Bi={exports:{}},Qc={},mt={},Lr={},En={},re={},pn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor($){if(super(),!e.IDENTIFIER.test($))throw new Error("CodeGen: name must be a valid identifier");this.str=$}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor($){super(),this._items=typeof $=="string"?[$]:$}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const $=this._items[0];return $===""||$==='""'}get str(){var $;return($=this._str)!==null&&$!==void 0?$:this._str=this._items.reduce((_,b)=>`${_}${b}`,"")}get names(){var $;return($=this._names)!==null&&$!==void 0?$:this._names=this._items.reduce((_,b)=>(b instanceof r&&(_[b.str]=(_[b.str]||0)+1),_),{})}}e._Code=n,e.nil=new n("");function i(l,...$){const _=[l[0]];let b=0;for(;b<$.length;)f(_,$[b]),_.push(l[++b]);return new n(_)}e._=i;const s=new n("+");function o(l,...$){const _=[m(l[0])];let b=0;for(;b<$.length;)_.push(s),f(_,$[b]),_.push(s,m(l[++b]));return c(_),new n(_)}e.str=o;function f(l,$){$ instanceof n?l.push(...$._items):$ instanceof r?l.push($):l.push(d($))}e.addCodeArg=f;function c(l){let $=1;for(;$<l.length-1;){if(l[$]===s){const _=h(l[$-1],l[$+1]);if(_!==void 0){l.splice($-1,3,_);continue}l[$++]="+"}$++}}function h(l,$){if($==='""')return l;if(l==='""')return $;if(typeof l=="string")return $ instanceof r||l[l.length-1]!=='"'?void 0:typeof $!="string"?`${l.slice(0,-1)}${$}"`:$[0]==='"'?l.slice(0,-1)+$.slice(1):void 0;if(typeof $=="string"&&$[0]==='"'&&!(l instanceof r))return`"${l}${$.slice(1)}`}function a(l,$){return $.emptyStr()?l:l.emptyStr()?$:o`${l}${$}`}e.strConcat=a;function d(l){return typeof l=="number"||typeof l=="boolean"||l===null?l:m(Array.isArray(l)?l.join(","):l)}function E(l){return new n(m(l))}e.stringify=E;function m(l){return JSON.stringify(l).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function u(l){return typeof l=="string"&&e.IDENTIFIER.test(l)?new n(`.${l}`):i`[${l}]`}e.getProperty=u;function y(l){if(typeof l=="string"&&e.IDENTIFIER.test(l))return new n(`${l}`);throw new Error(`CodeGen: invalid export name: ${l}, use explicit $id name mapping`)}e.getEsmExportName=y;function v(l){return new n(l.toString())}e.regexpCode=v})(pn);var Ki={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=pn;class r extends Error{constructor(h){super(`CodeGen: "code" for ${h} not defined`),this.value=h.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:h,parent:a}={}){this._names={},this._prefixes=h,this._parent=a}toName(h){return h instanceof t.Name?h:this.name(h)}name(h){return new t.Name(this._newName(h))}_newName(h){const a=this._names[h]||this._nameGroup(h);return`${h}${a.index++}`}_nameGroup(h){var a,d;if(!((d=(a=this._parent)===null||a===void 0?void 0:a._prefixes)===null||d===void 0)&&d.has(h)||this._prefixes&&!this._prefixes.has(h))throw new Error(`CodeGen: prefix "${h}" is not allowed in this scope`);return this._names[h]={prefix:h,index:0}}}e.Scope=i;class s extends t.Name{constructor(h,a){super(a),this.prefix=h}setValue(h,{property:a,itemIndex:d}){this.value=h,this.scopePath=(0,t._)`.${new t.Name(a)}[${d}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class f extends i{constructor(h){super(h),this._values={},this._scope=h.scope,this.opts={...h,_n:h.lines?o:t.nil}}get(){return this._scope}name(h){return new s(h,this._newName(h))}value(h,a){var d;if(a.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const E=this.toName(h),{prefix:m}=E,u=(d=a.key)!==null&&d!==void 0?d:a.ref;let y=this._values[m];if(y){const $=y.get(u);if($)return $}else y=this._values[m]=new Map;y.set(u,E);const v=this._scope[m]||(this._scope[m]=[]),l=v.length;return v[l]=a.ref,E.setValue(a,{property:m,itemIndex:l}),E}getValue(h,a){const d=this._values[h];if(d)return d.get(a)}scopeRefs(h,a=this._values){return this._reduceValues(a,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,t._)`${h}${d.scopePath}`})}scopeCode(h=this._values,a,d){return this._reduceValues(h,E=>{if(E.value===void 0)throw new Error(`CodeGen: name "${E}" has no value`);return E.value.code},a,d)}_reduceValues(h,a,d={},E){let m=t.nil;for(const u in h){const y=h[u];if(!y)continue;const v=d[u]=d[u]||new Map;y.forEach(l=>{if(v.has(l))return;v.set(l,n.Started);let $=a(l);if($){const _=this.opts.es5?e.varKinds.var:e.varKinds.const;m=(0,t._)`${m}${_} ${l} = ${$};${this.opts._n}`}else if($=E?.(l))m=(0,t._)`${m}${$}${this.opts._n}`;else throw new r(l);v.set(l,n.Completed)})}return m}}e.ValueScope=f})(Ki);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=pn,r=Ki;var n=pn;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=Ki;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(p,S){return this}}class o extends s{constructor(p,S,k){super(),this.varKind=p,this.name=S,this.rhs=k}render({es5:p,_n:S}){const k=p?r.varKinds.var:this.varKind,W=this.rhs===void 0?"":` = ${this.rhs}`;return`${k} ${this.name}${W};`+S}optimizeNames(p,S){if(p[this.name.str])return this.rhs&&(this.rhs=M(this.rhs,p,S)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class f extends s{constructor(p,S,k){super(),this.lhs=p,this.rhs=S,this.sideEffects=k}render({_n:p}){return`${this.lhs} = ${this.rhs};`+p}optimizeNames(p,S){if(!(this.lhs instanceof t.Name&&!p[this.lhs.str]&&!this.sideEffects))return this.rhs=M(this.rhs,p,S),this}get names(){const p=this.lhs instanceof t.Name?{}:{...this.lhs.names};return z(p,this.rhs)}}class c extends f{constructor(p,S,k,W){super(p,k,W),this.op=S}render({_n:p}){return`${this.lhs} ${this.op}= ${this.rhs};`+p}}class h extends s{constructor(p){super(),this.label=p,this.names={}}render({_n:p}){return`${this.label}:`+p}}class a extends s{constructor(p){super(),this.label=p,this.names={}}render({_n:p}){return`break${this.label?` ${this.label}`:""};`+p}}class d extends s{constructor(p){super(),this.error=p}render({_n:p}){return`throw ${this.error};`+p}get names(){return this.error.names}}class E extends s{constructor(p){super(),this.code=p}render({_n:p}){return`${this.code};`+p}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(p,S){return this.code=M(this.code,p,S),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class m extends s{constructor(p=[]){super(),this.nodes=p}render(p){return this.nodes.reduce((S,k)=>S+k.render(p),"")}optimizeNodes(){const{nodes:p}=this;let S=p.length;for(;S--;){const k=p[S].optimizeNodes();Array.isArray(k)?p.splice(S,1,...k):k?p[S]=k:p.splice(S,1)}return p.length>0?this:void 0}optimizeNames(p,S){const{nodes:k}=this;let W=k.length;for(;W--;){const X=k[W];X.optimizeNames(p,S)||(H(p,X.names),k.splice(W,1))}return k.length>0?this:void 0}get names(){return this.nodes.reduce((p,S)=>K(p,S.names),{})}}class u extends m{render(p){return"{"+p._n+super.render(p)+"}"+p._n}}class y extends m{}class v extends u{}v.kind="else";class l extends u{constructor(p,S){super(S),this.condition=p}render(p){let S=`if(${this.condition})`+super.render(p);return this.else&&(S+="else "+this.else.render(p)),S}optimizeNodes(){super.optimizeNodes();const p=this.condition;if(p===!0)return this.nodes;let S=this.else;if(S){const k=S.optimizeNodes();S=this.else=Array.isArray(k)?new v(k):k}if(S)return p===!1?S instanceof l?S:S.nodes:this.nodes.length?this:new l(q(p),S instanceof l?[S]:S.nodes);if(!(p===!1||!this.nodes.length))return this}optimizeNames(p,S){var k;if(this.else=(k=this.else)===null||k===void 0?void 0:k.optimizeNames(p,S),!!(super.optimizeNames(p,S)||this.else))return this.condition=M(this.condition,p,S),this}get names(){const p=super.names;return z(p,this.condition),this.else&&K(p,this.else.names),p}}l.kind="if";class $ extends u{}$.kind="for";class _ extends ${constructor(p){super(),this.iteration=p}render(p){return`for(${this.iteration})`+super.render(p)}optimizeNames(p,S){if(super.optimizeNames(p,S))return this.iteration=M(this.iteration,p,S),this}get names(){return K(super.names,this.iteration.names)}}class b extends ${constructor(p,S,k,W){super(),this.varKind=p,this.name=S,this.from=k,this.to=W}render(p){const S=p.es5?r.varKinds.var:this.varKind,{name:k,from:W,to:X}=this;return`for(${S} ${k}=${W}; ${k}<${X}; ${k}++)`+super.render(p)}get names(){const p=z(super.names,this.from);return z(p,this.to)}}class x extends ${constructor(p,S,k,W){super(),this.loop=p,this.varKind=S,this.name=k,this.iterable=W}render(p){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(p)}optimizeNames(p,S){if(super.optimizeNames(p,S))return this.iterable=M(this.iterable,p,S),this}get names(){return K(super.names,this.iterable.names)}}class T extends u{constructor(p,S,k){super(),this.name=p,this.args=S,this.async=k}render(p){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(p)}}T.kind="func";class P extends m{render(p){return"return "+super.render(p)}}P.kind="return";class U extends u{render(p){let S="try"+super.render(p);return this.catch&&(S+=this.catch.render(p)),this.finally&&(S+=this.finally.render(p)),S}optimizeNodes(){var p,S;return super.optimizeNodes(),(p=this.catch)===null||p===void 0||p.optimizeNodes(),(S=this.finally)===null||S===void 0||S.optimizeNodes(),this}optimizeNames(p,S){var k,W;return super.optimizeNames(p,S),(k=this.catch)===null||k===void 0||k.optimizeNames(p,S),(W=this.finally)===null||W===void 0||W.optimizeNames(p,S),this}get names(){const p=super.names;return this.catch&&K(p,this.catch.names),this.finally&&K(p,this.finally.names),p}}class C extends u{constructor(p){super(),this.error=p}render(p){return`catch(${this.error})`+super.render(p)}}C.kind="catch";class V extends u{render(p){return"finally"+super.render(p)}}V.kind="finally";class B{constructor(p,S={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...S,_n:S.lines?`
`:""},this._extScope=p,this._scope=new r.Scope({parent:p}),this._nodes=[new y]}toString(){return this._root.render(this.opts)}name(p){return this._scope.name(p)}scopeName(p){return this._extScope.name(p)}scopeValue(p,S){const k=this._extScope.value(p,S);return(this._values[k.prefix]||(this._values[k.prefix]=new Set)).add(k),k}getScopeValue(p,S){return this._extScope.getValue(p,S)}scopeRefs(p){return this._extScope.scopeRefs(p,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(p,S,k,W){const X=this._scope.toName(S);return k!==void 0&&W&&(this._constants[X.str]=k),this._leafNode(new o(p,X,k)),X}const(p,S,k){return this._def(r.varKinds.const,p,S,k)}let(p,S,k){return this._def(r.varKinds.let,p,S,k)}var(p,S,k){return this._def(r.varKinds.var,p,S,k)}assign(p,S,k){return this._leafNode(new f(p,S,k))}add(p,S){return this._leafNode(new c(p,e.operators.ADD,S))}code(p){return typeof p=="function"?p():p!==t.nil&&this._leafNode(new E(p)),this}object(...p){const S=["{"];for(const[k,W]of p)S.length>1&&S.push(","),S.push(k),(k!==W||this.opts.es5)&&(S.push(":"),(0,t.addCodeArg)(S,W));return S.push("}"),new t._Code(S)}if(p,S,k){if(this._blockNode(new l(p)),S&&k)this.code(S).else().code(k).endIf();else if(S)this.code(S).endIf();else if(k)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(p){return this._elseNode(new l(p))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(l,v)}_for(p,S){return this._blockNode(p),S&&this.code(S).endFor(),this}for(p,S){return this._for(new _(p),S)}forRange(p,S,k,W,X=this.opts.es5?r.varKinds.var:r.varKinds.let){const ie=this._scope.toName(p);return this._for(new b(X,ie,S,k),()=>W(ie))}forOf(p,S,k,W=r.varKinds.const){const X=this._scope.toName(p);if(this.opts.es5){const ie=S instanceof t.Name?S:this.var("_arr",S);return this.forRange("_i",0,(0,t._)`${ie}.length`,oe=>{this.var(X,(0,t._)`${ie}[${oe}]`),k(X)})}return this._for(new x("of",W,X,S),()=>k(X))}forIn(p,S,k,W=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(p,(0,t._)`Object.keys(${S})`,k);const X=this._scope.toName(p);return this._for(new x("in",W,X,S),()=>k(X))}endFor(){return this._endBlockNode($)}label(p){return this._leafNode(new h(p))}break(p){return this._leafNode(new a(p))}return(p){const S=new P;if(this._blockNode(S),this.code(p),S.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(P)}try(p,S,k){if(!S&&!k)throw new Error('CodeGen: "try" without "catch" and "finally"');const W=new U;if(this._blockNode(W),this.code(p),S){const X=this.name("e");this._currNode=W.catch=new C(X),S(X)}return k&&(this._currNode=W.finally=new V,this.code(k)),this._endBlockNode(C,V)}throw(p){return this._leafNode(new d(p))}block(p,S){return this._blockStarts.push(this._nodes.length),p&&this.code(p).endBlock(S),this}endBlock(p){const S=this._blockStarts.pop();if(S===void 0)throw new Error("CodeGen: not in self-balancing block");const k=this._nodes.length-S;if(k<0||p!==void 0&&k!==p)throw new Error(`CodeGen: wrong number of nodes: ${k} vs ${p} expected`);return this._nodes.length=S,this}func(p,S=t.nil,k,W){return this._blockNode(new T(p,S,k)),W&&this.code(W).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(p=1){for(;p-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(p){return this._currNode.nodes.push(p),this}_blockNode(p){this._currNode.nodes.push(p),this._nodes.push(p)}_endBlockNode(p,S){const k=this._currNode;if(k instanceof p||S&&k instanceof S)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${S?`${p.kind}/${S.kind}`:p.kind}"`)}_elseNode(p){const S=this._currNode;if(!(S instanceof l))throw new Error('CodeGen: "else" without "if"');return this._currNode=S.else=p,this}get _root(){return this._nodes[0]}get _currNode(){const p=this._nodes;return p[p.length-1]}set _currNode(p){const S=this._nodes;S[S.length-1]=p}}e.CodeGen=B;function K(D,p){for(const S in p)D[S]=(D[S]||0)+(p[S]||0);return D}function z(D,p){return p instanceof t._CodeOrName?K(D,p.names):D}function M(D,p,S){if(D instanceof t.Name)return k(D);if(!W(D))return D;return new t._Code(D._items.reduce((X,ie)=>(ie instanceof t.Name&&(ie=k(ie)),ie instanceof t._Code?X.push(...ie._items):X.push(ie),X),[]));function k(X){const ie=S[X.str];return ie===void 0||p[X.str]!==1?X:(delete p[X.str],ie)}function W(X){return X instanceof t._Code&&X._items.some(ie=>ie instanceof t.Name&&p[ie.str]===1&&S[ie.str]!==void 0)}}function H(D,p){for(const S in p)D[S]=(D[S]||0)-(p[S]||0)}function q(D){return typeof D=="boolean"||typeof D=="number"||D===null?!D:(0,t._)`!${A(D)}`}e.not=q;const G=w(e.operators.AND);function R(...D){return D.reduce(G)}e.and=R;const F=w(e.operators.OR);function O(...D){return D.reduce(F)}e.or=O;function w(D){return(p,S)=>p===t.nil?S:S===t.nil?p:(0,t._)`${A(p)} ${D} ${A(S)}`}function A(D){return D instanceof t.Name?D:(0,t._)`(${D})`}})(re);var ue={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=re,r=pn;function n(T){const P={};for(const U of T)P[U]=!0;return P}e.toHash=n;function i(T,P){return typeof P=="boolean"?P:Object.keys(P).length===0?!0:(s(T,P),!o(P,T.self.RULES.all))}e.alwaysValidSchema=i;function s(T,P=T.schema){const{opts:U,self:C}=T;if(!U.strictSchema||typeof P=="boolean")return;const V=C.RULES.keywords;for(const B in P)V[B]||x(T,`unknown keyword: "${B}"`)}e.checkUnknownRules=s;function o(T,P){if(typeof T=="boolean")return!T;for(const U in T)if(P[U])return!0;return!1}e.schemaHasRules=o;function f(T,P){if(typeof T=="boolean")return!T;for(const U in T)if(U!=="$ref"&&P.all[U])return!0;return!1}e.schemaHasRulesButRef=f;function c({topSchemaRef:T,schemaPath:P},U,C,V){if(!V){if(typeof U=="number"||typeof U=="boolean")return U;if(typeof U=="string")return(0,t._)`${U}`}return(0,t._)`${T}${P}${(0,t.getProperty)(C)}`}e.schemaRefOrVal=c;function h(T){return E(decodeURIComponent(T))}e.unescapeFragment=h;function a(T){return encodeURIComponent(d(T))}e.escapeFragment=a;function d(T){return typeof T=="number"?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=d;function E(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=E;function m(T,P){if(Array.isArray(T))for(const U of T)P(U);else P(T)}e.eachItem=m;function u({mergeNames:T,mergeToName:P,mergeValues:U,resultToName:C}){return(V,B,K,z)=>{const M=K===void 0?B:K instanceof t.Name?(B instanceof t.Name?T(V,B,K):P(V,B,K),K):B instanceof t.Name?(P(V,K,B),B):U(B,K);return z===t.Name&&!(M instanceof t.Name)?C(V,M):M}}e.mergeEvaluated={props:u({mergeNames:(T,P,U)=>T.if((0,t._)`${U} !== true && ${P} !== undefined`,()=>{T.if((0,t._)`${P} === true`,()=>T.assign(U,!0),()=>T.assign(U,(0,t._)`${U} || {}`).code((0,t._)`Object.assign(${U}, ${P})`))}),mergeToName:(T,P,U)=>T.if((0,t._)`${U} !== true`,()=>{P===!0?T.assign(U,!0):(T.assign(U,(0,t._)`${U} || {}`),v(T,U,P))}),mergeValues:(T,P)=>T===!0?!0:{...T,...P},resultToName:y}),items:u({mergeNames:(T,P,U)=>T.if((0,t._)`${U} !== true && ${P} !== undefined`,()=>T.assign(U,(0,t._)`${P} === true ? true : ${U} > ${P} ? ${U} : ${P}`)),mergeToName:(T,P,U)=>T.if((0,t._)`${U} !== true`,()=>T.assign(U,P===!0?!0:(0,t._)`${U} > ${P} ? ${U} : ${P}`)),mergeValues:(T,P)=>T===!0?!0:Math.max(T,P),resultToName:(T,P)=>T.var("items",P)})};function y(T,P){if(P===!0)return T.var("props",!0);const U=T.var("props",(0,t._)`{}`);return P!==void 0&&v(T,U,P),U}e.evaluatedPropsToName=y;function v(T,P,U){Object.keys(U).forEach(C=>T.assign((0,t._)`${P}${(0,t.getProperty)(C)}`,!0))}e.setEvaluated=v;const l={};function $(T,P){return T.scopeValue("func",{ref:P,code:l[P.code]||(l[P.code]=new r._Code(P.code))})}e.useFunc=$;var _;(function(T){T[T.Num=0]="Num",T[T.Str=1]="Str"})(_=e.Type||(e.Type={}));function b(T,P,U){if(T instanceof t.Name){const C=P===_.Num;return U?C?(0,t._)`"[" + ${T} + "]"`:(0,t._)`"['" + ${T} + "']"`:C?(0,t._)`"/" + ${T}`:(0,t._)`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return U?(0,t.getProperty)(T).toString():"/"+d(T)}e.getErrorPath=b;function x(T,P,U=T.opts.strictSchema){if(U){if(P=`strict mode: ${P}`,U===!0)throw new Error(P);T.self.logger.warn(P)}}e.checkStrictMode=x})(ue);var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});const xe=re,wh={data:new xe.Name("data"),valCxt:new xe.Name("valCxt"),instancePath:new xe.Name("instancePath"),parentData:new xe.Name("parentData"),parentDataProperty:new xe.Name("parentDataProperty"),rootData:new xe.Name("rootData"),dynamicAnchors:new xe.Name("dynamicAnchors"),vErrors:new xe.Name("vErrors"),errors:new xe.Name("errors"),this:new xe.Name("this"),self:new xe.Name("self"),scope:new xe.Name("scope"),json:new xe.Name("json"),jsonPos:new xe.Name("jsonPos"),jsonLen:new xe.Name("jsonLen"),jsonPart:new xe.Name("jsonPart")};Rt.default=wh;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=re,r=ue,n=Rt;e.keywordError={message:({keyword:v})=>(0,t.str)`must pass "${v}" keyword validation`},e.keyword$DataError={message:({keyword:v,schemaType:l})=>l?(0,t.str)`"${v}" keyword must be ${l} ($data)`:(0,t.str)`"${v}" keyword is invalid ($data)`};function i(v,l=e.keywordError,$,_){const{it:b}=v,{gen:x,compositeRule:T,allErrors:P}=b,U=d(v,l,$);_??(T||P)?c(x,U):h(b,(0,t._)`[${U}]`)}e.reportError=i;function s(v,l=e.keywordError,$){const{it:_}=v,{gen:b,compositeRule:x,allErrors:T}=_,P=d(v,l,$);c(b,P),x||T||h(_,n.default.vErrors)}e.reportExtraError=s;function o(v,l){v.assign(n.default.errors,l),v.if((0,t._)`${n.default.vErrors} !== null`,()=>v.if(l,()=>v.assign((0,t._)`${n.default.vErrors}.length`,l),()=>v.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function f({gen:v,keyword:l,schemaValue:$,data:_,errsCount:b,it:x}){if(b===void 0)throw new Error("ajv implementation error");const T=v.name("err");v.forRange("i",b,n.default.errors,P=>{v.const(T,(0,t._)`${n.default.vErrors}[${P}]`),v.if((0,t._)`${T}.instancePath === undefined`,()=>v.assign((0,t._)`${T}.instancePath`,(0,t.strConcat)(n.default.instancePath,x.errorPath))),v.assign((0,t._)`${T}.schemaPath`,(0,t.str)`${x.errSchemaPath}/${l}`),x.opts.verbose&&(v.assign((0,t._)`${T}.schema`,$),v.assign((0,t._)`${T}.data`,_))})}e.extendErrors=f;function c(v,l){const $=v.const("err",l);v.if((0,t._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,t._)`[${$}]`),(0,t._)`${n.default.vErrors}.push(${$})`),v.code((0,t._)`${n.default.errors}++`)}function h(v,l){const{gen:$,validateName:_,schemaEnv:b}=v;b.$async?$.throw((0,t._)`new ${v.ValidationError}(${l})`):($.assign((0,t._)`${_}.errors`,l),$.return(!1))}const a={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function d(v,l,$){const{createErrors:_}=v.it;return _===!1?(0,t._)`{}`:E(v,l,$)}function E(v,l,$={}){const{gen:_,it:b}=v,x=[m(b,$),u(v,$)];return y(v,l,x),_.object(...x)}function m({errorPath:v},{instancePath:l}){const $=l?(0,t.str)`${v}${(0,r.getErrorPath)(l,r.Type.Str)}`:v;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,$)]}function u({keyword:v,it:{errSchemaPath:l}},{schemaPath:$,parentSchema:_}){let b=_?l:(0,t.str)`${l}/${v}`;return $&&(b=(0,t.str)`${b}${(0,r.getErrorPath)($,r.Type.Str)}`),[a.schemaPath,b]}function y(v,{params:l,message:$},_){const{keyword:b,data:x,schemaValue:T,it:P}=v,{opts:U,propertyName:C,topSchemaRef:V,schemaPath:B}=P;_.push([a.keyword,b],[a.params,typeof l=="function"?l(v):l||(0,t._)`{}`]),U.messages&&_.push([a.message,typeof $=="function"?$(v):$]),U.verbose&&_.push([a.schema,T],[a.parentSchema,(0,t._)`${V}${B}`],[n.default.data,x]),C&&_.push([a.propertyName,C])}})(En);Object.defineProperty(Lr,"__esModule",{value:!0});Lr.boolOrEmptySchema=Lr.topBoolOrEmptySchema=void 0;const Nh=En,Ih=re,Oh=Rt,Th={message:"boolean schema is false"};function bh(e){const{gen:t,schema:r,validateName:n}=e;r===!1?eu(e,!1):typeof r=="object"&&r.$async===!0?t.return(Oh.default.data):(t.assign((0,Ih._)`${n}.errors`,null),t.return(!0))}Lr.topBoolOrEmptySchema=bh;function Dh(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),eu(e)):r.var(t,!0)}Lr.boolOrEmptySchema=Dh;function eu(e,t){const{gen:r,data:n}=e,i={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Nh.reportError)(i,Th,void 0,t)}var gn={},cr={};Object.defineProperty(cr,"__esModule",{value:!0});cr.getRules=cr.isJSONType=void 0;const Rh=["string","number","integer","boolean","null","object","array"],Ph=new Set(Rh);function Ch(e){return typeof e=="string"&&Ph.has(e)}cr.isJSONType=Ch;function Ah(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}cr.getRules=Ah;var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.shouldUseRule=Ft.shouldUseGroup=Ft.schemaHasRulesForType=void 0;function Lh({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&tu(e,n)}Ft.schemaHasRulesForType=Lh;function tu(e,t){return t.rules.some(r=>ru(e,r))}Ft.shouldUseGroup=tu;function ru(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Ft.shouldUseRule=ru;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=cr,r=Ft,n=En,i=re,s=ue;var o;(function(_){_[_.Correct=0]="Correct",_[_.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function f(_){const b=c(_.type);if(b.includes("null")){if(_.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!b.length&&_.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');_.nullable===!0&&b.push("null")}return b}e.getSchemaTypes=f;function c(_){const b=Array.isArray(_)?_:_?[_]:[];if(b.every(t.isJSONType))return b;throw new Error("type must be JSONType or JSONType[]: "+b.join(","))}e.getJSONTypes=c;function h(_,b){const{gen:x,data:T,opts:P}=_,U=d(b,P.coerceTypes),C=b.length>0&&!(U.length===0&&b.length===1&&(0,r.schemaHasRulesForType)(_,b[0]));if(C){const V=y(b,T,P.strictNumbers,o.Wrong);x.if(V,()=>{U.length?E(_,b,U):l(_)})}return C}e.coerceAndCheckDataType=h;const a=new Set(["string","number","integer","boolean","null"]);function d(_,b){return b?_.filter(x=>a.has(x)||b==="array"&&x==="array"):[]}function E(_,b,x){const{gen:T,data:P,opts:U}=_,C=T.let("dataType",(0,i._)`typeof ${P}`),V=T.let("coerced",(0,i._)`undefined`);U.coerceTypes==="array"&&T.if((0,i._)`${C} == 'object' && Array.isArray(${P}) && ${P}.length == 1`,()=>T.assign(P,(0,i._)`${P}[0]`).assign(C,(0,i._)`typeof ${P}`).if(y(b,P,U.strictNumbers),()=>T.assign(V,P))),T.if((0,i._)`${V} !== undefined`);for(const K of x)(a.has(K)||K==="array"&&U.coerceTypes==="array")&&B(K);T.else(),l(_),T.endIf(),T.if((0,i._)`${V} !== undefined`,()=>{T.assign(P,V),m(_,V)});function B(K){switch(K){case"string":T.elseIf((0,i._)`${C} == "number" || ${C} == "boolean"`).assign(V,(0,i._)`"" + ${P}`).elseIf((0,i._)`${P} === null`).assign(V,(0,i._)`""`);return;case"number":T.elseIf((0,i._)`${C} == "boolean" || ${P} === null
              || (${C} == "string" && ${P} && ${P} == +${P})`).assign(V,(0,i._)`+${P}`);return;case"integer":T.elseIf((0,i._)`${C} === "boolean" || ${P} === null
              || (${C} === "string" && ${P} && ${P} == +${P} && !(${P} % 1))`).assign(V,(0,i._)`+${P}`);return;case"boolean":T.elseIf((0,i._)`${P} === "false" || ${P} === 0 || ${P} === null`).assign(V,!1).elseIf((0,i._)`${P} === "true" || ${P} === 1`).assign(V,!0);return;case"null":T.elseIf((0,i._)`${P} === "" || ${P} === 0 || ${P} === false`),T.assign(V,null);return;case"array":T.elseIf((0,i._)`${C} === "string" || ${C} === "number"
              || ${C} === "boolean" || ${P} === null`).assign(V,(0,i._)`[${P}]`)}}}function m({gen:_,parentData:b,parentDataProperty:x},T){_.if((0,i._)`${b} !== undefined`,()=>_.assign((0,i._)`${b}[${x}]`,T))}function u(_,b,x,T=o.Correct){const P=T===o.Correct?i.operators.EQ:i.operators.NEQ;let U;switch(_){case"null":return(0,i._)`${b} ${P} null`;case"array":U=(0,i._)`Array.isArray(${b})`;break;case"object":U=(0,i._)`${b} && typeof ${b} == "object" && !Array.isArray(${b})`;break;case"integer":U=C((0,i._)`!(${b} % 1) && !isNaN(${b})`);break;case"number":U=C();break;default:return(0,i._)`typeof ${b} ${P} ${_}`}return T===o.Correct?U:(0,i.not)(U);function C(V=i.nil){return(0,i.and)((0,i._)`typeof ${b} == "number"`,V,x?(0,i._)`isFinite(${b})`:i.nil)}}e.checkDataType=u;function y(_,b,x,T){if(_.length===1)return u(_[0],b,x,T);let P;const U=(0,s.toHash)(_);if(U.array&&U.object){const C=(0,i._)`typeof ${b} != "object"`;P=U.null?C:(0,i._)`!${b} || ${C}`,delete U.null,delete U.array,delete U.object}else P=i.nil;U.number&&delete U.integer;for(const C in U)P=(0,i.and)(P,u(C,b,x,T));return P}e.checkDataTypes=y;const v={message:({schema:_})=>`must be ${_}`,params:({schema:_,schemaValue:b})=>typeof _=="string"?(0,i._)`{type: ${_}}`:(0,i._)`{type: ${b}}`};function l(_){const b=$(_);(0,n.reportError)(b,v)}e.reportTypeError=l;function $(_){const{gen:b,data:x,schema:T}=_,P=(0,s.schemaRefOrVal)(_,T,"type");return{gen:b,keyword:"type",data:x,schema:T.type,schemaCode:P,schemaValue:P,parentSchema:T,params:{},it:_}}})(gn);var li={};Object.defineProperty(li,"__esModule",{value:!0});li.assignDefaults=void 0;const $r=re,Fh=ue;function jh(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const i in r)Jo(e,i,r[i].default);else t==="array"&&Array.isArray(n)&&n.forEach((i,s)=>Jo(e,s,i.default))}li.assignDefaults=jh;function Jo(e,t,r){const{gen:n,compositeRule:i,data:s,opts:o}=e;if(r===void 0)return;const f=(0,$r._)`${s}${(0,$r.getProperty)(t)}`;if(i){(0,Fh.checkStrictMode)(e,`default is ignored for: ${f}`);return}let c=(0,$r._)`${f} === undefined`;o.useDefaults==="empty"&&(c=(0,$r._)`${c} || ${f} === null || ${f} === ""`),n.if(c,(0,$r._)`${f} = ${(0,$r.stringify)(r)}`)}var bt={},ne={};Object.defineProperty(ne,"__esModule",{value:!0});ne.validateUnion=ne.validateArray=ne.usePattern=ne.callValidateCode=ne.schemaProperties=ne.allSchemaProperties=ne.noPropertyInData=ne.propertyInData=ne.isOwnProperty=ne.hasPropFunc=ne.reportMissingProp=ne.checkMissingProp=ne.checkReportMissingProp=void 0;const ve=re,Ns=ue,Ut=Rt,kh=ue;function Mh(e,t){const{gen:r,data:n,it:i}=e;r.if(Os(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,ve._)`${t}`},!0),e.error()})}ne.checkReportMissingProp=Mh;function Uh({gen:e,data:t,it:{opts:r}},n,i){return(0,ve.or)(...n.map(s=>(0,ve.and)(Os(e,t,s,r.ownProperties),(0,ve._)`${i} = ${s}`)))}ne.checkMissingProp=Uh;function xh(e,t){e.setParams({missingProperty:t},!0),e.error()}ne.reportMissingProp=xh;function nu(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ve._)`Object.prototype.hasOwnProperty`})}ne.hasPropFunc=nu;function Is(e,t,r){return(0,ve._)`${nu(e)}.call(${t}, ${r})`}ne.isOwnProperty=Is;function Vh(e,t,r,n){const i=(0,ve._)`${t}${(0,ve.getProperty)(r)} !== undefined`;return n?(0,ve._)`${i} && ${Is(e,t,r)}`:i}ne.propertyInData=Vh;function Os(e,t,r,n){const i=(0,ve._)`${t}${(0,ve.getProperty)(r)} === undefined`;return n?(0,ve.or)(i,(0,ve.not)(Is(e,t,r))):i}ne.noPropertyInData=Os;function iu(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ne.allSchemaProperties=iu;function zh(e,t){return iu(t).filter(r=>!(0,Ns.alwaysValidSchema)(e,t[r]))}ne.schemaProperties=zh;function Gh({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:s},it:o},f,c,h){const a=h?(0,ve._)`${e}, ${t}, ${n}${i}`:t,d=[[Ut.default.instancePath,(0,ve.strConcat)(Ut.default.instancePath,s)],[Ut.default.parentData,o.parentData],[Ut.default.parentDataProperty,o.parentDataProperty],[Ut.default.rootData,Ut.default.rootData]];o.opts.dynamicRef&&d.push([Ut.default.dynamicAnchors,Ut.default.dynamicAnchors]);const E=(0,ve._)`${a}, ${r.object(...d)}`;return c!==ve.nil?(0,ve._)`${f}.call(${c}, ${E})`:(0,ve._)`${f}(${E})`}ne.callValidateCode=Gh;const Hh=(0,ve._)`new RegExp`;function qh({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,ve._)`${i.code==="new RegExp"?Hh:(0,kh.useFunc)(e,i)}(${r}, ${n})`})}ne.usePattern=qh;function Bh(e){const{gen:t,data:r,keyword:n,it:i}=e,s=t.name("valid");if(i.allErrors){const f=t.let("valid",!0);return o(()=>t.assign(f,!1)),f}return t.var(s,!0),o(()=>t.break()),s;function o(f){const c=t.const("len",(0,ve._)`${r}.length`);t.forRange("i",0,c,h=>{e.subschema({keyword:n,dataProp:h,dataPropType:Ns.Type.Num},s),t.if((0,ve.not)(s),f)})}}ne.validateArray=Bh;function Kh(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,Ns.alwaysValidSchema)(i,c))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),f=t.name("_valid");t.block(()=>r.forEach((c,h)=>{const a=e.subschema({keyword:n,schemaProp:h,compositeRule:!0},f);t.assign(o,(0,ve._)`${o} || ${f}`),e.mergeValidEvaluated(a,f)||t.if((0,ve.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}ne.validateUnion=Kh;Object.defineProperty(bt,"__esModule",{value:!0});bt.validateKeywordUsage=bt.validSchemaType=bt.funcKeywordCode=bt.macroKeywordCode=void 0;const qe=re,rr=Rt,Wh=ne,Xh=En;function Zh(e,t){const{gen:r,keyword:n,schema:i,parentSchema:s,it:o}=e,f=t.macro.call(o.self,i,s,o),c=su(r,n,f);o.opts.validateSchema!==!1&&o.self.validateSchema(f,!0);const h=r.name("valid");e.subschema({schema:f,schemaPath:qe.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},h),e.pass(h,()=>e.error(!0))}bt.macroKeywordCode=Zh;function Jh(e,t){var r;const{gen:n,keyword:i,schema:s,parentSchema:o,$data:f,it:c}=e;Qh(c,t);const h=!f&&t.compile?t.compile.call(c.self,s,o,c):t.validate,a=su(n,i,h),d=n.let("valid");e.block$data(d,E),e.ok((r=t.valid)!==null&&r!==void 0?r:d);function E(){if(t.errors===!1)y(),t.modifying&&Yo(e),v(()=>e.error());else{const l=t.async?m():u();t.modifying&&Yo(e),v(()=>Yh(e,l))}}function m(){const l=n.let("ruleErrs",null);return n.try(()=>y((0,qe._)`await `),$=>n.assign(d,!1).if((0,qe._)`${$} instanceof ${c.ValidationError}`,()=>n.assign(l,(0,qe._)`${$}.errors`),()=>n.throw($))),l}function u(){const l=(0,qe._)`${a}.errors`;return n.assign(l,null),y(qe.nil),l}function y(l=t.async?(0,qe._)`await `:qe.nil){const $=c.opts.passContext?rr.default.this:rr.default.self,_=!("compile"in t&&!f||t.schema===!1);n.assign(d,(0,qe._)`${l}${(0,Wh.callValidateCode)(e,a,$,_)}`,t.modifying)}function v(l){var $;n.if((0,qe.not)(($=t.valid)!==null&&$!==void 0?$:d),l)}}bt.funcKeywordCode=Jh;function Yo(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,qe._)`${n.parentData}[${n.parentDataProperty}]`))}function Yh(e,t){const{gen:r}=e;r.if((0,qe._)`Array.isArray(${t})`,()=>{r.assign(rr.default.vErrors,(0,qe._)`${rr.default.vErrors} === null ? ${t} : ${rr.default.vErrors}.concat(${t})`).assign(rr.default.errors,(0,qe._)`${rr.default.vErrors}.length`),(0,Xh.extendErrors)(e)},()=>e.error())}function Qh({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function su(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,qe.stringify)(r)})}function em(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}bt.validSchemaType=em;function tm({schema:e,opts:t,self:r,errSchemaPath:n},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const o=i.dependencies;if(o?.some(f=>!Object.prototype.hasOwnProperty.call(e,f)))throw new Error(`parent schema must have dependencies of ${s}: ${o.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[s])){const c=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}bt.validateKeywordUsage=tm;var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.extendSubschemaMode=Wt.extendSubschemaData=Wt.getSubschema=void 0;const Ot=re,ou=ue;function rm(e,{keyword:t,schemaProp:r,schema:n,schemaPath:i,errSchemaPath:s,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const f=e.schema[t];return r===void 0?{schema:f,schemaPath:(0,Ot._)`${e.schemaPath}${(0,Ot.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:f[r],schemaPath:(0,Ot._)`${e.schemaPath}${(0,Ot.getProperty)(t)}${(0,Ot.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,ou.escapeFragment)(r)}`}}if(n!==void 0){if(i===void 0||s===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:i,topSchemaRef:o,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Wt.getSubschema=rm;function nm(e,t,{dataProp:r,dataPropType:n,data:i,dataTypes:s,propertyName:o}){if(i!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:f}=t;if(r!==void 0){const{errorPath:h,dataPathArr:a,opts:d}=t,E=f.let("data",(0,Ot._)`${t.data}${(0,Ot.getProperty)(r)}`,!0);c(E),e.errorPath=(0,Ot.str)`${h}${(0,ou.getErrorPath)(r,n,d.jsPropertySyntax)}`,e.parentDataProperty=(0,Ot._)`${r}`,e.dataPathArr=[...a,e.parentDataProperty]}if(i!==void 0){const h=i instanceof Ot.Name?i:f.let("data",i,!0);c(h),o!==void 0&&(e.propertyName=o)}s&&(e.dataTypes=s);function c(h){e.data=h,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,h]}}Wt.extendSubschemaData=nm;function im(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:s}){n!==void 0&&(e.compositeRule=n),i!==void 0&&(e.createErrors=i),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}Wt.extendSubschemaMode=im;var ke={},au=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r},cu={exports:{}},Kt=cu.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};qn(t,n,i,e,"",e)};Kt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Kt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Kt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Kt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function qn(e,t,r,n,i,s,o,f,c,h){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,s,o,f,c,h);for(var a in n){var d=n[a];if(Array.isArray(d)){if(a in Kt.arrayKeywords)for(var E=0;E<d.length;E++)qn(e,t,r,d[E],i+"/"+a+"/"+E,s,i,a,n,E)}else if(a in Kt.propsKeywords){if(d&&typeof d=="object")for(var m in d)qn(e,t,r,d[m],i+"/"+a+"/"+sm(m),s,i,a,n,m)}else(a in Kt.keywords||e.allKeys&&!(a in Kt.skipKeywords))&&qn(e,t,r,d,i+"/"+a,s,i,a,n)}r(n,i,s,o,f,c,h)}}function sm(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var om=cu.exports;Object.defineProperty(ke,"__esModule",{value:!0});ke.getSchemaRefs=ke.resolveUrl=ke.normalizeId=ke._getFullPath=ke.getFullPath=ke.inlineRef=void 0;const am=ue,cm=au,um=om,lm=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function fm(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Wi(e):t?uu(e)<=t:!1}ke.inlineRef=fm;const dm=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Wi(e){for(const t in e){if(dm.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Wi)||typeof r=="object"&&Wi(r))return!0}return!1}function uu(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!lm.has(r)&&(typeof e[r]=="object"&&(0,am.eachItem)(e[r],n=>t+=uu(n)),t===1/0))return 1/0}return t}function lu(e,t="",r){r!==!1&&(t=br(t));const n=e.parse(t);return fu(e,n)}ke.getFullPath=lu;function fu(e,t){return e.serialize(t).split("#")[0]+"#"}ke._getFullPath=fu;const hm=/#\/?$/;function br(e){return e?e.replace(hm,""):""}ke.normalizeId=br;function mm(e,t,r){return r=br(r),e.resolve(t,r)}ke.resolveUrl=mm;const pm=/^[a-z_][-a-z0-9._]*$/i;function ym(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=br(e[r]||t),s={"":i},o=lu(n,i,!1),f={},c=new Set;return um(e,{allKeys:!0},(d,E,m,u)=>{if(u===void 0)return;const y=o+E;let v=s[u];typeof d[r]=="string"&&(v=l.call(this,d[r])),$.call(this,d.$anchor),$.call(this,d.$dynamicAnchor),s[E]=v;function l(_){const b=this.opts.uriResolver.resolve;if(_=br(v?b(v,_):_),c.has(_))throw a(_);c.add(_);let x=this.refs[_];return typeof x=="string"&&(x=this.refs[x]),typeof x=="object"?h(d,x.schema,_):_!==br(y)&&(_[0]==="#"?(h(d,f[_],_),f[_]=d):this.refs[_]=y),_}function $(_){if(typeof _=="string"){if(!pm.test(_))throw new Error(`invalid anchor "${_}"`);l.call(this,`#${_}`)}}}),f;function h(d,E,m){if(E!==void 0&&!cm(d,E))throw a(m)}function a(d){return new Error(`reference "${d}" resolves to more than one schema`)}}ke.getSchemaRefs=ym;Object.defineProperty(mt,"__esModule",{value:!0});mt.getData=mt.KeywordCxt=mt.validateFunctionCode=void 0;const du=Lr,Qo=gn,Ts=Ft,Yn=gn,vm=li,sn=bt,Ti=Wt,J=re,ee=Rt,Em=ke,jt=ue,Jr=En;function gm(e){if(pu(e)&&(yu(e),mu(e))){Sm(e);return}hu(e,()=>(0,du.topBoolOrEmptySchema)(e))}mt.validateFunctionCode=gm;function hu({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},s){i.code.es5?e.func(t,(0,J._)`${ee.default.data}, ${ee.default.valCxt}`,n.$async,()=>{e.code((0,J._)`"use strict"; ${ea(r,i)}`),_m(e,i),e.code(s)}):e.func(t,(0,J._)`${ee.default.data}, ${$m(i)}`,n.$async,()=>e.code(ea(r,i)).code(s))}function $m(e){return(0,J._)`{${ee.default.instancePath}="", ${ee.default.parentData}, ${ee.default.parentDataProperty}, ${ee.default.rootData}=${ee.default.data}${e.dynamicRef?(0,J._)`, ${ee.default.dynamicAnchors}={}`:J.nil}}={}`}function _m(e,t){e.if(ee.default.valCxt,()=>{e.var(ee.default.instancePath,(0,J._)`${ee.default.valCxt}.${ee.default.instancePath}`),e.var(ee.default.parentData,(0,J._)`${ee.default.valCxt}.${ee.default.parentData}`),e.var(ee.default.parentDataProperty,(0,J._)`${ee.default.valCxt}.${ee.default.parentDataProperty}`),e.var(ee.default.rootData,(0,J._)`${ee.default.valCxt}.${ee.default.rootData}`),t.dynamicRef&&e.var(ee.default.dynamicAnchors,(0,J._)`${ee.default.valCxt}.${ee.default.dynamicAnchors}`)},()=>{e.var(ee.default.instancePath,(0,J._)`""`),e.var(ee.default.parentData,(0,J._)`undefined`),e.var(ee.default.parentDataProperty,(0,J._)`undefined`),e.var(ee.default.rootData,ee.default.data),t.dynamicRef&&e.var(ee.default.dynamicAnchors,(0,J._)`{}`)})}function Sm(e){const{schema:t,opts:r,gen:n}=e;hu(e,()=>{r.$comment&&t.$comment&&Eu(e),Tm(e),n.let(ee.default.vErrors,null),n.let(ee.default.errors,0),r.unevaluated&&wm(e),vu(e),Rm(e)})}function wm(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,J._)`${r}.evaluated`),t.if((0,J._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,J._)`${e.evaluated}.props`,(0,J._)`undefined`)),t.if((0,J._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,J._)`${e.evaluated}.items`,(0,J._)`undefined`))}function ea(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,J._)`/*# sourceURL=${r} */`:J.nil}function Nm(e,t){if(pu(e)&&(yu(e),mu(e))){Im(e,t);return}(0,du.boolOrEmptySchema)(e,t)}function mu({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function pu(e){return typeof e.schema!="boolean"}function Im(e,t){const{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&Eu(e),bm(e),Dm(e);const s=n.const("_errs",ee.default.errors);vu(e,s),n.var(t,(0,J._)`${s} === ${ee.default.errors}`)}function yu(e){(0,jt.checkUnknownRules)(e),Om(e)}function vu(e,t){if(e.opts.jtd)return ta(e,[],!1,t);const r=(0,Qo.getSchemaTypes)(e.schema),n=(0,Qo.coerceAndCheckDataType)(e,r);ta(e,r,!n,t)}function Om(e){const{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,jt.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Tm(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,jt.checkStrictMode)(e,"default is ignored in the schema root")}function bm(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Em.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Dm(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Eu({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){const s=r.$comment;if(i.$comment===!0)e.code((0,J._)`${ee.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const o=(0,J.str)`${n}/$comment`,f=e.scopeValue("root",{ref:t.root});e.code((0,J._)`${ee.default.self}.opts.$comment(${s}, ${o}, ${f}.schema)`)}}function Rm(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:s}=e;r.$async?t.if((0,J._)`${ee.default.errors} === 0`,()=>t.return(ee.default.data),()=>t.throw((0,J._)`new ${i}(${ee.default.vErrors})`)):(t.assign((0,J._)`${n}.errors`,ee.default.vErrors),s.unevaluated&&Pm(e),t.return((0,J._)`${ee.default.errors} === 0`))}function Pm({gen:e,evaluated:t,props:r,items:n}){r instanceof J.Name&&e.assign((0,J._)`${t}.props`,r),n instanceof J.Name&&e.assign((0,J._)`${t}.items`,n)}function ta(e,t,r,n){const{gen:i,schema:s,data:o,allErrors:f,opts:c,self:h}=e,{RULES:a}=h;if(s.$ref&&(c.ignoreKeywordsWithRef||!(0,jt.schemaHasRulesButRef)(s,a))){i.block(()=>_u(e,"$ref",a.all.$ref.definition));return}c.jtd||Cm(e,t),i.block(()=>{for(const E of a.rules)d(E);d(a.post)});function d(E){(0,Ts.shouldUseGroup)(s,E)&&(E.type?(i.if((0,Yn.checkDataType)(E.type,o,c.strictNumbers)),ra(e,E),t.length===1&&t[0]===E.type&&r&&(i.else(),(0,Yn.reportTypeError)(e)),i.endIf()):ra(e,E),f||i.if((0,J._)`${ee.default.errors} === ${n||0}`))}}function ra(e,t){const{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,vm.assignDefaults)(e,t.type),r.block(()=>{for(const s of t.rules)(0,Ts.shouldUseRule)(n,s)&&_u(e,s.keyword,s.definition,t.type)})}function Cm(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Am(e,t),e.opts.allowUnionTypes||Lm(e,t),Fm(e,e.dataTypes))}function Am(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{gu(e.dataTypes,r)||bs(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),km(e,t)}}function Lm(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&bs(e,"use allowUnionTypes to allow union type keyword")}function Fm(e,t){const r=e.self.RULES.all;for(const n in r){const i=r[n];if(typeof i=="object"&&(0,Ts.shouldUseRule)(e.schema,i)){const{type:s}=i.definition;s.length&&!s.some(o=>jm(t,o))&&bs(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function jm(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function gu(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function km(e,t){const r=[];for(const n of e.dataTypes)gu(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function bs(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,jt.checkStrictMode)(e,t,e.opts.strictTypes)}class $u{constructor(t,r,n){if((0,sn.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,jt.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",Su(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,sn.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",ee.default.errors))}result(t,r,n){this.failResult((0,J.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,J.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,J._)`${r} !== undefined && (${(0,J.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Jr.reportExtraError:Jr.reportError)(this,this.def.error,r)}$dataError(){(0,Jr.reportError)(this,this.def.$dataError||Jr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Jr.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=J.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=J.nil,r=J.nil){if(!this.$data)return;const{gen:n,schemaCode:i,schemaType:s,def:o}=this;n.if((0,J.or)((0,J._)`${i} === undefined`,r)),t!==J.nil&&n.assign(t,!0),(s.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==J.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:i,it:s}=this;return(0,J.or)(o(),f());function o(){if(n.length){if(!(r instanceof J.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,J._)`${(0,Yn.checkDataTypes)(c,r,s.opts.strictNumbers,Yn.DataType.Wrong)}`}return J.nil}function f(){if(i.validateSchema){const c=t.scopeValue("validate$data",{ref:i.validateSchema});return(0,J._)`!${c}(${r})`}return J.nil}}subschema(t,r){const n=(0,Ti.getSubschema)(this.it,t);(0,Ti.extendSubschemaData)(n,this.it,t),(0,Ti.extendSubschemaMode)(n,t);const i={...this.it,...n,items:void 0,props:void 0};return Nm(i,r),i}mergeEvaluated(t,r){const{it:n,gen:i}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=jt.mergeEvaluated.props(i,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=jt.mergeEvaluated.items(i,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:i}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return i.if(r,()=>this.mergeEvaluated(t,J.Name)),!0}}mt.KeywordCxt=$u;function _u(e,t,r,n){const i=new $u(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,sn.funcKeywordCode)(i,r):"macro"in r?(0,sn.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,sn.funcKeywordCode)(i,r)}const Mm=/^\/(?:[^~]|~0|~1)*$/,Um=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Su(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,s;if(e==="")return ee.default.rootData;if(e[0]==="/"){if(!Mm.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);i=e,s=ee.default.rootData}else{const h=Um.exec(e);if(!h)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+h[1];if(i=h[2],i==="#"){if(a>=t)throw new Error(c("property/index",a));return n[t-a]}if(a>t)throw new Error(c("data",a));if(s=r[t-a],!i)return s}let o=s;const f=i.split("/");for(const h of f)h&&(s=(0,J._)`${s}${(0,J.getProperty)((0,jt.unescapeJsonPointer)(h))}`,o=(0,J._)`${o} && ${s}`);return o;function c(h,a){return`Cannot access ${h} ${a} levels up, current level is ${t}`}}mt.getData=Su;var $n={};Object.defineProperty($n,"__esModule",{value:!0});class xm extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}$n.default=xm;var _n={};Object.defineProperty(_n,"__esModule",{value:!0});const bi=ke;class Vm extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,bi.resolveUrl)(t,r,n),this.missingSchema=(0,bi.normalizeId)((0,bi.getFullPath)(t,this.missingRef))}}_n.default=Vm;var et={};Object.defineProperty(et,"__esModule",{value:!0});et.resolveSchema=et.getCompilingSchema=et.resolveRef=et.compileSchema=et.SchemaEnv=void 0;const lt=re,zm=$n,er=Rt,ht=ke,na=ue,Gm=mt;class fi{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,ht.normalizeId)(n?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n?.$async,this.refs={}}}et.SchemaEnv=fi;function Ds(e){const t=wu.call(this,e);if(t)return t;const r=(0,ht.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new lt.CodeGen(this.scope,{es5:n,lines:i,ownProperties:s});let f;e.$async&&(f=o.scopeValue("Error",{ref:zm.default,code:(0,lt._)`require("ajv/dist/runtime/validation_error").default`}));const c=o.scopeName("validate");e.validateName=c;const h={gen:o,allErrors:this.opts.allErrors,data:er.default.data,parentData:er.default.parentData,parentDataProperty:er.default.parentDataProperty,dataNames:[er.default.data],dataPathArr:[lt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,lt.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:f,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:lt.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,lt._)`""`,opts:this.opts,self:this};let a;try{this._compilations.add(e),(0,Gm.validateFunctionCode)(h),o.optimize(this.opts.code.optimize);const d=o.toString();a=`${o.scopeRefs(er.default.scope)}return ${d}`,this.opts.code.process&&(a=this.opts.code.process(a,e));const m=new Function(`${er.default.self}`,`${er.default.scope}`,a)(this,this.scope.get());if(this.scope.value(c,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:c,validateCode:d,scopeValues:o._values}),this.opts.unevaluated){const{props:u,items:y}=h;m.evaluated={props:u instanceof lt.Name?void 0:u,items:y instanceof lt.Name?void 0:y,dynamicProps:u instanceof lt.Name,dynamicItems:y instanceof lt.Name},m.source&&(m.source.evaluated=(0,lt.stringify)(m.evaluated))}return e.validate=m,e}catch(d){throw delete e.validate,delete e.validateName,a&&this.logger.error("Error compiling schema, function code:",a),d}finally{this._compilations.delete(e)}}et.compileSchema=Ds;function Hm(e,t,r){var n;r=(0,ht.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let s=Km.call(this,e,r);if(s===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:f}=this.opts;o&&(s=new fi({schema:o,schemaId:f,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=qm.call(this,s)}et.resolveRef=Hm;function qm(e){return(0,ht.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Ds.call(this,e)}function wu(e){for(const t of this._compilations)if(Bm(t,e))return t}et.getCompilingSchema=wu;function Bm(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Km(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||di.call(this,e,t)}function di(e,t){const r=this.opts.uriResolver.parse(t),n=(0,ht._getFullPath)(this.opts.uriResolver,r);let i=(0,ht.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return Di.call(this,r,e);const s=(0,ht.normalizeId)(n),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const f=di.call(this,e,o);return typeof f?.schema!="object"?void 0:Di.call(this,r,f)}if(typeof o?.schema=="object"){if(o.validate||Ds.call(this,o),s===(0,ht.normalizeId)(t)){const{schema:f}=o,{schemaId:c}=this.opts,h=f[c];return h&&(i=(0,ht.resolveUrl)(this.opts.uriResolver,i,h)),new fi({schema:f,schemaId:c,root:e,baseId:i})}return Di.call(this,r,o)}}et.resolveSchema=di;const Wm=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Di(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const f of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,na.unescapeFragment)(f)];if(c===void 0)return;r=c;const h=typeof r=="object"&&r[this.opts.schemaId];!Wm.has(f)&&h&&(t=(0,ht.resolveUrl)(this.opts.uriResolver,t,h))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,na.schemaHasRulesButRef)(r,this.RULES)){const f=(0,ht.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=di.call(this,n,f)}const{schemaId:o}=this.opts;if(s=s||new fi({schema:r,schemaId:o,root:n,baseId:t}),s.schema!==s.root.schema)return s}const Xm="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Zm="Meta-schema for $data reference (JSON AnySchema extension proposal)",Jm="object",Ym=["$data"],Qm={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},ep=!1,tp={$id:Xm,description:Zm,type:Jm,required:Ym,properties:Qm,additionalProperties:ep};var Rs={},Xi={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(Gt,function(r){function n(){for(var N=arguments.length,g=Array(N),I=0;I<N;I++)g[I]=arguments[I];if(g.length>1){g[0]=g[0].slice(0,-1);for(var j=g.length-1,L=1;L<j;++L)g[L]=g[L].slice(1,-1);return g[j]=g[j].slice(1),g.join("")}else return g[0]}function i(N){return"(?:"+N+")"}function s(N){return N===void 0?"undefined":N===null?"null":Object.prototype.toString.call(N).split(" ").pop().split("]").shift().toLowerCase()}function o(N){return N.toUpperCase()}function f(N){return N!=null?N instanceof Array?N:typeof N.length!="number"||N.split||N.setInterval||N.call?[N]:Array.prototype.slice.call(N):[]}function c(N,g){var I=N;if(g)for(var j in g)I[j]=g[j];return I}function h(N){var g="[A-Za-z]",I="[0-9]",j=n(I,"[A-Fa-f]"),L=i(i("%[EFef]"+j+"%"+j+j+"%"+j+j)+"|"+i("%[89A-Fa-f]"+j+"%"+j+j)+"|"+i("%"+j+j)),Y="[\\:\\/\\?\\#\\[\\]\\@]",Q="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ce=n(Y,Q),ye=N?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ie=N?"[\\uE000-\\uF8FF]":"[]",se=n(g,I,"[\\-\\.\\_\\~]",ye);i(g+n(g,I,"[\\+\\-\\.]")+"*"),i(i(L+"|"+n(se,Q,"[\\:]"))+"*");var me=i(i("25[0-5]")+"|"+i("2[0-4]"+I)+"|"+i("1"+I+I)+"|"+i("0?[1-9]"+I)+"|0?0?"+I),Oe=i(me+"\\."+me+"\\."+me+"\\."+me),te=i(j+"{1,4}"),Ee=i(i(te+"\\:"+te)+"|"+Oe),be=i(i(te+"\\:")+"{6}"+Ee),ge=i("\\:\\:"+i(te+"\\:")+"{5}"+Ee),kt=i(i(te)+"?\\:\\:"+i(te+"\\:")+"{4}"+Ee),$t=i(i(i(te+"\\:")+"{0,1}"+te)+"?\\:\\:"+i(te+"\\:")+"{3}"+Ee),_t=i(i(i(te+"\\:")+"{0,2}"+te)+"?\\:\\:"+i(te+"\\:")+"{2}"+Ee),Er=i(i(i(te+"\\:")+"{0,3}"+te)+"?\\:\\:"+te+"\\:"+Ee),Jt=i(i(i(te+"\\:")+"{0,4}"+te)+"?\\:\\:"+Ee),ot=i(i(i(te+"\\:")+"{0,5}"+te)+"?\\:\\:"+te),St=i(i(i(te+"\\:")+"{0,6}"+te)+"?\\:\\:"),Yt=i([be,ge,kt,$t,_t,Er,Jt,ot,St].join("|")),Pt=i(i(se+"|"+L)+"+");i("[vV]"+j+"+\\."+n(se,Q,"[\\:]")+"+"),i(i(L+"|"+n(se,Q))+"*");var Xr=i(L+"|"+n(se,Q,"[\\:\\@]"));return i(i(L+"|"+n(se,Q,"[\\@]"))+"+"),i(i(Xr+"|"+n("[\\/\\?]",Ie))+"*"),{NOT_SCHEME:new RegExp(n("[^]",g,I,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",se,Q),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",se,Q),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",se,Q),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",se,Q),"g"),NOT_QUERY:new RegExp(n("[^\\%]",se,Q,"[\\:\\@\\/\\?]",Ie),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",se,Q,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",se,Q),"g"),UNRESERVED:new RegExp(se,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",se,ce),"g"),PCT_ENCODED:new RegExp(L,"g"),IPV4ADDRESS:new RegExp("^("+Oe+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Yt+")"+i(i("\\%25|\\%(?!"+j+"{2})")+"("+Pt+")")+"?\\]?$")}}var a=h(!1),d=h(!0),E=function(){function N(g,I){var j=[],L=!0,Y=!1,Q=void 0;try{for(var ce=g[Symbol.iterator](),ye;!(L=(ye=ce.next()).done)&&(j.push(ye.value),!(I&&j.length===I));L=!0);}catch(Ie){Y=!0,Q=Ie}finally{try{!L&&ce.return&&ce.return()}finally{if(Y)throw Q}}return j}return function(g,I){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return N(g,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(N){if(Array.isArray(N)){for(var g=0,I=Array(N.length);g<N.length;g++)I[g]=N[g];return I}else return Array.from(N)},u=2147483647,y=36,v=1,l=26,$=38,_=700,b=72,x=128,T="-",P=/^xn--/,U=/[^\0-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,V={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},B=y-v,K=Math.floor,z=String.fromCharCode;function M(N){throw new RangeError(V[N])}function H(N,g){for(var I=[],j=N.length;j--;)I[j]=g(N[j]);return I}function q(N,g){var I=N.split("@"),j="";I.length>1&&(j=I[0]+"@",N=I[1]),N=N.replace(C,".");var L=N.split("."),Y=H(L,g).join(".");return j+Y}function G(N){for(var g=[],I=0,j=N.length;I<j;){var L=N.charCodeAt(I++);if(L>=55296&&L<=56319&&I<j){var Y=N.charCodeAt(I++);(Y&64512)==56320?g.push(((L&1023)<<10)+(Y&1023)+65536):(g.push(L),I--)}else g.push(L)}return g}var R=function(g){return String.fromCodePoint.apply(String,m(g))},F=function(g){return g-48<10?g-22:g-65<26?g-65:g-97<26?g-97:y},O=function(g,I){return g+22+75*(g<26)-((I!=0)<<5)},w=function(g,I,j){var L=0;for(g=j?K(g/_):g>>1,g+=K(g/I);g>B*l>>1;L+=y)g=K(g/B);return K(L+(B+1)*g/(g+$))},A=function(g){var I=[],j=g.length,L=0,Y=x,Q=b,ce=g.lastIndexOf(T);ce<0&&(ce=0);for(var ye=0;ye<ce;++ye)g.charCodeAt(ye)>=128&&M("not-basic"),I.push(g.charCodeAt(ye));for(var Ie=ce>0?ce+1:0;Ie<j;){for(var se=L,me=1,Oe=y;;Oe+=y){Ie>=j&&M("invalid-input");var te=F(g.charCodeAt(Ie++));(te>=y||te>K((u-L)/me))&&M("overflow"),L+=te*me;var Ee=Oe<=Q?v:Oe>=Q+l?l:Oe-Q;if(te<Ee)break;var be=y-Ee;me>K(u/be)&&M("overflow"),me*=be}var ge=I.length+1;Q=w(L-se,ge,se==0),K(L/ge)>u-Y&&M("overflow"),Y+=K(L/ge),L%=ge,I.splice(L++,0,Y)}return String.fromCodePoint.apply(String,I)},D=function(g){var I=[];g=G(g);var j=g.length,L=x,Y=0,Q=b,ce=!0,ye=!1,Ie=void 0;try{for(var se=g[Symbol.iterator](),me;!(ce=(me=se.next()).done);ce=!0){var Oe=me.value;Oe<128&&I.push(z(Oe))}}catch(Zr){ye=!0,Ie=Zr}finally{try{!ce&&se.return&&se.return()}finally{if(ye)throw Ie}}var te=I.length,Ee=te;for(te&&I.push(T);Ee<j;){var be=u,ge=!0,kt=!1,$t=void 0;try{for(var _t=g[Symbol.iterator](),Er;!(ge=(Er=_t.next()).done);ge=!0){var Jt=Er.value;Jt>=L&&Jt<be&&(be=Jt)}}catch(Zr){kt=!0,$t=Zr}finally{try{!ge&&_t.return&&_t.return()}finally{if(kt)throw $t}}var ot=Ee+1;be-L>K((u-Y)/ot)&&M("overflow"),Y+=(be-L)*ot,L=be;var St=!0,Yt=!1,Pt=void 0;try{for(var Xr=g[Symbol.iterator](),bo;!(St=(bo=Xr.next()).done);St=!0){var Do=bo.value;if(Do<L&&++Y>u&&M("overflow"),Do==L){for(var Tn=Y,bn=y;;bn+=y){var Dn=bn<=Q?v:bn>=Q+l?l:bn-Q;if(Tn<Dn)break;var Ro=Tn-Dn,Po=y-Dn;I.push(z(O(Dn+Ro%Po,0))),Tn=K(Ro/Po)}I.push(z(O(Tn,0))),Q=w(Y,ot,Ee==te),Y=0,++Ee}}}catch(Zr){Yt=!0,Pt=Zr}finally{try{!St&&Xr.return&&Xr.return()}finally{if(Yt)throw Pt}}++Y,++L}return I.join("")},p=function(g){return q(g,function(I){return P.test(I)?A(I.slice(4).toLowerCase()):I})},S=function(g){return q(g,function(I){return U.test(I)?"xn--"+D(I):I})},k={version:"2.1.0",ucs2:{decode:G,encode:R},decode:A,encode:D,toASCII:S,toUnicode:p},W={};function X(N){var g=N.charCodeAt(0),I=void 0;return g<16?I="%0"+g.toString(16).toUpperCase():g<128?I="%"+g.toString(16).toUpperCase():g<2048?I="%"+(g>>6|192).toString(16).toUpperCase()+"%"+(g&63|128).toString(16).toUpperCase():I="%"+(g>>12|224).toString(16).toUpperCase()+"%"+(g>>6&63|128).toString(16).toUpperCase()+"%"+(g&63|128).toString(16).toUpperCase(),I}function ie(N){for(var g="",I=0,j=N.length;I<j;){var L=parseInt(N.substr(I+1,2),16);if(L<128)g+=String.fromCharCode(L),I+=3;else if(L>=194&&L<224){if(j-I>=6){var Y=parseInt(N.substr(I+4,2),16);g+=String.fromCharCode((L&31)<<6|Y&63)}else g+=N.substr(I,6);I+=6}else if(L>=224){if(j-I>=9){var Q=parseInt(N.substr(I+4,2),16),ce=parseInt(N.substr(I+7,2),16);g+=String.fromCharCode((L&15)<<12|(Q&63)<<6|ce&63)}else g+=N.substr(I,9);I+=9}else g+=N.substr(I,3),I+=3}return g}function oe(N,g){function I(j){var L=ie(j);return L.match(g.UNRESERVED)?L:j}return N.scheme&&(N.scheme=String(N.scheme).replace(g.PCT_ENCODED,I).toLowerCase().replace(g.NOT_SCHEME,"")),N.userinfo!==void 0&&(N.userinfo=String(N.userinfo).replace(g.PCT_ENCODED,I).replace(g.NOT_USERINFO,X).replace(g.PCT_ENCODED,o)),N.host!==void 0&&(N.host=String(N.host).replace(g.PCT_ENCODED,I).toLowerCase().replace(g.NOT_HOST,X).replace(g.PCT_ENCODED,o)),N.path!==void 0&&(N.path=String(N.path).replace(g.PCT_ENCODED,I).replace(N.scheme?g.NOT_PATH:g.NOT_PATH_NOSCHEME,X).replace(g.PCT_ENCODED,o)),N.query!==void 0&&(N.query=String(N.query).replace(g.PCT_ENCODED,I).replace(g.NOT_QUERY,X).replace(g.PCT_ENCODED,o)),N.fragment!==void 0&&(N.fragment=String(N.fragment).replace(g.PCT_ENCODED,I).replace(g.NOT_FRAGMENT,X).replace(g.PCT_ENCODED,o)),N}function we(N){return N.replace(/^0*(.*)/,"$1")||"0"}function vt(N,g){var I=N.match(g.IPV4ADDRESS)||[],j=E(I,2),L=j[1];return L?L.split(".").map(we).join("."):N}function dr(N,g){var I=N.match(g.IPV6ADDRESS)||[],j=E(I,3),L=j[1],Y=j[2];if(L){for(var Q=L.toLowerCase().split("::").reverse(),ce=E(Q,2),ye=ce[0],Ie=ce[1],se=Ie?Ie.split(":").map(we):[],me=ye.split(":").map(we),Oe=g.IPV4ADDRESS.test(me[me.length-1]),te=Oe?7:8,Ee=me.length-te,be=Array(te),ge=0;ge<te;++ge)be[ge]=se[ge]||me[Ee+ge]||"";Oe&&(be[te-1]=vt(be[te-1],g));var kt=be.reduce(function(ot,St,Yt){if(!St||St==="0"){var Pt=ot[ot.length-1];Pt&&Pt.index+Pt.length===Yt?Pt.length++:ot.push({index:Yt,length:1})}return ot},[]),$t=kt.sort(function(ot,St){return St.length-ot.length})[0],_t=void 0;if($t&&$t.length>1){var Er=be.slice(0,$t.index),Jt=be.slice($t.index+$t.length);_t=Er.join(":")+"::"+Jt.join(":")}else _t=be.join(":");return Y&&(_t+="%"+Y),_t}else return N}var zr=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Gr="".match(/(){0}/)[1]===void 0;function tt(N){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I={},j=g.iri!==!1?d:a;g.reference==="suffix"&&(N=(g.scheme?g.scheme+":":"")+"//"+N);var L=N.match(zr);if(L){Gr?(I.scheme=L[1],I.userinfo=L[3],I.host=L[4],I.port=parseInt(L[5],10),I.path=L[6]||"",I.query=L[7],I.fragment=L[8],isNaN(I.port)&&(I.port=L[5])):(I.scheme=L[1]||void 0,I.userinfo=N.indexOf("@")!==-1?L[3]:void 0,I.host=N.indexOf("//")!==-1?L[4]:void 0,I.port=parseInt(L[5],10),I.path=L[6]||"",I.query=N.indexOf("?")!==-1?L[7]:void 0,I.fragment=N.indexOf("#")!==-1?L[8]:void 0,isNaN(I.port)&&(I.port=N.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?L[4]:void 0)),I.host&&(I.host=dr(vt(I.host,j),j)),I.scheme===void 0&&I.userinfo===void 0&&I.host===void 0&&I.port===void 0&&!I.path&&I.query===void 0?I.reference="same-document":I.scheme===void 0?I.reference="relative":I.fragment===void 0?I.reference="absolute":I.reference="uri",g.reference&&g.reference!=="suffix"&&g.reference!==I.reference&&(I.error=I.error||"URI is not a "+g.reference+" reference.");var Y=W[(g.scheme||I.scheme||"").toLowerCase()];if(!g.unicodeSupport&&(!Y||!Y.unicodeSupport)){if(I.host&&(g.domainHost||Y&&Y.domainHost))try{I.host=k.toASCII(I.host.replace(j.PCT_ENCODED,ie).toLowerCase())}catch(Q){I.error=I.error||"Host's domain name can not be converted to ASCII via punycode: "+Q}oe(I,a)}else oe(I,j);Y&&Y.parse&&Y.parse(I,g)}else I.error=I.error||"URI can not be parsed.";return I}function Hr(N,g){var I=g.iri!==!1?d:a,j=[];return N.userinfo!==void 0&&(j.push(N.userinfo),j.push("@")),N.host!==void 0&&j.push(dr(vt(String(N.host),I),I).replace(I.IPV6ADDRESS,function(L,Y,Q){return"["+Y+(Q?"%25"+Q:"")+"]"})),(typeof N.port=="number"||typeof N.port=="string")&&(j.push(":"),j.push(String(N.port))),j.length?j.join(""):void 0}var hr=/^\.\.?\//,mr=/^\/\.(\/|$)/,pr=/^\/\.\.(\/|$)/,qr=/^\/?(?:.|\n)*?(?=\/|$)/;function Et(N){for(var g=[];N.length;)if(N.match(hr))N=N.replace(hr,"");else if(N.match(mr))N=N.replace(mr,"/");else if(N.match(pr))N=N.replace(pr,"/"),g.pop();else if(N==="."||N==="..")N="";else{var I=N.match(qr);if(I){var j=I[0];N=N.slice(j.length),g.push(j)}else throw new Error("Unexpected dot segment condition")}return g.join("")}function Je(N){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=g.iri?d:a,j=[],L=W[(g.scheme||N.scheme||"").toLowerCase()];if(L&&L.serialize&&L.serialize(N,g),N.host&&!I.IPV6ADDRESS.test(N.host)){if(g.domainHost||L&&L.domainHost)try{N.host=g.iri?k.toUnicode(N.host):k.toASCII(N.host.replace(I.PCT_ENCODED,ie).toLowerCase())}catch(ce){N.error=N.error||"Host's domain name can not be converted to "+(g.iri?"Unicode":"ASCII")+" via punycode: "+ce}}oe(N,I),g.reference!=="suffix"&&N.scheme&&(j.push(N.scheme),j.push(":"));var Y=Hr(N,g);if(Y!==void 0&&(g.reference!=="suffix"&&j.push("//"),j.push(Y),N.path&&N.path.charAt(0)!=="/"&&j.push("/")),N.path!==void 0){var Q=N.path;!g.absolutePath&&(!L||!L.absolutePath)&&(Q=Et(Q)),Y===void 0&&(Q=Q.replace(/^\/\//,"/%2F")),j.push(Q)}return N.query!==void 0&&(j.push("?"),j.push(N.query)),N.fragment!==void 0&&(j.push("#"),j.push(N.fragment)),j.join("")}function yr(N,g){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=arguments[3],L={};return j||(N=tt(Je(N,I),I),g=tt(Je(g,I),I)),I=I||{},!I.tolerant&&g.scheme?(L.scheme=g.scheme,L.userinfo=g.userinfo,L.host=g.host,L.port=g.port,L.path=Et(g.path||""),L.query=g.query):(g.userinfo!==void 0||g.host!==void 0||g.port!==void 0?(L.userinfo=g.userinfo,L.host=g.host,L.port=g.port,L.path=Et(g.path||""),L.query=g.query):(g.path?(g.path.charAt(0)==="/"?L.path=Et(g.path):((N.userinfo!==void 0||N.host!==void 0||N.port!==void 0)&&!N.path?L.path="/"+g.path:N.path?L.path=N.path.slice(0,N.path.lastIndexOf("/")+1)+g.path:L.path=g.path,L.path=Et(L.path)),L.query=g.query):(L.path=N.path,g.query!==void 0?L.query=g.query:L.query=N.query),L.userinfo=N.userinfo,L.host=N.host,L.port=N.port),L.scheme=N.scheme),L.fragment=g.fragment,L}function Br(N,g,I){var j=c({scheme:"null"},I);return Je(yr(tt(N,j),tt(g,j),j,!0),j)}function Xt(N,g){return typeof N=="string"?N=Je(tt(N,g),g):s(N)==="object"&&(N=tt(Je(N,g),g)),N}function Kr(N,g,I){return typeof N=="string"?N=Je(tt(N,I),I):s(N)==="object"&&(N=Je(N,I)),typeof g=="string"?g=Je(tt(g,I),I):s(g)==="object"&&(g=Je(g,I)),N===g}function On(N,g){return N&&N.toString().replace(!g||!g.iri?a.ESCAPE:d.ESCAPE,X)}function st(N,g){return N&&N.toString().replace(!g||!g.iri?a.PCT_ENCODED:d.PCT_ENCODED,ie)}var Zt={scheme:"http",domainHost:!0,parse:function(g,I){return g.host||(g.error=g.error||"HTTP URIs must have a host."),g},serialize:function(g,I){var j=String(g.scheme).toLowerCase()==="https";return(g.port===(j?443:80)||g.port==="")&&(g.port=void 0),g.path||(g.path="/"),g}},$o={scheme:"https",domainHost:Zt.domainHost,parse:Zt.parse,serialize:Zt.serialize};function _o(N){return typeof N.secure=="boolean"?N.secure:String(N.scheme).toLowerCase()==="wss"}var Wr={scheme:"ws",domainHost:!0,parse:function(g,I){var j=g;return j.secure=_o(j),j.resourceName=(j.path||"/")+(j.query?"?"+j.query:""),j.path=void 0,j.query=void 0,j},serialize:function(g,I){if((g.port===(_o(g)?443:80)||g.port==="")&&(g.port=void 0),typeof g.secure=="boolean"&&(g.scheme=g.secure?"wss":"ws",g.secure=void 0),g.resourceName){var j=g.resourceName.split("?"),L=E(j,2),Y=L[0],Q=L[1];g.path=Y&&Y!=="/"?Y:void 0,g.query=Q,g.resourceName=void 0}return g.fragment=void 0,g}},So={scheme:"wss",domainHost:Wr.domainHost,parse:Wr.parse,serialize:Wr.serialize},Yu={},wo="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",gt="[0-9A-Fa-f]",Qu=i(i("%[EFef]"+gt+"%"+gt+gt+"%"+gt+gt)+"|"+i("%[89A-Fa-f]"+gt+"%"+gt+gt)+"|"+i("%"+gt+gt)),el="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",tl="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",rl=n(tl,'[\\"\\\\]'),nl="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",il=new RegExp(wo,"g"),vr=new RegExp(Qu,"g"),sl=new RegExp(n("[^]",el,"[\\.]",'[\\"]',rl),"g"),No=new RegExp(n("[^]",wo,nl),"g"),ol=No;function wi(N){var g=ie(N);return g.match(il)?g:N}var Io={scheme:"mailto",parse:function(g,I){var j=g,L=j.to=j.path?j.path.split(","):[];if(j.path=void 0,j.query){for(var Y=!1,Q={},ce=j.query.split("&"),ye=0,Ie=ce.length;ye<Ie;++ye){var se=ce[ye].split("=");switch(se[0]){case"to":for(var me=se[1].split(","),Oe=0,te=me.length;Oe<te;++Oe)L.push(me[Oe]);break;case"subject":j.subject=st(se[1],I);break;case"body":j.body=st(se[1],I);break;default:Y=!0,Q[st(se[0],I)]=st(se[1],I);break}}Y&&(j.headers=Q)}j.query=void 0;for(var Ee=0,be=L.length;Ee<be;++Ee){var ge=L[Ee].split("@");if(ge[0]=st(ge[0]),I.unicodeSupport)ge[1]=st(ge[1],I).toLowerCase();else try{ge[1]=k.toASCII(st(ge[1],I).toLowerCase())}catch(kt){j.error=j.error||"Email address's domain name can not be converted to ASCII via punycode: "+kt}L[Ee]=ge.join("@")}return j},serialize:function(g,I){var j=g,L=f(g.to);if(L){for(var Y=0,Q=L.length;Y<Q;++Y){var ce=String(L[Y]),ye=ce.lastIndexOf("@"),Ie=ce.slice(0,ye).replace(vr,wi).replace(vr,o).replace(sl,X),se=ce.slice(ye+1);try{se=I.iri?k.toUnicode(se):k.toASCII(st(se,I).toLowerCase())}catch(Ee){j.error=j.error||"Email address's domain name can not be converted to "+(I.iri?"Unicode":"ASCII")+" via punycode: "+Ee}L[Y]=Ie+"@"+se}j.path=L.join(",")}var me=g.headers=g.headers||{};g.subject&&(me.subject=g.subject),g.body&&(me.body=g.body);var Oe=[];for(var te in me)me[te]!==Yu[te]&&Oe.push(te.replace(vr,wi).replace(vr,o).replace(No,X)+"="+me[te].replace(vr,wi).replace(vr,o).replace(ol,X));return Oe.length&&(j.query=Oe.join("&")),j}},al=/^([^\:]+)\:(.*)/,Oo={scheme:"urn",parse:function(g,I){var j=g.path&&g.path.match(al),L=g;if(j){var Y=I.scheme||L.scheme||"urn",Q=j[1].toLowerCase(),ce=j[2],ye=Y+":"+(I.nid||Q),Ie=W[ye];L.nid=Q,L.nss=ce,L.path=void 0,Ie&&(L=Ie.parse(L,I))}else L.error=L.error||"URN can not be parsed.";return L},serialize:function(g,I){var j=I.scheme||g.scheme||"urn",L=g.nid,Y=j+":"+(I.nid||L),Q=W[Y];Q&&(g=Q.serialize(g,I));var ce=g,ye=g.nss;return ce.path=(L||I.nid)+":"+ye,ce}},cl=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,To={scheme:"urn:uuid",parse:function(g,I){var j=g;return j.uuid=j.nss,j.nss=void 0,!I.tolerant&&(!j.uuid||!j.uuid.match(cl))&&(j.error=j.error||"UUID is not valid."),j},serialize:function(g,I){var j=g;return j.nss=(g.uuid||"").toLowerCase(),j}};W[Zt.scheme]=Zt,W[$o.scheme]=$o,W[Wr.scheme]=Wr,W[So.scheme]=So,W[Io.scheme]=Io,W[Oo.scheme]=Oo,W[To.scheme]=To,r.SCHEMES=W,r.pctEncChar=X,r.pctDecChars=ie,r.parse=tt,r.removeDotSegments=Et,r.serialize=Je,r.resolveComponents=yr,r.resolve=Br,r.normalize=Xt,r.equal=Kr,r.escapeComponent=On,r.unescapeComponent=st,Object.defineProperty(r,"__esModule",{value:!0})})})(Xi,Xi.exports);var rp=Xi.exports;Object.defineProperty(Rs,"__esModule",{value:!0});const Nu=rp;Nu.code='require("ajv/dist/runtime/uri").default';Rs.default=Nu;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=mt;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=re;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=$n,i=_n,s=cr,o=et,f=re,c=ke,h=gn,a=ue,d=tp,E=Rs,m=(O,w)=>new RegExp(O,w);m.code="new RegExp";const u=["removeAdditional","useDefaults","coerceTypes"],y=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},l={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},$=200;function _(O){var w,A,D,p,S,k,W,X,ie,oe,we,vt,dr,zr,Gr,tt,Hr,hr,mr,pr,qr,Et,Je,yr,Br;const Xt=O.strict,Kr=(w=O.code)===null||w===void 0?void 0:w.optimize,On=Kr===!0||Kr===void 0?1:Kr||0,st=(D=(A=O.code)===null||A===void 0?void 0:A.regExp)!==null&&D!==void 0?D:m,Zt=(p=O.uriResolver)!==null&&p!==void 0?p:E.default;return{strictSchema:(k=(S=O.strictSchema)!==null&&S!==void 0?S:Xt)!==null&&k!==void 0?k:!0,strictNumbers:(X=(W=O.strictNumbers)!==null&&W!==void 0?W:Xt)!==null&&X!==void 0?X:!0,strictTypes:(oe=(ie=O.strictTypes)!==null&&ie!==void 0?ie:Xt)!==null&&oe!==void 0?oe:"log",strictTuples:(vt=(we=O.strictTuples)!==null&&we!==void 0?we:Xt)!==null&&vt!==void 0?vt:"log",strictRequired:(zr=(dr=O.strictRequired)!==null&&dr!==void 0?dr:Xt)!==null&&zr!==void 0?zr:!1,code:O.code?{...O.code,optimize:On,regExp:st}:{optimize:On,regExp:st},loopRequired:(Gr=O.loopRequired)!==null&&Gr!==void 0?Gr:$,loopEnum:(tt=O.loopEnum)!==null&&tt!==void 0?tt:$,meta:(Hr=O.meta)!==null&&Hr!==void 0?Hr:!0,messages:(hr=O.messages)!==null&&hr!==void 0?hr:!0,inlineRefs:(mr=O.inlineRefs)!==null&&mr!==void 0?mr:!0,schemaId:(pr=O.schemaId)!==null&&pr!==void 0?pr:"$id",addUsedSchema:(qr=O.addUsedSchema)!==null&&qr!==void 0?qr:!0,validateSchema:(Et=O.validateSchema)!==null&&Et!==void 0?Et:!0,validateFormats:(Je=O.validateFormats)!==null&&Je!==void 0?Je:!0,unicodeRegExp:(yr=O.unicodeRegExp)!==null&&yr!==void 0?yr:!0,int32range:(Br=O.int32range)!==null&&Br!==void 0?Br:!0,uriResolver:Zt}}class b{constructor(w={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,w=this.opts={...w,..._(w)};const{es5:A,lines:D}=this.opts.code;this.scope=new f.ValueScope({scope:{},prefixes:y,es5:A,lines:D}),this.logger=K(w.logger);const p=w.validateFormats;w.validateFormats=!1,this.RULES=(0,s.getRules)(),x.call(this,v,w,"NOT SUPPORTED"),x.call(this,l,w,"DEPRECATED","warn"),this._metaOpts=V.call(this),w.formats&&U.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),w.keywords&&C.call(this,w.keywords),typeof w.meta=="object"&&this.addMetaSchema(w.meta),P.call(this),w.validateFormats=p}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:w,meta:A,schemaId:D}=this.opts;let p=d;D==="id"&&(p={...d},p.id=p.$id,delete p.$id),A&&w&&this.addMetaSchema(p,p[D],!1)}defaultMeta(){const{meta:w,schemaId:A}=this.opts;return this.opts.defaultMeta=typeof w=="object"?w[A]||w:void 0}validate(w,A){let D;if(typeof w=="string"){if(D=this.getSchema(w),!D)throw new Error(`no schema with key or ref "${w}"`)}else D=this.compile(w);const p=D(A);return"$async"in D||(this.errors=D.errors),p}compile(w,A){const D=this._addSchema(w,A);return D.validate||this._compileSchemaEnv(D)}compileAsync(w,A){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:D}=this.opts;return p.call(this,w,A);async function p(oe,we){await S.call(this,oe.$schema);const vt=this._addSchema(oe,we);return vt.validate||k.call(this,vt)}async function S(oe){oe&&!this.getSchema(oe)&&await p.call(this,{$ref:oe},!0)}async function k(oe){try{return this._compileSchemaEnv(oe)}catch(we){if(!(we instanceof i.default))throw we;return W.call(this,we),await X.call(this,we.missingSchema),k.call(this,oe)}}function W({missingSchema:oe,missingRef:we}){if(this.refs[oe])throw new Error(`AnySchema ${oe} is loaded but ${we} cannot be resolved`)}async function X(oe){const we=await ie.call(this,oe);this.refs[oe]||await S.call(this,we.$schema),this.refs[oe]||this.addSchema(we,oe,A)}async function ie(oe){const we=this._loading[oe];if(we)return we;try{return await(this._loading[oe]=D(oe))}finally{delete this._loading[oe]}}}addSchema(w,A,D,p=this.opts.validateSchema){if(Array.isArray(w)){for(const k of w)this.addSchema(k,void 0,D,p);return this}let S;if(typeof w=="object"){const{schemaId:k}=this.opts;if(S=w[k],S!==void 0&&typeof S!="string")throw new Error(`schema ${k} must be string`)}return A=(0,c.normalizeId)(A||S),this._checkUnique(A),this.schemas[A]=this._addSchema(w,D,A,p,!0),this}addMetaSchema(w,A,D=this.opts.validateSchema){return this.addSchema(w,A,!0,D),this}validateSchema(w,A){if(typeof w=="boolean")return!0;let D;if(D=w.$schema,D!==void 0&&typeof D!="string")throw new Error("$schema must be a string");if(D=D||this.opts.defaultMeta||this.defaultMeta(),!D)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const p=this.validate(D,w);if(!p&&A){const S="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(S);else throw new Error(S)}return p}getSchema(w){let A;for(;typeof(A=T.call(this,w))=="string";)w=A;if(A===void 0){const{schemaId:D}=this.opts,p=new o.SchemaEnv({schema:{},schemaId:D});if(A=o.resolveSchema.call(this,p,w),!A)return;this.refs[w]=A}return A.validate||this._compileSchemaEnv(A)}removeSchema(w){if(w instanceof RegExp)return this._removeAllSchemas(this.schemas,w),this._removeAllSchemas(this.refs,w),this;switch(typeof w){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const A=T.call(this,w);return typeof A=="object"&&this._cache.delete(A.schema),delete this.schemas[w],delete this.refs[w],this}case"object":{const A=w;this._cache.delete(A);let D=w[this.opts.schemaId];return D&&(D=(0,c.normalizeId)(D),delete this.schemas[D],delete this.refs[D]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(w){for(const A of w)this.addKeyword(A);return this}addKeyword(w,A){let D;if(typeof w=="string")D=w,typeof A=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),A.keyword=D);else if(typeof w=="object"&&A===void 0){if(A=w,D=A.keyword,Array.isArray(D)&&!D.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(M.call(this,D,A),!A)return(0,a.eachItem)(D,S=>H.call(this,S)),this;G.call(this,A);const p={...A,type:(0,h.getJSONTypes)(A.type),schemaType:(0,h.getJSONTypes)(A.schemaType)};return(0,a.eachItem)(D,p.type.length===0?S=>H.call(this,S,p):S=>p.type.forEach(k=>H.call(this,S,p,k))),this}getKeyword(w){const A=this.RULES.all[w];return typeof A=="object"?A.definition:!!A}removeKeyword(w){const{RULES:A}=this;delete A.keywords[w],delete A.all[w];for(const D of A.rules){const p=D.rules.findIndex(S=>S.keyword===w);p>=0&&D.rules.splice(p,1)}return this}addFormat(w,A){return typeof A=="string"&&(A=new RegExp(A)),this.formats[w]=A,this}errorsText(w=this.errors,{separator:A=", ",dataVar:D="data"}={}){return!w||w.length===0?"No errors":w.map(p=>`${D}${p.instancePath} ${p.message}`).reduce((p,S)=>p+A+S)}$dataMetaSchema(w,A){const D=this.RULES.all;w=JSON.parse(JSON.stringify(w));for(const p of A){const S=p.split("/").slice(1);let k=w;for(const W of S)k=k[W];for(const W in D){const X=D[W];if(typeof X!="object")continue;const{$data:ie}=X.definition,oe=k[W];ie&&oe&&(k[W]=F(oe))}}return w}_removeAllSchemas(w,A){for(const D in w){const p=w[D];(!A||A.test(D))&&(typeof p=="string"?delete w[D]:p&&!p.meta&&(this._cache.delete(p.schema),delete w[D]))}}_addSchema(w,A,D,p=this.opts.validateSchema,S=this.opts.addUsedSchema){let k;const{schemaId:W}=this.opts;if(typeof w=="object")k=w[W];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof w!="boolean")throw new Error("schema must be object or boolean")}let X=this._cache.get(w);if(X!==void 0)return X;D=(0,c.normalizeId)(k||D);const ie=c.getSchemaRefs.call(this,w,D);return X=new o.SchemaEnv({schema:w,schemaId:W,meta:A,baseId:D,localRefs:ie}),this._cache.set(X.schema,X),S&&!D.startsWith("#")&&(D&&this._checkUnique(D),this.refs[D]=X),p&&this.validateSchema(w,!0),X}_checkUnique(w){if(this.schemas[w]||this.refs[w])throw new Error(`schema with key or id "${w}" already exists`)}_compileSchemaEnv(w){if(w.meta?this._compileMetaSchema(w):o.compileSchema.call(this,w),!w.validate)throw new Error("ajv implementation error");return w.validate}_compileMetaSchema(w){const A=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,w)}finally{this.opts=A}}}e.default=b,b.ValidationError=n.default,b.MissingRefError=i.default;function x(O,w,A,D="error"){for(const p in O){const S=p;S in w&&this.logger[D](`${A}: option ${p}. ${O[S]}`)}}function T(O){return O=(0,c.normalizeId)(O),this.schemas[O]||this.refs[O]}function P(){const O=this.opts.schemas;if(O)if(Array.isArray(O))this.addSchema(O);else for(const w in O)this.addSchema(O[w],w)}function U(){for(const O in this.opts.formats){const w=this.opts.formats[O];w&&this.addFormat(O,w)}}function C(O){if(Array.isArray(O)){this.addVocabulary(O);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const w in O){const A=O[w];A.keyword||(A.keyword=w),this.addKeyword(A)}}function V(){const O={...this.opts};for(const w of u)delete O[w];return O}const B={log(){},warn(){},error(){}};function K(O){if(O===!1)return B;if(O===void 0)return console;if(O.log&&O.warn&&O.error)return O;throw new Error("logger must implement log, warn and error methods")}const z=/^[a-z_$][a-z0-9_$:-]*$/i;function M(O,w){const{RULES:A}=this;if((0,a.eachItem)(O,D=>{if(A.keywords[D])throw new Error(`Keyword ${D} is already defined`);if(!z.test(D))throw new Error(`Keyword ${D} has invalid name`)}),!!w&&w.$data&&!("code"in w||"validate"in w))throw new Error('$data keyword must have "code" or "validate" function')}function H(O,w,A){var D;const p=w?.post;if(A&&p)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:S}=this;let k=p?S.post:S.rules.find(({type:X})=>X===A);if(k||(k={type:A,rules:[]},S.rules.push(k)),S.keywords[O]=!0,!w)return;const W={keyword:O,definition:{...w,type:(0,h.getJSONTypes)(w.type),schemaType:(0,h.getJSONTypes)(w.schemaType)}};w.before?q.call(this,k,W,w.before):k.rules.push(W),S.all[O]=W,(D=w.implements)===null||D===void 0||D.forEach(X=>this.addKeyword(X))}function q(O,w,A){const D=O.rules.findIndex(p=>p.keyword===A);D>=0?O.rules.splice(D,0,w):(O.rules.push(w),this.logger.warn(`rule ${A} is not defined`))}function G(O){let{metaSchema:w}=O;w!==void 0&&(O.$data&&this.opts.$data&&(w=F(w)),O.validateSchema=this.compile(w,!0))}const R={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function F(O){return{anyOf:[O,R]}}})(Qc);var Ps={},Cs={},As={};Object.defineProperty(As,"__esModule",{value:!0});const np={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};As.default=np;var ur={};Object.defineProperty(ur,"__esModule",{value:!0});ur.callRef=ur.getValidate=void 0;const ip=_n,ia=ne,Qe=re,_r=Rt,sa=et,Fn=ue,sp={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:s,validateName:o,opts:f,self:c}=n,{root:h}=s;if((r==="#"||r==="#/")&&i===h.baseId)return d();const a=sa.resolveRef.call(c,h,i,r);if(a===void 0)throw new ip.default(n.opts.uriResolver,i,r);if(a instanceof sa.SchemaEnv)return E(a);return m(a);function d(){if(s===h)return Bn(e,o,s,s.$async);const u=t.scopeValue("root",{ref:h});return Bn(e,(0,Qe._)`${u}.validate`,h,h.$async)}function E(u){const y=Iu(e,u);Bn(e,y,u,u.$async)}function m(u){const y=t.scopeValue("schema",f.code.source===!0?{ref:u,code:(0,Qe.stringify)(u)}:{ref:u}),v=t.name("valid"),l=e.subschema({schema:u,dataTypes:[],schemaPath:Qe.nil,topSchemaRef:y,errSchemaPath:r},v);e.mergeEvaluated(l),e.ok(v)}}};function Iu(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Qe._)`${r.scopeValue("wrapper",{ref:t})}.validate`}ur.getValidate=Iu;function Bn(e,t,r,n){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:f,opts:c}=s,h=c.passContext?_r.default.this:Qe.nil;n?a():d();function a(){if(!f.$async)throw new Error("async schema referenced by sync schema");const u=i.let("valid");i.try(()=>{i.code((0,Qe._)`await ${(0,ia.callValidateCode)(e,t,h)}`),m(t),o||i.assign(u,!0)},y=>{i.if((0,Qe._)`!(${y} instanceof ${s.ValidationError})`,()=>i.throw(y)),E(y),o||i.assign(u,!1)}),e.ok(u)}function d(){e.result((0,ia.callValidateCode)(e,t,h),()=>m(t),()=>E(t))}function E(u){const y=(0,Qe._)`${u}.errors`;i.assign(_r.default.vErrors,(0,Qe._)`${_r.default.vErrors} === null ? ${y} : ${_r.default.vErrors}.concat(${y})`),i.assign(_r.default.errors,(0,Qe._)`${_r.default.vErrors}.length`)}function m(u){var y;if(!s.opts.unevaluated)return;const v=(y=r?.validate)===null||y===void 0?void 0:y.evaluated;if(s.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(s.props=Fn.mergeEvaluated.props(i,v.props,s.props));else{const l=i.var("props",(0,Qe._)`${u}.evaluated.props`);s.props=Fn.mergeEvaluated.props(i,l,s.props,Qe.Name)}if(s.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(s.items=Fn.mergeEvaluated.items(i,v.items,s.items));else{const l=i.var("items",(0,Qe._)`${u}.evaluated.items`);s.items=Fn.mergeEvaluated.items(i,l,s.items,Qe.Name)}}}ur.callRef=Bn;ur.default=sp;Object.defineProperty(Cs,"__esModule",{value:!0});const op=As,ap=ur,cp=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",op.default,ap.default];Cs.default=cp;var Ls={},Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});const Qn=re,xt=Qn.operators,ei={maximum:{okStr:"<=",ok:xt.LTE,fail:xt.GT},minimum:{okStr:">=",ok:xt.GTE,fail:xt.LT},exclusiveMaximum:{okStr:"<",ok:xt.LT,fail:xt.GTE},exclusiveMinimum:{okStr:">",ok:xt.GT,fail:xt.LTE}},up={message:({keyword:e,schemaCode:t})=>(0,Qn.str)`must be ${ei[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Qn._)`{comparison: ${ei[e].okStr}, limit: ${t}}`},lp={keyword:Object.keys(ei),type:"number",schemaType:"number",$data:!0,error:up,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Qn._)`${r} ${ei[t].fail} ${n} || isNaN(${r})`)}};Fs.default=lp;var js={};Object.defineProperty(js,"__esModule",{value:!0});const on=re,fp={message:({schemaCode:e})=>(0,on.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,on._)`{multipleOf: ${e}}`},dp={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:fp,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),f=s?(0,on._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,on._)`${o} !== parseInt(${o})`;e.fail$data((0,on._)`(${n} === 0 || (${o} = ${r}/${n}, ${f}))`)}};js.default=dp;var ks={},Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});function Ou(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}Ms.default=Ou;Ou.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(ks,"__esModule",{value:!0});const nr=re,hp=ue,mp=Ms,pp={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,nr.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,nr._)`{limit: ${e}}`},yp={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:pp,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,s=t==="maxLength"?nr.operators.GT:nr.operators.LT,o=i.opts.unicode===!1?(0,nr._)`${r}.length`:(0,nr._)`${(0,hp.useFunc)(e.gen,mp.default)}(${r})`;e.fail$data((0,nr._)`${o} ${s} ${n}`)}};ks.default=yp;var Us={};Object.defineProperty(Us,"__esModule",{value:!0});const vp=ne,ti=re,Ep={message:({schemaCode:e})=>(0,ti.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,ti._)`{pattern: ${e}}`},gp={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Ep,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",f=r?(0,ti._)`(new RegExp(${i}, ${o}))`:(0,vp.usePattern)(e,n);e.fail$data((0,ti._)`!${f}.test(${t})`)}};Us.default=gp;var xs={};Object.defineProperty(xs,"__esModule",{value:!0});const an=re,$p={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,an.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,an._)`{limit: ${e}}`},_p={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:$p,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?an.operators.GT:an.operators.LT;e.fail$data((0,an._)`Object.keys(${r}).length ${i} ${n}`)}};xs.default=_p;var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});const Yr=ne,cn=re,Sp=ue,wp={message:({params:{missingProperty:e}})=>(0,cn.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,cn._)`{missingProperty: ${e}}`},Np={keyword:"required",type:"object",schemaType:"array",$data:!0,error:wp,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:s,it:o}=e,{opts:f}=o;if(!s&&r.length===0)return;const c=r.length>=f.loopRequired;if(o.allErrors?h():a(),f.strictRequired){const m=e.parentSchema.properties,{definedProperties:u}=e.it;for(const y of r)if(m?.[y]===void 0&&!u.has(y)){const v=o.schemaEnv.baseId+o.errSchemaPath,l=`required property "${y}" is not defined at "${v}" (strictRequired)`;(0,Sp.checkStrictMode)(o,l,o.opts.strictRequired)}}function h(){if(c||s)e.block$data(cn.nil,d);else for(const m of r)(0,Yr.checkReportMissingProp)(e,m)}function a(){const m=t.let("missing");if(c||s){const u=t.let("valid",!0);e.block$data(u,()=>E(m,u)),e.ok(u)}else t.if((0,Yr.checkMissingProp)(e,r,m)),(0,Yr.reportMissingProp)(e,m),t.else()}function d(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,Yr.noPropertyInData)(t,i,m,f.ownProperties),()=>e.error())})}function E(m,u){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(u,(0,Yr.propertyInData)(t,i,m,f.ownProperties)),t.if((0,cn.not)(u),()=>{e.error(),t.break()})},cn.nil)}}};Vs.default=Np;var zs={};Object.defineProperty(zs,"__esModule",{value:!0});const un=re,Ip={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,un.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,un._)`{limit: ${e}}`},Op={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Ip,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?un.operators.GT:un.operators.LT;e.fail$data((0,un._)`${r}.length ${i} ${n}`)}};zs.default=Op;var Gs={},Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});const Tu=au;Tu.code='require("ajv/dist/runtime/equal").default';Sn.default=Tu;Object.defineProperty(Gs,"__esModule",{value:!0});const Ri=gn,Fe=re,Tp=ue,bp=Sn,Dp={message:({params:{i:e,j:t}})=>(0,Fe.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Fe._)`{i: ${e}, j: ${t}}`},Rp={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Dp,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:s,schemaCode:o,it:f}=e;if(!n&&!i)return;const c=t.let("valid"),h=s.items?(0,Ri.getSchemaTypes)(s.items):[];e.block$data(c,a,(0,Fe._)`${o} === false`),e.ok(c);function a(){const u=t.let("i",(0,Fe._)`${r}.length`),y=t.let("j");e.setParams({i:u,j:y}),t.assign(c,!0),t.if((0,Fe._)`${u} > 1`,()=>(d()?E:m)(u,y))}function d(){return h.length>0&&!h.some(u=>u==="object"||u==="array")}function E(u,y){const v=t.name("item"),l=(0,Ri.checkDataTypes)(h,v,f.opts.strictNumbers,Ri.DataType.Wrong),$=t.const("indices",(0,Fe._)`{}`);t.for((0,Fe._)`;${u}--;`,()=>{t.let(v,(0,Fe._)`${r}[${u}]`),t.if(l,(0,Fe._)`continue`),h.length>1&&t.if((0,Fe._)`typeof ${v} == "string"`,(0,Fe._)`${v} += "_"`),t.if((0,Fe._)`typeof ${$}[${v}] == "number"`,()=>{t.assign(y,(0,Fe._)`${$}[${v}]`),e.error(),t.assign(c,!1).break()}).code((0,Fe._)`${$}[${v}] = ${u}`)})}function m(u,y){const v=(0,Tp.useFunc)(t,bp.default),l=t.name("outer");t.label(l).for((0,Fe._)`;${u}--;`,()=>t.for((0,Fe._)`${y} = ${u}; ${y}--;`,()=>t.if((0,Fe._)`${v}(${r}[${u}], ${r}[${y}])`,()=>{e.error(),t.assign(c,!1).break(l)})))}}};Gs.default=Rp;var Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});const Zi=re,Pp=ue,Cp=Sn,Ap={message:"must be equal to constant",params:({schemaCode:e})=>(0,Zi._)`{allowedValue: ${e}}`},Lp={keyword:"const",$data:!0,error:Ap,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,Zi._)`!${(0,Pp.useFunc)(t,Cp.default)}(${r}, ${i})`):e.fail((0,Zi._)`${s} !== ${r}`)}};Hs.default=Lp;var qs={};Object.defineProperty(qs,"__esModule",{value:!0});const tn=re,Fp=ue,jp=Sn,kp={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,tn._)`{allowedValues: ${e}}`},Mp={keyword:"enum",schemaType:"array",$data:!0,error:kp,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:s,it:o}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const f=i.length>=o.opts.loopEnum;let c;const h=()=>c??(c=(0,Fp.useFunc)(t,jp.default));let a;if(f||n)a=t.let("valid"),e.block$data(a,d);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const m=t.const("vSchema",s);a=(0,tn.or)(...i.map((u,y)=>E(m,y)))}e.pass(a);function d(){t.assign(a,!1),t.forOf("v",s,m=>t.if((0,tn._)`${h()}(${r}, ${m})`,()=>t.assign(a,!0).break()))}function E(m,u){const y=i[u];return typeof y=="object"&&y!==null?(0,tn._)`${h()}(${r}, ${m}[${u}])`:(0,tn._)`${r} === ${y}`}}};qs.default=Mp;Object.defineProperty(Ls,"__esModule",{value:!0});const Up=Fs,xp=js,Vp=ks,zp=Us,Gp=xs,Hp=Vs,qp=zs,Bp=Gs,Kp=Hs,Wp=qs,Xp=[Up.default,xp.default,Vp.default,zp.default,Gp.default,Hp.default,qp.default,Bp.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Kp.default,Wp.default];Ls.default=Xp;var Bs={},Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});Ur.validateAdditionalItems=void 0;const ir=re,Ji=ue,Zp={message:({params:{len:e}})=>(0,ir.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ir._)`{limit: ${e}}`},Jp={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Zp,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Ji.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}bu(e,n)}};function bu(e,t){const{gen:r,schema:n,data:i,keyword:s,it:o}=e;o.items=!0;const f=r.const("len",(0,ir._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,ir._)`${f} <= ${t.length}`);else if(typeof n=="object"&&!(0,Ji.alwaysValidSchema)(o,n)){const h=r.var("valid",(0,ir._)`${f} <= ${t.length}`);r.if((0,ir.not)(h),()=>c(h)),e.ok(h)}function c(h){r.forRange("i",t.length,f,a=>{e.subschema({keyword:s,dataProp:a,dataPropType:Ji.Type.Num},h),o.allErrors||r.if((0,ir.not)(h),()=>r.break())})}}Ur.validateAdditionalItems=bu;Ur.default=Jp;var Ks={},xr={};Object.defineProperty(xr,"__esModule",{value:!0});xr.validateTuple=void 0;const oa=re,Kn=ue,Yp=ne,Qp={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Du(e,"additionalItems",t);r.items=!0,!(0,Kn.alwaysValidSchema)(r,t)&&e.ok((0,Yp.validateArray)(e))}};function Du(e,t,r=e.schema){const{gen:n,parentSchema:i,data:s,keyword:o,it:f}=e;a(i),f.opts.unevaluated&&r.length&&f.items!==!0&&(f.items=Kn.mergeEvaluated.items(n,r.length,f.items));const c=n.name("valid"),h=n.const("len",(0,oa._)`${s}.length`);r.forEach((d,E)=>{(0,Kn.alwaysValidSchema)(f,d)||(n.if((0,oa._)`${h} > ${E}`,()=>e.subschema({keyword:o,schemaProp:E,dataProp:E},c)),e.ok(c))});function a(d){const{opts:E,errSchemaPath:m}=f,u=r.length,y=u===d.minItems&&(u===d.maxItems||d[t]===!1);if(E.strictTuples&&!y){const v=`"${o}" is ${u}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,Kn.checkStrictMode)(f,v,E.strictTuples)}}}xr.validateTuple=Du;xr.default=Qp;Object.defineProperty(Ks,"__esModule",{value:!0});const ey=xr,ty={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,ey.validateTuple)(e,"items")};Ks.default=ty;var Ws={};Object.defineProperty(Ws,"__esModule",{value:!0});const aa=re,ry=ue,ny=ne,iy=Ur,sy={message:({params:{len:e}})=>(0,aa.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,aa._)`{limit: ${e}}`},oy={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:sy,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,ry.alwaysValidSchema)(n,t)&&(i?(0,iy.validateAdditionalItems)(e,i):e.ok((0,ny.validateArray)(e)))}};Ws.default=oy;var Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});const ut=re,jn=ue,ay={message:({params:{min:e,max:t}})=>t===void 0?(0,ut.str)`must contain at least ${e} valid item(s)`:(0,ut.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ut._)`{minContains: ${e}}`:(0,ut._)`{minContains: ${e}, maxContains: ${t}}`},cy={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:ay,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;let o,f;const{minContains:c,maxContains:h}=n;s.opts.next?(o=c===void 0?1:c,f=h):o=1;const a=t.const("len",(0,ut._)`${i}.length`);if(e.setParams({min:o,max:f}),f===void 0&&o===0){(0,jn.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(f!==void 0&&o>f){(0,jn.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,jn.alwaysValidSchema)(s,r)){let y=(0,ut._)`${a} >= ${o}`;f!==void 0&&(y=(0,ut._)`${y} && ${a} <= ${f}`),e.pass(y);return}s.items=!0;const d=t.name("valid");f===void 0&&o===1?m(d,()=>t.if(d,()=>t.break())):o===0?(t.let(d,!0),f!==void 0&&t.if((0,ut._)`${i}.length > 0`,E)):(t.let(d,!1),E()),e.result(d,()=>e.reset());function E(){const y=t.name("_valid"),v=t.let("count",0);m(y,()=>t.if(y,()=>u(v)))}function m(y,v){t.forRange("i",0,a,l=>{e.subschema({keyword:"contains",dataProp:l,dataPropType:jn.Type.Num,compositeRule:!0},y),v()})}function u(y){t.code((0,ut._)`${y}++`),f===void 0?t.if((0,ut._)`${y} >= ${o}`,()=>t.assign(d,!0).break()):(t.if((0,ut._)`${y} > ${f}`,()=>t.assign(d,!1).break()),o===1?t.assign(d,!0):t.if((0,ut._)`${y} >= ${o}`,()=>t.assign(d,!0)))}}};Xs.default=cy;var Ru={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=re,r=ue,n=ne;e.error={message:({params:{property:c,depsCount:h,deps:a}})=>{const d=h===1?"property":"properties";return(0,t.str)`must have ${d} ${a} when property ${c} is present`},params:({params:{property:c,depsCount:h,deps:a,missingProperty:d}})=>(0,t._)`{property: ${c},
    missingProperty: ${d},
    depsCount: ${h},
    deps: ${a}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[h,a]=s(c);o(c,h),f(c,a)}};function s({schema:c}){const h={},a={};for(const d in c){if(d==="__proto__")continue;const E=Array.isArray(c[d])?h:a;E[d]=c[d]}return[h,a]}function o(c,h=c.schema){const{gen:a,data:d,it:E}=c;if(Object.keys(h).length===0)return;const m=a.let("missing");for(const u in h){const y=h[u];if(y.length===0)continue;const v=(0,n.propertyInData)(a,d,u,E.opts.ownProperties);c.setParams({property:u,depsCount:y.length,deps:y.join(", ")}),E.allErrors?a.if(v,()=>{for(const l of y)(0,n.checkReportMissingProp)(c,l)}):(a.if((0,t._)`${v} && (${(0,n.checkMissingProp)(c,y,m)})`),(0,n.reportMissingProp)(c,m),a.else())}}e.validatePropertyDeps=o;function f(c,h=c.schema){const{gen:a,data:d,keyword:E,it:m}=c,u=a.name("valid");for(const y in h)(0,r.alwaysValidSchema)(m,h[y])||(a.if((0,n.propertyInData)(a,d,y,m.opts.ownProperties),()=>{const v=c.subschema({keyword:E,schemaProp:y},u);c.mergeValidEvaluated(v,u)},()=>a.var(u,!0)),c.ok(u))}e.validateSchemaDeps=f,e.default=i})(Ru);var Zs={};Object.defineProperty(Zs,"__esModule",{value:!0});const Pu=re,uy=ue,ly={message:"property name must be valid",params:({params:e})=>(0,Pu._)`{propertyName: ${e.propertyName}}`},fy={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:ly,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,uy.alwaysValidSchema)(i,r))return;const s=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,Pu.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};Zs.default=fy;var hi={};Object.defineProperty(hi,"__esModule",{value:!0});const kn=ne,ft=re,dy=Rt,Mn=ue,hy={message:"must NOT have additional properties",params:({params:e})=>(0,ft._)`{additionalProperty: ${e.additionalProperty}}`},my={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:hy,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:f,opts:c}=o;if(o.props=!0,c.removeAdditional!=="all"&&(0,Mn.alwaysValidSchema)(o,r))return;const h=(0,kn.allSchemaProperties)(n.properties),a=(0,kn.allSchemaProperties)(n.patternProperties);d(),e.ok((0,ft._)`${s} === ${dy.default.errors}`);function d(){t.forIn("key",i,v=>{!h.length&&!a.length?u(v):t.if(E(v),()=>u(v))})}function E(v){let l;if(h.length>8){const $=(0,Mn.schemaRefOrVal)(o,n.properties,"properties");l=(0,kn.isOwnProperty)(t,$,v)}else h.length?l=(0,ft.or)(...h.map($=>(0,ft._)`${v} === ${$}`)):l=ft.nil;return a.length&&(l=(0,ft.or)(l,...a.map($=>(0,ft._)`${(0,kn.usePattern)(e,$)}.test(${v})`))),(0,ft.not)(l)}function m(v){t.code((0,ft._)`delete ${i}[${v}]`)}function u(v){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){m(v);return}if(r===!1){e.setParams({additionalProperty:v}),e.error(),f||t.break();return}if(typeof r=="object"&&!(0,Mn.alwaysValidSchema)(o,r)){const l=t.name("valid");c.removeAdditional==="failing"?(y(v,l,!1),t.if((0,ft.not)(l),()=>{e.reset(),m(v)})):(y(v,l),f||t.if((0,ft.not)(l),()=>t.break()))}}function y(v,l,$){const _={keyword:"additionalProperties",dataProp:v,dataPropType:Mn.Type.Str};$===!1&&Object.assign(_,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(_,l)}}};hi.default=my;var Js={};Object.defineProperty(Js,"__esModule",{value:!0});const py=mt,ca=ne,Pi=ue,ua=hi,yy={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&ua.default.code(new py.KeywordCxt(s,ua.default,"additionalProperties"));const o=(0,ca.allSchemaProperties)(r);for(const d of o)s.definedProperties.add(d);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=Pi.mergeEvaluated.props(t,(0,Pi.toHash)(o),s.props));const f=o.filter(d=>!(0,Pi.alwaysValidSchema)(s,r[d]));if(f.length===0)return;const c=t.name("valid");for(const d of f)h(d)?a(d):(t.if((0,ca.propertyInData)(t,i,d,s.opts.ownProperties)),a(d),s.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(d),e.ok(c);function h(d){return s.opts.useDefaults&&!s.compositeRule&&r[d].default!==void 0}function a(d){e.subschema({keyword:"properties",schemaProp:d,dataProp:d},c)}}};Js.default=yy;var Ys={};Object.defineProperty(Ys,"__esModule",{value:!0});const la=ne,Un=re,fa=ue,da=ue,vy={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:s}=e,{opts:o}=s,f=(0,la.allSchemaProperties)(r),c=f.filter(y=>(0,fa.alwaysValidSchema)(s,r[y]));if(f.length===0||c.length===f.length&&(!s.opts.unevaluated||s.props===!0))return;const h=o.strictSchema&&!o.allowMatchingProperties&&i.properties,a=t.name("valid");s.props!==!0&&!(s.props instanceof Un.Name)&&(s.props=(0,da.evaluatedPropsToName)(t,s.props));const{props:d}=s;E();function E(){for(const y of f)h&&m(y),s.allErrors?u(y):(t.var(a,!0),u(y),t.if(a))}function m(y){for(const v in h)new RegExp(y).test(v)&&(0,fa.checkStrictMode)(s,`property ${v} matches pattern ${y} (use allowMatchingProperties)`)}function u(y){t.forIn("key",n,v=>{t.if((0,Un._)`${(0,la.usePattern)(e,y)}.test(${v})`,()=>{const l=c.includes(y);l||e.subschema({keyword:"patternProperties",schemaProp:y,dataProp:v,dataPropType:da.Type.Str},a),s.opts.unevaluated&&d!==!0?t.assign((0,Un._)`${d}[${v}]`,!0):!l&&!s.allErrors&&t.if((0,Un.not)(a),()=>t.break())})})}}};Ys.default=vy;var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});const Ey=ue,gy={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Ey.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Qs.default=gy;var eo={};Object.defineProperty(eo,"__esModule",{value:!0});const $y=ne,_y={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:$y.validateUnion,error:{message:"must match a schema in anyOf"}};eo.default=_y;var to={};Object.defineProperty(to,"__esModule",{value:!0});const Wn=re,Sy=ue,wy={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Wn._)`{passingSchemas: ${e.passing}}`},Ny={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:wy,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const s=r,o=t.let("valid",!1),f=t.let("passing",null),c=t.name("_valid");e.setParams({passing:f}),t.block(h),e.result(o,()=>e.reset(),()=>e.error(!0));function h(){s.forEach((a,d)=>{let E;(0,Sy.alwaysValidSchema)(i,a)?t.var(c,!0):E=e.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},c),d>0&&t.if((0,Wn._)`${c} && ${o}`).assign(o,!1).assign(f,(0,Wn._)`[${f}, ${d}]`).else(),t.if(c,()=>{t.assign(o,!0),t.assign(f,d),E&&e.mergeEvaluated(E,Wn.Name)})})}}};to.default=Ny;var ro={};Object.defineProperty(ro,"__esModule",{value:!0});const Iy=ue,Oy={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((s,o)=>{if((0,Iy.alwaysValidSchema)(n,s))return;const f=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(f)})}};ro.default=Oy;var no={};Object.defineProperty(no,"__esModule",{value:!0});const ri=re,Cu=ue,Ty={message:({params:e})=>(0,ri.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,ri._)`{failingKeyword: ${e.ifClause}}`},by={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Ty,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Cu.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=ha(n,"then"),s=ha(n,"else");if(!i&&!s)return;const o=t.let("valid",!0),f=t.name("_valid");if(c(),e.reset(),i&&s){const a=t.let("ifClause");e.setParams({ifClause:a}),t.if(f,h("then",a),h("else",a))}else i?t.if(f,h("then")):t.if((0,ri.not)(f),h("else"));e.pass(o,()=>e.error(!0));function c(){const a=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},f);e.mergeEvaluated(a)}function h(a,d){return()=>{const E=e.subschema({keyword:a},f);t.assign(o,f),e.mergeValidEvaluated(E,o),d?t.assign(d,(0,ri._)`${a}`):e.setParams({ifClause:a})}}}};function ha(e,t){const r=e.schema[t];return r!==void 0&&!(0,Cu.alwaysValidSchema)(e,r)}no.default=by;var io={};Object.defineProperty(io,"__esModule",{value:!0});const Dy=ue,Ry={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Dy.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};io.default=Ry;Object.defineProperty(Bs,"__esModule",{value:!0});const Py=Ur,Cy=Ks,Ay=xr,Ly=Ws,Fy=Xs,jy=Ru,ky=Zs,My=hi,Uy=Js,xy=Ys,Vy=Qs,zy=eo,Gy=to,Hy=ro,qy=no,By=io;function Ky(e=!1){const t=[Vy.default,zy.default,Gy.default,Hy.default,qy.default,By.default,ky.default,My.default,jy.default,Uy.default,xy.default];return e?t.push(Cy.default,Ly.default):t.push(Py.default,Ay.default),t.push(Fy.default),t}Bs.default=Ky;var so={},oo={};Object.defineProperty(oo,"__esModule",{value:!0});const Te=re,Wy={message:({schemaCode:e})=>(0,Te.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Te._)`{format: ${e}}`},Xy={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Wy,code(e,t){const{gen:r,data:n,$data:i,schema:s,schemaCode:o,it:f}=e,{opts:c,errSchemaPath:h,schemaEnv:a,self:d}=f;if(!c.validateFormats)return;i?E():m();function E(){const u=r.scopeValue("formats",{ref:d.formats,code:c.code.formats}),y=r.const("fDef",(0,Te._)`${u}[${o}]`),v=r.let("fType"),l=r.let("format");r.if((0,Te._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>r.assign(v,(0,Te._)`${y}.type || "string"`).assign(l,(0,Te._)`${y}.validate`),()=>r.assign(v,(0,Te._)`"string"`).assign(l,y)),e.fail$data((0,Te.or)($(),_()));function $(){return c.strictSchema===!1?Te.nil:(0,Te._)`${o} && !${l}`}function _(){const b=a.$async?(0,Te._)`(${y}.async ? await ${l}(${n}) : ${l}(${n}))`:(0,Te._)`${l}(${n})`,x=(0,Te._)`(typeof ${l} == "function" ? ${b} : ${l}.test(${n}))`;return(0,Te._)`${l} && ${l} !== true && ${v} === ${t} && !${x}`}}function m(){const u=d.formats[s];if(!u){$();return}if(u===!0)return;const[y,v,l]=_(u);y===t&&e.pass(b());function $(){if(c.strictSchema===!1){d.logger.warn(x());return}throw new Error(x());function x(){return`unknown format "${s}" ignored in schema at path "${h}"`}}function _(x){const T=x instanceof RegExp?(0,Te.regexpCode)(x):c.code.formats?(0,Te._)`${c.code.formats}${(0,Te.getProperty)(s)}`:void 0,P=r.scopeValue("formats",{key:s,ref:x,code:T});return typeof x=="object"&&!(x instanceof RegExp)?[x.type||"string",x.validate,(0,Te._)`${P}.validate`]:["string",x,P]}function b(){if(typeof u=="object"&&!(u instanceof RegExp)&&u.async){if(!a.$async)throw new Error("async format in sync schema");return(0,Te._)`await ${l}(${n})`}return typeof v=="function"?(0,Te._)`${l}(${n})`:(0,Te._)`${l}.test(${n})`}}}};oo.default=Xy;Object.defineProperty(so,"__esModule",{value:!0});const Zy=oo,Jy=[Zy.default];so.default=Jy;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.contentVocabulary=Fr.metadataVocabulary=void 0;Fr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Fr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Ps,"__esModule",{value:!0});const Yy=Cs,Qy=Ls,e0=Bs,t0=so,ma=Fr,r0=[Yy.default,Qy.default,(0,e0.default)(),t0.default,ma.metadataVocabulary,ma.contentVocabulary];Ps.default=r0;var ao={},Au={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(Au);Object.defineProperty(ao,"__esModule",{value:!0});const Nr=re,Yi=Au,pa=et,n0=ue,i0={message:({params:{discrError:e,tagName:t}})=>e===Yi.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Nr._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},s0={keyword:"discriminator",type:"object",schemaType:"object",error:i0,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const f=n.propertyName;if(typeof f!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),h=t.const("tag",(0,Nr._)`${r}${(0,Nr.getProperty)(f)}`);t.if((0,Nr._)`typeof ${h} == "string"`,()=>a(),()=>e.error(!1,{discrError:Yi.DiscrError.Tag,tag:h,tagName:f})),e.ok(c);function a(){const m=E();t.if(!1);for(const u in m)t.elseIf((0,Nr._)`${h} === ${u}`),t.assign(c,d(m[u]));t.else(),e.error(!1,{discrError:Yi.DiscrError.Mapping,tag:h,tagName:f}),t.endIf()}function d(m){const u=t.name("valid"),y=e.subschema({keyword:"oneOf",schemaProp:m},u);return e.mergeEvaluated(y,Nr.Name),u}function E(){var m;const u={},y=l(i);let v=!0;for(let b=0;b<o.length;b++){let x=o[b];x?.$ref&&!(0,n0.schemaHasRulesButRef)(x,s.self.RULES)&&(x=pa.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,x?.$ref),x instanceof pa.SchemaEnv&&(x=x.schema));const T=(m=x?.properties)===null||m===void 0?void 0:m[f];if(typeof T!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${f}"`);v=v&&(y||l(x)),$(T,b)}if(!v)throw new Error(`discriminator: "${f}" must be required`);return u;function l({required:b}){return Array.isArray(b)&&b.includes(f)}function $(b,x){if(b.const)_(b.const,x);else if(b.enum)for(const T of b.enum)_(T,x);else throw new Error(`discriminator: "properties/${f}" must have "const" or "enum"`)}function _(b,x){if(typeof b!="string"||b in u)throw new Error(`discriminator: "${f}" values must be unique strings`);u[b]=x}}}};ao.default=s0;const o0="http://json-schema.org/draft-07/schema#",a0="http://json-schema.org/draft-07/schema#",c0="Core schema meta-schema",u0={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},l0=["object","boolean"],f0={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},d0={$schema:o0,$id:a0,title:c0,definitions:u0,type:l0,properties:f0,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=Qc,n=Ps,i=ao,s=d0,o=["/properties"],f="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(u=>this.addVocabulary(u)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const u=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(u,f,!1),this.refs["http://json-schema.org/schema"]=f}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(f)?f:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var h=mt;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return h.KeywordCxt}});var a=re;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return a._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return a.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return a.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return a.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return a.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return a.CodeGen}});var d=$n;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var E=_n;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return E.default}})})(Bi,Bi.exports);var Lu=Bi.exports,Qi={exports:{}},Fu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(C,V){return{validate:C,compare:V}}e.fullFormats={date:t(s,o),time:t(c,h),"date-time":t(d,E),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:y,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:U,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:l,int32:{type:"number",validate:b},int64:{type:"number",validate:x},float:{type:"number",validate:T},double:{type:"number",validate:T},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,h),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,E),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(C){return C%4===0&&(C%100!==0||C%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(C){const V=n.exec(C);if(!V)return!1;const B=+V[1],K=+V[2],z=+V[3];return K>=1&&K<=12&&z>=1&&z<=(K===2&&r(B)?29:i[K])}function o(C,V){if(C&&V)return C>V?1:C<V?-1:0}const f=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function c(C,V){const B=f.exec(C);if(!B)return!1;const K=+B[1],z=+B[2],M=+B[3],H=B[5];return(K<=23&&z<=59&&M<=59||K===23&&z===59&&M===60)&&(!V||H!=="")}function h(C,V){if(!(C&&V))return;const B=f.exec(C),K=f.exec(V);if(B&&K)return C=B[1]+B[2]+B[3]+(B[4]||""),V=K[1]+K[2]+K[3]+(K[4]||""),C>V?1:C<V?-1:0}const a=/t|\s/i;function d(C){const V=C.split(a);return V.length===2&&s(V[0])&&c(V[1],!0)}function E(C,V){if(!(C&&V))return;const[B,K]=C.split(a),[z,M]=V.split(a),H=o(B,z);if(H!==void 0)return H||h(K,M)}const m=/\/|:/,u=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function y(C){return m.test(C)&&u.test(C)}const v=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function l(C){return v.lastIndex=0,v.test(C)}const $=-(2**31),_=2**31-1;function b(C){return Number.isInteger(C)&&C<=_&&C>=$}function x(C){return Number.isInteger(C)}function T(){return!0}const P=/[^\\]\\Z/;function U(C){if(P.test(C))return!1;try{return new RegExp(C),!0}catch{return!1}}})(Fu);var ju={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=Lu,r=re,n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:f,schemaCode:c})=>r.str`should be ${i[f].okStr} ${c}`,params:({keyword:f,schemaCode:c})=>r._`{comparison: ${i[f].okStr}, limit: ${c}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:s,code(f){const{gen:c,data:h,schemaCode:a,keyword:d,it:E}=f,{opts:m,self:u}=E;if(!m.validateFormats)return;const y=new t.KeywordCxt(E,u.RULES.all.format.definition,"format");y.$data?v():l();function v(){const _=c.scopeValue("formats",{ref:u.formats,code:m.code.formats}),b=c.const("fmt",r._`${_}[${y.schemaCode}]`);f.fail$data(r.or(r._`typeof ${b} != "object"`,r._`${b} instanceof RegExp`,r._`typeof ${b}.compare != "function"`,$(b)))}function l(){const _=y.schema,b=u.formats[_];if(!b||b===!0)return;if(typeof b!="object"||b instanceof RegExp||typeof b.compare!="function")throw new Error(`"${d}": format "${_}" does not define "compare" function`);const x=c.scopeValue("formats",{key:_,ref:b,code:m.code.formats?r._`${m.code.formats}${r.getProperty(_)}`:void 0});f.fail$data($(x))}function $(_){return r._`${_}.compare(${h}, ${a}) ${i[d].fail} 0`}},dependencies:["format"]};const o=f=>(f.addKeyword(e.formatLimitDefinition),f);e.default=o})(ju);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Fu,n=ju,i=re,s=new i.Name("fullFormats"),o=new i.Name("fastFormats"),f=(h,a={keywords:!0})=>{if(Array.isArray(a))return c(h,a,r.fullFormats,s),h;const[d,E]=a.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,s],m=a.formats||r.formatNames;return c(h,m,d,E),a.keywords&&n.default(h),h};f.get=(h,a="full")=>{const E=(a==="fast"?r.fastFormats:r.fullFormats)[h];if(!E)throw new Error(`Unknown format "${h}"`);return E};function c(h,a,d,E){var m,u;(m=(u=h.opts.code).formats)!==null&&m!==void 0||(u.formats=i._`require("ajv-formats/dist/formats").${E}`);for(const y of a)h.addFormat(y,d[y])}e.exports=t=f,Object.defineProperty(t,"__esModule",{value:!0}),t.default=f})(Qi,Qi.exports);var h0=Qi.exports;const m0=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const i=Object.getOwnPropertyDescriptor(e,r),s=Object.getOwnPropertyDescriptor(t,r);!p0(i,s)&&n||Object.defineProperty(e,r,s)},p0=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},y0=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},v0=(e,t)=>`/* Wrapped ${e}*/
${t}`,E0=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),g0=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),$0=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,i=v0.bind(null,n,t.toString());Object.defineProperty(i,"name",g0),Object.defineProperty(e,"toString",{...E0,value:i})},_0=(e,t,{ignoreNonConfigurable:r=!1}={})=>{const{name:n}=e;for(const i of Reflect.ownKeys(t))m0(e,t,i,r);return y0(e,t),$0(e,t,n),e};var S0=_0;const w0=S0;var N0=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,before:n=!1,after:i=!0}=t;if(!n&&!i)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let s,o;const f=function(...c){const h=this,a=()=>{s=void 0,i&&(o=e.apply(h,c))},d=n&&!s;return clearTimeout(s),s=setTimeout(a,r),d&&(o=e.apply(h,c)),o};return w0(f,e),f.cancel=()=>{s&&(clearTimeout(s),s=void 0)},f},es={exports:{}};const I0="2.0.0",ku=256,O0=Number.MAX_SAFE_INTEGER||9007199254740991,T0=16,b0=ku-6,D0=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var mi={MAX_LENGTH:ku,MAX_SAFE_COMPONENT_LENGTH:T0,MAX_SAFE_BUILD_LENGTH:b0,MAX_SAFE_INTEGER:O0,RELEASE_TYPES:D0,SEMVER_SPEC_VERSION:I0,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const R0=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var pi=R0;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=mi,s=pi;t=e.exports={};const o=t.re=[],f=t.safeRe=[],c=t.src=[],h=t.t={};let a=0;const d="[a-zA-Z0-9-]",E=[["\\s",1],["\\d",i],[d,n]],m=y=>{for(const[v,l]of E)y=y.split(`${v}*`).join(`${v}{0,${l}}`).split(`${v}+`).join(`${v}{1,${l}}`);return y},u=(y,v,l)=>{const $=m(v),_=a++;s(y,_,v),h[y]=_,c[_]=v,o[_]=new RegExp(v,l?"g":void 0),f[_]=new RegExp($,l?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","\\d+"),u("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),u("MAINVERSION",`(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${c[h.NUMERICIDENTIFIER]}|${c[h.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${c[h.NUMERICIDENTIFIERLOOSE]}|${c[h.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${c[h.PRERELEASEIDENTIFIER]}(?:\\.${c[h.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${c[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[h.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER",`${d}+`),u("BUILD",`(?:\\+(${c[h.BUILDIDENTIFIER]}(?:\\.${c[h.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${c[h.MAINVERSION]}${c[h.PRERELEASE]}?${c[h.BUILD]}?`),u("FULL",`^${c[h.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${c[h.MAINVERSIONLOOSE]}${c[h.PRERELEASELOOSE]}?${c[h.BUILD]}?`),u("LOOSE",`^${c[h.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${c[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${c[h.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:${c[h.PRERELEASE]})?${c[h.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:${c[h.PRERELEASELOOSE]})?${c[h.BUILD]}?)?)?`),u("XRANGE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),u("COERCERTL",c[h.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${c[h.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${c[h.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${c[h.LONECARET]}${c[h.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${c[h.LONECARET]}${c[h.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${c[h.GTLT]}\\s*(${c[h.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]}|${c[h.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${c[h.XRANGEPLAIN]})\\s+-\\s+(${c[h.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${c[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[h.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(es,es.exports);var wn=es.exports;const P0=Object.freeze({loose:!0}),C0=Object.freeze({}),A0=e=>e?typeof e!="object"?P0:e:C0;var co=A0;const ya=/^[0-9]+$/,Mu=(e,t)=>{const r=ya.test(e),n=ya.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},L0=(e,t)=>Mu(t,e);var Uu={compareIdentifiers:Mu,rcompareIdentifiers:L0};const xn=pi,{MAX_LENGTH:va,MAX_SAFE_INTEGER:Vn}=mi,{safeRe:Ea,t:ga}=wn,F0=co,{compareIdentifiers:Sr}=Uu;let j0=class Nt{constructor(t,r){if(r=F0(r),t instanceof Nt){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>va)throw new TypeError(`version is longer than ${va} characters`);xn("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?Ea[ga.LOOSE]:Ea[ga.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Vn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Vn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Vn||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<Vn)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(xn("SemVer.compare",this.version,this.options,t),!(t instanceof Nt)){if(typeof t=="string"&&t===this.version)return 0;t=new Nt(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Nt||(t=new Nt(t,this.options)),Sr(this.major,t.major)||Sr(this.minor,t.minor)||Sr(this.patch,t.patch)}comparePre(t){if(t instanceof Nt||(t=new Nt(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=t.prerelease[r];if(xn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Sr(n,i)}while(++r)}compareBuild(t){t instanceof Nt||(t=new Nt(t,this.options));let r=0;do{const n=this.build[r],i=t.build[r];if(xn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Sr(n,i)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Sr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Ze=j0;const $a=Ze,k0=(e,t,r=!1)=>{if(e instanceof $a)return e;try{return new $a(e,t)}catch(n){if(!r)return null;throw n}};var Vr=k0;const M0=Vr,U0=(e,t)=>{const r=M0(e,t);return r?r.version:null};var x0=U0;const V0=Vr,z0=(e,t)=>{const r=V0(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var G0=z0;const _a=Ze,H0=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new _a(e instanceof _a?e.version:e,r).inc(t,n,i).version}catch{return null}};var q0=H0;const Sa=Vr,B0=(e,t)=>{const r=Sa(e,null,!0),n=Sa(t,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,f=s?n:r,c=!!o.prerelease.length;if(!!f.prerelease.length&&!c)return!f.patch&&!f.minor?"major":o.patch?"patch":o.minor?"minor":"major";const a=c?"pre":"";return r.major!==n.major?a+"major":r.minor!==n.minor?a+"minor":r.patch!==n.patch?a+"patch":"prerelease"};var K0=B0;const W0=Ze,X0=(e,t)=>new W0(e,t).major;var Z0=X0;const J0=Ze,Y0=(e,t)=>new J0(e,t).minor;var Q0=Y0;const ev=Ze,tv=(e,t)=>new ev(e,t).patch;var rv=tv;const nv=Vr,iv=(e,t)=>{const r=nv(e,t);return r&&r.prerelease.length?r.prerelease:null};var sv=iv;const wa=Ze,ov=(e,t,r)=>new wa(e,r).compare(new wa(t,r));var pt=ov;const av=pt,cv=(e,t,r)=>av(t,e,r);var uv=cv;const lv=pt,fv=(e,t)=>lv(e,t,!0);var dv=fv;const Na=Ze,hv=(e,t,r)=>{const n=new Na(e,r),i=new Na(t,r);return n.compare(i)||n.compareBuild(i)};var uo=hv;const mv=uo,pv=(e,t)=>e.sort((r,n)=>mv(r,n,t));var yv=pv;const vv=uo,Ev=(e,t)=>e.sort((r,n)=>vv(n,r,t));var gv=Ev;const $v=pt,_v=(e,t,r)=>$v(e,t,r)>0;var yi=_v;const Sv=pt,wv=(e,t,r)=>Sv(e,t,r)<0;var lo=wv;const Nv=pt,Iv=(e,t,r)=>Nv(e,t,r)===0;var xu=Iv;const Ov=pt,Tv=(e,t,r)=>Ov(e,t,r)!==0;var Vu=Tv;const bv=pt,Dv=(e,t,r)=>bv(e,t,r)>=0;var fo=Dv;const Rv=pt,Pv=(e,t,r)=>Rv(e,t,r)<=0;var ho=Pv;const Cv=xu,Av=Vu,Lv=yi,Fv=fo,jv=lo,kv=ho,Mv=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Cv(e,r,n);case"!=":return Av(e,r,n);case">":return Lv(e,r,n);case">=":return Fv(e,r,n);case"<":return jv(e,r,n);case"<=":return kv(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var zu=Mv;const Uv=Ze,xv=Vr,{safeRe:zn,t:Gn}=wn,Vv=(e,t)=>{if(e instanceof Uv)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(zn[Gn.COERCE]);else{let n;for(;(n=zn[Gn.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),zn[Gn.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;zn[Gn.COERCERTL].lastIndex=-1}return r===null?null:xv(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)};var zv=Vv,Ci,Ia;function Gv(){return Ia||(Ia=1,Ci=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),Ci}var Hv=le;le.Node=lr;le.create=le;function le(e){var t=this;if(t instanceof le||(t=new le),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}le.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};le.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};le.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};le.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Bv(this,arguments[e]);return this.length};le.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Kv(this,arguments[e]);return this.length};le.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};le.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};le.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};le.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};le.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};le.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};le.prototype.map=function(e,t){t=t||this;for(var r=new le,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};le.prototype.mapReverse=function(e,t){t=t||this;for(var r=new le,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};le.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};le.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};le.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};le.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};le.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new le;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};le.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new le;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};le.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var s=[],n=0;i&&n<t;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=qv(this,i,r[n]);return s};le.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function qv(e,t,r){var n=t===e.head?new lr(r,null,t,e):new lr(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function Bv(e,t){e.tail=new lr(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Kv(e,t){e.head=new lr(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function lr(e,t,r,n){if(!(this instanceof lr))return new lr(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Gv()(le)}catch{}const Wv=Hv,sr=Symbol("max"),At=Symbol("length"),wr=Symbol("lengthCalculator"),ln=Symbol("allowStale"),or=Symbol("maxAge"),Ct=Symbol("dispose"),Oa=Symbol("noDisposeOnSet"),Ae=Symbol("lruList"),dt=Symbol("cache"),Gu=Symbol("updateAgeOnGet"),Ai=()=>1;class Xv{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[sr]=t.max||1/0;const r=t.length||Ai;if(this[wr]=typeof r!="function"?Ai:r,this[ln]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[or]=t.maxAge||0,this[Ct]=t.dispose,this[Oa]=t.noDisposeOnSet||!1,this[Gu]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[sr]=t||1/0,Qr(this)}get max(){return this[sr]}set allowStale(t){this[ln]=!!t}get allowStale(){return this[ln]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[or]=t,Qr(this)}get maxAge(){return this[or]}set lengthCalculator(t){typeof t!="function"&&(t=Ai),t!==this[wr]&&(this[wr]=t,this[At]=0,this[Ae].forEach(r=>{r.length=this[wr](r.value,r.key),this[At]+=r.length})),Qr(this)}get lengthCalculator(){return this[wr]}get length(){return this[At]}get itemCount(){return this[Ae].length}rforEach(t,r){r=r||this;for(let n=this[Ae].tail;n!==null;){const i=n.prev;Ta(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[Ae].head;n!==null;){const i=n.next;Ta(this,t,n,r),n=i}}keys(){return this[Ae].toArray().map(t=>t.key)}values(){return this[Ae].toArray().map(t=>t.value)}reset(){this[Ct]&&this[Ae]&&this[Ae].length&&this[Ae].forEach(t=>this[Ct](t.key,t.value)),this[dt]=new Map,this[Ae]=new Wv,this[At]=0}dump(){return this[Ae].map(t=>ni(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Ae]}set(t,r,n){if(n=n||this[or],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[wr](r,t);if(this[dt].has(t)){if(s>this[sr])return Dr(this,this[dt].get(t)),!1;const c=this[dt].get(t).value;return this[Ct]&&(this[Oa]||this[Ct](t,c.value)),c.now=i,c.maxAge=n,c.value=r,this[At]+=s-c.length,c.length=s,this.get(t),Qr(this),!0}const o=new Zv(t,r,s,i,n);return o.length>this[sr]?(this[Ct]&&this[Ct](t,r),!1):(this[At]+=o.length,this[Ae].unshift(o),this[dt].set(t,this[Ae].head),Qr(this),!0)}has(t){if(!this[dt].has(t))return!1;const r=this[dt].get(t).value;return!ni(this,r)}get(t){return Li(this,t,!0)}peek(t){return Li(this,t,!1)}pop(){const t=this[Ae].tail;return t?(Dr(this,t),t.value):null}del(t){Dr(this,this[dt].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const i=t[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[dt].forEach((t,r)=>Li(this,r,!1))}}const Li=(e,t,r)=>{const n=e[dt].get(t);if(n){const i=n.value;if(ni(e,i)){if(Dr(e,n),!e[ln])return}else r&&(e[Gu]&&(n.value.now=Date.now()),e[Ae].unshiftNode(n));return i.value}},ni=(e,t)=>{if(!t||!t.maxAge&&!e[or])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[or]&&r>e[or]},Qr=e=>{if(e[At]>e[sr])for(let t=e[Ae].tail;e[At]>e[sr]&&t!==null;){const r=t.prev;Dr(e,t),t=r}},Dr=(e,t)=>{if(t){const r=t.value;e[Ct]&&e[Ct](r.key,r.value),e[At]-=r.length,e[dt].delete(r.key),e[Ae].removeNode(t)}};class Zv{constructor(t,r,n,i,s){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const Ta=(e,t,r,n)=>{let i=r.value;ni(e,i)&&(Dr(e,r),e[ln]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};var Jv=Xv,Fi,ba;function yt(){if(ba)return Fi;ba=1;class e{constructor(M,H){if(H=n(H),M instanceof e)return M.loose===!!H.loose&&M.includePrerelease===!!H.includePrerelease?M:new e(M.raw,H);if(M instanceof i)return this.raw=M.value,this.set=[[M]],this.format(),this;if(this.options=H,this.loose=!!H.loose,this.includePrerelease=!!H.includePrerelease,this.raw=M.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(q=>this.parseRange(q.trim())).filter(q=>q.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const q=this.set[0];if(this.set=this.set.filter(G=>!u(G[0])),this.set.length===0)this.set=[q];else if(this.set.length>1){for(const G of this.set)if(G.length===1&&y(G[0])){this.set=[G];break}}}this.format()}format(){return this.range=this.set.map(M=>M.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(M){const q=((this.options.includePrerelease&&E)|(this.options.loose&&m))+":"+M,G=r.get(q);if(G)return G;const R=this.options.loose,F=R?f[c.HYPHENRANGELOOSE]:f[c.HYPHENRANGE];M=M.replace(F,B(this.options.includePrerelease)),s("hyphen replace",M),M=M.replace(f[c.COMPARATORTRIM],h),s("comparator trim",M),M=M.replace(f[c.TILDETRIM],a),s("tilde trim",M),M=M.replace(f[c.CARETTRIM],d),s("caret trim",M);let O=M.split(" ").map(p=>l(p,this.options)).join(" ").split(/\s+/).map(p=>V(p,this.options));R&&(O=O.filter(p=>(s("loose invalid filter",p,this.options),!!p.match(f[c.COMPARATORLOOSE])))),s("range list",O);const w=new Map,A=O.map(p=>new i(p,this.options));for(const p of A){if(u(p))return[p];w.set(p.value,p)}w.size>1&&w.has("")&&w.delete("");const D=[...w.values()];return r.set(q,D),D}intersects(M,H){if(!(M instanceof e))throw new TypeError("a Range is required");return this.set.some(q=>v(q,H)&&M.set.some(G=>v(G,H)&&q.every(R=>G.every(F=>R.intersects(F,H)))))}test(M){if(!M)return!1;if(typeof M=="string")try{M=new o(M,this.options)}catch{return!1}for(let H=0;H<this.set.length;H++)if(K(this.set[H],M,this.options))return!0;return!1}}Fi=e;const t=Jv,r=new t({max:1e3}),n=co,i=vi(),s=pi,o=Ze,{safeRe:f,t:c,comparatorTrimReplace:h,tildeTrimReplace:a,caretTrimReplace:d}=wn,{FLAG_INCLUDE_PRERELEASE:E,FLAG_LOOSE:m}=mi,u=z=>z.value==="<0.0.0-0",y=z=>z.value==="",v=(z,M)=>{let H=!0;const q=z.slice();let G=q.pop();for(;H&&q.length;)H=q.every(R=>G.intersects(R,M)),G=q.pop();return H},l=(z,M)=>(s("comp",z,M),z=x(z,M),s("caret",z),z=_(z,M),s("tildes",z),z=P(z,M),s("xrange",z),z=C(z,M),s("stars",z),z),$=z=>!z||z.toLowerCase()==="x"||z==="*",_=(z,M)=>z.trim().split(/\s+/).map(H=>b(H,M)).join(" "),b=(z,M)=>{const H=M.loose?f[c.TILDELOOSE]:f[c.TILDE];return z.replace(H,(q,G,R,F,O)=>{s("tilde",z,q,G,R,F,O);let w;return $(G)?w="":$(R)?w=`>=${G}.0.0 <${+G+1}.0.0-0`:$(F)?w=`>=${G}.${R}.0 <${G}.${+R+1}.0-0`:O?(s("replaceTilde pr",O),w=`>=${G}.${R}.${F}-${O} <${G}.${+R+1}.0-0`):w=`>=${G}.${R}.${F} <${G}.${+R+1}.0-0`,s("tilde return",w),w})},x=(z,M)=>z.trim().split(/\s+/).map(H=>T(H,M)).join(" "),T=(z,M)=>{s("caret",z,M);const H=M.loose?f[c.CARETLOOSE]:f[c.CARET],q=M.includePrerelease?"-0":"";return z.replace(H,(G,R,F,O,w)=>{s("caret",z,G,R,F,O,w);let A;return $(R)?A="":$(F)?A=`>=${R}.0.0${q} <${+R+1}.0.0-0`:$(O)?R==="0"?A=`>=${R}.${F}.0${q} <${R}.${+F+1}.0-0`:A=`>=${R}.${F}.0${q} <${+R+1}.0.0-0`:w?(s("replaceCaret pr",w),R==="0"?F==="0"?A=`>=${R}.${F}.${O}-${w} <${R}.${F}.${+O+1}-0`:A=`>=${R}.${F}.${O}-${w} <${R}.${+F+1}.0-0`:A=`>=${R}.${F}.${O}-${w} <${+R+1}.0.0-0`):(s("no pr"),R==="0"?F==="0"?A=`>=${R}.${F}.${O}${q} <${R}.${F}.${+O+1}-0`:A=`>=${R}.${F}.${O}${q} <${R}.${+F+1}.0-0`:A=`>=${R}.${F}.${O} <${+R+1}.0.0-0`),s("caret return",A),A})},P=(z,M)=>(s("replaceXRanges",z,M),z.split(/\s+/).map(H=>U(H,M)).join(" ")),U=(z,M)=>{z=z.trim();const H=M.loose?f[c.XRANGELOOSE]:f[c.XRANGE];return z.replace(H,(q,G,R,F,O,w)=>{s("xRange",z,q,G,R,F,O,w);const A=$(R),D=A||$(F),p=D||$(O),S=p;return G==="="&&S&&(G=""),w=M.includePrerelease?"-0":"",A?G===">"||G==="<"?q="<0.0.0-0":q="*":G&&S?(D&&(F=0),O=0,G===">"?(G=">=",D?(R=+R+1,F=0,O=0):(F=+F+1,O=0)):G==="<="&&(G="<",D?R=+R+1:F=+F+1),G==="<"&&(w="-0"),q=`${G+R}.${F}.${O}${w}`):D?q=`>=${R}.0.0${w} <${+R+1}.0.0-0`:p&&(q=`>=${R}.${F}.0${w} <${R}.${+F+1}.0-0`),s("xRange return",q),q})},C=(z,M)=>(s("replaceStars",z,M),z.trim().replace(f[c.STAR],"")),V=(z,M)=>(s("replaceGTE0",z,M),z.trim().replace(f[M.includePrerelease?c.GTE0PRE:c.GTE0],"")),B=z=>(M,H,q,G,R,F,O,w,A,D,p,S,k)=>($(q)?H="":$(G)?H=`>=${q}.0.0${z?"-0":""}`:$(R)?H=`>=${q}.${G}.0${z?"-0":""}`:F?H=`>=${H}`:H=`>=${H}${z?"-0":""}`,$(A)?w="":$(D)?w=`<${+A+1}.0.0-0`:$(p)?w=`<${A}.${+D+1}.0-0`:S?w=`<=${A}.${D}.${p}-${S}`:z?w=`<${A}.${D}.${+p+1}-0`:w=`<=${w}`,`${H} ${w}`.trim()),K=(z,M,H)=>{for(let q=0;q<z.length;q++)if(!z[q].test(M))return!1;if(M.prerelease.length&&!H.includePrerelease){for(let q=0;q<z.length;q++)if(s(z[q].semver),z[q].semver!==i.ANY&&z[q].semver.prerelease.length>0){const G=z[q].semver;if(G.major===M.major&&G.minor===M.minor&&G.patch===M.patch)return!0}return!1}return!0};return Fi}var ji,Da;function vi(){if(Da)return ji;Da=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(a,d){if(d=r(d),a instanceof t){if(a.loose===!!d.loose)return a;a=a.value}a=a.trim().split(/\s+/).join(" "),o("comparator",a,d),this.options=d,this.loose=!!d.loose,this.parse(a),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(a){const d=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],E=a.match(d);if(!E)throw new TypeError(`Invalid comparator: ${a}`);this.operator=E[1]!==void 0?E[1]:"",this.operator==="="&&(this.operator=""),E[2]?this.semver=new f(E[2],this.options.loose):this.semver=e}toString(){return this.value}test(a){if(o("Comparator.test",a,this.options.loose),this.semver===e||a===e)return!0;if(typeof a=="string")try{a=new f(a,this.options)}catch{return!1}return s(a,this.operator,this.semver,this.options)}intersects(a,d){if(!(a instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(a.value,d).test(this.value):a.operator===""?a.value===""?!0:new c(this.value,d).test(a.semver):(d=r(d),d.includePrerelease&&(this.value==="<0.0.0-0"||a.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||a.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&a.operator.startsWith(">")||this.operator.startsWith("<")&&a.operator.startsWith("<")||this.semver.version===a.semver.version&&this.operator.includes("=")&&a.operator.includes("=")||s(this.semver,"<",a.semver,d)&&this.operator.startsWith(">")&&a.operator.startsWith("<")||s(this.semver,">",a.semver,d)&&this.operator.startsWith("<")&&a.operator.startsWith(">")))}}ji=t;const r=co,{safeRe:n,t:i}=wn,s=zu,o=pi,f=Ze,c=yt();return ji}const Yv=yt(),Qv=(e,t,r)=>{try{t=new Yv(t,r)}catch{return!1}return t.test(e)};var Ei=Qv;const eE=yt(),tE=(e,t)=>new eE(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var rE=tE;const nE=Ze,iE=yt(),sE=(e,t,r)=>{let n=null,i=null,s=null;try{s=new iE(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new nE(n,r))}),n};var oE=sE;const aE=Ze,cE=yt(),uE=(e,t,r)=>{let n=null,i=null,s=null;try{s=new cE(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new aE(n,r))}),n};var lE=uE;const ki=Ze,fE=yt(),Ra=yi,dE=(e,t)=>{e=new fE(e,t);let r=new ki("0.0.0");if(e.test(r)||(r=new ki("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const i=e.set[n];let s=null;i.forEach(o=>{const f=new ki(o.semver.version);switch(o.operator){case">":f.prerelease.length===0?f.patch++:f.prerelease.push(0),f.raw=f.format();case"":case">=":(!s||Ra(f,s))&&(s=f);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||Ra(r,s))&&(r=s)}return r&&e.test(r)?r:null};var hE=dE;const mE=yt(),pE=(e,t)=>{try{return new mE(e,t).range||"*"}catch{return null}};var yE=pE;const vE=Ze,Hu=vi(),{ANY:EE}=Hu,gE=yt(),$E=Ei,Pa=yi,Ca=lo,_E=ho,SE=fo,wE=(e,t,r,n)=>{e=new vE(e,n),t=new gE(t,n);let i,s,o,f,c;switch(r){case">":i=Pa,s=_E,o=Ca,f=">",c=">=";break;case"<":i=Ca,s=SE,o=Pa,f="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if($E(e,t,n))return!1;for(let h=0;h<t.set.length;++h){const a=t.set[h];let d=null,E=null;if(a.forEach(m=>{m.semver===EE&&(m=new Hu(">=0.0.0")),d=d||m,E=E||m,i(m.semver,d.semver,n)?d=m:o(m.semver,E.semver,n)&&(E=m)}),d.operator===f||d.operator===c||(!E.operator||E.operator===f)&&s(e,E.semver))return!1;if(E.operator===c&&o(e,E.semver))return!1}return!0};var mo=wE;const NE=mo,IE=(e,t,r)=>NE(e,t,">",r);var OE=IE;const TE=mo,bE=(e,t,r)=>TE(e,t,"<",r);var DE=bE;const Aa=yt(),RE=(e,t,r)=>(e=new Aa(e,r),t=new Aa(t,r),e.intersects(t,r));var PE=RE;const CE=Ei,AE=pt;var LE=(e,t,r)=>{const n=[];let i=null,s=null;const o=e.sort((a,d)=>AE(a,d,r));for(const a of o)CE(a,t,r)?(s=a,i||(i=a)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const f=[];for(const[a,d]of n)a===d?f.push(a):!d&&a===o[0]?f.push("*"):d?a===o[0]?f.push(`<=${d}`):f.push(`${a} - ${d}`):f.push(`>=${a}`);const c=f.join(" || "),h=typeof t.raw=="string"?t.raw:String(t);return c.length<h.length?c:t};const La=yt(),po=vi(),{ANY:Mi}=po,en=Ei,yo=pt,FE=(e,t,r={})=>{if(e===t)return!0;e=new La(e,r),t=new La(t,r);let n=!1;e:for(const i of e.set){for(const s of t.set){const o=kE(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},jE=[new po(">=0.0.0-0")],Fa=[new po(">=0.0.0")],kE=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Mi){if(t.length===1&&t[0].semver===Mi)return!0;r.includePrerelease?e=jE:e=Fa}if(t.length===1&&t[0].semver===Mi){if(r.includePrerelease)return!0;t=Fa}const n=new Set;let i,s;for(const m of e)m.operator===">"||m.operator===">="?i=ja(i,m,r):m.operator==="<"||m.operator==="<="?s=ka(s,m,r):n.add(m.semver);if(n.size>1)return null;let o;if(i&&s){if(o=yo(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const m of n){if(i&&!en(m,String(i),r)||s&&!en(m,String(s),r))return null;for(const u of t)if(!en(m,String(u),r))return!1;return!0}let f,c,h,a,d=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,E=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const m of t){if(a=a||m.operator===">"||m.operator===">=",h=h||m.operator==="<"||m.operator==="<=",i){if(E&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===E.major&&m.semver.minor===E.minor&&m.semver.patch===E.patch&&(E=!1),m.operator===">"||m.operator===">="){if(f=ja(i,m,r),f===m&&f!==i)return!1}else if(i.operator===">="&&!en(i.semver,String(m),r))return!1}if(s){if(d&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===d.major&&m.semver.minor===d.minor&&m.semver.patch===d.patch&&(d=!1),m.operator==="<"||m.operator==="<="){if(c=ka(s,m,r),c===m&&c!==s)return!1}else if(s.operator==="<="&&!en(s.semver,String(m),r))return!1}if(!m.operator&&(s||i)&&o!==0)return!1}return!(i&&h&&!s&&o!==0||s&&a&&!i&&o!==0||E||d)},ja=(e,t,r)=>{if(!e)return t;const n=yo(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},ka=(e,t,r)=>{if(!e)return t;const n=yo(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var ME=FE;const Ui=wn,Ma=mi,UE=Ze,Ua=Uu,xE=Vr,VE=x0,zE=G0,GE=q0,HE=K0,qE=Z0,BE=Q0,KE=rv,WE=sv,XE=pt,ZE=uv,JE=dv,YE=uo,QE=yv,eg=gv,tg=yi,rg=lo,ng=xu,ig=Vu,sg=fo,og=ho,ag=zu,cg=zv,ug=vi(),lg=yt(),fg=Ei,dg=rE,hg=oE,mg=lE,pg=hE,yg=yE,vg=mo,Eg=OE,gg=DE,$g=PE,_g=LE,Sg=ME;var wg={parse:xE,valid:VE,clean:zE,inc:GE,diff:HE,major:qE,minor:BE,patch:KE,prerelease:WE,compare:XE,rcompare:ZE,compareLoose:JE,compareBuild:YE,sort:QE,rsort:eg,gt:tg,lt:rg,eq:ng,neq:ig,gte:sg,lte:og,cmp:ag,coerce:cg,Comparator:ug,Range:lg,satisfies:fg,toComparators:dg,maxSatisfying:hg,minSatisfying:mg,minVersion:pg,validRange:yg,outside:vg,gtr:Eg,ltr:gg,intersects:$g,simplifyRange:_g,subset:Sg,SemVer:UE,re:Ui.re,src:Ui.src,tokens:Ui.t,SEMVER_SPEC_VERSION:Ma.SEMVER_SPEC_VERSION,RELEASE_TYPES:Ma.RELEASE_TYPES,compareIdentifiers:Ua.compareIdentifiers,rcompareIdentifiers:Ua.rcompareIdentifiers},gi={exports:{}},vo={exports:{}};const qu=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};vo.exports=qu;vo.exports.default=qu;var Ng=vo.exports;const Ig=Ng,ii=new WeakMap,Bu=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0;const i=e.displayName||e.name||"<anonymous>",s=function(...o){if(ii.set(s,++n),n===1)r=e.apply(this,o),e=null;else if(t.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return Ig(s,e),ii.set(s,n),s};gi.exports=Bu;gi.exports.default=Bu;gi.exports.callCount=e=>{if(!ii.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return ii.get(e)};var Og=gi.exports;(function(e,t){var r=Gt&&Gt.__classPrivateFieldSet||function(G,R,F,O,w){if(O==="m")throw new TypeError("Private method is not writable");if(O==="a"&&!w)throw new TypeError("Private accessor was defined without a setter");if(typeof R=="function"?G!==R||!w:!R.has(G))throw new TypeError("Cannot write private member to an object whose class did not declare it");return O==="a"?w.call(G,F):w?w.value=F:R.set(G,F),F},n=Gt&&Gt.__classPrivateFieldGet||function(G,R,F,O){if(F==="a"&&!O)throw new TypeError("Private accessor was defined without a getter");if(typeof R=="function"?G!==R||!O:!R.has(G))throw new TypeError("Cannot read private member from an object whose class did not declare it");return F==="m"?O:F==="a"?O.call(G):O?O.value:R.get(G)},i,s,o,f,c,h;Object.defineProperty(t,"__esModule",{value:!0});const a=rs,d=jr,E=Ne,m=Ya,u=Ja,y=fl,v=Md,l=Xd,$=Qd,_=Tt,b=Lu,x=h0,T=N0,P=wg,U=Og,C="aes-256-cbc",V=()=>Object.create(null),B=G=>G!=null;let K="";try{delete require.cache[__filename],K=E.dirname((s=(i=e.parent)===null||i===void 0?void 0:i.filename)!==null&&s!==void 0?s:".")}catch{}const z=(G,R)=>{const F=new Set(["undefined","symbol","function"]),O=typeof R;if(F.has(O))throw new TypeError(`Setting a value of type \`${O}\` for key \`${G}\` is not allowed as it's not supported by JSON`)},M="__internal__",H=`${M}.migrations.version`;class q{constructor(R={}){var F;o.set(this,void 0),f.set(this,void 0),c.set(this,void 0),h.set(this,{}),this._deserialize=S=>JSON.parse(S),this._serialize=S=>JSON.stringify(S,void 0,"	");const O={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...R},w=U(()=>{const S=l.sync({cwd:K}),k=S&&JSON.parse(d.readFileSync(S,"utf8"));return k??{}});if(!O.cwd){if(O.projectName||(O.projectName=w().name),!O.projectName)throw new Error("Project name could not be inferred. Please specify the `projectName` option.");O.cwd=$(O.projectName,{suffix:O.projectSuffix}).config}if(r(this,c,O,"f"),O.schema){if(typeof O.schema!="object")throw new TypeError("The `schema` option must be an object.");const S=new b.default({allErrors:!0,useDefaults:!0});(0,x.default)(S);const k={type:"object",properties:O.schema};r(this,o,S.compile(k),"f");for(const[W,X]of Object.entries(O.schema))X?.default&&(n(this,h,"f")[W]=X.default)}O.defaults&&r(this,h,{...n(this,h,"f"),...O.defaults},"f"),O.serialize&&(this._serialize=O.serialize),O.deserialize&&(this._deserialize=O.deserialize),this.events=new y.EventEmitter,r(this,f,O.encryptionKey,"f");const A=O.fileExtension?`.${O.fileExtension}`:"";this.path=E.resolve(O.cwd,`${(F=O.configName)!==null&&F!==void 0?F:"config"}${A}`);const D=this.store,p=Object.assign(V(),O.defaults,D);this._validate(p);try{u.deepEqual(D,p)}catch{this.store=p}if(O.watch&&this._watch(),O.migrations){if(O.projectVersion||(O.projectVersion=w().version),!O.projectVersion)throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.");this._migrate(O.migrations,O.projectVersion,O.beforeEachMigration)}}get(R,F){if(n(this,c,"f").accessPropertiesByDotNotation)return this._get(R,F);const{store:O}=this;return R in O?O[R]:F}set(R,F){if(typeof R!="string"&&typeof R!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof R}`);if(typeof R!="object"&&F===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(R))throw new TypeError(`Please don't use the ${M} key, as it's used to manage this module internal operations.`);const{store:O}=this,w=(A,D)=>{z(A,D),n(this,c,"f").accessPropertiesByDotNotation?v.set(O,A,D):O[A]=D};if(typeof R=="object"){const A=R;for(const[D,p]of Object.entries(A))w(D,p)}else w(R,F);this.store=O}has(R){return n(this,c,"f").accessPropertiesByDotNotation?v.has(this.store,R):R in this.store}reset(...R){for(const F of R)B(n(this,h,"f")[F])&&this.set(F,n(this,h,"f")[F])}delete(R){const{store:F}=this;n(this,c,"f").accessPropertiesByDotNotation?v.delete(F,R):delete F[R],this.store=F}clear(){this.store=V();for(const R of Object.keys(n(this,h,"f")))this.reset(R)}onDidChange(R,F){if(typeof R!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof R}`);if(typeof F!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof F}`);return this._handleChange(()=>this.get(R),F)}onDidAnyChange(R){if(typeof R!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof R}`);return this._handleChange(()=>this.store,R)}get size(){return Object.keys(this.store).length}get store(){try{const R=d.readFileSync(this.path,n(this,f,"f")?null:"utf8"),F=this._encryptData(R),O=this._deserialize(F);return this._validate(O),Object.assign(V(),O)}catch(R){if(R?.code==="ENOENT")return this._ensureDirectory(),V();if(n(this,c,"f").clearInvalidConfig&&R.name==="SyntaxError")return V();throw R}}set store(R){this._ensureDirectory(),this._validate(R),this._write(R),this.events.emit("change")}*[(o=new WeakMap,f=new WeakMap,c=new WeakMap,h=new WeakMap,Symbol.iterator)](){for(const[R,F]of Object.entries(this.store))yield[R,F]}_encryptData(R){if(!n(this,f,"f"))return R.toString();try{if(n(this,f,"f"))try{if(R.slice(16,17).toString()===":"){const F=R.slice(0,16),O=m.pbkdf2Sync(n(this,f,"f"),F.toString(),1e4,32,"sha512"),w=m.createDecipheriv(C,O,F);R=Buffer.concat([w.update(Buffer.from(R.slice(17))),w.final()]).toString("utf8")}else{const F=m.createDecipher(C,n(this,f,"f"));R=Buffer.concat([F.update(Buffer.from(R)),F.final()]).toString("utf8")}}catch{}}catch{}return R.toString()}_handleChange(R,F){let O=R();const w=()=>{const A=O,D=R();(0,a.isDeepStrictEqual)(D,A)||(O=D,F.call(this,D,A))};return this.events.on("change",w),()=>this.events.removeListener("change",w)}_validate(R){if(!n(this,o,"f")||n(this,o,"f").call(this,R)||!n(this,o,"f").errors)return;const O=n(this,o,"f").errors.map(({instancePath:w,message:A=""})=>`\`${w.slice(1)}\` ${A}`);throw new Error("Config schema violation: "+O.join("; "))}_ensureDirectory(){d.mkdirSync(E.dirname(this.path),{recursive:!0})}_write(R){let F=this._serialize(R);if(n(this,f,"f")){const O=m.randomBytes(16),w=m.pbkdf2Sync(n(this,f,"f"),O.toString(),1e4,32,"sha512"),A=m.createCipheriv(C,w,O);F=Buffer.concat([O,Buffer.from(":"),A.update(Buffer.from(F)),A.final()])}if(process.env.SNAP)d.writeFileSync(this.path,F,{mode:n(this,c,"f").configFileMode});else try{_.writeFileSync(this.path,F,{mode:n(this,c,"f").configFileMode})}catch(O){if(O?.code==="EXDEV"){d.writeFileSync(this.path,F,{mode:n(this,c,"f").configFileMode});return}throw O}}_watch(){this._ensureDirectory(),d.existsSync(this.path)||this._write(V()),process.platform==="win32"?d.watch(this.path,{persistent:!1},T(()=>{this.events.emit("change")},{wait:100})):d.watchFile(this.path,{persistent:!1},T(()=>{this.events.emit("change")},{wait:5e3}))}_migrate(R,F,O){let w=this._get(H,"0.0.0");const A=Object.keys(R).filter(p=>this._shouldPerformMigration(p,w,F));let D={...this.store};for(const p of A)try{O&&O(this,{fromVersion:w,toVersion:p,finalVersion:F,versions:A});const S=R[p];S(this),this._set(H,p),w=p,D={...this.store}}catch(S){throw this.store=D,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${S}`)}(this._isVersionInRangeFormat(w)||!P.eq(w,F))&&this._set(H,F)}_containsReservedKey(R){return typeof R=="object"&&Object.keys(R)[0]===M?!0:typeof R!="string"?!1:n(this,c,"f").accessPropertiesByDotNotation?!!R.startsWith(`${M}.`):!1}_isVersionInRangeFormat(R){return P.clean(R)===null}_shouldPerformMigration(R,F,O){return this._isVersionInRangeFormat(R)?F!=="0.0.0"&&P.satisfies(F,R)?!1:P.satisfies(O,R):!(P.lte(R,F)||P.gt(R,O))}_get(R,F){return v.get(this.store,R,F)}_set(R,F){const{store:O}=this;v.set(O,R,F),this.store=O}}t.default=q,e.exports=q,e.exports.default=q})(Hi,Hi.exports);var Tg=Hi.exports;const xa=Ne,{app:Xn,ipcMain:ts,ipcRenderer:Va,shell:bg}=ae,Dg=Tg;let za=!1;const Ga=()=>{if(!ts||!Xn)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:Xn.getPath("userData"),appVersion:Xn.getVersion()};return za||(ts.on("electron-store-get-data",t=>{t.returnValue=e}),za=!0),e};class Rg extends Dg{constructor(t){let r,n;if(Va){const i=Va.sendSync("electron-store-get-data");if(!i)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=i)}else ts&&Xn&&({defaultCwd:r,appVersion:n}=Ga());t={name:"config",...t},t.projectVersion||(t.projectVersion=n),t.cwd?t.cwd=xa.isAbsolute(t.cwd)?t.cwd:xa.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){Ga()}openInEditor(){bg.openPath(this.path)}}var Pg=Rg;const Ha=ec(Pg);var Nn={exports:{}},Eo={},Cg=Eo.require=function(){if(typeof process=="object"&&process.versions&&process.versions.electron)try{const e=Cg("original-fs");if(Object.keys(e).length>0)return e}catch{}return jr},Ku={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24},Wu={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed",FILE_IN_THE_WAY:"There is a file in the way: %s",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:"File not found: %s",NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found"};const Ag=Eo.require(),Be=Ne,qa=Ku,Lg=Wu,Fg=typeof process=="object"&&process.platform==="win32",Ba=e=>e&&typeof e=="object",go=new Uint32Array(256).map((e,t)=>{for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t>>>=1;return t>>>0});function Ue(e){this.sep=Be.sep,this.fs=Ag,Ba(e)&&Ba(e.fs)&&typeof e.fs.statSync=="function"&&(this.fs=e.fs)}var jg=Ue;Ue.prototype.makeDir=function(e){const t=this;function r(n){let i=n.split(t.sep)[0];n.split(t.sep).forEach(function(s){if(!(!s||s.substr(-1,1)===":")){i+=t.sep+s;var o;try{o=t.fs.statSync(i)}catch{t.fs.mkdirSync(i)}if(o&&o.isFile())throw Lg.FILE_IN_THE_WAY.replace("%s",i)}})}r(e)};Ue.prototype.writeFileTo=function(e,t,r,n){const i=this;if(i.fs.existsSync(e)){if(!r)return!1;var s=i.fs.statSync(e);if(s.isDirectory())return!1}var o=Be.dirname(e);i.fs.existsSync(o)||i.makeDir(o);var f;try{f=i.fs.openSync(e,"w",438)}catch{i.fs.chmodSync(e,438),f=i.fs.openSync(e,"w",438)}if(f)try{i.fs.writeSync(f,t,0,t.length,0)}finally{i.fs.closeSync(f)}return i.fs.chmodSync(e,n||438),!0};Ue.prototype.writeFileToAsync=function(e,t,r,n,i){typeof n=="function"&&(i=n,n=void 0);const s=this;s.fs.exists(e,function(o){if(o&&!r)return i(!1);s.fs.stat(e,function(f,c){if(o&&c.isDirectory())return i(!1);var h=Be.dirname(e);s.fs.exists(h,function(a){a||s.makeDir(h),s.fs.open(e,"w",438,function(d,E){d?s.fs.chmod(e,438,function(){s.fs.open(e,"w",438,function(m,u){s.fs.write(u,t,0,t.length,0,function(){s.fs.close(u,function(){s.fs.chmod(e,n||438,function(){i(!0)})})})})}):E?s.fs.write(E,t,0,t.length,0,function(){s.fs.close(E,function(){s.fs.chmod(e,n||438,function(){i(!0)})})}):s.fs.chmod(e,n||438,function(){i(!0)})})})})})};Ue.prototype.findFiles=function(e){const t=this;function r(n,i,s){typeof i=="boolean"&&(s=i,i=void 0);let o=[];return t.fs.readdirSync(n).forEach(function(f){var c=Be.join(n,f);t.fs.statSync(c).isDirectory()&&s&&(o=o.concat(r(c,i,s))),(!i||i.test(c))&&o.push(Be.normalize(c)+(t.fs.statSync(c).isDirectory()?t.sep:""))}),o}return r(e,void 0,!0)};Ue.prototype.getAttributes=function(){};Ue.prototype.setAttributes=function(){};Ue.crc32update=function(e,t){return go[(e^t)&255]^e>>>8};Ue.crc32=function(e){typeof e=="string"&&(e=Buffer.from(e,"utf8")),go.length||genCRCTable();let t=e.length,r=-1;for(let n=0;n<t;)r=Ue.crc32update(r,e[n++]);return~r>>>0};Ue.methodToString=function(e){switch(e){case qa.STORED:return"STORED ("+e+")";case qa.DEFLATED:return"DEFLATED ("+e+")";default:return"UNSUPPORTED ("+e+")"}};Ue.canonical=function(e){if(!e)return"";var t=Be.posix.normalize("/"+e.split("\\").join("/"));return Be.join(".",t)};Ue.sanitize=function(e,t){e=Be.resolve(Be.normalize(e));for(var r=t.split("/"),n=0,i=r.length;n<i;n++){var s=Be.normalize(Be.join(e,r.slice(n,i).join(Be.sep)));if(s.indexOf(e)===0)return s}return Be.normalize(Be.join(e,Be.basename(t)))};Ue.toBuffer=function(t){return Buffer.isBuffer(t)?t:t instanceof Uint8Array?Buffer.from(t):typeof t=="string"?Buffer.from(t,"utf8"):Buffer.alloc(0)};Ue.readBigUInt64LE=function(e,t){var r=Buffer.from(e.slice(t,t+8));return r.swap64(),parseInt(`0x${r.toString("hex")}`)};Ue.isWin=Fg;Ue.crcTable=go;const si=Eo.require(),Xu=Ne;si.existsSync=si.existsSync||Xu.existsSync;var kg=function(e){var t=e||"",r=i(),n=null;function i(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return t&&si.existsSync(t)?(n=si.statSync(t),r.directory=n.isDirectory(),r.mtime=n.mtime,r.atime=n.atime,r.executable=(73&n.mode)!==0,r.readonly=(128&n.mode)===0,r.hidden=Xu.basename(t)[0]==="."):console.warn("Invalid path: "+t),{get directory(){return r.directory},get readOnly(){return r.readonly},get hidden(){return r.hidden},get mtime(){return r.mtime},get atime(){return r.atime},get executable(){return r.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:t,isDirectory:r.directory,isReadOnly:r.readonly,isHidden:r.hidden,isExecutable:r.executable,mTime:r.mtime,aTime:r.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}};Nn.exports=jg;Nn.exports.Constants=Ku;Nn.exports.Errors=Wu;Nn.exports.FileAttr=kg;var In=Nn.exports,$i={},rn=In,Z=rn.Constants,Mg=function(){var e=20,t=10,r=0,n=0,i=0,s=0,o=0,f=0,c=0,h=0,a=0,d=0,E=0,m=0,u=0;e|=rn.isWin?2560:768,r|=Z.FLG_EFS;var y={};function v(l){l=new Date(l),i=(l.getFullYear()-1980&127)<<25|l.getMonth()+1<<21|l.getDate()<<16|l.getHours()<<11|l.getMinutes()<<5|l.getSeconds()>>1}return v(+new Date),{get made(){return e},set made(l){e=l},get version(){return t},set version(l){t=l},get flags(){return r},set flags(l){r=l},get method(){return n},set method(l){switch(l){case Z.STORED:this.version=10;case Z.DEFLATED:default:this.version=20}n=l},get time(){return new Date((i>>25&127)+1980,(i>>21&15)-1,i>>16&31,i>>11&31,i>>5&63,(i&31)<<1)},set time(l){v(l)},get crc(){return s},set crc(l){s=Math.max(0,l)>>>0},get compressedSize(){return o},set compressedSize(l){o=Math.max(0,l)>>>0},get size(){return f},set size(l){f=Math.max(0,l)>>>0},get fileNameLength(){return c},set fileNameLength(l){c=l},get extraLength(){return h},set extraLength(l){h=l},get commentLength(){return a},set commentLength(l){a=l},get diskNumStart(){return d},set diskNumStart(l){d=Math.max(0,l)>>>0},get inAttr(){return E},set inAttr(l){E=Math.max(0,l)>>>0},get attr(){return m},set attr(l){m=Math.max(0,l)>>>0},get fileAttr(){return m?(m>>>0|0)>>16&4095:0},get offset(){return u},set offset(l){u=Math.max(0,l)>>>0},get encripted(){return(r&1)===1},get entryHeaderSize(){return Z.CENHDR+c+h+a},get realDataOffset(){return u+Z.LOCHDR+y.fnameLen+y.extraLen},get dataHeader(){return y},loadDataHeaderFromBinary:function(l){var $=l.slice(u,u+Z.LOCHDR);if($.readUInt32LE(0)!==Z.LOCSIG)throw new Error(rn.Errors.INVALID_LOC);y={version:$.readUInt16LE(Z.LOCVER),flags:$.readUInt16LE(Z.LOCFLG),method:$.readUInt16LE(Z.LOCHOW),time:$.readUInt32LE(Z.LOCTIM),crc:$.readUInt32LE(Z.LOCCRC),compressedSize:$.readUInt32LE(Z.LOCSIZ),size:$.readUInt32LE(Z.LOCLEN),fnameLen:$.readUInt16LE(Z.LOCNAM),extraLen:$.readUInt16LE(Z.LOCEXT)}},loadFromBinary:function(l){if(l.length!==Z.CENHDR||l.readUInt32LE(0)!==Z.CENSIG)throw new Error(rn.Errors.INVALID_CEN);e=l.readUInt16LE(Z.CENVEM),t=l.readUInt16LE(Z.CENVER),r=l.readUInt16LE(Z.CENFLG),n=l.readUInt16LE(Z.CENHOW),i=l.readUInt32LE(Z.CENTIM),s=l.readUInt32LE(Z.CENCRC),o=l.readUInt32LE(Z.CENSIZ),f=l.readUInt32LE(Z.CENLEN),c=l.readUInt16LE(Z.CENNAM),h=l.readUInt16LE(Z.CENEXT),a=l.readUInt16LE(Z.CENCOM),d=l.readUInt16LE(Z.CENDSK),E=l.readUInt16LE(Z.CENATT),m=l.readUInt32LE(Z.CENATX),u=l.readUInt32LE(Z.CENOFF)},dataHeaderToBinary:function(){var l=Buffer.alloc(Z.LOCHDR);return l.writeUInt32LE(Z.LOCSIG,0),l.writeUInt16LE(t,Z.LOCVER),l.writeUInt16LE(r,Z.LOCFLG),l.writeUInt16LE(n,Z.LOCHOW),l.writeUInt32LE(i,Z.LOCTIM),l.writeUInt32LE(s,Z.LOCCRC),l.writeUInt32LE(o,Z.LOCSIZ),l.writeUInt32LE(f,Z.LOCLEN),l.writeUInt16LE(c,Z.LOCNAM),l.writeUInt16LE(h,Z.LOCEXT),l},entryHeaderToBinary:function(){var l=Buffer.alloc(Z.CENHDR+c+h+a);return l.writeUInt32LE(Z.CENSIG,0),l.writeUInt16LE(e,Z.CENVEM),l.writeUInt16LE(t,Z.CENVER),l.writeUInt16LE(r,Z.CENFLG),l.writeUInt16LE(n,Z.CENHOW),l.writeUInt32LE(i,Z.CENTIM),l.writeUInt32LE(s,Z.CENCRC),l.writeUInt32LE(o,Z.CENSIZ),l.writeUInt32LE(f,Z.CENLEN),l.writeUInt16LE(c,Z.CENNAM),l.writeUInt16LE(h,Z.CENEXT),l.writeUInt16LE(a,Z.CENCOM),l.writeUInt16LE(d,Z.CENDSK),l.writeUInt16LE(E,Z.CENATT),l.writeUInt32LE(m,Z.CENATX),l.writeUInt32LE(u,Z.CENOFF),l.fill(0,Z.CENHDR),l},toJSON:function(){const l=function($){return $+" bytes"};return{made:e,version:t,flags:r,method:rn.methodToString(n),time:this.time,crc:"0x"+s.toString(16).toUpperCase(),compressedSize:l(o),size:l(f),fileNameLength:l(c),extraLength:l(h),commentLength:l(a),diskNumStart:d,inAttr:E,attr:m,offset:u,entryHeaderSize:l(Z.CENHDR+c+h+a)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}},Ir=In,$e=Ir.Constants,Ug=function(){var e=0,t=0,r=0,n=0,i=0;return{get diskEntries(){return e},set diskEntries(s){e=t=s},get totalEntries(){return t},set totalEntries(s){t=e=s},get size(){return r},set size(s){r=s},get offset(){return n},set offset(s){n=s},get commentLength(){return i},set commentLength(s){i=s},get mainHeaderSize(){return $e.ENDHDR+i},loadFromBinary:function(s){if((s.length!==$e.ENDHDR||s.readUInt32LE(0)!==$e.ENDSIG)&&(s.length<$e.ZIP64HDR||s.readUInt32LE(0)!==$e.ZIP64SIG))throw new Error(Ir.Errors.INVALID_END);s.readUInt32LE(0)===$e.ENDSIG?(e=s.readUInt16LE($e.ENDSUB),t=s.readUInt16LE($e.ENDTOT),r=s.readUInt32LE($e.ENDSIZ),n=s.readUInt32LE($e.ENDOFF),i=s.readUInt16LE($e.ENDCOM)):(e=Ir.readBigUInt64LE(s,$e.ZIP64SUB),t=Ir.readBigUInt64LE(s,$e.ZIP64TOT),r=Ir.readBigUInt64LE(s,$e.ZIP64SIZE),n=Ir.readBigUInt64LE(s,$e.ZIP64OFF),i=0)},toBinary:function(){var s=Buffer.alloc($e.ENDHDR+i);return s.writeUInt32LE($e.ENDSIG,0),s.writeUInt32LE(0,4),s.writeUInt16LE(e,$e.ENDSUB),s.writeUInt16LE(t,$e.ENDTOT),s.writeUInt32LE(r,$e.ENDSIZ),s.writeUInt32LE(n,$e.ENDOFF),s.writeUInt16LE(i,$e.ENDCOM),s.fill(" ",$e.ENDHDR),s},toJSON:function(){const s=function(o,f){let c=o.toString(16).toUpperCase();for(;c.length<f;)c="0"+c;return"0x"+c};return{diskEntries:e,totalEntries:t,size:r+" bytes",offset:s(n,4),commentLength:i}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}};$i.EntryHeader=Mg;$i.MainHeader=Ug;var _i={},xg=function(e){var t=Qa,r={chunkSize:(parseInt(e.length/1024)+1)*1024};return{deflate:function(){return t.deflateRawSync(e,r)},deflateAsync:function(n){var i=t.createDeflateRaw(r),s=[],o=0;i.on("data",function(f){s.push(f),o+=f.length}),i.on("end",function(){var f=Buffer.alloc(o),c=0;f.fill(0);for(var h=0;h<s.length;h++){var a=s[h];a.copy(f,c),c+=a.length}n&&n(f)}),i.end(e)}}},Vg=function(e){var t=Qa;return{inflate:function(){return t.inflateRawSync(e)},inflateAsync:function(r){var n=t.createInflateRaw(),i=[],s=0;n.on("data",function(o){i.push(o),s+=o.length}),n.on("end",function(){var o=Buffer.alloc(s),f=0;o.fill(0);for(var c=0;c<i.length;c++){var h=i[c];h.copy(o,f),f+=h.length}r&&r(o)}),n.end(e)}}};const{randomFillSync:Ka}=Ya,zg=new Uint32Array(256).map((e,t)=>{for(let r=0;r<8;r++)t&1?t=t>>>1^3988292384:t>>>=1;return t>>>0}),Zu=(e,t)=>Math.imul(e,t)>>>0,Wa=(e,t)=>zg[(e^t)&255]^e>>>8,yn=()=>typeof Ka=="function"?Ka(Buffer.alloc(12)):yn.node();yn.node=()=>{const e=Buffer.alloc(12),t=e.length;for(let r=0;r<t;r++)e[r]=Math.random()*256&255;return e};const Zn={genSalt:yn};function Si(e){const t=Buffer.isBuffer(e)?e:Buffer.from(e);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let r=0;r<t.length;r++)this.updateKeys(t[r])}Si.prototype.updateKeys=function(e){const t=this.keys;return t[0]=Wa(t[0],e),t[1]+=t[0]&255,t[1]=Zu(t[1],134775813)+1,t[2]=Wa(t[2],t[1]>>>24),e};Si.prototype.next=function(){const e=(this.keys[2]|2)>>>0;return Zu(e,e^1)>>8&255};function Gg(e){const t=new Si(e);return function(r){const n=Buffer.alloc(r.length);let i=0;for(let s of r)n[i++]=t.updateKeys(s^t.next());return n}}function Hg(e){const t=new Si(e);return function(r,n,i=0){n||(n=Buffer.alloc(r.length));for(let s of r){const o=t.next();n[i++]=s^o,t.updateKeys(s)}return n}}function qg(e,t,r){if(!e||!Buffer.isBuffer(e)||e.length<12)return Buffer.alloc(0);const n=Gg(r);if(n(e.slice(0,12))[11]!==t.crc>>>24)throw"ADM-ZIP: Wrong Password";return n(e.slice(12))}function Bg(e){Buffer.isBuffer(e)&&e.length>=12?Zn.genSalt=function(){return e.slice(0,12)}:e==="node"?Zn.genSalt=yn.node:Zn.genSalt=yn}function Kg(e,t,r,n=!1){e==null&&(e=Buffer.alloc(0)),Buffer.isBuffer(e)||(e=Buffer.from(e.toString()));const i=Hg(r),s=Zn.genSalt();s[11]=t.crc>>>24&255,n&&(s[10]=t.crc>>>16&255);const o=Buffer.alloc(e.length+12);return i(s,o),i(e,o,12)}var Wg={decrypt:qg,encrypt:Kg,_salter:Bg};_i.Deflater=xg;_i.Inflater=Vg;_i.ZipCrypto=Wg;var De=In,Xg=$i,rt=De.Constants,xi=_i,Ju=function(e){var t=new Xg.EntryHeader,r=Buffer.alloc(0),n=Buffer.alloc(0),i=!1,s=null,o=Buffer.alloc(0);function f(){return!e||!Buffer.isBuffer(e)?Buffer.alloc(0):(t.loadDataHeaderFromBinary(e),e.slice(t.realDataOffset,t.realDataOffset+t.compressedSize))}function c(u){return!((t.flags&8)!==8&&De.crc32(u)!==t.dataHeader.crc)}function h(u,y,v){if(typeof y>"u"&&typeof u=="string"&&(v=u,u=void 0),i)return u&&y&&y(Buffer.alloc(0),De.Errors.DIRECTORY_CONTENT_ERROR),Buffer.alloc(0);var l=f();if(l.length===0)return u&&y&&y(l),l;if(t.encripted){if(typeof v!="string"&&!Buffer.isBuffer(v))throw new Error("ADM-ZIP: Incompatible password parameter");l=xi.ZipCrypto.decrypt(l,t,v)}var $=Buffer.alloc(t.size);switch(t.method){case De.Constants.STORED:if(l.copy($),c($))return u&&y&&y($),$;throw u&&y&&y($,De.Errors.BAD_CRC),new Error(De.Errors.BAD_CRC);case De.Constants.DEFLATED:var _=new xi.Inflater(l);if(u)_.inflateAsync(function(b){b.copy(b,0),y&&(c(b)?y(b):y(b,De.Errors.BAD_CRC))});else{if(_.inflate($).copy($,0),!c($))throw new Error(De.Errors.BAD_CRC+" "+r.toString());return $}break;default:throw u&&y&&y(Buffer.alloc(0),De.Errors.UNKNOWN_METHOD),new Error(De.Errors.UNKNOWN_METHOD)}}function a(u,y){if((!s||!s.length)&&Buffer.isBuffer(e))return u&&y&&y(f()),f();if(s.length&&!i){var v;switch(t.method){case De.Constants.STORED:return t.compressedSize=t.size,v=Buffer.alloc(s.length),s.copy(v),u&&y&&y(v),v;default:case De.Constants.DEFLATED:var l=new xi.Deflater(s);if(u)l.deflateAsync(function(_){v=Buffer.alloc(_.length),t.compressedSize=_.length,_.copy(v),y&&y(v)});else{var $=l.deflate();return t.compressedSize=$.length,$}l=null;break}}else if(u&&y)y(Buffer.alloc(0));else return Buffer.alloc(0)}function d(u,y){return(u.readUInt32LE(y+4)<<4)+u.readUInt32LE(y)}function E(u){for(var y=0,v,l,$;y<u.length;)v=u.readUInt16LE(y),y+=2,l=u.readUInt16LE(y),y+=2,$=u.slice(y,y+l),y+=l,rt.ID_ZIP64===v&&m($)}function m(u){var y,v,l,$;u.length>=rt.EF_ZIP64_SCOMP&&(y=d(u,rt.EF_ZIP64_SUNCOMP),t.size===rt.EF_ZIP64_OR_32&&(t.size=y)),u.length>=rt.EF_ZIP64_RHO&&(v=d(u,rt.EF_ZIP64_SCOMP),t.compressedSize===rt.EF_ZIP64_OR_32&&(t.compressedSize=v)),u.length>=rt.EF_ZIP64_DSN&&(l=d(u,rt.EF_ZIP64_RHO),t.offset===rt.EF_ZIP64_OR_32&&(t.offset=l)),u.length>=rt.EF_ZIP64_DSN+4&&($=u.readUInt32LE(rt.EF_ZIP64_DSN),t.diskNumStart===rt.EF_ZIP64_OR_16&&(t.diskNumStart=$))}return{get entryName(){return r.toString()},get rawEntryName(){return r},set entryName(u){r=De.toBuffer(u);var y=r[r.length-1];i=y===47||y===92,t.fileNameLength=r.length},get extra(){return o},set extra(u){o=u,t.extraLength=u.length,E(u)},get comment(){return n.toString()},set comment(u){n=De.toBuffer(u),t.commentLength=n.length},get name(){var u=r.toString();return i?u.substr(u.length-1).split("/").pop():u.split("/").pop()},get isDirectory(){return i},getCompressedData:function(){return a(!1,null)},getCompressedDataAsync:function(u){a(!0,u)},setData:function(u){s=De.toBuffer(u),!i&&s.length?(t.size=s.length,t.method=De.Constants.DEFLATED,t.crc=De.crc32(u),t.changed=!0):t.method=De.Constants.STORED},getData:function(u){return t.changed?s:h(!1,null,u)},getDataAsync:function(u,y){t.changed?u(s):h(!0,u,y)},set attr(u){t.attr=u},get attr(){return t.attr},set header(u){t.loadFromBinary(u)},get header(){return t},packHeader:function(){var u=t.entryHeaderToBinary(),y=De.Constants.CENHDR;return r.copy(u,y),y+=r.length,t.extraLength&&(o.copy(u,y),y+=t.extraLength),t.commentLength&&n.copy(u,y),u},toJSON:function(){const u=function(y){return"<"+(y&&y.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:t.toJSON(),compressedData:u(e),data:u(s)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}};const Xa=Ju,Zg=$i,Ve=In;var Jg=function(e,t){var r=[],n={},i=Buffer.alloc(0),s=new Zg.MainHeader,o=!1;const f=Object.assign(Object.create(null),t),{noSort:c}=f;e?d(f.readEntries):o=!0;function h(m){const u=s.diskEntries;let y=s.offset;for(let v=0;v<u;v++){let l=y;const $=new Xa(e);$.header=e.slice(l,l+=Ve.Constants.CENHDR),$.entryName=e.slice(l,l+=$.header.fileNameLength),y+=$.header.entryHeaderSize,m($)}}function a(){o=!0,n={},r=new Array(s.diskEntries);for(var m=s.offset,u=0;u<r.length;u++){var y=m,v=new Xa(e);v.header=e.slice(y,y+=Ve.Constants.CENHDR),v.entryName=e.slice(y,y+=v.header.fileNameLength),v.header.extraLength&&(v.extra=e.slice(y,y+=v.header.extraLength)),v.header.commentLength&&(v.comment=e.slice(y,y+v.header.commentLength)),m+=v.header.entryHeaderSize,r[u]=v,n[v.entryName]=v}}function d(m){var u=e.length-Ve.Constants.ENDHDR,y=Math.max(0,u-65535),v=y,l=e.length,$=-1,_=0;for(u;u>=v;u--)if(e[u]===80){if(e.readUInt32LE(u)===Ve.Constants.ENDSIG){$=u,_=u,l=u+Ve.Constants.ENDHDR,v=u-Ve.Constants.END64HDR;continue}if(e.readUInt32LE(u)===Ve.Constants.END64SIG){v=y;continue}if(e.readUInt32LE(u)===Ve.Constants.ZIP64SIG){$=u,l=u+Ve.readBigUInt64LE(e,u+Ve.Constants.ZIP64SIZE)+Ve.Constants.ZIP64LEAD;break}}if(!~$)throw new Error(Ve.Errors.INVALID_FORMAT);s.loadFromBinary(e.slice($,l)),s.commentLength&&(i=e.slice(_+Ve.Constants.ENDHDR)),m&&a()}function E(){r.length>1&&!c&&r.sort((m,u)=>m.entryName.toLowerCase().localeCompare(u.entryName.toLowerCase()))}return{get entries(){return o||a(),r},get comment(){return i.toString()},set comment(m){i=Ve.toBuffer(m),s.commentLength=i.length},getEntryCount:function(){return o?r.length:s.diskEntries},forEach:function(m){if(!o){h(m);return}r.forEach(m)},getEntry:function(m){return o||a(),n[m]||null},setEntry:function(m){o||a(),r.push(m),n[m.entryName]=m,s.totalEntries=r.length},deleteEntry:function(m){o||a();var u=n[m];if(u&&u.isDirectory){var y=this;this.getEntryChildren(u).forEach(function(v){v.entryName!==m&&y.deleteEntry(v.entryName)})}r.splice(r.indexOf(u),1),delete n[m],s.totalEntries=r.length},getEntryChildren:function(m){if(o||a(),m&&m.isDirectory){const u=[],y=m.entryName,v=y.length;return r.forEach(function(l){l.entryName.substr(0,v)===y&&u.push(l)}),u}return[]},compressToBuffer:function(){o||a(),E();const m=[],u=[];let y=0,v=0;s.size=0,s.offset=0;for(const _ of r){const b=_.getCompressedData();_.header.offset=v;const x=_.header.dataHeaderToBinary(),T=_.rawEntryName.length,P=Buffer.alloc(T+_.extra.length);_.rawEntryName.copy(P,0),P.copy(_.extra,T);const U=x.length+P.length+b.length;v+=U,m.push(x),m.push(P),m.push(b);const C=_.packHeader();u.push(C),s.size+=C.length,y+=U+C.length}y+=s.mainHeaderSize,s.offset=v,v=0;const l=Buffer.alloc(y);for(const _ of m)_.copy(l,v),v+=_.length;for(const _ of u)_.copy(l,v),v+=_.length;const $=s.toBinary();return i&&i.copy($,Ve.Constants.ENDHDR),$.copy(l,v),l},toAsyncBuffer:function(m,u,y,v){try{o||a(),E();const l=[],$=[];let _=0,b=0;s.size=0,s.offset=0;const x=function(T){if(T.length){const P=T.pop(),U=P.entryName+P.extra.toString();y&&y(U),P.getCompressedDataAsync(function(C){v&&v(U),P.header.offset=b;const V=P.header.dataHeaderToBinary(),B=Buffer.alloc(U.length,U),K=V.length+B.length+C.length;b+=K,l.push(V),l.push(B),l.push(C);const z=P.packHeader();$.push(z),s.size+=z.length,_+=K+z.length,x(T)})}else{_+=s.mainHeaderSize,s.offset=b,b=0;const P=Buffer.alloc(_);l.forEach(function(C){C.copy(P,b),b+=C.length}),$.forEach(function(C){C.copy(P,b),b+=C.length});const U=s.toBinary();i&&i.copy(U,Ve.Constants.ENDHDR),U.copy(P,b),m(P)}};x(r)}catch(l){u(l)}}}};const Ce=In,wt=Ne,Yg=Ju,Qg=Jg,tr=(e,t)=>typeof e=="boolean"?e:t,Vi=(e,t)=>typeof e=="string"?e:t,e$={noSort:!1,readEntries:!1,method:Ce.Constants.NONE,fs:null};var t$=function(e,t){let r=null;const n=Object.assign(Object.create(null),e$);e&&typeof e=="object"&&(e instanceof Uint8Array||(Object.assign(n,e),e=n.input?n.input:void 0,n.input&&delete n.input),Buffer.isBuffer(e)&&(r=e,n.method=Ce.Constants.BUFFER,e=void 0)),Object.assign(n,t);const i=new Ce(n);if(e&&typeof e=="string")if(i.fs.existsSync(e))n.method=Ce.Constants.FILE,n.filename=e,r=i.fs.readFileSync(e);else throw new Error(Ce.Errors.INVALID_FILENAME);const s=new Qg(r,n),{canonical:o,sanitize:f}=Ce;function c(a){if(a&&s){var d;if(typeof a=="string"&&(d=s.getEntry(a)),typeof a=="object"&&typeof a.entryName<"u"&&typeof a.header<"u"&&(d=s.getEntry(a.entryName)),d)return d}return null}function h(a){const{join:d,normalize:E,sep:m}=wt.posix;return d(".",E(m+a.split("\\").join(m)+m))}return{readFile:function(a,d){var E=c(a);return E&&E.getData(d)||null},readFileAsync:function(a,d){var E=c(a);E?E.getDataAsync(d):d(null,"getEntry failed for:"+a)},readAsText:function(a,d){var E=c(a);if(E){var m=E.getData();if(m&&m.length)return m.toString(d||"utf8")}return""},readAsTextAsync:function(a,d,E){var m=c(a);m?m.getDataAsync(function(u,y){if(y){d(u,y);return}u&&u.length?d(u.toString(E||"utf8")):d("")}):d("")},deleteFile:function(a){var d=c(a);d&&s.deleteEntry(d.entryName)},addZipComment:function(a){s.comment=a},getZipComment:function(){return s.comment||""},addZipEntryComment:function(a,d){var E=c(a);E&&(E.comment=d)},getZipEntryComment:function(a){var d=c(a);return d&&d.comment||""},updateFile:function(a,d){var E=c(a);E&&E.setData(d)},addLocalFile:function(a,d,E,m){if(i.fs.existsSync(a)){d=d?h(d):"";var u=a.split("\\").join("/").split("/").pop();d+=E||u;const y=i.fs.statSync(a);this.addFile(d,i.fs.readFileSync(a),m,y)}else throw new Error(Ce.Errors.FILE_NOT_FOUND.replace("%s",a))},addLocalFolder:function(a,d,E,m){if(E instanceof RegExp?E=function(u){return function(y){return u.test(y)}}(E):typeof E!="function"&&(E=function(){return!0}),d=d?h(d):"",a=wt.normalize(a),i.fs.existsSync(a)){const u=i.findFiles(a),y=this;u.length&&u.forEach(function(v){var l=wt.relative(a,v).split("\\").join("/");if(E(l)){var $=i.fs.statSync(v);$.isFile()?y.addFile(d+l,i.fs.readFileSync(v),"",m||$):y.addFile(d+l+"/",Buffer.alloc(0),"",m||$)}})}else throw new Error(Ce.Errors.FILE_NOT_FOUND.replace("%s",a))},addLocalFolderAsync:function(a,d,E,m){m instanceof RegExp?m=function(y){return function(v){return y.test(v)}}(m):typeof m!="function"&&(m=function(){return!0}),E=E?h(E):"",a=wt.normalize(a);var u=this;i.fs.open(a,"r",function(y){if(y&&y.code==="ENOENT")d(void 0,Ce.Errors.FILE_NOT_FOUND.replace("%s",a));else if(y)d(void 0,y);else{var v=i.findFiles(a),l=-1,$=function(){if(l+=1,l<v.length){var _=v[l],b=wt.relative(a,_).split("\\").join("/");b=b.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),m(b)?i.fs.stat(_,function(x,T){x&&d(void 0,x),T.isFile()?i.fs.readFile(_,function(P,U){P?d(void 0,P):(u.addFile(E+b,U,"",T),$())}):(u.addFile(E+b+"/",Buffer.alloc(0),"",T),$())}):process.nextTick(()=>{$()})}else d(!0,void 0)};$()}})},addLocalFolderPromise:function(a,d){return new Promise((E,m)=>{const{filter:u,zipPath:y}=Object.assign({},d);this.addLocalFolderAsync(a,(v,l)=>{l&&m(l),v&&E(this)},y,u)})},addFile:function(a,d,E,m){let u=c(a);const y=u!=null;y||(u=new Yg,u.entryName=a),u.comment=E||"";const v=typeof m=="object"&&m instanceof i.fs.Stats;v&&(u.header.time=m.mtime);var l=u.isDirectory?16:0;let $=u.isDirectory?16384:32768;v?$|=4095&m.mode:typeof m=="number"?$|=4095&m:$|=u.isDirectory?493:420,l=(l|$<<16)>>>0,u.attr=l,u.setData(d),y||s.setEntry(u)},getEntries:function(){return s?s.entries:[]},getEntry:function(a){return c(a)},getEntryCount:function(){return s.getEntryCount()},forEach:function(a){return s.forEach(a)},extractEntryTo:function(a,d,E,m,u,y){m=tr(m,!1),u=tr(u,!1),E=tr(E,!0),y=Vi(y,Vi(u,void 0));var v=c(a);if(!v)throw new Error(Ce.Errors.NO_ENTRY);var l=o(v.entryName),$=f(d,y&&!v.isDirectory?y:E?l:wt.basename(l));if(v.isDirectory){var _=s.getEntryChildren(v);return _.forEach(function(T){if(T.isDirectory)return;var P=T.getData();if(!P)throw new Error(Ce.Errors.CANT_EXTRACT_FILE);var U=o(T.entryName),C=f(d,E?U:wt.basename(U));const V=u?T.header.fileAttr:void 0;i.writeFileTo(C,P,m,V)}),!0}var b=v.getData();if(!b)throw new Error(Ce.Errors.CANT_EXTRACT_FILE);if(i.fs.existsSync($)&&!m)throw new Error(Ce.Errors.CANT_OVERRIDE);const x=u?a.header.fileAttr:void 0;return i.writeFileTo($,b,m,x),!0},test:function(a){if(!s)return!1;for(var d in s.entries)try{if(d.isDirectory)continue;var E=s.entries[d].getData(a);if(!E)return!1}catch{return!1}return!0},extractAllTo:function(a,d,E,m){if(d=tr(d,!1),m=Vi(E,m),E=tr(E,!1),!s)throw new Error(Ce.Errors.NO_ZIP);s.entries.forEach(function(u){var y=f(a,o(u.entryName.toString()));if(u.isDirectory){i.makeDir(y);return}var v=u.getData(m);if(!v)throw new Error(Ce.Errors.CANT_EXTRACT_FILE);const l=E?u.header.fileAttr:void 0;i.writeFileTo(y,v,d,l);try{i.fs.utimesSync(y,u.header.time,u.header.time)}catch{throw new Error(Ce.Errors.CANT_EXTRACT_FILE)}})},extractAllToAsync:function(a,d,E,m){if(d=tr(d,!1),typeof E=="function"&&!m&&(m=E),E=tr(E,!1),m||(m=function(_){throw new Error(_)}),!s){m(new Error(Ce.Errors.NO_ZIP));return}a=wt.resolve(a);const u=_=>f(a,wt.normalize(o(_.entryName.toString()))),y=(_,b)=>new Error(_+': "'+b+'"'),v=[],l=new Set;s.entries.forEach(_=>{_.isDirectory?v.push(_):l.add(_)});for(const _ of v){const b=u(_),x=E?_.header.fileAttr:void 0;try{i.makeDir(b),x&&i.fs.chmodSync(b,x),i.fs.utimesSync(b,_.header.time,_.header.time)}catch{m(y("Unable to create folder",b))}}const $=()=>{l.size===0&&m()};for(const _ of l.values()){const b=wt.normalize(o(_.entryName.toString())),x=f(a,b);_.getDataAsync(function(T,P){if(P){m(new Error(P));return}if(!T)m(new Error(Ce.Errors.CANT_EXTRACT_FILE));else{const U=E?_.header.fileAttr:void 0;i.writeFileToAsync(x,T,d,U,function(C){if(!C){m(y("Unable to write file",x));return}i.fs.utimes(x,_.header.time,_.header.time,function(V){if(V){m(y("Unable to set times",x));return}l.delete(_),$()})})}})}$()},writeZip:function(a,d){if(arguments.length===1&&typeof a=="function"&&(d=a,a=""),!a&&n.filename&&(a=n.filename),!!a){var E=s.compressToBuffer();if(E){var m=i.writeFileTo(a,E,!0);typeof d=="function"&&d(m?null:new Error("failed"),"")}}},writeZipPromise:function(a,d){const{overwrite:E,perm:m}=Object.assign({overwrite:!0},d);return new Promise((u,y)=>{!a&&n.filename&&(a=n.filename),a||y("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(v=>{const l=$=>$?u($):y("ADM-ZIP: Wasn't able to write zip file");i.writeFileToAsync(a,v,E,m,l)},y)})},toBufferPromise:function(){return new Promise((a,d)=>{s.toAsyncBuffer(a,d)})},toBuffer:function(a,d,E,m){return this.valueOf=2,typeof a=="function"?(s.toAsyncBuffer(a,d,E,m),null):s.compressToBuffer()}}};const Za=ec(t$);class ct{constructor(t,r){this.bw=t,this.#f.getVersion=r,ae.ipcMain.handle("getInfo",()=>this.#f),ae.ipcMain.handle("existsSync",(i,s)=>at.existsSync(s)),ae.ipcMain.handle("copySync",(i,s,o)=>at.copySync(s,o)),ae.ipcMain.handle("removeSync",(i,s)=>at.removeSync(s)),ae.ipcMain.handle("ensureFileSync",(i,s)=>at.ensureFileSync(s)),ae.ipcMain.handle("readFileSync",(i,s)=>at.readFileSync(s,{encoding:"utf8"})),ae.ipcMain.handle("readFile",(i,s,o)=>at.readFile(s,o)),ae.ipcMain.handle("writeFileSync",(i,s,o,f)=>at.writeFileSync(s,o,f)),ae.ipcMain.handle("appendFile",(i,s,o,f)=>at.appendFile(s,o).catch(c=>f(c))),ae.ipcMain.handle("win_close",()=>t.close()),ae.ipcMain.handle("win_setTitle",(i,s)=>t.setTitle(s)),ae.ipcMain.handle("showMessageBox",(i,s)=>ae.dialog.showMessageBox(s)),ae.ipcMain.handle("capturePage",(i,s)=>t.webContents.capturePage().then(o=>{at.ensureFileSync(s),at.writeFileSync(s,s.slice(-4)===".png"?o.toPNG():o.toJPEG(80))})),ae.ipcMain.handle("navigate_to",(i,s)=>ae.shell.openExternal(s)),ae.ipcMain.handle("openDevTools",()=>t.webContents.openDevTools()),ae.ipcMain.handle("win_ev_devtools_opened",(i,s)=>t.webContents.on("devtools-opened",s));let n;ae.ipcMain.handle("Store",(i,s)=>{n=new Ha(s)}),ae.ipcMain.handle("flush",(i,s)=>{n.store=s}),ae.ipcMain.handle("Store_isEmpty",()=>n.size===0),ae.ipcMain.handle("Store_get",()=>n.store),ae.ipcMain.handle("zip",(i,s,o)=>{const f=new Za;f.addLocalFolder(s),f.writeZip(o)}),ae.ipcMain.handle("unzip",(i,s,o)=>{at.removeSync(o),at.ensureDirSync(o),new Za(s).extractAllTo(o,!0)}),ae.ipcMain.handle("isSimpleFullScreen",()=>t.simpleFullScreen),this.#p?(ae.ipcMain.handle("setSimpleFullScreen",(i,s)=>{this.#e=!0,t.setSimpleFullScreen(s),s||(t.setPosition(this.#i,this.#s),t.setContentSize(this.#r,this.#n+ct.#t)),this.#e=!1}),t.on("enter-full-screen",()=>{t.setContentSize(this.#o,this.#a-ct.#t)}),t.on("leave-full-screen",()=>{this.#u(!1,this.#i,this.#s,this.#r,this.#n+ct.#t)})):ae.ipcMain.handle("setSimpleFullScreen",(i,s)=>{t.setSimpleFullScreen(s),s||t.setContentSize(this.#r,this.#n+ct.#t)}),ae.ipcMain.handle("window",(i,s,o,f,c,h)=>this.#u(s,o,f,c,h)),t.on("move",()=>this.#d())}#l=ae.screen.getPrimaryDisplay().size;#o=this.#l.width;#a=this.#l.height;#f={getAppPath:ae.app.getAppPath(),isPackaged:ae.app.isPackaged,downloads:ae.app.getPath("downloads"),userData:ae.app.getPath("userData"),getVersion:"",env:{...process.env},platform:process.platform,arch:process.arch};#i=0;#s=0;#r=0;#n=0;#p=process.platform==="win32";#c=void 0;#d(){if(this.#c||this.#e)return;this.#e=!0;const{x:t,y:r}=this.bw.getBounds();this.#c=setTimeout(()=>{if(this.#c=void 0,this.#h){this.#h=!1;return}this.#e=!1;const n=this.bw.getBounds();if(t!==n.x||r!==n.y){this.#d();return}this.#u(!1,n.x,n.y,this.#r,this.#n)},1e3/60*10)}#h=!1;#e=!1;#u(t,r,n,i,s){this.#e||(this.#e=!0,!this.bw.simpleFullScreen&&(t?(r=(this.#o-i)*.5,n=(this.#a-s)*.5):((r<0||r>this.#o)&&(r=0),(n<0||n>this.#a)&&(n=0)),(this.#i!==r||this.#s!==n)&&(this.#i=r,this.#s=n,this.bw.webContents.send("save_win_pos",r,n),this.bw.setPosition(r,n)),this.#r=i,this.#n=s,this.bw.setContentSize(i,s+ct.#t),this.#e=!1))}openDevTools(){this.bw.webContents.openDevTools()}static#m;static initRenderer(t,r,n){let i=()=>{},s;try{Ha.initRenderer(),process.env.ELECTRON_DISABLE_SECURITY_WARNINGS="true",s=new ae.BrowserWindow({...n,fullscreenable:!0,maximizable:!1,webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:`${__dirname}/preload.js`}}),s.setMenuBarVisibility(!1);const o=s.getContentSize()[1];s.setMenuBarVisibility(!0);const f=s.getContentSize()[1];ct.#t=o-f,ct.#m=new ct(s,r),i=()=>ct.#m.openDevTools(),s.loadFile(t),s.once("ready-to-show",()=>s.show())}catch(o){throw console.error(`ealy err:${o}`),i(),"initRenderer error"}return s}static#t=0}module.exports=ct;exports.appMain=ct;
//# sourceMappingURL=appMain.js.map
