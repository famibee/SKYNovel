"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const Y=require("electron"),Kt=require("fs"),Sl=require("constants"),Nl=require("stream"),ms=require("util"),ca=require("assert"),pe=require("path"),la=require("crypto"),Il=require("events"),Ol=require("os"),ua=require("zlib");var It=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fe={},ge={};ge.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,n)=>{t.push((s,i)=>s!=null?n(s):r(i)),e.apply(this,t)})},"name",{value:e.name})};ge.fromPromise=function(e){return Object.defineProperty(function(...t){const r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);t.pop(),e.apply(this,t).then(n=>r(null,n),r)},"name",{value:e.name})};var ct=Sl,Pl=process.cwd,zr=null,Tl=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return zr||(zr=Pl.call(process)),zr};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var Mi=process.chdir;process.chdir=function(e){zr=null,Mi.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Mi)}var Rl=bl;function bl(e){ct.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=i(e.chown),e.fchown=i(e.fchown),e.lchown=i(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=s(e.chmodSync),e.fchmodSync=s(e.fchmodSync),e.lchmodSync=s(e.lchmodSync),e.stat=c(e.stat),e.fstat=c(e.fstat),e.lstat=c(e.lstat),e.statSync=a(e.statSync),e.fstatSync=a(e.fstatSync),e.lstatSync=a(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(u,E,v){v&&process.nextTick(v)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(u,E,v,f){f&&process.nextTick(f)},e.lchownSync=function(){}),Tl==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(u){function E(v,f,d){var $=Date.now(),p=0;u(v,f,function m(h){if(h&&(h.code==="EACCES"||h.code==="EPERM"||h.code==="EBUSY")&&Date.now()-$<6e4){setTimeout(function(){e.stat(f,function(g,N){g&&g.code==="ENOENT"?u(v,f,m):d(h)})},p),p<100&&(p+=10);return}d&&d(h)})}return Object.setPrototypeOf&&Object.setPrototypeOf(E,u),E}(e.rename)),e.read=typeof e.read!="function"?e.read:function(u){function E(v,f,d,$,p,m){var h;if(m&&typeof m=="function"){var g=0;h=function(N,O,L){if(N&&N.code==="EAGAIN"&&g<10)return g++,u.call(e,v,f,d,$,p,h);m.apply(this,arguments)}}return u.call(e,v,f,d,$,p,h)}return Object.setPrototypeOf&&Object.setPrototypeOf(E,u),E}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(u){return function(E,v,f,d,$){for(var p=0;;)try{return u.call(e,E,v,f,d,$)}catch(m){if(m.code==="EAGAIN"&&p<10){p++;continue}throw m}}}(e.readSync);function t(u){u.lchmod=function(E,v,f){u.open(E,ct.O_WRONLY|ct.O_SYMLINK,v,function(d,$){if(d){f&&f(d);return}u.fchmod($,v,function(p){u.close($,function(m){f&&f(p||m)})})})},u.lchmodSync=function(E,v){var f=u.openSync(E,ct.O_WRONLY|ct.O_SYMLINK,v),d=!0,$;try{$=u.fchmodSync(f,v),d=!1}finally{if(d)try{u.closeSync(f)}catch{}else u.closeSync(f)}return $}}function r(u){ct.hasOwnProperty("O_SYMLINK")&&u.futimes?(u.lutimes=function(E,v,f,d){u.open(E,ct.O_SYMLINK,function($,p){if($){d&&d($);return}u.futimes(p,v,f,function(m){u.close(p,function(h){d&&d(m||h)})})})},u.lutimesSync=function(E,v,f){var d=u.openSync(E,ct.O_SYMLINK),$,p=!0;try{$=u.futimesSync(d,v,f),p=!1}finally{if(p)try{u.closeSync(d)}catch{}else u.closeSync(d)}return $}):u.futimes&&(u.lutimes=function(E,v,f,d){d&&process.nextTick(d)},u.lutimesSync=function(){})}function n(u){return u&&function(E,v,f){return u.call(e,E,v,function(d){l(d)&&(d=null),f&&f.apply(this,arguments)})}}function s(u){return u&&function(E,v){try{return u.call(e,E,v)}catch(f){if(!l(f))throw f}}}function i(u){return u&&function(E,v,f,d){return u.call(e,E,v,f,function($){l($)&&($=null),d&&d.apply(this,arguments)})}}function o(u){return u&&function(E,v,f){try{return u.call(e,E,v,f)}catch(d){if(!l(d))throw d}}}function c(u){return u&&function(E,v,f){typeof v=="function"&&(f=v,v=null);function d($,p){p&&(p.uid<0&&(p.uid+=4294967296),p.gid<0&&(p.gid+=4294967296)),f&&f.apply(this,arguments)}return v?u.call(e,E,v,d):u.call(e,E,d)}}function a(u){return u&&function(E,v){var f=v?u.call(e,E,v):u.call(e,E);return f&&(f.uid<0&&(f.uid+=4294967296),f.gid<0&&(f.gid+=4294967296)),f}}function l(u){if(!u||u.code==="ENOSYS")return!0;var E=!process.getuid||process.getuid()!==0;return!!(E&&(u.code==="EINVAL"||u.code==="EPERM"))}}var Ui=Nl.Stream,Dl=Cl;function Cl(e){return{ReadStream:t,WriteStream:r};function t(n,s){if(!(this instanceof t))return new t(n,s);Ui.call(this);var i=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,s=s||{};for(var o=Object.keys(s),c=0,a=o.length;c<a;c++){var l=o[c];this[l]=s[l]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){i._read()});return}e.open(this.path,this.flags,this.mode,function(u,E){if(u){i.emit("error",u),i.readable=!1;return}i.fd=E,i.emit("open",E),i._read()})}function r(n,s){if(!(this instanceof r))return new r(n,s);Ui.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,s=s||{};for(var i=Object.keys(s),o=0,c=i.length;o<c;o++){var a=i[o];this[a]=s[a]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var Ll=Fl,Al=Object.getPrototypeOf||function(e){return e.__proto__};function Fl(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:Al(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}var ue=Kt,jl=Rl,kl=Dl,Ml=Ll,Ir=ms,Pe,Wr;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Pe=Symbol.for("graceful-fs.queue"),Wr=Symbol.for("graceful-fs.previous")):(Pe="___graceful-fs.queue",Wr="___graceful-fs.previous");function Ul(){}function da(e,t){Object.defineProperty(e,Pe,{get:function(){return t}})}var Ot=Ul;Ir.debuglog?Ot=Ir.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Ot=function(){var e=Ir.format.apply(Ir,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});if(!ue[Pe]){var zl=It[Pe]||[];da(ue,zl),ue.close=function(e){function t(r,n){return e.call(ue,r,function(s){s||zi(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,Wr,{value:e}),t}(ue.close),ue.closeSync=function(e){function t(r){e.apply(ue,arguments),zi()}return Object.defineProperty(t,Wr,{value:e}),t}(ue.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Ot(ue[Pe]),ca.equal(ue[Pe].length,0)})}It[Pe]||da(It,ue[Pe]);var Wt=ps(Ml(ue));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!ue.__patched&&(Wt=ps(ue),ue.__patched=!0);function ps(e){jl(e),e.gracefulify=ps,e.createReadStream=O,e.createWriteStream=L;var t=e.readFile;e.readFile=r;function r(b,F,U){return typeof F=="function"&&(U=F,F=null),V(b,F,U);function V(W,A,C,M){return t(W,A,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?Dt([V,[W,A,C],j,M||Date.now(),Date.now()]):typeof C=="function"&&C.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=s;function s(b,F,U,V){return typeof U=="function"&&(V=U,U=null),W(b,F,U,V);function W(A,C,M,j,P){return n(A,C,M,function(R){R&&(R.code==="EMFILE"||R.code==="ENFILE")?Dt([W,[A,C,M,j],R,P||Date.now(),Date.now()]):typeof j=="function"&&j.apply(this,arguments)})}}var i=e.appendFile;i&&(e.appendFile=o);function o(b,F,U,V){return typeof U=="function"&&(V=U,U=null),W(b,F,U,V);function W(A,C,M,j,P){return i(A,C,M,function(R){R&&(R.code==="EMFILE"||R.code==="ENFILE")?Dt([W,[A,C,M,j],R,P||Date.now(),Date.now()]):typeof j=="function"&&j.apply(this,arguments)})}}var c=e.copyFile;c&&(e.copyFile=a);function a(b,F,U,V){return typeof U=="function"&&(V=U,U=0),W(b,F,U,V);function W(A,C,M,j,P){return c(A,C,M,function(R){R&&(R.code==="EMFILE"||R.code==="ENFILE")?Dt([W,[A,C,M,j],R,P||Date.now(),Date.now()]):typeof j=="function"&&j.apply(this,arguments)})}}var l=e.readdir;e.readdir=E;var u=/^v[0-5]\./;function E(b,F,U){typeof F=="function"&&(U=F,F=null);var V=u.test(process.version)?function(C,M,j,P){return l(C,W(C,M,j,P))}:function(C,M,j,P){return l(C,M,W(C,M,j,P))};return V(b,F,U);function W(A,C,M,j){return function(P,R){P&&(P.code==="EMFILE"||P.code==="ENFILE")?Dt([V,[A,C,M],P,j||Date.now(),Date.now()]):(R&&R.sort&&R.sort(),typeof M=="function"&&M.call(this,P,R))}}}if(process.version.substr(0,4)==="v0.8"){var v=kl(e);m=v.ReadStream,g=v.WriteStream}var f=e.ReadStream;f&&(m.prototype=Object.create(f.prototype),m.prototype.open=h);var d=e.WriteStream;d&&(g.prototype=Object.create(d.prototype),g.prototype.open=N),Object.defineProperty(e,"ReadStream",{get:function(){return m},set:function(b){m=b},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return g},set:function(b){g=b},enumerable:!0,configurable:!0});var $=m;Object.defineProperty(e,"FileReadStream",{get:function(){return $},set:function(b){$=b},enumerable:!0,configurable:!0});var p=g;Object.defineProperty(e,"FileWriteStream",{get:function(){return p},set:function(b){p=b},enumerable:!0,configurable:!0});function m(b,F){return this instanceof m?(f.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}function h(){var b=this;B(b.path,b.flags,b.mode,function(F,U){F?(b.autoClose&&b.destroy(),b.emit("error",F)):(b.fd=U,b.emit("open",U),b.read())})}function g(b,F){return this instanceof g?(d.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}function N(){var b=this;B(b.path,b.flags,b.mode,function(F,U){F?(b.destroy(),b.emit("error",F)):(b.fd=U,b.emit("open",U))})}function O(b,F){return new e.ReadStream(b,F)}function L(b,F){return new e.WriteStream(b,F)}var k=e.open;e.open=B;function B(b,F,U,V){return typeof U=="function"&&(V=U,U=null),W(b,F,U,V);function W(A,C,M,j,P){return k(A,C,M,function(R,S){R&&(R.code==="EMFILE"||R.code==="ENFILE")?Dt([W,[A,C,M,j],R,P||Date.now(),Date.now()]):typeof j=="function"&&j.apply(this,arguments)})}}return e}function Dt(e){Ot("ENQUEUE",e[0].name,e[1]),ue[Pe].push(e),ys()}var Or;function zi(){for(var e=Date.now(),t=0;t<ue[Pe].length;++t)ue[Pe][t].length>2&&(ue[Pe][t][3]=e,ue[Pe][t][4]=e);ys()}function ys(){if(clearTimeout(Or),Or=void 0,ue[Pe].length!==0){var e=ue[Pe].shift(),t=e[0],r=e[1],n=e[2],s=e[3],i=e[4];if(s===void 0)Ot("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-s>=6e4){Ot("TIMEOUT",t.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var c=Date.now()-i,a=Math.max(i-s,1),l=Math.min(a*1.2,100);c>=l?(Ot("RETRY",t.name,r),t.apply(null,r.concat([s]))):ue[Pe].push(e)}Or===void 0&&(Or=setTimeout(ys,0))}}(function(e){const t=ge.fromCallback,r=Wt,n=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(s=>typeof r[s]=="function");Object.assign(e,r),n.forEach(s=>{e[s]=t(r[s])}),e.exists=function(s,i){return typeof i=="function"?r.exists(s,i):new Promise(o=>r.exists(s,o))},e.read=function(s,i,o,c,a,l){return typeof l=="function"?r.read(s,i,o,c,a,l):new Promise((u,E)=>{r.read(s,i,o,c,a,(v,f,d)=>{if(v)return E(v);u({bytesRead:f,buffer:d})})})},e.write=function(s,i,...o){return typeof o[o.length-1]=="function"?r.write(s,i,...o):new Promise((c,a)=>{r.write(s,i,...o,(l,u,E)=>{if(l)return a(l);c({bytesWritten:u,buffer:E})})})},e.readv=function(s,i,...o){return typeof o[o.length-1]=="function"?r.readv(s,i,...o):new Promise((c,a)=>{r.readv(s,i,...o,(l,u,E)=>{if(l)return a(l);c({bytesRead:u,buffers:E})})})},e.writev=function(s,i,...o){return typeof o[o.length-1]=="function"?r.writev(s,i,...o):new Promise((c,a)=>{r.writev(s,i,...o,(l,u,E)=>{if(l)return a(l);c({bytesWritten:u,buffers:E})})})},typeof r.realpath.native=="function"?e.realpath.native=t(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")})(Fe);var Es={},ha={};const xl=pe;ha.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(xl.parse(t).root,""))){const n=new Error(`Path contains invalid characters: ${t}`);throw n.code="EINVAL",n}};const ma=Fe,{checkPath:pa}=ha,ya=e=>{const t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};Es.makeDir=async(e,t)=>(pa(e),ma.mkdir(e,{mode:ya(t),recursive:!0}));Es.makeDirSync=(e,t)=>(pa(e),ma.mkdirSync(e,{mode:ya(t),recursive:!0}));const Vl=ge.fromPromise,{makeDir:Gl,makeDirSync:kn}=Es,Mn=Vl(Gl);var rt={mkdirs:Mn,mkdirsSync:kn,mkdirp:Mn,mkdirpSync:kn,ensureDir:Mn,ensureDirSync:kn};const Hl=ge.fromPromise,Ea=Fe;function ql(e){return Ea.access(e).then(()=>!0).catch(()=>!1)}var Rt={pathExists:Hl(ql),pathExistsSync:Ea.existsSync};const Mt=Fe,Bl=ge.fromPromise;async function Kl(e,t,r){const n=await Mt.open(e,"r+");let s=null;try{await Mt.futimes(n,t,r)}finally{try{await Mt.close(n)}catch(i){s=i}}if(s)throw s}function Wl(e,t,r){const n=Mt.openSync(e,"r+");return Mt.futimesSync(n,t,r),Mt.closeSync(n)}var $a={utimesMillis:Bl(Kl),utimesMillisSync:Wl};const xt=Fe,we=pe,xi=ge.fromPromise;function Xl(e,t,r){const n=r.dereference?s=>xt.stat(s,{bigint:!0}):s=>xt.lstat(s,{bigint:!0});return Promise.all([n(e),n(t).catch(s=>{if(s.code==="ENOENT")return null;throw s})]).then(([s,i])=>({srcStat:s,destStat:i}))}function Zl(e,t,r){let n;const s=r.dereference?o=>xt.statSync(o,{bigint:!0}):o=>xt.lstatSync(o,{bigint:!0}),i=s(e);try{n=s(t)}catch(o){if(o.code==="ENOENT")return{srcStat:i,destStat:null};throw o}return{srcStat:i,destStat:n}}async function Jl(e,t,r,n){const{srcStat:s,destStat:i}=await Xl(e,t,n);if(i){if(gr(s,i)){const o=we.basename(e),c=we.basename(t);if(r==="move"&&o!==c&&o.toLowerCase()===c.toLowerCase())return{srcStat:s,destStat:i,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!i.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!s.isDirectory()&&i.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(s.isDirectory()&&$s(e,t))throw new Error(tn(e,t,r));return{srcStat:s,destStat:i}}function Yl(e,t,r,n){const{srcStat:s,destStat:i}=Zl(e,t,n);if(i){if(gr(s,i)){const o=we.basename(e),c=we.basename(t);if(r==="move"&&o!==c&&o.toLowerCase()===c.toLowerCase())return{srcStat:s,destStat:i,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!i.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!s.isDirectory()&&i.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(s.isDirectory()&&$s(e,t))throw new Error(tn(e,t,r));return{srcStat:s,destStat:i}}async function ga(e,t,r,n){const s=we.resolve(we.dirname(e)),i=we.resolve(we.dirname(r));if(i===s||i===we.parse(i).root)return;let o;try{o=await xt.stat(i,{bigint:!0})}catch(c){if(c.code==="ENOENT")return;throw c}if(gr(t,o))throw new Error(tn(e,r,n));return ga(e,t,i,n)}function _a(e,t,r,n){const s=we.resolve(we.dirname(e)),i=we.resolve(we.dirname(r));if(i===s||i===we.parse(i).root)return;let o;try{o=xt.statSync(i,{bigint:!0})}catch(c){if(c.code==="ENOENT")return;throw c}if(gr(t,o))throw new Error(tn(e,r,n));return _a(e,t,i,n)}function gr(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function $s(e,t){const r=we.resolve(e).split(we.sep).filter(s=>s),n=we.resolve(t).split(we.sep).filter(s=>s);return r.every((s,i)=>n[i]===s)}function tn(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}var Xt={checkPaths:xi(Jl),checkPathsSync:Yl,checkParentPaths:xi(ga),checkParentPathsSync:_a,isSrcSubdir:$s,areIdentical:gr};const Re=Fe,hr=pe,{mkdirs:Ql}=rt,{pathExists:eu}=Rt,{utimesMillis:tu}=$a,mr=Xt;async function ru(e,t,r={}){typeof r=="function"&&(r={filter:r}),r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001");const{srcStat:n,destStat:s}=await mr.checkPaths(e,t,"copy",r);if(await mr.checkParentPaths(e,n,t,"copy"),!await va(e,t,r))return;const o=hr.dirname(t);await eu(o)||await Ql(o),await wa(s,e,t,r)}async function va(e,t,r){return r.filter?r.filter(e,t):!0}async function wa(e,t,r,n){const i=await(n.dereference?Re.stat:Re.lstat)(t);if(i.isDirectory())return ou(i,e,t,r,n);if(i.isFile()||i.isCharacterDevice()||i.isBlockDevice())return nu(i,e,t,r,n);if(i.isSymbolicLink())return au(e,t,r,n);throw i.isSocket()?new Error(`Cannot copy a socket file: ${t}`):i.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}async function nu(e,t,r,n,s){if(!t)return Vi(e,r,n,s);if(s.overwrite)return await Re.unlink(n),Vi(e,r,n,s);if(s.errorOnExist)throw new Error(`'${n}' already exists`)}async function Vi(e,t,r,n){if(await Re.copyFile(t,r),n.preserveTimestamps){su(e.mode)&&await iu(r,e.mode);const s=await Re.stat(t);await tu(r,s.atime,s.mtime)}return Re.chmod(r,e.mode)}function su(e){return(e&128)===0}function iu(e,t){return Re.chmod(e,t|128)}async function ou(e,t,r,n,s){t||await Re.mkdir(n);const i=await Re.readdir(r);await Promise.all(i.map(async o=>{const c=hr.join(r,o),a=hr.join(n,o);if(!await va(c,a,s))return;const{destStat:u}=await mr.checkPaths(c,a,"copy",s);return wa(u,c,a,s)})),t||await Re.chmod(n,e.mode)}async function au(e,t,r,n){let s=await Re.readlink(t);if(n.dereference&&(s=hr.resolve(process.cwd(),s)),!e)return Re.symlink(s,r);let i=null;try{i=await Re.readlink(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return Re.symlink(s,r);throw o}if(n.dereference&&(i=hr.resolve(process.cwd(),i)),mr.isSrcSubdir(s,i))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${i}'.`);if(mr.isSrcSubdir(i,s))throw new Error(`Cannot overwrite '${i}' with '${s}'.`);return await Re.unlink(r),Re.symlink(s,r)}var cu=ru;const Le=Wt,pr=pe,lu=rt.mkdirsSync,uu=$a.utimesMillisSync,yr=Xt;function fu(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:n,destStat:s}=yr.checkPathsSync(e,t,"copy",r);if(yr.checkParentPathsSync(e,n,t,"copy"),r.filter&&!r.filter(e,t))return;const i=pr.dirname(t);return Le.existsSync(i)||lu(i),Sa(s,e,t,r)}function Sa(e,t,r,n){const i=(n.dereference?Le.statSync:Le.lstatSync)(t);if(i.isDirectory())return $u(i,e,t,r,n);if(i.isFile()||i.isCharacterDevice()||i.isBlockDevice())return du(i,e,t,r,n);if(i.isSymbolicLink())return vu(e,t,r,n);throw i.isSocket()?new Error(`Cannot copy a socket file: ${t}`):i.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function du(e,t,r,n,s){return t?hu(e,r,n,s):Na(e,r,n,s)}function hu(e,t,r,n){if(n.overwrite)return Le.unlinkSync(r),Na(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function Na(e,t,r,n){return Le.copyFileSync(t,r),n.preserveTimestamps&&mu(e.mode,t,r),gs(r,e.mode)}function mu(e,t,r){return pu(e)&&yu(r,e),Eu(t,r)}function pu(e){return(e&128)===0}function yu(e,t){return gs(e,t|128)}function gs(e,t){return Le.chmodSync(e,t)}function Eu(e,t){const r=Le.statSync(e);return uu(t,r.atime,r.mtime)}function $u(e,t,r,n,s){return t?Ia(r,n,s):gu(e.mode,r,n,s)}function gu(e,t,r,n){return Le.mkdirSync(r),Ia(t,r,n),gs(r,e)}function Ia(e,t,r){Le.readdirSync(e).forEach(n=>_u(n,e,t,r))}function _u(e,t,r,n){const s=pr.join(t,e),i=pr.join(r,e);if(n.filter&&!n.filter(s,i))return;const{destStat:o}=yr.checkPathsSync(s,i,"copy",n);return Sa(o,s,i,n)}function vu(e,t,r,n){let s=Le.readlinkSync(t);if(n.dereference&&(s=pr.resolve(process.cwd(),s)),e){let i;try{i=Le.readlinkSync(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return Le.symlinkSync(s,r);throw o}if(n.dereference&&(i=pr.resolve(process.cwd(),i)),yr.isSrcSubdir(s,i))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${i}'.`);if(yr.isSrcSubdir(i,s))throw new Error(`Cannot overwrite '${i}' with '${s}'.`);return wu(s,r)}else return Le.symlinkSync(s,r)}function wu(e,t){return Le.unlinkSync(t),Le.symlinkSync(e,t)}var Su=fu;const Nu=ge.fromPromise;var _s={copy:Nu(cu),copySync:Su};const Oa=Wt,Iu=ge.fromCallback;function Ou(e,t){Oa.rm(e,{recursive:!0,force:!0},t)}function Pu(e){Oa.rmSync(e,{recursive:!0,force:!0})}var rn={remove:Iu(Ou),removeSync:Pu};const Tu=ge.fromPromise,Pa=Fe,Ta=pe,Ra=rt,ba=rn,Gi=Tu(async function(t){let r;try{r=await Pa.readdir(t)}catch{return Ra.mkdirs(t)}return Promise.all(r.map(n=>ba.remove(Ta.join(t,n))))});function Hi(e){let t;try{t=Pa.readdirSync(e)}catch{return Ra.mkdirsSync(e)}t.forEach(r=>{r=Ta.join(e,r),ba.removeSync(r)})}var Ru={emptyDirSync:Hi,emptydirSync:Hi,emptyDir:Gi,emptydir:Gi};const bu=ge.fromPromise,Da=pe,st=Fe,Ca=rt;async function Du(e){let t;try{t=await st.stat(e)}catch{}if(t&&t.isFile())return;const r=Da.dirname(e);let n=null;try{n=await st.stat(r)}catch(s){if(s.code==="ENOENT"){await Ca.mkdirs(r),await st.writeFile(e,"");return}else throw s}n.isDirectory()?await st.writeFile(e,""):await st.readdir(r)}function Cu(e){let t;try{t=st.statSync(e)}catch{}if(t&&t.isFile())return;const r=Da.dirname(e);try{st.statSync(r).isDirectory()||st.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")Ca.mkdirsSync(r);else throw n}st.writeFileSync(e,"")}var Lu={createFile:bu(Du),createFileSync:Cu};const Au=ge.fromPromise,La=pe,dt=Fe,Aa=rt,{pathExists:Fu}=Rt,{areIdentical:Fa}=Xt;async function ju(e,t){let r;try{r=await dt.lstat(t)}catch{}let n;try{n=await dt.lstat(e)}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}if(r&&Fa(n,r))return;const s=La.dirname(t);await Fu(s)||await Aa.mkdirs(s),await dt.link(e,t)}function ku(e,t){let r;try{r=dt.lstatSync(t)}catch{}try{const i=dt.lstatSync(e);if(r&&Fa(i,r))return}catch(i){throw i.message=i.message.replace("lstat","ensureLink"),i}const n=La.dirname(t);return dt.existsSync(n)||Aa.mkdirsSync(n),dt.linkSync(e,t)}var Mu={createLink:Au(ju),createLinkSync:ku};const mt=pe,ar=Fe,{pathExists:Uu}=Rt,zu=ge.fromPromise;async function xu(e,t){if(mt.isAbsolute(e)){try{await ar.lstat(e)}catch(i){throw i.message=i.message.replace("lstat","ensureSymlink"),i}return{toCwd:e,toDst:e}}const r=mt.dirname(t),n=mt.join(r,e);if(await Uu(n))return{toCwd:n,toDst:e};try{await ar.lstat(e)}catch(i){throw i.message=i.message.replace("lstat","ensureSymlink"),i}return{toCwd:e,toDst:mt.relative(r,e)}}function Vu(e,t){if(mt.isAbsolute(e)){if(!ar.existsSync(e))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}const r=mt.dirname(t),n=mt.join(r,e);if(ar.existsSync(n))return{toCwd:n,toDst:e};if(!ar.existsSync(e))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:mt.relative(r,e)}}var Gu={symlinkPaths:zu(xu),symlinkPathsSync:Vu};const ja=Fe,Hu=ge.fromPromise;async function qu(e,t){if(t)return t;let r;try{r=await ja.lstat(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}function Bu(e,t){if(t)return t;let r;try{r=ja.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}var Ku={symlinkType:Hu(qu),symlinkTypeSync:Bu};const Wu=ge.fromPromise,ka=pe,Je=Fe,{mkdirs:Xu,mkdirsSync:Zu}=rt,{symlinkPaths:Ju,symlinkPathsSync:Yu}=Gu,{symlinkType:Qu,symlinkTypeSync:ef}=Ku,{pathExists:tf}=Rt,{areIdentical:Ma}=Xt;async function rf(e,t,r){let n;try{n=await Je.lstat(t)}catch{}if(n&&n.isSymbolicLink()){const[c,a]=await Promise.all([Je.stat(e),Je.stat(t)]);if(Ma(c,a))return}const s=await Ju(e,t);e=s.toDst;const i=await Qu(s.toCwd,r),o=ka.dirname(t);return await tf(o)||await Xu(o),Je.symlink(e,t,i)}function nf(e,t,r){let n;try{n=Je.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){const c=Je.statSync(e),a=Je.statSync(t);if(Ma(c,a))return}const s=Yu(e,t);e=s.toDst,r=ef(s.toCwd,r);const i=ka.dirname(t);return Je.existsSync(i)||Zu(i),Je.symlinkSync(e,t,r)}var sf={createSymlink:Wu(rf),createSymlinkSync:nf};const{createFile:qi,createFileSync:Bi}=Lu,{createLink:Ki,createLinkSync:Wi}=Mu,{createSymlink:Xi,createSymlinkSync:Zi}=sf;var of={createFile:qi,createFileSync:Bi,ensureFile:qi,ensureFileSync:Bi,createLink:Ki,createLinkSync:Wi,ensureLink:Ki,ensureLinkSync:Wi,createSymlink:Xi,createSymlinkSync:Zi,ensureSymlink:Xi,ensureSymlinkSync:Zi};function af(e,{EOL:t=`
`,finalEOL:r=!0,replacer:n=null,spaces:s}={}){const i=r?t:"";return JSON.stringify(e,n,s).replace(/\n/g,t)+i}function cf(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}var vs={stringify:af,stripBom:cf};let Vt;try{Vt=Wt}catch{Vt=Kt}const nn=ge,{stringify:Ua,stripBom:za}=vs;async function lf(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Vt,n="throws"in t?t.throws:!0;let s=await nn.fromCallback(r.readFile)(e,t);s=za(s);let i;try{i=JSON.parse(s,t?t.reviver:null)}catch(o){if(n)throw o.message=`${e}: ${o.message}`,o;return null}return i}const uf=nn.fromPromise(lf);function ff(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Vt,n="throws"in t?t.throws:!0;try{let s=r.readFileSync(e,t);return s=za(s),JSON.parse(s,t.reviver)}catch(s){if(n)throw s.message=`${e}: ${s.message}`,s;return null}}async function df(e,t,r={}){const n=r.fs||Vt,s=Ua(t,r);await nn.fromCallback(n.writeFile)(e,s,r)}const hf=nn.fromPromise(df);function mf(e,t,r={}){const n=r.fs||Vt,s=Ua(t,r);return n.writeFileSync(e,s,r)}const pf={readFile:uf,readFileSync:ff,writeFile:hf,writeFileSync:mf};var yf=pf;const Pr=yf;var Ef={readJson:Pr.readFile,readJsonSync:Pr.readFileSync,writeJson:Pr.writeFile,writeJsonSync:Pr.writeFileSync};const $f=ge.fromPromise,Yn=Fe,xa=pe,Va=rt,gf=Rt.pathExists;async function _f(e,t,r="utf-8"){const n=xa.dirname(e);return await gf(n)||await Va.mkdirs(n),Yn.writeFile(e,t,r)}function vf(e,...t){const r=xa.dirname(e);Yn.existsSync(r)||Va.mkdirsSync(r),Yn.writeFileSync(e,...t)}var ws={outputFile:$f(_f),outputFileSync:vf};const{stringify:wf}=vs,{outputFile:Sf}=ws;async function Nf(e,t,r={}){const n=wf(t,r);await Sf(e,n,r)}var If=Nf;const{stringify:Of}=vs,{outputFileSync:Pf}=ws;function Tf(e,t,r){const n=Of(t,r);Pf(e,n,r)}var Rf=Tf;const bf=ge.fromPromise,Ae=Ef;Ae.outputJson=bf(If);Ae.outputJsonSync=Rf;Ae.outputJSON=Ae.outputJson;Ae.outputJSONSync=Ae.outputJsonSync;Ae.writeJSON=Ae.writeJson;Ae.writeJSONSync=Ae.writeJsonSync;Ae.readJSON=Ae.readJson;Ae.readJSONSync=Ae.readJsonSync;var Df=Ae;const Cf=Fe,Ji=pe,{copy:Lf}=_s,{remove:Ga}=rn,{mkdirp:Af}=rt,{pathExists:Ff}=Rt,Yi=Xt;async function jf(e,t,r={}){const n=r.overwrite||r.clobber||!1,{srcStat:s,isChangingCase:i=!1}=await Yi.checkPaths(e,t,"move",r);await Yi.checkParentPaths(e,s,t,"move");const o=Ji.dirname(t);return Ji.parse(o).root!==o&&await Af(o),kf(e,t,n,i)}async function kf(e,t,r,n){if(!n){if(r)await Ga(t);else if(await Ff(t))throw new Error("dest already exists.")}try{await Cf.rename(e,t)}catch(s){if(s.code!=="EXDEV")throw s;await Mf(e,t,r)}}async function Mf(e,t,r){return await Lf(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),Ga(e)}var Uf=jf;const Ha=Wt,Qn=pe,zf=_s.copySync,qa=rn.removeSync,xf=rt.mkdirpSync,Qi=Xt;function Vf(e,t,r){r=r||{};const n=r.overwrite||r.clobber||!1,{srcStat:s,isChangingCase:i=!1}=Qi.checkPathsSync(e,t,"move",r);return Qi.checkParentPathsSync(e,s,t,"move"),Gf(t)||xf(Qn.dirname(t)),Hf(e,t,n,i)}function Gf(e){const t=Qn.dirname(e);return Qn.parse(t).root===t}function Hf(e,t,r,n){if(n)return Un(e,t,r);if(r)return qa(t),Un(e,t,r);if(Ha.existsSync(t))throw new Error("dest already exists.");return Un(e,t,r)}function Un(e,t,r){try{Ha.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return qf(e,t,r)}}function qf(e,t,r){return zf(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),qa(e)}var Bf=Vf;const Kf=ge.fromPromise;var Wf={move:Kf(Uf),moveSync:Bf},Ve={...Fe,..._s,...Ru,...of,...Df,...rt,...Wf,...ws,...Rt,...rn},es={exports:{}},Xf=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")};const gt=Xf,Zf=new Set(["__proto__","prototype","constructor"]),Jf=e=>!e.some(t=>Zf.has(t));function Tr(e){const t=e.split("."),r=[];for(let n=0;n<t.length;n++){let s=t[n];for(;s[s.length-1]==="\\"&&t[n+1]!==void 0;)s=s.slice(0,-1)+".",s+=t[++n];r.push(s)}return Jf(r)?r:[]}var Yf={get(e,t,r){if(!gt(e)||typeof t!="string")return r===void 0?e:r;const n=Tr(t);if(n.length!==0){for(let s=0;s<n.length;s++)if(e=e[n[s]],e==null){if(s!==n.length-1)return r;break}return e===void 0?r:e}},set(e,t,r){if(!gt(e)||typeof t!="string")return e;const n=e,s=Tr(t);for(let i=0;i<s.length;i++){const o=s[i];gt(e[o])||(e[o]={}),i===s.length-1&&(e[o]=r),e=e[o]}return n},delete(e,t){if(!gt(e)||typeof t!="string")return!1;const r=Tr(t);for(let n=0;n<r.length;n++){const s=r[n];if(n===r.length-1)return delete e[s],!0;if(e=e[s],!gt(e))return!1}},has(e,t){if(!gt(e)||typeof t!="string")return!1;const r=Tr(t);if(r.length===0)return!1;for(let n=0;n<r.length;n++)if(gt(e)){if(!(r[n]in e))return!1;e=e[r[n]]}else return!1;return!0}},Ss={exports:{}},Ns={exports:{}},Is={exports:{}},Os={exports:{}};const Ba=Kt;Os.exports=e=>new Promise(t=>{Ba.access(e,r=>{t(!r)})});Os.exports.sync=e=>{try{return Ba.accessSync(e),!0}catch{return!1}};var Qf=Os.exports,Ps={exports:{}},Ts={exports:{}};const Ka=(e,...t)=>new Promise(r=>{r(e(...t))});Ts.exports=Ka;Ts.exports.default=Ka;var ed=Ts.exports;const td=ed,Wa=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let r=0;const n=()=>{r--,t.length>0&&t.shift()()},s=(c,a,...l)=>{r++;const u=td(c,...l);a(u),u.then(n,n)},i=(c,a,...l)=>{r<e?s(c,a,...l):t.push(s.bind(null,c,a,...l))},o=(c,...a)=>new Promise(l=>i(c,l,...a));return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),o};Ps.exports=Wa;Ps.exports.default=Wa;var rd=Ps.exports;const eo=rd;class Xa extends Error{constructor(t){super(),this.value=t}}const nd=(e,t)=>Promise.resolve(e).then(t),sd=e=>Promise.all(e).then(t=>t[1]===!0&&Promise.reject(new Xa(t[0])));var id=(e,t,r)=>{r=Object.assign({concurrency:1/0,preserveOrder:!0},r);const n=eo(r.concurrency),s=[...e].map(o=>[o,n(nd,o,t)]),i=eo(r.preserveOrder?1:1/0);return Promise.all(s.map(o=>i(sd,o))).then(()=>{}).catch(o=>o instanceof Xa?o.value:Promise.reject(o))};const Za=pe,Ja=Qf,od=id;Is.exports=(e,t)=>(t=Object.assign({cwd:process.cwd()},t),od(e,r=>Ja(Za.resolve(t.cwd,r)),t));Is.exports.sync=(e,t)=>{t=Object.assign({cwd:process.cwd()},t);for(const r of e)if(Ja.sync(Za.resolve(t.cwd,r)))return r};var ad=Is.exports;const pt=pe,Ya=ad;Ns.exports=(e,t={})=>{const r=pt.resolve(t.cwd||""),{root:n}=pt.parse(r),s=[].concat(e);return new Promise(i=>{(function o(c){Ya(s,{cwd:c}).then(a=>{a?i(pt.join(c,a)):c===n?i(null):o(pt.dirname(c))})})(r)})};Ns.exports.sync=(e,t={})=>{let r=pt.resolve(t.cwd||"");const{root:n}=pt.parse(r),s=[].concat(e);for(;;){const i=Ya.sync(s,{cwd:r});if(i)return pt.join(r,i);if(r===n)return null;r=pt.dirname(r)}};var cd=Ns.exports;const Qa=cd;Ss.exports=async({cwd:e}={})=>Qa("package.json",{cwd:e});Ss.exports.sync=({cwd:e}={})=>Qa.sync("package.json",{cwd:e});var ld=Ss.exports,Rs={exports:{}};const fe=pe,ec=Ol,ht=ec.homedir(),bs=ec.tmpdir(),{env:kt}=process,ud=e=>{const t=fe.join(ht,"Library");return{data:fe.join(t,"Application Support",e),config:fe.join(t,"Preferences",e),cache:fe.join(t,"Caches",e),log:fe.join(t,"Logs",e),temp:fe.join(bs,e)}},fd=e=>{const t=kt.APPDATA||fe.join(ht,"AppData","Roaming"),r=kt.LOCALAPPDATA||fe.join(ht,"AppData","Local");return{data:fe.join(r,e,"Data"),config:fe.join(t,e,"Config"),cache:fe.join(r,e,"Cache"),log:fe.join(r,e,"Log"),temp:fe.join(bs,e)}},dd=e=>{const t=fe.basename(ht);return{data:fe.join(kt.XDG_DATA_HOME||fe.join(ht,".local","share"),e),config:fe.join(kt.XDG_CONFIG_HOME||fe.join(ht,".config"),e),cache:fe.join(kt.XDG_CACHE_HOME||fe.join(ht,".cache"),e),log:fe.join(kt.XDG_STATE_HOME||fe.join(ht,".local","state"),e),temp:fe.join(bs,t,e)}},tc=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?ud(e):process.platform==="win32"?fd(e):dd(e)};Rs.exports=tc;Rs.exports.default=tc;var hd=Rs.exports,Qe={},te={};Object.defineProperty(te,"__esModule",{value:!0});te.NOOP=te.LIMIT_FILES_DESCRIPTORS=te.LIMIT_BASENAME_LENGTH=te.IS_USER_ROOT=te.IS_POSIX=te.DEFAULT_TIMEOUT_SYNC=te.DEFAULT_TIMEOUT_ASYNC=te.DEFAULT_WRITE_OPTIONS=te.DEFAULT_READ_OPTIONS=te.DEFAULT_FOLDER_MODE=te.DEFAULT_FILE_MODE=te.DEFAULT_ENCODING=void 0;const md="utf8";te.DEFAULT_ENCODING=md;const pd=438;te.DEFAULT_FILE_MODE=pd;const yd=511;te.DEFAULT_FOLDER_MODE=yd;const Ed={};te.DEFAULT_READ_OPTIONS=Ed;const $d={};te.DEFAULT_WRITE_OPTIONS=$d;const gd=5e3;te.DEFAULT_TIMEOUT_ASYNC=gd;const _d=100;te.DEFAULT_TIMEOUT_SYNC=_d;const vd=!!process.getuid;te.IS_POSIX=vd;const wd=process.getuid?!process.getuid():!1;te.IS_USER_ROOT=wd;const Sd=128;te.LIMIT_BASENAME_LENGTH=Sd;const Nd=1e4;te.LIMIT_FILES_DESCRIPTORS=Nd;const Id=()=>{};te.NOOP=Id;var sn={},Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.attemptifySync=Gt.attemptifyAsync=void 0;const rc=te,Od=(e,t=rc.NOOP)=>function(){return e.apply(void 0,arguments).catch(t)};Gt.attemptifyAsync=Od;const Pd=(e,t=rc.NOOP)=>function(){try{return e.apply(void 0,arguments)}catch(r){return t(r)}};Gt.attemptifySync=Pd;var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});const Td=te,nc={isChangeErrorOk:e=>{const{code:t}=e;return t==="ENOSYS"||!Td.IS_USER_ROOT&&(t==="EINVAL"||t==="EPERM")},isRetriableError:e=>{const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!nc.isChangeErrorOk(e))throw e}};Ds.default=nc;var Ht={},Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});const Rd=te,oe={interval:25,intervalId:void 0,limit:Rd.LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{oe.intervalId||(oe.intervalId=setInterval(oe.tick,oe.interval))},reset:()=>{oe.intervalId&&(clearInterval(oe.intervalId),delete oe.intervalId)},add:e=>{oe.queueWaiting.add(e),oe.queueActive.size<oe.limit/2?oe.tick():oe.init()},remove:e=>{oe.queueWaiting.delete(e),oe.queueActive.delete(e)},schedule:()=>new Promise(e=>{const t=()=>oe.remove(r),r=()=>e(t);oe.add(r)}),tick:()=>{if(!(oe.queueActive.size>=oe.limit)){if(!oe.queueWaiting.size)return oe.reset();for(const e of oe.queueWaiting){if(oe.queueActive.size>=oe.limit)break;oe.queueWaiting.delete(e),oe.queueActive.add(e),e()}}}};Cs.default=oe;Object.defineProperty(Ht,"__esModule",{value:!0});Ht.retryifySync=Ht.retryifyAsync=void 0;const bd=Cs,Dd=(e,t)=>function(r){return function n(){return bd.default.schedule().then(s=>e.apply(void 0,arguments).then(i=>(s(),i),i=>{if(s(),Date.now()>=r)throw i;if(t(i)){const o=Math.round(100+400*Math.random());return new Promise(a=>setTimeout(a,o)).then(()=>n.apply(void 0,arguments))}throw i}))}};Ht.retryifyAsync=Dd;const Cd=(e,t)=>function(r){return function n(){try{return e.apply(void 0,arguments)}catch(s){if(Date.now()>r)throw s;if(t(s))return n.apply(void 0,arguments);throw s}}};Ht.retryifySync=Cd;Object.defineProperty(sn,"__esModule",{value:!0});const ne=Kt,be=ms,De=Gt,ve=Ds,ke=Ht,Ld={chmodAttempt:De.attemptifyAsync(be.promisify(ne.chmod),ve.default.onChangeError),chownAttempt:De.attemptifyAsync(be.promisify(ne.chown),ve.default.onChangeError),closeAttempt:De.attemptifyAsync(be.promisify(ne.close)),fsyncAttempt:De.attemptifyAsync(be.promisify(ne.fsync)),mkdirAttempt:De.attemptifyAsync(be.promisify(ne.mkdir)),realpathAttempt:De.attemptifyAsync(be.promisify(ne.realpath)),statAttempt:De.attemptifyAsync(be.promisify(ne.stat)),unlinkAttempt:De.attemptifyAsync(be.promisify(ne.unlink)),closeRetry:ke.retryifyAsync(be.promisify(ne.close),ve.default.isRetriableError),fsyncRetry:ke.retryifyAsync(be.promisify(ne.fsync),ve.default.isRetriableError),openRetry:ke.retryifyAsync(be.promisify(ne.open),ve.default.isRetriableError),readFileRetry:ke.retryifyAsync(be.promisify(ne.readFile),ve.default.isRetriableError),renameRetry:ke.retryifyAsync(be.promisify(ne.rename),ve.default.isRetriableError),statRetry:ke.retryifyAsync(be.promisify(ne.stat),ve.default.isRetriableError),writeRetry:ke.retryifyAsync(be.promisify(ne.write),ve.default.isRetriableError),chmodSyncAttempt:De.attemptifySync(ne.chmodSync,ve.default.onChangeError),chownSyncAttempt:De.attemptifySync(ne.chownSync,ve.default.onChangeError),closeSyncAttempt:De.attemptifySync(ne.closeSync),mkdirSyncAttempt:De.attemptifySync(ne.mkdirSync),realpathSyncAttempt:De.attemptifySync(ne.realpathSync),statSyncAttempt:De.attemptifySync(ne.statSync),unlinkSyncAttempt:De.attemptifySync(ne.unlinkSync),closeSyncRetry:ke.retryifySync(ne.closeSync,ve.default.isRetriableError),fsyncSyncRetry:ke.retryifySync(ne.fsyncSync,ve.default.isRetriableError),openSyncRetry:ke.retryifySync(ne.openSync,ve.default.isRetriableError),readFileSyncRetry:ke.retryifySync(ne.readFileSync,ve.default.isRetriableError),renameSyncRetry:ke.retryifySync(ne.renameSync,ve.default.isRetriableError),statSyncRetry:ke.retryifySync(ne.statSync,ve.default.isRetriableError),writeSyncRetry:ke.retryifySync(ne.writeSync,ve.default.isRetriableError)};sn.default=Ld;var Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});const Ad={isFunction:e=>typeof e=="function",isString:e=>typeof e=="string",isUndefined:e=>typeof e>"u"};Ls.default=Ad;var As={};Object.defineProperty(As,"__esModule",{value:!0});const Rr={},ts={next:e=>{const t=Rr[e];if(!t)return;t.shift();const r=t[0];r?r(()=>ts.next(e)):delete Rr[e]},schedule:e=>new Promise(t=>{let r=Rr[e];r||(r=Rr[e]=[]),r.push(t),!(r.length>1)&&t(()=>ts.next(e))})};As.default=ts;var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});const Fd=pe,to=te,ro=sn,ze={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),r=Date.now().toString().slice(-10),n="tmp-",s=`.${n}${r}${t}`;return`${e}${s}`},get:(e,t,r=!0)=>{const n=ze.truncate(t(e));return n in ze.store?ze.get(e,t,r):(ze.store[n]=r,[n,()=>delete ze.store[n]])},purge:e=>{ze.store[e]&&(delete ze.store[e],ro.default.unlinkAttempt(e))},purgeSync:e=>{ze.store[e]&&(delete ze.store[e],ro.default.unlinkSyncAttempt(e))},purgeSyncAll:()=>{for(const e in ze.store)ze.purgeSync(e)},truncate:e=>{const t=Fd.basename(e);if(t.length<=to.LIMIT_BASENAME_LENGTH)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-to.LIMIT_BASENAME_LENGTH;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};process.on("exit",ze.purgeSyncAll);Fs.default=ze;Object.defineProperty(Qe,"__esModule",{value:!0});Qe.writeFileSync=Qe.writeFile=Qe.readFileSync=Qe.readFile=void 0;const sc=pe,Ie=te,ee=sn,xe=Ls,jd=As,yt=Fs;function ic(e,t=Ie.DEFAULT_READ_OPTIONS){var r;if(xe.default.isString(t))return ic(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:Ie.DEFAULT_TIMEOUT_ASYNC);return ee.default.readFileRetry(n)(e,t)}Qe.readFile=ic;function oc(e,t=Ie.DEFAULT_READ_OPTIONS){var r;if(xe.default.isString(t))return oc(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:Ie.DEFAULT_TIMEOUT_SYNC);return ee.default.readFileSyncRetry(n)(e,t)}Qe.readFileSync=oc;const ac=(e,t,r,n)=>{if(xe.default.isFunction(r))return ac(e,t,Ie.DEFAULT_WRITE_OPTIONS,r);const s=cc(e,t,r);return n&&s.then(n,n),s};Qe.writeFile=ac;const cc=async(e,t,r=Ie.DEFAULT_WRITE_OPTIONS)=>{var n;if(xe.default.isString(r))return cc(e,t,{encoding:r});const s=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:Ie.DEFAULT_TIMEOUT_ASYNC);let i=null,o=null,c=null,a=null,l=null;try{r.schedule&&(i=await r.schedule(e)),o=await jd.default.schedule(e),e=await ee.default.realpathAttempt(e)||e,[a,c]=yt.default.get(e,r.tmpCreate||yt.default.create,r.tmpPurge!==!1);const u=Ie.IS_POSIX&&xe.default.isUndefined(r.chown),E=xe.default.isUndefined(r.mode);if(u||E){const f=await ee.default.statAttempt(e);f&&(r={...r},u&&(r.chown={uid:f.uid,gid:f.gid}),E&&(r.mode=f.mode))}const v=sc.dirname(e);await ee.default.mkdirAttempt(v,{mode:Ie.DEFAULT_FOLDER_MODE,recursive:!0}),l=await ee.default.openRetry(s)(a,"w",r.mode||Ie.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(a),xe.default.isString(t)?await ee.default.writeRetry(s)(l,t,0,r.encoding||Ie.DEFAULT_ENCODING):xe.default.isUndefined(t)||await ee.default.writeRetry(s)(l,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?await ee.default.fsyncRetry(s)(l):ee.default.fsyncAttempt(l)),await ee.default.closeRetry(s)(l),l=null,r.chown&&await ee.default.chownAttempt(a,r.chown.uid,r.chown.gid),r.mode&&await ee.default.chmodAttempt(a,r.mode);try{await ee.default.renameRetry(s)(a,e)}catch(f){if(f.code!=="ENAMETOOLONG")throw f;await ee.default.renameRetry(s)(a,yt.default.truncate(e))}c(),a=null}finally{l&&await ee.default.closeAttempt(l),a&&yt.default.purge(a),i&&i(),o&&o()}},lc=(e,t,r=Ie.DEFAULT_WRITE_OPTIONS)=>{var n;if(xe.default.isString(r))return lc(e,t,{encoding:r});const s=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:Ie.DEFAULT_TIMEOUT_SYNC);let i=null,o=null,c=null;try{e=ee.default.realpathSyncAttempt(e)||e,[o,i]=yt.default.get(e,r.tmpCreate||yt.default.create,r.tmpPurge!==!1);const a=Ie.IS_POSIX&&xe.default.isUndefined(r.chown),l=xe.default.isUndefined(r.mode);if(a||l){const E=ee.default.statSyncAttempt(e);E&&(r={...r},a&&(r.chown={uid:E.uid,gid:E.gid}),l&&(r.mode=E.mode))}const u=sc.dirname(e);ee.default.mkdirSyncAttempt(u,{mode:Ie.DEFAULT_FOLDER_MODE,recursive:!0}),c=ee.default.openSyncRetry(s)(o,"w",r.mode||Ie.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(o),xe.default.isString(t)?ee.default.writeSyncRetry(s)(c,t,0,r.encoding||Ie.DEFAULT_ENCODING):xe.default.isUndefined(t)||ee.default.writeSyncRetry(s)(c,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?ee.default.fsyncSyncRetry(s)(c):ee.default.fsyncAttempt(c)),ee.default.closeSyncRetry(s)(c),c=null,r.chown&&ee.default.chownSyncAttempt(o,r.chown.uid,r.chown.gid),r.mode&&ee.default.chmodSyncAttempt(o,r.mode);try{ee.default.renameSyncRetry(s)(o,e)}catch(E){if(E.code!=="ENAMETOOLONG")throw E;ee.default.renameSyncRetry(s)(o,yt.default.truncate(e))}i(),o=null}finally{c&&ee.default.closeSyncAttempt(c),o&&yt.default.purge(o)}};Qe.writeFileSync=lc;var rs={exports:{}},uc={},Ke={},qt={},_r={},Z={},Er={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(h){if(super(),!e.IDENTIFIER.test(h))throw new Error("CodeGen: name must be a valid identifier");this.str=h}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(h){super(),this._items=typeof h=="string"?[h]:h}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const h=this._items[0];return h===""||h==='""'}get str(){var h;return(h=this._str)!==null&&h!==void 0?h:this._str=this._items.reduce((g,N)=>`${g}${N}`,"")}get names(){var h;return(h=this._names)!==null&&h!==void 0?h:this._names=this._items.reduce((g,N)=>(N instanceof r&&(g[N.str]=(g[N.str]||0)+1),g),{})}}e._Code=n,e.nil=new n("");function s(m,...h){const g=[m[0]];let N=0;for(;N<h.length;)c(g,h[N]),g.push(m[++N]);return new n(g)}e._=s;const i=new n("+");function o(m,...h){const g=[f(m[0])];let N=0;for(;N<h.length;)g.push(i),c(g,h[N]),g.push(i,f(m[++N]));return a(g),new n(g)}e.str=o;function c(m,h){h instanceof n?m.push(...h._items):h instanceof r?m.push(h):m.push(E(h))}e.addCodeArg=c;function a(m){let h=1;for(;h<m.length-1;){if(m[h]===i){const g=l(m[h-1],m[h+1]);if(g!==void 0){m.splice(h-1,3,g);continue}m[h++]="+"}h++}}function l(m,h){if(h==='""')return m;if(m==='""')return h;if(typeof m=="string")return h instanceof r||m[m.length-1]!=='"'?void 0:typeof h!="string"?`${m.slice(0,-1)}${h}"`:h[0]==='"'?m.slice(0,-1)+h.slice(1):void 0;if(typeof h=="string"&&h[0]==='"'&&!(m instanceof r))return`"${m}${h.slice(1)}`}function u(m,h){return h.emptyStr()?m:m.emptyStr()?h:o`${m}${h}`}e.strConcat=u;function E(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:f(Array.isArray(m)?m.join(","):m)}function v(m){return new n(f(m))}e.stringify=v;function f(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=f;function d(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new n(`.${m}`):s`[${m}]`}e.getProperty=d;function $(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new n(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=$;function p(m){return new n(m.toString())}e.regexpCode=p})(Er);var ns={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Er;class r extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var n;(function(a){a[a.Started=0]="Started",a[a.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,E;if(!((E=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||E===void 0)&&E.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=s;class i extends t.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:E}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(u)}[${E}]`}}e.ValueScopeName=i;const o=(0,t._)`\n`;class c extends s{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?o:t.nil}}get(){return this._scope}name(l){return new i(l,this._newName(l))}value(l,u){var E;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const v=this.toName(l),{prefix:f}=v,d=(E=u.key)!==null&&E!==void 0?E:u.ref;let $=this._values[f];if($){const h=$.get(d);if(h)return h}else $=this._values[f]=new Map;$.set(d,v);const p=this._scope[f]||(this._scope[f]=[]),m=p.length;return p[m]=u.ref,v.setValue(u,{property:f,itemIndex:m}),v}getValue(l,u){const E=this._values[l];if(E)return E.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,E=>{if(E.scopePath===void 0)throw new Error(`CodeGen: name "${E}" has no value`);return(0,t._)`${l}${E.scopePath}`})}scopeCode(l=this._values,u,E){return this._reduceValues(l,v=>{if(v.value===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return v.value.code},u,E)}_reduceValues(l,u,E={},v){let f=t.nil;for(const d in l){const $=l[d];if(!$)continue;const p=E[d]=E[d]||new Map;$.forEach(m=>{if(p.has(m))return;p.set(m,n.Started);let h=u(m);if(h){const g=this.opts.es5?e.varKinds.var:e.varKinds.const;f=(0,t._)`${f}${g} ${m} = ${h};${this.opts._n}`}else if(h=v?.(m))f=(0,t._)`${f}${h}${this.opts._n}`;else throw new r(m);p.set(m,n.Completed)})}return f}}e.ValueScope=c})(ns);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Er,r=ns;var n=Er;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=ns;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames(y,_){return this}}class o extends i{constructor(y,_,D){super(),this.varKind=y,this.name=_,this.rhs=D}render({es5:y,_n:_}){const D=y?r.varKinds.var:this.varKind,G=this.rhs===void 0?"":` = ${this.rhs}`;return`${D} ${this.name}${G};`+_}optimizeNames(y,_){if(y[this.name.str])return this.rhs&&(this.rhs=A(this.rhs,y,_)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class c extends i{constructor(y,_,D){super(),this.lhs=y,this.rhs=_,this.sideEffects=D}render({_n:y}){return`${this.lhs} = ${this.rhs};`+y}optimizeNames(y,_){if(!(this.lhs instanceof t.Name&&!y[this.lhs.str]&&!this.sideEffects))return this.rhs=A(this.rhs,y,_),this}get names(){const y=this.lhs instanceof t.Name?{}:{...this.lhs.names};return W(y,this.rhs)}}class a extends c{constructor(y,_,D,G){super(y,D,G),this.op=_}render({_n:y}){return`${this.lhs} ${this.op}= ${this.rhs};`+y}}class l extends i{constructor(y){super(),this.label=y,this.names={}}render({_n:y}){return`${this.label}:`+y}}class u extends i{constructor(y){super(),this.label=y,this.names={}}render({_n:y}){return`break${this.label?` ${this.label}`:""};`+y}}class E extends i{constructor(y){super(),this.error=y}render({_n:y}){return`throw ${this.error};`+y}get names(){return this.error.names}}class v extends i{constructor(y){super(),this.code=y}render({_n:y}){return`${this.code};`+y}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(y,_){return this.code=A(this.code,y,_),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class f extends i{constructor(y=[]){super(),this.nodes=y}render(y){return this.nodes.reduce((_,D)=>_+D.render(y),"")}optimizeNodes(){const{nodes:y}=this;let _=y.length;for(;_--;){const D=y[_].optimizeNodes();Array.isArray(D)?y.splice(_,1,...D):D?y[_]=D:y.splice(_,1)}return y.length>0?this:void 0}optimizeNames(y,_){const{nodes:D}=this;let G=D.length;for(;G--;){const H=D[G];H.optimizeNames(y,_)||(C(y,H.names),D.splice(G,1))}return D.length>0?this:void 0}get names(){return this.nodes.reduce((y,_)=>V(y,_.names),{})}}class d extends f{render(y){return"{"+y._n+super.render(y)+"}"+y._n}}class $ extends f{}class p extends d{}p.kind="else";class m extends d{constructor(y,_){super(_),this.condition=y}render(y){let _=`if(${this.condition})`+super.render(y);return this.else&&(_+="else "+this.else.render(y)),_}optimizeNodes(){super.optimizeNodes();const y=this.condition;if(y===!0)return this.nodes;let _=this.else;if(_){const D=_.optimizeNodes();_=this.else=Array.isArray(D)?new p(D):D}if(_)return y===!1?_ instanceof m?_:_.nodes:this.nodes.length?this:new m(M(y),_ instanceof m?[_]:_.nodes);if(!(y===!1||!this.nodes.length))return this}optimizeNames(y,_){var D;if(this.else=(D=this.else)===null||D===void 0?void 0:D.optimizeNames(y,_),!!(super.optimizeNames(y,_)||this.else))return this.condition=A(this.condition,y,_),this}get names(){const y=super.names;return W(y,this.condition),this.else&&V(y,this.else.names),y}}m.kind="if";class h extends d{}h.kind="for";class g extends h{constructor(y){super(),this.iteration=y}render(y){return`for(${this.iteration})`+super.render(y)}optimizeNames(y,_){if(super.optimizeNames(y,_))return this.iteration=A(this.iteration,y,_),this}get names(){return V(super.names,this.iteration.names)}}class N extends h{constructor(y,_,D,G){super(),this.varKind=y,this.name=_,this.from=D,this.to=G}render(y){const _=y.es5?r.varKinds.var:this.varKind,{name:D,from:G,to:H}=this;return`for(${_} ${D}=${G}; ${D}<${H}; ${D}++)`+super.render(y)}get names(){const y=W(super.names,this.from);return W(y,this.to)}}class O extends h{constructor(y,_,D,G){super(),this.loop=y,this.varKind=_,this.name=D,this.iterable=G}render(y){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(y)}optimizeNames(y,_){if(super.optimizeNames(y,_))return this.iterable=A(this.iterable,y,_),this}get names(){return V(super.names,this.iterable.names)}}class L extends d{constructor(y,_,D){super(),this.name=y,this.args=_,this.async=D}render(y){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(y)}}L.kind="func";class k extends f{render(y){return"return "+super.render(y)}}k.kind="return";class B extends d{render(y){let _="try"+super.render(y);return this.catch&&(_+=this.catch.render(y)),this.finally&&(_+=this.finally.render(y)),_}optimizeNodes(){var y,_;return super.optimizeNodes(),(y=this.catch)===null||y===void 0||y.optimizeNodes(),(_=this.finally)===null||_===void 0||_.optimizeNodes(),this}optimizeNames(y,_){var D,G;return super.optimizeNames(y,_),(D=this.catch)===null||D===void 0||D.optimizeNames(y,_),(G=this.finally)===null||G===void 0||G.optimizeNames(y,_),this}get names(){const y=super.names;return this.catch&&V(y,this.catch.names),this.finally&&V(y,this.finally.names),y}}class b extends d{constructor(y){super(),this.error=y}render(y){return`catch(${this.error})`+super.render(y)}}b.kind="catch";class F extends d{render(y){return"finally"+super.render(y)}}F.kind="finally";class U{constructor(y,_={}){this._values={},this._blockStarts=[],this._constants={},this.opts={..._,_n:_.lines?`
`:""},this._extScope=y,this._scope=new r.Scope({parent:y}),this._nodes=[new $]}toString(){return this._root.render(this.opts)}name(y){return this._scope.name(y)}scopeName(y){return this._extScope.name(y)}scopeValue(y,_){const D=this._extScope.value(y,_);return(this._values[D.prefix]||(this._values[D.prefix]=new Set)).add(D),D}getScopeValue(y,_){return this._extScope.getValue(y,_)}scopeRefs(y){return this._extScope.scopeRefs(y,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(y,_,D,G){const H=this._scope.toName(_);return D!==void 0&&G&&(this._constants[H.str]=D),this._leafNode(new o(y,H,D)),H}const(y,_,D){return this._def(r.varKinds.const,y,_,D)}let(y,_,D){return this._def(r.varKinds.let,y,_,D)}var(y,_,D){return this._def(r.varKinds.var,y,_,D)}assign(y,_,D){return this._leafNode(new c(y,_,D))}add(y,_){return this._leafNode(new a(y,e.operators.ADD,_))}code(y){return typeof y=="function"?y():y!==t.nil&&this._leafNode(new v(y)),this}object(...y){const _=["{"];for(const[D,G]of y)_.length>1&&_.push(","),_.push(D),(D!==G||this.opts.es5)&&(_.push(":"),(0,t.addCodeArg)(_,G));return _.push("}"),new t._Code(_)}if(y,_,D){if(this._blockNode(new m(y)),_&&D)this.code(_).else().code(D).endIf();else if(_)this.code(_).endIf();else if(D)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(y){return this._elseNode(new m(y))}else(){return this._elseNode(new p)}endIf(){return this._endBlockNode(m,p)}_for(y,_){return this._blockNode(y),_&&this.code(_).endFor(),this}for(y,_){return this._for(new g(y),_)}forRange(y,_,D,G,H=this.opts.es5?r.varKinds.var:r.varKinds.let){const re=this._scope.toName(y);return this._for(new N(H,re,_,D),()=>G(re))}forOf(y,_,D,G=r.varKinds.const){const H=this._scope.toName(y);if(this.opts.es5){const re=_ instanceof t.Name?_:this.var("_arr",_);return this.forRange("_i",0,(0,t._)`${re}.length`,Q=>{this.var(H,(0,t._)`${re}[${Q}]`),D(H)})}return this._for(new O("of",G,H,_),()=>D(H))}forIn(y,_,D,G=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(y,(0,t._)`Object.keys(${_})`,D);const H=this._scope.toName(y);return this._for(new O("in",G,H,_),()=>D(H))}endFor(){return this._endBlockNode(h)}label(y){return this._leafNode(new l(y))}break(y){return this._leafNode(new u(y))}return(y){const _=new k;if(this._blockNode(_),this.code(y),_.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(k)}try(y,_,D){if(!_&&!D)throw new Error('CodeGen: "try" without "catch" and "finally"');const G=new B;if(this._blockNode(G),this.code(y),_){const H=this.name("e");this._currNode=G.catch=new b(H),_(H)}return D&&(this._currNode=G.finally=new F,this.code(D)),this._endBlockNode(b,F)}throw(y){return this._leafNode(new E(y))}block(y,_){return this._blockStarts.push(this._nodes.length),y&&this.code(y).endBlock(_),this}endBlock(y){const _=this._blockStarts.pop();if(_===void 0)throw new Error("CodeGen: not in self-balancing block");const D=this._nodes.length-_;if(D<0||y!==void 0&&D!==y)throw new Error(`CodeGen: wrong number of nodes: ${D} vs ${y} expected`);return this._nodes.length=_,this}func(y,_=t.nil,D,G){return this._blockNode(new L(y,_,D)),G&&this.code(G).endFunc(),this}endFunc(){return this._endBlockNode(L)}optimize(y=1){for(;y-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(y){return this._currNode.nodes.push(y),this}_blockNode(y){this._currNode.nodes.push(y),this._nodes.push(y)}_endBlockNode(y,_){const D=this._currNode;if(D instanceof y||_&&D instanceof _)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${_?`${y.kind}/${_.kind}`:y.kind}"`)}_elseNode(y){const _=this._currNode;if(!(_ instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=_.else=y,this}get _root(){return this._nodes[0]}get _currNode(){const y=this._nodes;return y[y.length-1]}set _currNode(y){const _=this._nodes;_[_.length-1]=y}}e.CodeGen=U;function V(I,y){for(const _ in y)I[_]=(I[_]||0)+(y[_]||0);return I}function W(I,y){return y instanceof t._CodeOrName?V(I,y.names):I}function A(I,y,_){if(I instanceof t.Name)return D(I);if(!G(I))return I;return new t._Code(I._items.reduce((H,re)=>(re instanceof t.Name&&(re=D(re)),re instanceof t._Code?H.push(...re._items):H.push(re),H),[]));function D(H){const re=_[H.str];return re===void 0||y[H.str]!==1?H:(delete y[H.str],re)}function G(H){return H instanceof t._Code&&H._items.some(re=>re instanceof t.Name&&y[re.str]===1&&_[re.str]!==void 0)}}function C(I,y){for(const _ in y)I[_]=(I[_]||0)-(y[_]||0)}function M(I){return typeof I=="boolean"||typeof I=="number"||I===null?!I:(0,t._)`!${T(I)}`}e.not=M;const j=w(e.operators.AND);function P(...I){return I.reduce(j)}e.and=P;const R=w(e.operators.OR);function S(...I){return I.reduce(R)}e.or=S;function w(I){return(y,_)=>y===t.nil?_:_===t.nil?y:(0,t._)`${T(y)} ${I} ${T(_)}`}function T(I){return I instanceof t.Name?I:(0,t._)`(${I})`}})(Z);var x={};Object.defineProperty(x,"__esModule",{value:!0});x.checkStrictMode=x.getErrorPath=x.Type=x.useFunc=x.setEvaluated=x.evaluatedPropsToName=x.mergeEvaluated=x.eachItem=x.unescapeJsonPointer=x.escapeJsonPointer=x.escapeFragment=x.unescapeFragment=x.schemaRefOrVal=x.schemaHasRulesButRef=x.schemaHasRules=x.checkUnknownRules=x.alwaysValidSchema=x.toHash=void 0;const ie=Z,kd=Er;function Md(e){const t={};for(const r of e)t[r]=!0;return t}x.toHash=Md;function Ud(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(fc(e,t),!dc(t,e.self.RULES.all))}x.alwaysValidSchema=Ud;function fc(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const s=n.RULES.keywords;for(const i in t)s[i]||pc(e,`unknown keyword: "${i}"`)}x.checkUnknownRules=fc;function dc(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}x.schemaHasRules=dc;function zd(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}x.schemaHasRulesButRef=zd;function xd({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,ie._)`${r}`}return(0,ie._)`${e}${t}${(0,ie.getProperty)(n)}`}x.schemaRefOrVal=xd;function Vd(e){return hc(decodeURIComponent(e))}x.unescapeFragment=Vd;function Gd(e){return encodeURIComponent(js(e))}x.escapeFragment=Gd;function js(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}x.escapeJsonPointer=js;function hc(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}x.unescapeJsonPointer=hc;function Hd(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}x.eachItem=Hd;function no({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,i,o,c)=>{const a=o===void 0?i:o instanceof ie.Name?(i instanceof ie.Name?e(s,i,o):t(s,i,o),o):i instanceof ie.Name?(t(s,o,i),i):r(i,o);return c===ie.Name&&!(a instanceof ie.Name)?n(s,a):a}}x.mergeEvaluated={props:no({mergeNames:(e,t,r)=>e.if((0,ie._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,ie._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,ie._)`${r} || {}`).code((0,ie._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,ie._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,ie._)`${r} || {}`),ks(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:mc}),items:no({mergeNames:(e,t,r)=>e.if((0,ie._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,ie._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,ie._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,ie._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function mc(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,ie._)`{}`);return t!==void 0&&ks(e,r,t),r}x.evaluatedPropsToName=mc;function ks(e,t,r){Object.keys(r).forEach(n=>e.assign((0,ie._)`${t}${(0,ie.getProperty)(n)}`,!0))}x.setEvaluated=ks;const so={};function qd(e,t){return e.scopeValue("func",{ref:t,code:so[t.code]||(so[t.code]=new kd._Code(t.code))})}x.useFunc=qd;var ss;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(ss||(x.Type=ss={}));function Bd(e,t,r){if(e instanceof ie.Name){const n=t===ss.Num;return r?n?(0,ie._)`"[" + ${e} + "]"`:(0,ie._)`"['" + ${e} + "']"`:n?(0,ie._)`"/" + ${e}`:(0,ie._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,ie.getProperty)(e).toString():"/"+js(e)}x.getErrorPath=Bd;function pc(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}x.checkStrictMode=pc;var nt={};Object.defineProperty(nt,"__esModule",{value:!0});const Te=Z,Kd={data:new Te.Name("data"),valCxt:new Te.Name("valCxt"),instancePath:new Te.Name("instancePath"),parentData:new Te.Name("parentData"),parentDataProperty:new Te.Name("parentDataProperty"),rootData:new Te.Name("rootData"),dynamicAnchors:new Te.Name("dynamicAnchors"),vErrors:new Te.Name("vErrors"),errors:new Te.Name("errors"),this:new Te.Name("this"),self:new Te.Name("self"),scope:new Te.Name("scope"),json:new Te.Name("json"),jsonPos:new Te.Name("jsonPos"),jsonLen:new Te.Name("jsonLen"),jsonPart:new Te.Name("jsonPart")};nt.default=Kd;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Z,r=x,n=nt;e.keywordError={message:({keyword:p})=>(0,t.str)`must pass "${p}" keyword validation`},e.keyword$DataError={message:({keyword:p,schemaType:m})=>m?(0,t.str)`"${p}" keyword must be ${m} ($data)`:(0,t.str)`"${p}" keyword is invalid ($data)`};function s(p,m=e.keywordError,h,g){const{it:N}=p,{gen:O,compositeRule:L,allErrors:k}=N,B=E(p,m,h);g??(L||k)?a(O,B):l(N,(0,t._)`[${B}]`)}e.reportError=s;function i(p,m=e.keywordError,h){const{it:g}=p,{gen:N,compositeRule:O,allErrors:L}=g,k=E(p,m,h);a(N,k),O||L||l(g,n.default.vErrors)}e.reportExtraError=i;function o(p,m){p.assign(n.default.errors,m),p.if((0,t._)`${n.default.vErrors} !== null`,()=>p.if(m,()=>p.assign((0,t._)`${n.default.vErrors}.length`,m),()=>p.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function c({gen:p,keyword:m,schemaValue:h,data:g,errsCount:N,it:O}){if(N===void 0)throw new Error("ajv implementation error");const L=p.name("err");p.forRange("i",N,n.default.errors,k=>{p.const(L,(0,t._)`${n.default.vErrors}[${k}]`),p.if((0,t._)`${L}.instancePath === undefined`,()=>p.assign((0,t._)`${L}.instancePath`,(0,t.strConcat)(n.default.instancePath,O.errorPath))),p.assign((0,t._)`${L}.schemaPath`,(0,t.str)`${O.errSchemaPath}/${m}`),O.opts.verbose&&(p.assign((0,t._)`${L}.schema`,h),p.assign((0,t._)`${L}.data`,g))})}e.extendErrors=c;function a(p,m){const h=p.const("err",m);p.if((0,t._)`${n.default.vErrors} === null`,()=>p.assign(n.default.vErrors,(0,t._)`[${h}]`),(0,t._)`${n.default.vErrors}.push(${h})`),p.code((0,t._)`${n.default.errors}++`)}function l(p,m){const{gen:h,validateName:g,schemaEnv:N}=p;N.$async?h.throw((0,t._)`new ${p.ValidationError}(${m})`):(h.assign((0,t._)`${g}.errors`,m),h.return(!1))}const u={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function E(p,m,h){const{createErrors:g}=p.it;return g===!1?(0,t._)`{}`:v(p,m,h)}function v(p,m,h={}){const{gen:g,it:N}=p,O=[f(N,h),d(p,h)];return $(p,m,O),g.object(...O)}function f({errorPath:p},{instancePath:m}){const h=m?(0,t.str)`${p}${(0,r.getErrorPath)(m,r.Type.Str)}`:p;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,h)]}function d({keyword:p,it:{errSchemaPath:m}},{schemaPath:h,parentSchema:g}){let N=g?m:(0,t.str)`${m}/${p}`;return h&&(N=(0,t.str)`${N}${(0,r.getErrorPath)(h,r.Type.Str)}`),[u.schemaPath,N]}function $(p,{params:m,message:h},g){const{keyword:N,data:O,schemaValue:L,it:k}=p,{opts:B,propertyName:b,topSchemaRef:F,schemaPath:U}=k;g.push([u.keyword,N],[u.params,typeof m=="function"?m(p):m||(0,t._)`{}`]),B.messages&&g.push([u.message,typeof h=="function"?h(p):h]),B.verbose&&g.push([u.schema,L],[u.parentSchema,(0,t._)`${F}${U}`],[n.default.data,O]),b&&g.push([u.propertyName,b])}})(_r);Object.defineProperty(qt,"__esModule",{value:!0});qt.boolOrEmptySchema=qt.topBoolOrEmptySchema=void 0;const Wd=_r,Xd=Z,Zd=nt,Jd={message:"boolean schema is false"};function Yd(e){const{gen:t,schema:r,validateName:n}=e;r===!1?yc(e,!1):typeof r=="object"&&r.$async===!0?t.return(Zd.default.data):(t.assign((0,Xd._)`${n}.errors`,null),t.return(!0))}qt.topBoolOrEmptySchema=Yd;function Qd(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),yc(e)):r.var(t,!0)}qt.boolOrEmptySchema=Qd;function yc(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Wd.reportError)(s,Jd,void 0,t)}var $e={},Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.getRules=Pt.isJSONType=void 0;const eh=["string","number","integer","boolean","null","object","array"],th=new Set(eh);function rh(e){return typeof e=="string"&&th.has(e)}Pt.isJSONType=rh;function nh(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Pt.getRules=nh;var it={};Object.defineProperty(it,"__esModule",{value:!0});it.shouldUseRule=it.shouldUseGroup=it.schemaHasRulesForType=void 0;function sh({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Ec(e,n)}it.schemaHasRulesForType=sh;function Ec(e,t){return t.rules.some(r=>$c(e,r))}it.shouldUseGroup=Ec;function $c(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}it.shouldUseRule=$c;Object.defineProperty($e,"__esModule",{value:!0});$e.reportTypeError=$e.checkDataTypes=$e.checkDataType=$e.coerceAndCheckDataType=$e.getJSONTypes=$e.getSchemaTypes=$e.DataType=void 0;const ih=Pt,oh=it,ah=_r,X=Z,gc=x;var Ut;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Ut||($e.DataType=Ut={}));function ch(e){const t=_c(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}$e.getSchemaTypes=ch;function _c(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(ih.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}$e.getJSONTypes=_c;function lh(e,t){const{gen:r,data:n,opts:s}=e,i=uh(t,s.coerceTypes),o=t.length>0&&!(i.length===0&&t.length===1&&(0,oh.schemaHasRulesForType)(e,t[0]));if(o){const c=Ms(t,n,s.strictNumbers,Ut.Wrong);r.if(c,()=>{i.length?fh(e,t,i):Us(e)})}return o}$e.coerceAndCheckDataType=lh;const vc=new Set(["string","number","integer","boolean","null"]);function uh(e,t){return t?e.filter(r=>vc.has(r)||t==="array"&&r==="array"):[]}function fh(e,t,r){const{gen:n,data:s,opts:i}=e,o=n.let("dataType",(0,X._)`typeof ${s}`),c=n.let("coerced",(0,X._)`undefined`);i.coerceTypes==="array"&&n.if((0,X._)`${o} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,X._)`${s}[0]`).assign(o,(0,X._)`typeof ${s}`).if(Ms(t,s,i.strictNumbers),()=>n.assign(c,s))),n.if((0,X._)`${c} !== undefined`);for(const l of r)(vc.has(l)||l==="array"&&i.coerceTypes==="array")&&a(l);n.else(),Us(e),n.endIf(),n.if((0,X._)`${c} !== undefined`,()=>{n.assign(s,c),dh(e,c)});function a(l){switch(l){case"string":n.elseIf((0,X._)`${o} == "number" || ${o} == "boolean"`).assign(c,(0,X._)`"" + ${s}`).elseIf((0,X._)`${s} === null`).assign(c,(0,X._)`""`);return;case"number":n.elseIf((0,X._)`${o} == "boolean" || ${s} === null
              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(c,(0,X._)`+${s}`);return;case"integer":n.elseIf((0,X._)`${o} === "boolean" || ${s} === null
              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(c,(0,X._)`+${s}`);return;case"boolean":n.elseIf((0,X._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(c,!1).elseIf((0,X._)`${s} === "true" || ${s} === 1`).assign(c,!0);return;case"null":n.elseIf((0,X._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(c,null);return;case"array":n.elseIf((0,X._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${s} === null`).assign(c,(0,X._)`[${s}]`)}}}function dh({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,X._)`${t} !== undefined`,()=>e.assign((0,X._)`${t}[${r}]`,n))}function is(e,t,r,n=Ut.Correct){const s=n===Ut.Correct?X.operators.EQ:X.operators.NEQ;let i;switch(e){case"null":return(0,X._)`${t} ${s} null`;case"array":i=(0,X._)`Array.isArray(${t})`;break;case"object":i=(0,X._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=o((0,X._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=o();break;default:return(0,X._)`typeof ${t} ${s} ${e}`}return n===Ut.Correct?i:(0,X.not)(i);function o(c=X.nil){return(0,X.and)((0,X._)`typeof ${t} == "number"`,c,r?(0,X._)`isFinite(${t})`:X.nil)}}$e.checkDataType=is;function Ms(e,t,r,n){if(e.length===1)return is(e[0],t,r,n);let s;const i=(0,gc.toHash)(e);if(i.array&&i.object){const o=(0,X._)`typeof ${t} != "object"`;s=i.null?o:(0,X._)`!${t} || ${o}`,delete i.null,delete i.array,delete i.object}else s=X.nil;i.number&&delete i.integer;for(const o in i)s=(0,X.and)(s,is(o,t,r,n));return s}$e.checkDataTypes=Ms;const hh={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,X._)`{type: ${e}}`:(0,X._)`{type: ${t}}`};function Us(e){const t=mh(e);(0,ah.reportError)(t,hh)}$e.reportTypeError=Us;function mh(e){const{gen:t,data:r,schema:n}=e,s=(0,gc.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}var on={};Object.defineProperty(on,"__esModule",{value:!0});on.assignDefaults=void 0;const Ct=Z,ph=x;function yh(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)io(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,i)=>io(e,i,s.default))}on.assignDefaults=yh;function io(e,t,r){const{gen:n,compositeRule:s,data:i,opts:o}=e;if(r===void 0)return;const c=(0,Ct._)`${i}${(0,Ct.getProperty)(t)}`;if(s){(0,ph.checkStrictMode)(e,`default is ignored for: ${c}`);return}let a=(0,Ct._)`${c} === undefined`;o.useDefaults==="empty"&&(a=(0,Ct._)`${a} || ${c} === null || ${c} === ""`),n.if(a,(0,Ct._)`${c} = ${(0,Ct.stringify)(r)}`)}var et={},J={};Object.defineProperty(J,"__esModule",{value:!0});J.validateUnion=J.validateArray=J.usePattern=J.callValidateCode=J.schemaProperties=J.allSchemaProperties=J.noPropertyInData=J.propertyInData=J.isOwnProperty=J.hasPropFunc=J.reportMissingProp=J.checkMissingProp=J.checkReportMissingProp=void 0;const ae=Z,zs=x,lt=nt,Eh=x;function $h(e,t){const{gen:r,data:n,it:s}=e;r.if(Vs(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,ae._)`${t}`},!0),e.error()})}J.checkReportMissingProp=$h;function gh({gen:e,data:t,it:{opts:r}},n,s){return(0,ae.or)(...n.map(i=>(0,ae.and)(Vs(e,t,i,r.ownProperties),(0,ae._)`${s} = ${i}`)))}J.checkMissingProp=gh;function _h(e,t){e.setParams({missingProperty:t},!0),e.error()}J.reportMissingProp=_h;function wc(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ae._)`Object.prototype.hasOwnProperty`})}J.hasPropFunc=wc;function xs(e,t,r){return(0,ae._)`${wc(e)}.call(${t}, ${r})`}J.isOwnProperty=xs;function vh(e,t,r,n){const s=(0,ae._)`${t}${(0,ae.getProperty)(r)} !== undefined`;return n?(0,ae._)`${s} && ${xs(e,t,r)}`:s}J.propertyInData=vh;function Vs(e,t,r,n){const s=(0,ae._)`${t}${(0,ae.getProperty)(r)} === undefined`;return n?(0,ae.or)(s,(0,ae.not)(xs(e,t,r))):s}J.noPropertyInData=Vs;function Sc(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}J.allSchemaProperties=Sc;function wh(e,t){return Sc(t).filter(r=>!(0,zs.alwaysValidSchema)(e,t[r]))}J.schemaProperties=wh;function Sh({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:i},it:o},c,a,l){const u=l?(0,ae._)`${e}, ${t}, ${n}${s}`:t,E=[[lt.default.instancePath,(0,ae.strConcat)(lt.default.instancePath,i)],[lt.default.parentData,o.parentData],[lt.default.parentDataProperty,o.parentDataProperty],[lt.default.rootData,lt.default.rootData]];o.opts.dynamicRef&&E.push([lt.default.dynamicAnchors,lt.default.dynamicAnchors]);const v=(0,ae._)`${u}, ${r.object(...E)}`;return a!==ae.nil?(0,ae._)`${c}.call(${a}, ${v})`:(0,ae._)`${c}(${v})`}J.callValidateCode=Sh;const Nh=(0,ae._)`new RegExp`;function Ih({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,i=s(r,n);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,ae._)`${s.code==="new RegExp"?Nh:(0,Eh.useFunc)(e,s)}(${r}, ${n})`})}J.usePattern=Ih;function Oh(e){const{gen:t,data:r,keyword:n,it:s}=e,i=t.name("valid");if(s.allErrors){const c=t.let("valid",!0);return o(()=>t.assign(c,!1)),c}return t.var(i,!0),o(()=>t.break()),i;function o(c){const a=t.const("len",(0,ae._)`${r}.length`);t.forRange("i",0,a,l=>{e.subschema({keyword:n,dataProp:l,dataPropType:zs.Type.Num},i),t.if((0,ae.not)(i),c)})}}J.validateArray=Oh;function Ph(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(a=>(0,zs.alwaysValidSchema)(s,a))&&!s.opts.unevaluated)return;const o=t.let("valid",!1),c=t.name("_valid");t.block(()=>r.forEach((a,l)=>{const u=e.subschema({keyword:n,schemaProp:l,compositeRule:!0},c);t.assign(o,(0,ae._)`${o} || ${c}`),e.mergeValidEvaluated(u,c)||t.if((0,ae.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}J.validateUnion=Ph;Object.defineProperty(et,"__esModule",{value:!0});et.validateKeywordUsage=et.validSchemaType=et.funcKeywordCode=et.macroKeywordCode=void 0;const Ce=Z,wt=nt,Th=J,Rh=_r;function bh(e,t){const{gen:r,keyword:n,schema:s,parentSchema:i,it:o}=e,c=t.macro.call(o.self,s,i,o),a=Nc(r,n,c);o.opts.validateSchema!==!1&&o.self.validateSchema(c,!0);const l=r.name("valid");e.subschema({schema:c,schemaPath:Ce.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:a,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}et.macroKeywordCode=bh;function Dh(e,t){var r;const{gen:n,keyword:s,schema:i,parentSchema:o,$data:c,it:a}=e;Lh(a,t);const l=!c&&t.compile?t.compile.call(a.self,i,o,a):t.validate,u=Nc(n,s,l),E=n.let("valid");e.block$data(E,v),e.ok((r=t.valid)!==null&&r!==void 0?r:E);function v(){if(t.errors===!1)$(),t.modifying&&oo(e),p(()=>e.error());else{const m=t.async?f():d();t.modifying&&oo(e),p(()=>Ch(e,m))}}function f(){const m=n.let("ruleErrs",null);return n.try(()=>$((0,Ce._)`await `),h=>n.assign(E,!1).if((0,Ce._)`${h} instanceof ${a.ValidationError}`,()=>n.assign(m,(0,Ce._)`${h}.errors`),()=>n.throw(h))),m}function d(){const m=(0,Ce._)`${u}.errors`;return n.assign(m,null),$(Ce.nil),m}function $(m=t.async?(0,Ce._)`await `:Ce.nil){const h=a.opts.passContext?wt.default.this:wt.default.self,g=!("compile"in t&&!c||t.schema===!1);n.assign(E,(0,Ce._)`${m}${(0,Th.callValidateCode)(e,u,h,g)}`,t.modifying)}function p(m){var h;n.if((0,Ce.not)((h=t.valid)!==null&&h!==void 0?h:E),m)}}et.funcKeywordCode=Dh;function oo(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Ce._)`${n.parentData}[${n.parentDataProperty}]`))}function Ch(e,t){const{gen:r}=e;r.if((0,Ce._)`Array.isArray(${t})`,()=>{r.assign(wt.default.vErrors,(0,Ce._)`${wt.default.vErrors} === null ? ${t} : ${wt.default.vErrors}.concat(${t})`).assign(wt.default.errors,(0,Ce._)`${wt.default.vErrors}.length`),(0,Rh.extendErrors)(e)},()=>e.error())}function Lh({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Nc(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Ce.stringify)(r)})}function Ah(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}et.validSchemaType=Ah;function Fh({schema:e,opts:t,self:r,errSchemaPath:n},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw new Error("ajv implementation error");const o=s.dependencies;if(o?.some(c=>!Object.prototype.hasOwnProperty.call(e,c)))throw new Error(`parent schema must have dependencies of ${i}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[i])){const a=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(a);else throw new Error(a)}}et.validateKeywordUsage=Fh;var $t={};Object.defineProperty($t,"__esModule",{value:!0});$t.extendSubschemaMode=$t.extendSubschemaData=$t.getSubschema=void 0;const Ye=Z,Ic=x;function jh(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:i,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const c=e.schema[t];return r===void 0?{schema:c,schemaPath:(0,Ye._)`${e.schemaPath}${(0,Ye.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:c[r],schemaPath:(0,Ye._)`${e.schemaPath}${(0,Ye.getProperty)(t)}${(0,Ye.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Ic.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||i===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:o,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}$t.getSubschema=jh;function kh(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:i,propertyName:o}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:c}=t;if(r!==void 0){const{errorPath:l,dataPathArr:u,opts:E}=t,v=c.let("data",(0,Ye._)`${t.data}${(0,Ye.getProperty)(r)}`,!0);a(v),e.errorPath=(0,Ye.str)`${l}${(0,Ic.getErrorPath)(r,n,E.jsPropertySyntax)}`,e.parentDataProperty=(0,Ye._)`${r}`,e.dataPathArr=[...u,e.parentDataProperty]}if(s!==void 0){const l=s instanceof Ye.Name?s:c.let("data",s,!0);a(l),o!==void 0&&(e.propertyName=o)}i&&(e.dataTypes=i);function a(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}$t.extendSubschemaData=kh;function Mh(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:i}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}$t.extendSubschemaMode=Mh;var Oe={},Oc=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r},Pc={exports:{}},Et=Pc.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};xr(t,n,s,e,"",e)};Et.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Et.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Et.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Et.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function xr(e,t,r,n,s,i,o,c,a,l){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,i,o,c,a,l);for(var u in n){var E=n[u];if(Array.isArray(E)){if(u in Et.arrayKeywords)for(var v=0;v<E.length;v++)xr(e,t,r,E[v],s+"/"+u+"/"+v,i,s,u,n,v)}else if(u in Et.propsKeywords){if(E&&typeof E=="object")for(var f in E)xr(e,t,r,E[f],s+"/"+u+"/"+Uh(f),i,s,u,n,f)}else(u in Et.keywords||e.allKeys&&!(u in Et.skipKeywords))&&xr(e,t,r,E,s+"/"+u,i,s,u,n)}r(n,s,i,o,c,a,l)}}function Uh(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var zh=Pc.exports;Object.defineProperty(Oe,"__esModule",{value:!0});Oe.getSchemaRefs=Oe.resolveUrl=Oe.normalizeId=Oe._getFullPath=Oe.getFullPath=Oe.inlineRef=void 0;const xh=x,Vh=Oc,Gh=zh,Hh=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function qh(e,t=!0){return typeof e=="boolean"?!0:t===!0?!os(e):t?Tc(e)<=t:!1}Oe.inlineRef=qh;const Bh=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function os(e){for(const t in e){if(Bh.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(os)||typeof r=="object"&&os(r))return!0}return!1}function Tc(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Hh.has(r)&&(typeof e[r]=="object"&&(0,xh.eachItem)(e[r],n=>t+=Tc(n)),t===1/0))return 1/0}return t}function Rc(e,t="",r){r!==!1&&(t=zt(t));const n=e.parse(t);return bc(e,n)}Oe.getFullPath=Rc;function bc(e,t){return e.serialize(t).split("#")[0]+"#"}Oe._getFullPath=bc;const Kh=/#\/?$/;function zt(e){return e?e.replace(Kh,""):""}Oe.normalizeId=zt;function Wh(e,t,r){return r=zt(r),e.resolve(t,r)}Oe.resolveUrl=Wh;const Xh=/^[a-z_][-a-z0-9._]*$/i;function Zh(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=zt(e[r]||t),i={"":s},o=Rc(n,s,!1),c={},a=new Set;return Gh(e,{allKeys:!0},(E,v,f,d)=>{if(d===void 0)return;const $=o+v;let p=i[d];typeof E[r]=="string"&&(p=m.call(this,E[r])),h.call(this,E.$anchor),h.call(this,E.$dynamicAnchor),i[v]=p;function m(g){const N=this.opts.uriResolver.resolve;if(g=zt(p?N(p,g):g),a.has(g))throw u(g);a.add(g);let O=this.refs[g];return typeof O=="string"&&(O=this.refs[O]),typeof O=="object"?l(E,O.schema,g):g!==zt($)&&(g[0]==="#"?(l(E,c[g],g),c[g]=E):this.refs[g]=$),g}function h(g){if(typeof g=="string"){if(!Xh.test(g))throw new Error(`invalid anchor "${g}"`);m.call(this,`#${g}`)}}}),c;function l(E,v,f){if(v!==void 0&&!Vh(E,v))throw u(f)}function u(E){return new Error(`reference "${E}" resolves to more than one schema`)}}Oe.getSchemaRefs=Zh;Object.defineProperty(Ke,"__esModule",{value:!0});Ke.getData=Ke.KeywordCxt=Ke.validateFunctionCode=void 0;const Dc=qt,ao=$e,Gs=it,Xr=$e,Jh=on,cr=et,zn=$t,q=Z,K=nt,Yh=Oe,ot=x,rr=_r;function Qh(e){if(Ac(e)&&(Fc(e),Lc(e))){rm(e);return}Cc(e,()=>(0,Dc.topBoolOrEmptySchema)(e))}Ke.validateFunctionCode=Qh;function Cc({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},i){s.code.es5?e.func(t,(0,q._)`${K.default.data}, ${K.default.valCxt}`,n.$async,()=>{e.code((0,q._)`"use strict"; ${co(r,s)}`),tm(e,s),e.code(i)}):e.func(t,(0,q._)`${K.default.data}, ${em(s)}`,n.$async,()=>e.code(co(r,s)).code(i))}function em(e){return(0,q._)`{${K.default.instancePath}="", ${K.default.parentData}, ${K.default.parentDataProperty}, ${K.default.rootData}=${K.default.data}${e.dynamicRef?(0,q._)`, ${K.default.dynamicAnchors}={}`:q.nil}}={}`}function tm(e,t){e.if(K.default.valCxt,()=>{e.var(K.default.instancePath,(0,q._)`${K.default.valCxt}.${K.default.instancePath}`),e.var(K.default.parentData,(0,q._)`${K.default.valCxt}.${K.default.parentData}`),e.var(K.default.parentDataProperty,(0,q._)`${K.default.valCxt}.${K.default.parentDataProperty}`),e.var(K.default.rootData,(0,q._)`${K.default.valCxt}.${K.default.rootData}`),t.dynamicRef&&e.var(K.default.dynamicAnchors,(0,q._)`${K.default.valCxt}.${K.default.dynamicAnchors}`)},()=>{e.var(K.default.instancePath,(0,q._)`""`),e.var(K.default.parentData,(0,q._)`undefined`),e.var(K.default.parentDataProperty,(0,q._)`undefined`),e.var(K.default.rootData,K.default.data),t.dynamicRef&&e.var(K.default.dynamicAnchors,(0,q._)`{}`)})}function rm(e){const{schema:t,opts:r,gen:n}=e;Cc(e,()=>{r.$comment&&t.$comment&&kc(e),am(e),n.let(K.default.vErrors,null),n.let(K.default.errors,0),r.unevaluated&&nm(e),jc(e),um(e)})}function nm(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,q._)`${r}.evaluated`),t.if((0,q._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,q._)`${e.evaluated}.props`,(0,q._)`undefined`)),t.if((0,q._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,q._)`${e.evaluated}.items`,(0,q._)`undefined`))}function co(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,q._)`/*# sourceURL=${r} */`:q.nil}function sm(e,t){if(Ac(e)&&(Fc(e),Lc(e))){im(e,t);return}(0,Dc.boolOrEmptySchema)(e,t)}function Lc({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Ac(e){return typeof e.schema!="boolean"}function im(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&kc(e),cm(e),lm(e);const i=n.const("_errs",K.default.errors);jc(e,i),n.var(t,(0,q._)`${i} === ${K.default.errors}`)}function Fc(e){(0,ot.checkUnknownRules)(e),om(e)}function jc(e,t){if(e.opts.jtd)return lo(e,[],!1,t);const r=(0,ao.getSchemaTypes)(e.schema),n=(0,ao.coerceAndCheckDataType)(e,r);lo(e,r,!n,t)}function om(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,ot.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function am(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,ot.checkStrictMode)(e,"default is ignored in the schema root")}function cm(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Yh.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function lm(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function kc({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const i=r.$comment;if(s.$comment===!0)e.code((0,q._)`${K.default.self}.logger.log(${i})`);else if(typeof s.$comment=="function"){const o=(0,q.str)`${n}/$comment`,c=e.scopeValue("root",{ref:t.root});e.code((0,q._)`${K.default.self}.opts.$comment(${i}, ${o}, ${c}.schema)`)}}function um(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:i}=e;r.$async?t.if((0,q._)`${K.default.errors} === 0`,()=>t.return(K.default.data),()=>t.throw((0,q._)`new ${s}(${K.default.vErrors})`)):(t.assign((0,q._)`${n}.errors`,K.default.vErrors),i.unevaluated&&fm(e),t.return((0,q._)`${K.default.errors} === 0`))}function fm({gen:e,evaluated:t,props:r,items:n}){r instanceof q.Name&&e.assign((0,q._)`${t}.props`,r),n instanceof q.Name&&e.assign((0,q._)`${t}.items`,n)}function lo(e,t,r,n){const{gen:s,schema:i,data:o,allErrors:c,opts:a,self:l}=e,{RULES:u}=l;if(i.$ref&&(a.ignoreKeywordsWithRef||!(0,ot.schemaHasRulesButRef)(i,u))){s.block(()=>zc(e,"$ref",u.all.$ref.definition));return}a.jtd||dm(e,t),s.block(()=>{for(const v of u.rules)E(v);E(u.post)});function E(v){(0,Gs.shouldUseGroup)(i,v)&&(v.type?(s.if((0,Xr.checkDataType)(v.type,o,a.strictNumbers)),uo(e,v),t.length===1&&t[0]===v.type&&r&&(s.else(),(0,Xr.reportTypeError)(e)),s.endIf()):uo(e,v),c||s.if((0,q._)`${K.default.errors} === ${n||0}`))}}function uo(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,Jh.assignDefaults)(e,t.type),r.block(()=>{for(const i of t.rules)(0,Gs.shouldUseRule)(n,i)&&zc(e,i.keyword,i.definition,t.type)})}function dm(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(hm(e,t),e.opts.allowUnionTypes||mm(e,t),pm(e,e.dataTypes))}function hm(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{Mc(e.dataTypes,r)||Hs(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),Em(e,t)}}function mm(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Hs(e,"use allowUnionTypes to allow union type keyword")}function pm(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,Gs.shouldUseRule)(e.schema,s)){const{type:i}=s.definition;i.length&&!i.some(o=>ym(t,o))&&Hs(e,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function ym(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function Mc(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Em(e,t){const r=[];for(const n of e.dataTypes)Mc(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function Hs(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,ot.checkStrictMode)(e,t,e.opts.strictTypes)}class Uc{constructor(t,r,n){if((0,cr.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ot.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",xc(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,cr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",K.default.errors))}result(t,r,n){this.failResult((0,q.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,q.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,q._)`${r} !== undefined && (${(0,q.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?rr.reportExtraError:rr.reportError)(this,this.def.error,r)}$dataError(){(0,rr.reportError)(this,this.def.$dataError||rr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,rr.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=q.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=q.nil,r=q.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:i,def:o}=this;n.if((0,q.or)((0,q._)`${s} === undefined`,r)),t!==q.nil&&n.assign(t,!0),(i.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==q.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:i}=this;return(0,q.or)(o(),c());function o(){if(n.length){if(!(r instanceof q.Name))throw new Error("ajv implementation error");const a=Array.isArray(n)?n:[n];return(0,q._)`${(0,Xr.checkDataTypes)(a,r,i.opts.strictNumbers,Xr.DataType.Wrong)}`}return q.nil}function c(){if(s.validateSchema){const a=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,q._)`!${a}(${r})`}return q.nil}}subschema(t,r){const n=(0,zn.getSubschema)(this.it,t);(0,zn.extendSubschemaData)(n,this.it,t),(0,zn.extendSubschemaMode)(n,t);const s={...this.it,...n,items:void 0,props:void 0};return sm(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=ot.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=ot.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,q.Name)),!0}}Ke.KeywordCxt=Uc;function zc(e,t,r,n){const s=new Uc(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,cr.funcKeywordCode)(s,r):"macro"in r?(0,cr.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,cr.funcKeywordCode)(s,r)}const $m=/^\/(?:[^~]|~0|~1)*$/,gm=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function xc(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,i;if(e==="")return K.default.rootData;if(e[0]==="/"){if(!$m.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,i=K.default.rootData}else{const l=gm.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const u=+l[1];if(s=l[2],s==="#"){if(u>=t)throw new Error(a("property/index",u));return n[t-u]}if(u>t)throw new Error(a("data",u));if(i=r[t-u],!s)return i}let o=i;const c=s.split("/");for(const l of c)l&&(i=(0,q._)`${i}${(0,q.getProperty)((0,ot.unescapeJsonPointer)(l))}`,o=(0,q._)`${o} && ${i}`);return o;function a(l,u){return`Cannot access ${l} ${u} levels up, current level is ${t}`}}Ke.getData=xc;var vr={};Object.defineProperty(vr,"__esModule",{value:!0});class _m extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}vr.default=_m;var Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});const xn=Oe;class vm extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,xn.resolveUrl)(t,r,n),this.missingSchema=(0,xn.normalizeId)((0,xn.getFullPath)(t,this.missingRef))}}Zt.default=vm;var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.resolveSchema=Ue.getCompilingSchema=Ue.resolveRef=Ue.compileSchema=Ue.SchemaEnv=void 0;const He=Z,wm=vr,_t=nt,Be=Oe,fo=x,Sm=Ke;class an{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Be.normalizeId)(n?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n?.$async,this.refs={}}}Ue.SchemaEnv=an;function qs(e){const t=Vc.call(this,e);if(t)return t;const r=(0,Be.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,o=new He.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i});let c;e.$async&&(c=o.scopeValue("Error",{ref:wm.default,code:(0,He._)`require("ajv/dist/runtime/validation_error").default`}));const a=o.scopeName("validate");e.validateName=a;const l={gen:o,allErrors:this.opts.allErrors,data:_t.default.data,parentData:_t.default.parentData,parentDataProperty:_t.default.parentDataProperty,dataNames:[_t.default.data],dataPathArr:[He.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,He.stringify)(e.schema)}:{ref:e.schema}),validateName:a,ValidationError:c,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:He.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,He._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(e),(0,Sm.validateFunctionCode)(l),o.optimize(this.opts.code.optimize);const E=o.toString();u=`${o.scopeRefs(_t.default.scope)}return ${E}`,this.opts.code.process&&(u=this.opts.code.process(u,e));const f=new Function(`${_t.default.self}`,`${_t.default.scope}`,u)(this,this.scope.get());if(this.scope.value(a,{ref:f}),f.errors=null,f.schema=e.schema,f.schemaEnv=e,e.$async&&(f.$async=!0),this.opts.code.source===!0&&(f.source={validateName:a,validateCode:E,scopeValues:o._values}),this.opts.unevaluated){const{props:d,items:$}=l;f.evaluated={props:d instanceof He.Name?void 0:d,items:$ instanceof He.Name?void 0:$,dynamicProps:d instanceof He.Name,dynamicItems:$ instanceof He.Name},f.source&&(f.source.evaluated=(0,He.stringify)(f.evaluated))}return e.validate=f,e}catch(E){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),E}finally{this._compilations.delete(e)}}Ue.compileSchema=qs;function Nm(e,t,r){var n;r=(0,Be.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let i=Pm.call(this,e,r);if(i===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:c}=this.opts;o&&(i=new an({schema:o,schemaId:c,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=Im.call(this,i)}Ue.resolveRef=Nm;function Im(e){return(0,Be.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:qs.call(this,e)}function Vc(e){for(const t of this._compilations)if(Om(t,e))return t}Ue.getCompilingSchema=Vc;function Om(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Pm(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||cn.call(this,e,t)}function cn(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Be._getFullPath)(this.opts.uriResolver,r);let s=(0,Be.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return Vn.call(this,r,e);const i=(0,Be.normalizeId)(n),o=this.refs[i]||this.schemas[i];if(typeof o=="string"){const c=cn.call(this,e,o);return typeof c?.schema!="object"?void 0:Vn.call(this,r,c)}if(typeof o?.schema=="object"){if(o.validate||qs.call(this,o),i===(0,Be.normalizeId)(t)){const{schema:c}=o,{schemaId:a}=this.opts,l=c[a];return l&&(s=(0,Be.resolveUrl)(this.opts.uriResolver,s,l)),new an({schema:c,schemaId:a,root:e,baseId:s})}return Vn.call(this,r,o)}}Ue.resolveSchema=cn;const Tm=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Vn(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const c of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const a=r[(0,fo.unescapeFragment)(c)];if(a===void 0)return;r=a;const l=typeof r=="object"&&r[this.opts.schemaId];!Tm.has(c)&&l&&(t=(0,Be.resolveUrl)(this.opts.uriResolver,t,l))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,fo.schemaHasRulesButRef)(r,this.RULES)){const c=(0,Be.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=cn.call(this,n,c)}const{schemaId:o}=this.opts;if(i=i||new an({schema:r,schemaId:o,root:n,baseId:t}),i.schema!==i.root.schema)return i}const Rm="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",bm="Meta-schema for $data reference (JSON AnySchema extension proposal)",Dm="object",Cm=["$data"],Lm={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Am=!1,Fm={$id:Rm,description:bm,type:Dm,required:Cm,properties:Lm,additionalProperties:Am};var Bs={},ln={exports:{}};const jm={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};var km={HEX:jm};const{HEX:Mm}=km;function Gc(e){if(qc(e,".")<3)return{host:e,isIPV4:!1};const t=e.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[r]=t;return r?{host:zm(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function as(e,t=!1){let r="",n=!0;for(const s of e){if(Mm[s]===void 0)return;s!=="0"&&n===!0&&(n=!1),n||(r+=s)}return t&&r.length===0&&(r="0"),r}function Um(e){let t=0;const r={error:!1,address:"",zone:""},n=[],s=[];let i=!1,o=!1,c=!1;function a(){if(s.length){if(i===!1){const l=as(s);if(l!==void 0)n.push(l);else return r.error=!0,!1}s.length=0}return!0}for(let l=0;l<e.length;l++){const u=e[l];if(!(u==="["||u==="]"))if(u===":"){if(o===!0&&(c=!0),!a())break;if(t++,n.push(":"),t>7){r.error=!0;break}l-1>=0&&e[l-1]===":"&&(o=!0);continue}else if(u==="%"){if(!a())break;i=!0}else{s.push(u);continue}}return s.length&&(i?r.zone=s.join(""):c?n.push(s.join("")):n.push(as(s))),r.address=n.join(""),r}function Hc(e,t={}){if(qc(e,":")<2)return{host:e,isIPV6:!1};const r=Um(e);if(r.error)return{host:e,isIPV6:!1};{let n=r.address,s=r.address;return r.zone&&(n+="%"+r.zone,s+="%25"+r.zone),{host:n,escapedHost:s,isIPV6:!0}}}function zm(e,t){let r="",n=!0;const s=e.length;for(let i=0;i<s;i++){const o=e[i];o==="0"&&n?(i+1<=s&&e[i+1]===t||i+1===s)&&(r+=o,n=!1):(o===t?n=!0:n=!1,r+=o)}return r}function qc(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}const ho=/^\.\.?\//u,mo=/^\/\.(?:\/|$)/u,po=/^\/\.\.(?:\/|$)/u,xm=/^\/?(?:.|\n)*?(?=\/|$)/u;function Vm(e){const t=[];for(;e.length;)if(e.match(ho))e=e.replace(ho,"");else if(e.match(mo))e=e.replace(mo,"/");else if(e.match(po))e=e.replace(po,"/"),t.pop();else if(e==="."||e==="..")e="";else{const r=e.match(xm);if(r){const n=r[0];e=e.slice(n.length),t.push(n)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function Gm(e,t){const r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function Hm(e,t){const r=[];if(e.userinfo!==void 0&&(r.push(e.userinfo),r.push("@")),e.host!==void 0){let n=unescape(e.host);const s=Gc(n);if(s.isIPV4)n=s.host;else{const i=Hc(s.host,{isIPV4:!1});i.isIPV6===!0?n=`[${i.escapedHost}]`:n=e.host}r.push(n)}return(typeof e.port=="number"||typeof e.port=="string")&&(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}var qm={recomposeAuthority:Hm,normalizeComponentEncoding:Gm,removeDotSegments:Vm,normalizeIPv4:Gc,normalizeIPv6:Hc,stringArrayToHexStripped:as};const Bm=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,Km=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function Bc(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function Kc(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function Wc(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function Wm(e){return e.secure=Bc(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function Xm(e){if((e.port===(Bc(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function Zm(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(Km);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const s=`${n}:${t.nid||e.nid}`,i=Ks[s];e.path=void 0,i&&(e=i.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function Jm(e,t){const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),s=`${r}:${t.nid||n}`,i=Ks[s];i&&(e=i.serialize(e,t));const o=e,c=e.nss;return o.path=`${n||t.nid}:${c}`,t.skipEscape=!0,o}function Ym(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!Bm.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Qm(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const Xc={scheme:"http",domainHost:!0,parse:Kc,serialize:Wc},ep={scheme:"https",domainHost:Xc.domainHost,parse:Kc,serialize:Wc},Vr={scheme:"ws",domainHost:!0,parse:Wm,serialize:Xm},tp={scheme:"wss",domainHost:Vr.domainHost,parse:Vr.parse,serialize:Vr.serialize},rp={scheme:"urn",parse:Zm,serialize:Jm,skipNormalize:!0},np={scheme:"urn:uuid",parse:Ym,serialize:Qm,skipNormalize:!0},Ks={http:Xc,https:ep,ws:Vr,wss:tp,urn:rp,"urn:uuid":np};var sp=Ks;const{normalizeIPv6:ip,normalizeIPv4:op,removeDotSegments:ir,recomposeAuthority:ap,normalizeComponentEncoding:br}=qm,Ws=sp;function cp(e,t){return typeof e=="string"?e=tt(at(e,t),t):typeof e=="object"&&(e=at(tt(e,t),t)),e}function lp(e,t,r){const n=Object.assign({scheme:"null"},r),s=Zc(at(e,n),at(t,n),n,!0);return tt(s,{...n,skipEscape:!0})}function Zc(e,t,r,n){const s={};return n||(e=at(tt(e,r),r),t=at(tt(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=ir(t.path||""),s.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=ir(t.path||""),s.query=t.query):(t.path?(t.path.charAt(0)==="/"?s.path=ir(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?s.path="/"+t.path:e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path,s.path=ir(s.path)),s.query=t.query):(s.path=e.path,t.query!==void 0?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function up(e,t,r){return typeof e=="string"?(e=unescape(e),e=tt(br(at(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=tt(br(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=tt(br(at(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=tt(br(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function tt(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],i=Ws[(n.scheme||r.scheme||"").toLowerCase()];i&&i.serialize&&i.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&s.push(r.scheme,":");const o=ap(r,n);if(o!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(o),r.path&&r.path.charAt(0)!=="/"&&s.push("/")),r.path!==void 0){let c=r.path;!n.absolutePath&&(!i||!i.absolutePath)&&(c=ir(c)),o===void 0&&(c=c.replace(/^\/\//u,"/%2F")),s.push(c)}return r.query!==void 0&&s.push("?",r.query),r.fragment!==void 0&&s.push("#",r.fragment),s.join("")}const fp=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function dp(e){let t=0;for(let r=0,n=e.length;r<n;++r)if(t=e.charCodeAt(r),t>126||fp[t])return!0;return!1}const hp=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function at(e,t){const r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},s=e.indexOf("%")!==-1;let i=!1;r.reference==="suffix"&&(e=(r.scheme?r.scheme+":":"")+"//"+e);const o=e.match(hp);if(o){if(n.scheme=o[1],n.userinfo=o[3],n.host=o[4],n.port=parseInt(o[5],10),n.path=o[6]||"",n.query=o[7],n.fragment=o[8],isNaN(n.port)&&(n.port=o[5]),n.host){const a=op(n.host);if(a.isIPV4===!1){const l=ip(a.host,{isIPV4:!1});n.host=l.host.toLowerCase(),i=l.isIPV6}else n.host=a.host,i=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&!n.path&&n.query===void 0?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const c=Ws[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!c||!c.unicodeSupport)&&n.host&&(r.domainHost||c&&c.domainHost)&&i===!1&&dp(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(a){n.error=n.error||"Host's domain name can not be converted to ASCII: "+a}(!c||c&&!c.skipNormalize)&&(s&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),s&&n.host!==void 0&&(n.host=unescape(n.host)),n.path!==void 0&&n.path.length&&(n.path=escape(unescape(n.path))),n.fragment!==void 0&&n.fragment.length&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),c&&c.parse&&c.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const Xs={SCHEMES:Ws,normalize:cp,resolve:lp,resolveComponents:Zc,equal:up,serialize:tt,parse:at};ln.exports=Xs;ln.exports.default=Xs;ln.exports.fastUri=Xs;var mp=ln.exports;Object.defineProperty(Bs,"__esModule",{value:!0});const Jc=mp;Jc.code='require("ajv/dist/runtime/uri").default';Bs.default=Jc;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ke;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=Z;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=vr,s=Zt,i=Pt,o=Ue,c=Z,a=Oe,l=$e,u=x,E=Fm,v=Bs,f=(S,w)=>new RegExp(S,w);f.code="new RegExp";const d=["removeAdditional","useDefaults","coerceTypes"],$=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),p={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},h=200;function g(S){var w,T,I,y,_,D,G,H,re,Q,_e,bt,Sn,Nn,In,On,Pn,Tn,Rn,bn,Dn,Cn,Ln,An,Fn;const tr=S.strict,jn=(w=S.code)===null||w===void 0?void 0:w.optimize,ji=jn===!0||jn===void 0?1:jn||0,ki=(I=(T=S.code)===null||T===void 0?void 0:T.regExp)!==null&&I!==void 0?I:f,wl=(y=S.uriResolver)!==null&&y!==void 0?y:v.default;return{strictSchema:(D=(_=S.strictSchema)!==null&&_!==void 0?_:tr)!==null&&D!==void 0?D:!0,strictNumbers:(H=(G=S.strictNumbers)!==null&&G!==void 0?G:tr)!==null&&H!==void 0?H:!0,strictTypes:(Q=(re=S.strictTypes)!==null&&re!==void 0?re:tr)!==null&&Q!==void 0?Q:"log",strictTuples:(bt=(_e=S.strictTuples)!==null&&_e!==void 0?_e:tr)!==null&&bt!==void 0?bt:"log",strictRequired:(Nn=(Sn=S.strictRequired)!==null&&Sn!==void 0?Sn:tr)!==null&&Nn!==void 0?Nn:!1,code:S.code?{...S.code,optimize:ji,regExp:ki}:{optimize:ji,regExp:ki},loopRequired:(In=S.loopRequired)!==null&&In!==void 0?In:h,loopEnum:(On=S.loopEnum)!==null&&On!==void 0?On:h,meta:(Pn=S.meta)!==null&&Pn!==void 0?Pn:!0,messages:(Tn=S.messages)!==null&&Tn!==void 0?Tn:!0,inlineRefs:(Rn=S.inlineRefs)!==null&&Rn!==void 0?Rn:!0,schemaId:(bn=S.schemaId)!==null&&bn!==void 0?bn:"$id",addUsedSchema:(Dn=S.addUsedSchema)!==null&&Dn!==void 0?Dn:!0,validateSchema:(Cn=S.validateSchema)!==null&&Cn!==void 0?Cn:!0,validateFormats:(Ln=S.validateFormats)!==null&&Ln!==void 0?Ln:!0,unicodeRegExp:(An=S.unicodeRegExp)!==null&&An!==void 0?An:!0,int32range:(Fn=S.int32range)!==null&&Fn!==void 0?Fn:!0,uriResolver:wl}}class N{constructor(w={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,w=this.opts={...w,...g(w)};const{es5:T,lines:I}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:$,es5:T,lines:I}),this.logger=V(w.logger);const y=w.validateFormats;w.validateFormats=!1,this.RULES=(0,i.getRules)(),O.call(this,p,w,"NOT SUPPORTED"),O.call(this,m,w,"DEPRECATED","warn"),this._metaOpts=F.call(this),w.formats&&B.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),w.keywords&&b.call(this,w.keywords),typeof w.meta=="object"&&this.addMetaSchema(w.meta),k.call(this),w.validateFormats=y}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:w,meta:T,schemaId:I}=this.opts;let y=E;I==="id"&&(y={...E},y.id=y.$id,delete y.$id),T&&w&&this.addMetaSchema(y,y[I],!1)}defaultMeta(){const{meta:w,schemaId:T}=this.opts;return this.opts.defaultMeta=typeof w=="object"?w[T]||w:void 0}validate(w,T){let I;if(typeof w=="string"){if(I=this.getSchema(w),!I)throw new Error(`no schema with key or ref "${w}"`)}else I=this.compile(w);const y=I(T);return"$async"in I||(this.errors=I.errors),y}compile(w,T){const I=this._addSchema(w,T);return I.validate||this._compileSchemaEnv(I)}compileAsync(w,T){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:I}=this.opts;return y.call(this,w,T);async function y(Q,_e){await _.call(this,Q.$schema);const bt=this._addSchema(Q,_e);return bt.validate||D.call(this,bt)}async function _(Q){Q&&!this.getSchema(Q)&&await y.call(this,{$ref:Q},!0)}async function D(Q){try{return this._compileSchemaEnv(Q)}catch(_e){if(!(_e instanceof s.default))throw _e;return G.call(this,_e),await H.call(this,_e.missingSchema),D.call(this,Q)}}function G({missingSchema:Q,missingRef:_e}){if(this.refs[Q])throw new Error(`AnySchema ${Q} is loaded but ${_e} cannot be resolved`)}async function H(Q){const _e=await re.call(this,Q);this.refs[Q]||await _.call(this,_e.$schema),this.refs[Q]||this.addSchema(_e,Q,T)}async function re(Q){const _e=this._loading[Q];if(_e)return _e;try{return await(this._loading[Q]=I(Q))}finally{delete this._loading[Q]}}}addSchema(w,T,I,y=this.opts.validateSchema){if(Array.isArray(w)){for(const D of w)this.addSchema(D,void 0,I,y);return this}let _;if(typeof w=="object"){const{schemaId:D}=this.opts;if(_=w[D],_!==void 0&&typeof _!="string")throw new Error(`schema ${D} must be string`)}return T=(0,a.normalizeId)(T||_),this._checkUnique(T),this.schemas[T]=this._addSchema(w,I,T,y,!0),this}addMetaSchema(w,T,I=this.opts.validateSchema){return this.addSchema(w,T,!0,I),this}validateSchema(w,T){if(typeof w=="boolean")return!0;let I;if(I=w.$schema,I!==void 0&&typeof I!="string")throw new Error("$schema must be a string");if(I=I||this.opts.defaultMeta||this.defaultMeta(),!I)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const y=this.validate(I,w);if(!y&&T){const _="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(_);else throw new Error(_)}return y}getSchema(w){let T;for(;typeof(T=L.call(this,w))=="string";)w=T;if(T===void 0){const{schemaId:I}=this.opts,y=new o.SchemaEnv({schema:{},schemaId:I});if(T=o.resolveSchema.call(this,y,w),!T)return;this.refs[w]=T}return T.validate||this._compileSchemaEnv(T)}removeSchema(w){if(w instanceof RegExp)return this._removeAllSchemas(this.schemas,w),this._removeAllSchemas(this.refs,w),this;switch(typeof w){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const T=L.call(this,w);return typeof T=="object"&&this._cache.delete(T.schema),delete this.schemas[w],delete this.refs[w],this}case"object":{const T=w;this._cache.delete(T);let I=w[this.opts.schemaId];return I&&(I=(0,a.normalizeId)(I),delete this.schemas[I],delete this.refs[I]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(w){for(const T of w)this.addKeyword(T);return this}addKeyword(w,T){let I;if(typeof w=="string")I=w,typeof T=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),T.keyword=I);else if(typeof w=="object"&&T===void 0){if(T=w,I=T.keyword,Array.isArray(I)&&!I.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(A.call(this,I,T),!T)return(0,u.eachItem)(I,_=>C.call(this,_)),this;j.call(this,T);const y={...T,type:(0,l.getJSONTypes)(T.type),schemaType:(0,l.getJSONTypes)(T.schemaType)};return(0,u.eachItem)(I,y.type.length===0?_=>C.call(this,_,y):_=>y.type.forEach(D=>C.call(this,_,y,D))),this}getKeyword(w){const T=this.RULES.all[w];return typeof T=="object"?T.definition:!!T}removeKeyword(w){const{RULES:T}=this;delete T.keywords[w],delete T.all[w];for(const I of T.rules){const y=I.rules.findIndex(_=>_.keyword===w);y>=0&&I.rules.splice(y,1)}return this}addFormat(w,T){return typeof T=="string"&&(T=new RegExp(T)),this.formats[w]=T,this}errorsText(w=this.errors,{separator:T=", ",dataVar:I="data"}={}){return!w||w.length===0?"No errors":w.map(y=>`${I}${y.instancePath} ${y.message}`).reduce((y,_)=>y+T+_)}$dataMetaSchema(w,T){const I=this.RULES.all;w=JSON.parse(JSON.stringify(w));for(const y of T){const _=y.split("/").slice(1);let D=w;for(const G of _)D=D[G];for(const G in I){const H=I[G];if(typeof H!="object")continue;const{$data:re}=H.definition,Q=D[G];re&&Q&&(D[G]=R(Q))}}return w}_removeAllSchemas(w,T){for(const I in w){const y=w[I];(!T||T.test(I))&&(typeof y=="string"?delete w[I]:y&&!y.meta&&(this._cache.delete(y.schema),delete w[I]))}}_addSchema(w,T,I,y=this.opts.validateSchema,_=this.opts.addUsedSchema){let D;const{schemaId:G}=this.opts;if(typeof w=="object")D=w[G];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof w!="boolean")throw new Error("schema must be object or boolean")}let H=this._cache.get(w);if(H!==void 0)return H;I=(0,a.normalizeId)(D||I);const re=a.getSchemaRefs.call(this,w,I);return H=new o.SchemaEnv({schema:w,schemaId:G,meta:T,baseId:I,localRefs:re}),this._cache.set(H.schema,H),_&&!I.startsWith("#")&&(I&&this._checkUnique(I),this.refs[I]=H),y&&this.validateSchema(w,!0),H}_checkUnique(w){if(this.schemas[w]||this.refs[w])throw new Error(`schema with key or id "${w}" already exists`)}_compileSchemaEnv(w){if(w.meta?this._compileMetaSchema(w):o.compileSchema.call(this,w),!w.validate)throw new Error("ajv implementation error");return w.validate}_compileMetaSchema(w){const T=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,w)}finally{this.opts=T}}}N.ValidationError=n.default,N.MissingRefError=s.default,e.default=N;function O(S,w,T,I="error"){for(const y in S){const _=y;_ in w&&this.logger[I](`${T}: option ${y}. ${S[_]}`)}}function L(S){return S=(0,a.normalizeId)(S),this.schemas[S]||this.refs[S]}function k(){const S=this.opts.schemas;if(S)if(Array.isArray(S))this.addSchema(S);else for(const w in S)this.addSchema(S[w],w)}function B(){for(const S in this.opts.formats){const w=this.opts.formats[S];w&&this.addFormat(S,w)}}function b(S){if(Array.isArray(S)){this.addVocabulary(S);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const w in S){const T=S[w];T.keyword||(T.keyword=w),this.addKeyword(T)}}function F(){const S={...this.opts};for(const w of d)delete S[w];return S}const U={log(){},warn(){},error(){}};function V(S){if(S===!1)return U;if(S===void 0)return console;if(S.log&&S.warn&&S.error)return S;throw new Error("logger must implement log, warn and error methods")}const W=/^[a-z_$][a-z0-9_$:-]*$/i;function A(S,w){const{RULES:T}=this;if((0,u.eachItem)(S,I=>{if(T.keywords[I])throw new Error(`Keyword ${I} is already defined`);if(!W.test(I))throw new Error(`Keyword ${I} has invalid name`)}),!!w&&w.$data&&!("code"in w||"validate"in w))throw new Error('$data keyword must have "code" or "validate" function')}function C(S,w,T){var I;const y=w?.post;if(T&&y)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:_}=this;let D=y?_.post:_.rules.find(({type:H})=>H===T);if(D||(D={type:T,rules:[]},_.rules.push(D)),_.keywords[S]=!0,!w)return;const G={keyword:S,definition:{...w,type:(0,l.getJSONTypes)(w.type),schemaType:(0,l.getJSONTypes)(w.schemaType)}};w.before?M.call(this,D,G,w.before):D.rules.push(G),_.all[S]=G,(I=w.implements)===null||I===void 0||I.forEach(H=>this.addKeyword(H))}function M(S,w,T){const I=S.rules.findIndex(y=>y.keyword===T);I>=0?S.rules.splice(I,0,w):(S.rules.push(w),this.logger.warn(`rule ${T} is not defined`))}function j(S){let{metaSchema:w}=S;w!==void 0&&(S.$data&&this.opts.$data&&(w=R(w)),S.validateSchema=this.compile(w,!0))}const P={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function R(S){return{anyOf:[S,P]}}})(uc);var Zs={},Js={},Ys={};Object.defineProperty(Ys,"__esModule",{value:!0});const pp={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Ys.default=pp;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.callRef=Tt.getValidate=void 0;const yp=Zt,yo=J,Me=Z,Lt=nt,Eo=Ue,Dr=x,Ep={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:i,validateName:o,opts:c,self:a}=n,{root:l}=i;if((r==="#"||r==="#/")&&s===l.baseId)return E();const u=Eo.resolveRef.call(a,l,s,r);if(u===void 0)throw new yp.default(n.opts.uriResolver,s,r);if(u instanceof Eo.SchemaEnv)return v(u);return f(u);function E(){if(i===l)return Gr(e,o,i,i.$async);const d=t.scopeValue("root",{ref:l});return Gr(e,(0,Me._)`${d}.validate`,l,l.$async)}function v(d){const $=Yc(e,d);Gr(e,$,d,d.$async)}function f(d){const $=t.scopeValue("schema",c.code.source===!0?{ref:d,code:(0,Me.stringify)(d)}:{ref:d}),p=t.name("valid"),m=e.subschema({schema:d,dataTypes:[],schemaPath:Me.nil,topSchemaRef:$,errSchemaPath:r},p);e.mergeEvaluated(m),e.ok(p)}}};function Yc(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Me._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Tt.getValidate=Yc;function Gr(e,t,r,n){const{gen:s,it:i}=e,{allErrors:o,schemaEnv:c,opts:a}=i,l=a.passContext?Lt.default.this:Me.nil;n?u():E();function u(){if(!c.$async)throw new Error("async schema referenced by sync schema");const d=s.let("valid");s.try(()=>{s.code((0,Me._)`await ${(0,yo.callValidateCode)(e,t,l)}`),f(t),o||s.assign(d,!0)},$=>{s.if((0,Me._)`!(${$} instanceof ${i.ValidationError})`,()=>s.throw($)),v($),o||s.assign(d,!1)}),e.ok(d)}function E(){e.result((0,yo.callValidateCode)(e,t,l),()=>f(t),()=>v(t))}function v(d){const $=(0,Me._)`${d}.errors`;s.assign(Lt.default.vErrors,(0,Me._)`${Lt.default.vErrors} === null ? ${$} : ${Lt.default.vErrors}.concat(${$})`),s.assign(Lt.default.errors,(0,Me._)`${Lt.default.vErrors}.length`)}function f(d){var $;if(!i.opts.unevaluated)return;const p=($=r?.validate)===null||$===void 0?void 0:$.evaluated;if(i.props!==!0)if(p&&!p.dynamicProps)p.props!==void 0&&(i.props=Dr.mergeEvaluated.props(s,p.props,i.props));else{const m=s.var("props",(0,Me._)`${d}.evaluated.props`);i.props=Dr.mergeEvaluated.props(s,m,i.props,Me.Name)}if(i.items!==!0)if(p&&!p.dynamicItems)p.items!==void 0&&(i.items=Dr.mergeEvaluated.items(s,p.items,i.items));else{const m=s.var("items",(0,Me._)`${d}.evaluated.items`);i.items=Dr.mergeEvaluated.items(s,m,i.items,Me.Name)}}}Tt.callRef=Gr;Tt.default=Ep;Object.defineProperty(Js,"__esModule",{value:!0});const $p=Ys,gp=Tt,_p=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",$p.default,gp.default];Js.default=_p;var Qs={},ei={};Object.defineProperty(ei,"__esModule",{value:!0});const Zr=Z,ut=Zr.operators,Jr={maximum:{okStr:"<=",ok:ut.LTE,fail:ut.GT},minimum:{okStr:">=",ok:ut.GTE,fail:ut.LT},exclusiveMaximum:{okStr:"<",ok:ut.LT,fail:ut.GTE},exclusiveMinimum:{okStr:">",ok:ut.GT,fail:ut.LTE}},vp={message:({keyword:e,schemaCode:t})=>(0,Zr.str)`must be ${Jr[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Zr._)`{comparison: ${Jr[e].okStr}, limit: ${t}}`},wp={keyword:Object.keys(Jr),type:"number",schemaType:"number",$data:!0,error:vp,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Zr._)`${r} ${Jr[t].fail} ${n} || isNaN(${r})`)}};ei.default=wp;var ti={};Object.defineProperty(ti,"__esModule",{value:!0});const lr=Z,Sp={message:({schemaCode:e})=>(0,lr.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,lr._)`{multipleOf: ${e}}`},Np={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Sp,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,i=s.opts.multipleOfPrecision,o=t.let("res"),c=i?(0,lr._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${i}`:(0,lr._)`${o} !== parseInt(${o})`;e.fail$data((0,lr._)`(${n} === 0 || (${o} = ${r}/${n}, ${c}))`)}};ti.default=Np;var ri={},ni={};Object.defineProperty(ni,"__esModule",{value:!0});function Qc(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}ni.default=Qc;Qc.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(ri,"__esModule",{value:!0});const St=Z,Ip=x,Op=ni,Pp={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,St.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,St._)`{limit: ${e}}`},Tp={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Pp,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,i=t==="maxLength"?St.operators.GT:St.operators.LT,o=s.opts.unicode===!1?(0,St._)`${r}.length`:(0,St._)`${(0,Ip.useFunc)(e.gen,Op.default)}(${r})`;e.fail$data((0,St._)`${o} ${i} ${n}`)}};ri.default=Tp;var si={};Object.defineProperty(si,"__esModule",{value:!0});const Rp=J,Yr=Z,bp={message:({schemaCode:e})=>(0,Yr.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Yr._)`{pattern: ${e}}`},Dp={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:bp,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:i}=e,o=i.opts.unicodeRegExp?"u":"",c=r?(0,Yr._)`(new RegExp(${s}, ${o}))`:(0,Rp.usePattern)(e,n);e.fail$data((0,Yr._)`!${c}.test(${t})`)}};si.default=Dp;var ii={};Object.defineProperty(ii,"__esModule",{value:!0});const ur=Z,Cp={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,ur.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,ur._)`{limit: ${e}}`},Lp={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Cp,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?ur.operators.GT:ur.operators.LT;e.fail$data((0,ur._)`Object.keys(${r}).length ${s} ${n}`)}};ii.default=Lp;var oi={};Object.defineProperty(oi,"__esModule",{value:!0});const nr=J,fr=Z,Ap=x,Fp={message:({params:{missingProperty:e}})=>(0,fr.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,fr._)`{missingProperty: ${e}}`},jp={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Fp,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:i,it:o}=e,{opts:c}=o;if(!i&&r.length===0)return;const a=r.length>=c.loopRequired;if(o.allErrors?l():u(),c.strictRequired){const f=e.parentSchema.properties,{definedProperties:d}=e.it;for(const $ of r)if(f?.[$]===void 0&&!d.has($)){const p=o.schemaEnv.baseId+o.errSchemaPath,m=`required property "${$}" is not defined at "${p}" (strictRequired)`;(0,Ap.checkStrictMode)(o,m,o.opts.strictRequired)}}function l(){if(a||i)e.block$data(fr.nil,E);else for(const f of r)(0,nr.checkReportMissingProp)(e,f)}function u(){const f=t.let("missing");if(a||i){const d=t.let("valid",!0);e.block$data(d,()=>v(f,d)),e.ok(d)}else t.if((0,nr.checkMissingProp)(e,r,f)),(0,nr.reportMissingProp)(e,f),t.else()}function E(){t.forOf("prop",n,f=>{e.setParams({missingProperty:f}),t.if((0,nr.noPropertyInData)(t,s,f,c.ownProperties),()=>e.error())})}function v(f,d){e.setParams({missingProperty:f}),t.forOf(f,n,()=>{t.assign(d,(0,nr.propertyInData)(t,s,f,c.ownProperties)),t.if((0,fr.not)(d),()=>{e.error(),t.break()})},fr.nil)}}};oi.default=jp;var ai={};Object.defineProperty(ai,"__esModule",{value:!0});const dr=Z,kp={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,dr.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,dr._)`{limit: ${e}}`},Mp={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:kp,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?dr.operators.GT:dr.operators.LT;e.fail$data((0,dr._)`${r}.length ${s} ${n}`)}};ai.default=Mp;var ci={},wr={};Object.defineProperty(wr,"__esModule",{value:!0});const el=Oc;el.code='require("ajv/dist/runtime/equal").default';wr.default=el;Object.defineProperty(ci,"__esModule",{value:!0});const Gn=$e,Ne=Z,Up=x,zp=wr,xp={message:({params:{i:e,j:t}})=>(0,Ne.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ne._)`{i: ${e}, j: ${t}}`},Vp={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:xp,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:i,schemaCode:o,it:c}=e;if(!n&&!s)return;const a=t.let("valid"),l=i.items?(0,Gn.getSchemaTypes)(i.items):[];e.block$data(a,u,(0,Ne._)`${o} === false`),e.ok(a);function u(){const d=t.let("i",(0,Ne._)`${r}.length`),$=t.let("j");e.setParams({i:d,j:$}),t.assign(a,!0),t.if((0,Ne._)`${d} > 1`,()=>(E()?v:f)(d,$))}function E(){return l.length>0&&!l.some(d=>d==="object"||d==="array")}function v(d,$){const p=t.name("item"),m=(0,Gn.checkDataTypes)(l,p,c.opts.strictNumbers,Gn.DataType.Wrong),h=t.const("indices",(0,Ne._)`{}`);t.for((0,Ne._)`;${d}--;`,()=>{t.let(p,(0,Ne._)`${r}[${d}]`),t.if(m,(0,Ne._)`continue`),l.length>1&&t.if((0,Ne._)`typeof ${p} == "string"`,(0,Ne._)`${p} += "_"`),t.if((0,Ne._)`typeof ${h}[${p}] == "number"`,()=>{t.assign($,(0,Ne._)`${h}[${p}]`),e.error(),t.assign(a,!1).break()}).code((0,Ne._)`${h}[${p}] = ${d}`)})}function f(d,$){const p=(0,Up.useFunc)(t,zp.default),m=t.name("outer");t.label(m).for((0,Ne._)`;${d}--;`,()=>t.for((0,Ne._)`${$} = ${d}; ${$}--;`,()=>t.if((0,Ne._)`${p}(${r}[${d}], ${r}[${$}])`,()=>{e.error(),t.assign(a,!1).break(m)})))}}};ci.default=Vp;var li={};Object.defineProperty(li,"__esModule",{value:!0});const cs=Z,Gp=x,Hp=wr,qp={message:"must be equal to constant",params:({schemaCode:e})=>(0,cs._)`{allowedValue: ${e}}`},Bp={keyword:"const",$data:!0,error:qp,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:i}=e;n||i&&typeof i=="object"?e.fail$data((0,cs._)`!${(0,Gp.useFunc)(t,Hp.default)}(${r}, ${s})`):e.fail((0,cs._)`${i} !== ${r}`)}};li.default=Bp;var ui={};Object.defineProperty(ui,"__esModule",{value:!0});const or=Z,Kp=x,Wp=wr,Xp={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,or._)`{allowedValues: ${e}}`},Zp={keyword:"enum",schemaType:"array",$data:!0,error:Xp,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:i,it:o}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const c=s.length>=o.opts.loopEnum;let a;const l=()=>a??(a=(0,Kp.useFunc)(t,Wp.default));let u;if(c||n)u=t.let("valid"),e.block$data(u,E);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const f=t.const("vSchema",i);u=(0,or.or)(...s.map((d,$)=>v(f,$)))}e.pass(u);function E(){t.assign(u,!1),t.forOf("v",i,f=>t.if((0,or._)`${l()}(${r}, ${f})`,()=>t.assign(u,!0).break()))}function v(f,d){const $=s[d];return typeof $=="object"&&$!==null?(0,or._)`${l()}(${r}, ${f}[${d}])`:(0,or._)`${r} === ${$}`}}};ui.default=Zp;Object.defineProperty(Qs,"__esModule",{value:!0});const Jp=ei,Yp=ti,Qp=ri,ey=si,ty=ii,ry=oi,ny=ai,sy=ci,iy=li,oy=ui,ay=[Jp.default,Yp.default,Qp.default,ey.default,ty.default,ry.default,ny.default,sy.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},iy.default,oy.default];Qs.default=ay;var fi={},Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.validateAdditionalItems=void 0;const Nt=Z,ls=x,cy={message:({params:{len:e}})=>(0,Nt.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Nt._)`{limit: ${e}}`},ly={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:cy,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,ls.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}tl(e,n)}};function tl(e,t){const{gen:r,schema:n,data:s,keyword:i,it:o}=e;o.items=!0;const c=r.const("len",(0,Nt._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Nt._)`${c} <= ${t.length}`);else if(typeof n=="object"&&!(0,ls.alwaysValidSchema)(o,n)){const l=r.var("valid",(0,Nt._)`${c} <= ${t.length}`);r.if((0,Nt.not)(l),()=>a(l)),e.ok(l)}function a(l){r.forRange("i",t.length,c,u=>{e.subschema({keyword:i,dataProp:u,dataPropType:ls.Type.Num},l),o.allErrors||r.if((0,Nt.not)(l),()=>r.break())})}}Jt.validateAdditionalItems=tl;Jt.default=ly;var di={},Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.validateTuple=void 0;const $o=Z,Hr=x,uy=J,fy={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return rl(e,"additionalItems",t);r.items=!0,!(0,Hr.alwaysValidSchema)(r,t)&&e.ok((0,uy.validateArray)(e))}};function rl(e,t,r=e.schema){const{gen:n,parentSchema:s,data:i,keyword:o,it:c}=e;u(s),c.opts.unevaluated&&r.length&&c.items!==!0&&(c.items=Hr.mergeEvaluated.items(n,r.length,c.items));const a=n.name("valid"),l=n.const("len",(0,$o._)`${i}.length`);r.forEach((E,v)=>{(0,Hr.alwaysValidSchema)(c,E)||(n.if((0,$o._)`${l} > ${v}`,()=>e.subschema({keyword:o,schemaProp:v,dataProp:v},a)),e.ok(a))});function u(E){const{opts:v,errSchemaPath:f}=c,d=r.length,$=d===E.minItems&&(d===E.maxItems||E[t]===!1);if(v.strictTuples&&!$){const p=`"${o}" is ${d}-tuple, but minItems or maxItems/${t} are not specified or different at path "${f}"`;(0,Hr.checkStrictMode)(c,p,v.strictTuples)}}}Yt.validateTuple=rl;Yt.default=fy;Object.defineProperty(di,"__esModule",{value:!0});const dy=Yt,hy={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,dy.validateTuple)(e,"items")};di.default=hy;var hi={};Object.defineProperty(hi,"__esModule",{value:!0});const go=Z,my=x,py=J,yy=Jt,Ey={message:({params:{len:e}})=>(0,go.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,go._)`{limit: ${e}}`},$y={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Ey,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,my.alwaysValidSchema)(n,t)&&(s?(0,yy.validateAdditionalItems)(e,s):e.ok((0,py.validateArray)(e)))}};hi.default=$y;var mi={};Object.defineProperty(mi,"__esModule",{value:!0});const Ge=Z,Cr=x,gy={message:({params:{min:e,max:t}})=>t===void 0?(0,Ge.str)`must contain at least ${e} valid item(s)`:(0,Ge.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Ge._)`{minContains: ${e}}`:(0,Ge._)`{minContains: ${e}, maxContains: ${t}}`},_y={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:gy,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:i}=e;let o,c;const{minContains:a,maxContains:l}=n;i.opts.next?(o=a===void 0?1:a,c=l):o=1;const u=t.const("len",(0,Ge._)`${s}.length`);if(e.setParams({min:o,max:c}),c===void 0&&o===0){(0,Cr.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(c!==void 0&&o>c){(0,Cr.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Cr.alwaysValidSchema)(i,r)){let $=(0,Ge._)`${u} >= ${o}`;c!==void 0&&($=(0,Ge._)`${$} && ${u} <= ${c}`),e.pass($);return}i.items=!0;const E=t.name("valid");c===void 0&&o===1?f(E,()=>t.if(E,()=>t.break())):o===0?(t.let(E,!0),c!==void 0&&t.if((0,Ge._)`${s}.length > 0`,v)):(t.let(E,!1),v()),e.result(E,()=>e.reset());function v(){const $=t.name("_valid"),p=t.let("count",0);f($,()=>t.if($,()=>d(p)))}function f($,p){t.forRange("i",0,u,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:Cr.Type.Num,compositeRule:!0},$),p()})}function d($){t.code((0,Ge._)`${$}++`),c===void 0?t.if((0,Ge._)`${$} >= ${o}`,()=>t.assign(E,!0).break()):(t.if((0,Ge._)`${$} > ${c}`,()=>t.assign(E,!1).break()),o===1?t.assign(E,!0):t.if((0,Ge._)`${$} >= ${o}`,()=>t.assign(E,!0)))}}};mi.default=_y;var nl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Z,r=x,n=J;e.error={message:({params:{property:a,depsCount:l,deps:u}})=>{const E=l===1?"property":"properties";return(0,t.str)`must have ${E} ${u} when property ${a} is present`},params:({params:{property:a,depsCount:l,deps:u,missingProperty:E}})=>(0,t._)`{property: ${a},
    missingProperty: ${E},
    depsCount: ${l},
    deps: ${u}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(a){const[l,u]=i(a);o(a,l),c(a,u)}};function i({schema:a}){const l={},u={};for(const E in a){if(E==="__proto__")continue;const v=Array.isArray(a[E])?l:u;v[E]=a[E]}return[l,u]}function o(a,l=a.schema){const{gen:u,data:E,it:v}=a;if(Object.keys(l).length===0)return;const f=u.let("missing");for(const d in l){const $=l[d];if($.length===0)continue;const p=(0,n.propertyInData)(u,E,d,v.opts.ownProperties);a.setParams({property:d,depsCount:$.length,deps:$.join(", ")}),v.allErrors?u.if(p,()=>{for(const m of $)(0,n.checkReportMissingProp)(a,m)}):(u.if((0,t._)`${p} && (${(0,n.checkMissingProp)(a,$,f)})`),(0,n.reportMissingProp)(a,f),u.else())}}e.validatePropertyDeps=o;function c(a,l=a.schema){const{gen:u,data:E,keyword:v,it:f}=a,d=u.name("valid");for(const $ in l)(0,r.alwaysValidSchema)(f,l[$])||(u.if((0,n.propertyInData)(u,E,$,f.opts.ownProperties),()=>{const p=a.subschema({keyword:v,schemaProp:$},d);a.mergeValidEvaluated(p,d)},()=>u.var(d,!0)),a.ok(d))}e.validateSchemaDeps=c,e.default=s})(nl);var pi={};Object.defineProperty(pi,"__esModule",{value:!0});const sl=Z,vy=x,wy={message:"property name must be valid",params:({params:e})=>(0,sl._)`{propertyName: ${e.propertyName}}`},Sy={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:wy,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,vy.alwaysValidSchema)(s,r))return;const i=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},i),t.if((0,sl.not)(i),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(i)}};pi.default=Sy;var un={};Object.defineProperty(un,"__esModule",{value:!0});const Lr=J,qe=Z,Ny=nt,Ar=x,Iy={message:"must NOT have additional properties",params:({params:e})=>(0,qe._)`{additionalProperty: ${e.additionalProperty}}`},Oy={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Iy,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:i,it:o}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:c,opts:a}=o;if(o.props=!0,a.removeAdditional!=="all"&&(0,Ar.alwaysValidSchema)(o,r))return;const l=(0,Lr.allSchemaProperties)(n.properties),u=(0,Lr.allSchemaProperties)(n.patternProperties);E(),e.ok((0,qe._)`${i} === ${Ny.default.errors}`);function E(){t.forIn("key",s,p=>{!l.length&&!u.length?d(p):t.if(v(p),()=>d(p))})}function v(p){let m;if(l.length>8){const h=(0,Ar.schemaRefOrVal)(o,n.properties,"properties");m=(0,Lr.isOwnProperty)(t,h,p)}else l.length?m=(0,qe.or)(...l.map(h=>(0,qe._)`${p} === ${h}`)):m=qe.nil;return u.length&&(m=(0,qe.or)(m,...u.map(h=>(0,qe._)`${(0,Lr.usePattern)(e,h)}.test(${p})`))),(0,qe.not)(m)}function f(p){t.code((0,qe._)`delete ${s}[${p}]`)}function d(p){if(a.removeAdditional==="all"||a.removeAdditional&&r===!1){f(p);return}if(r===!1){e.setParams({additionalProperty:p}),e.error(),c||t.break();return}if(typeof r=="object"&&!(0,Ar.alwaysValidSchema)(o,r)){const m=t.name("valid");a.removeAdditional==="failing"?($(p,m,!1),t.if((0,qe.not)(m),()=>{e.reset(),f(p)})):($(p,m),c||t.if((0,qe.not)(m),()=>t.break()))}}function $(p,m,h){const g={keyword:"additionalProperties",dataProp:p,dataPropType:Ar.Type.Str};h===!1&&Object.assign(g,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(g,m)}}};un.default=Oy;var yi={};Object.defineProperty(yi,"__esModule",{value:!0});const Py=Ke,_o=J,Hn=x,vo=un,Ty={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:i}=e;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&vo.default.code(new Py.KeywordCxt(i,vo.default,"additionalProperties"));const o=(0,_o.allSchemaProperties)(r);for(const E of o)i.definedProperties.add(E);i.opts.unevaluated&&o.length&&i.props!==!0&&(i.props=Hn.mergeEvaluated.props(t,(0,Hn.toHash)(o),i.props));const c=o.filter(E=>!(0,Hn.alwaysValidSchema)(i,r[E]));if(c.length===0)return;const a=t.name("valid");for(const E of c)l(E)?u(E):(t.if((0,_o.propertyInData)(t,s,E,i.opts.ownProperties)),u(E),i.allErrors||t.else().var(a,!0),t.endIf()),e.it.definedProperties.add(E),e.ok(a);function l(E){return i.opts.useDefaults&&!i.compositeRule&&r[E].default!==void 0}function u(E){e.subschema({keyword:"properties",schemaProp:E,dataProp:E},a)}}};yi.default=Ty;var Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});const wo=J,Fr=Z,So=x,No=x,Ry={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:i}=e,{opts:o}=i,c=(0,wo.allSchemaProperties)(r),a=c.filter($=>(0,So.alwaysValidSchema)(i,r[$]));if(c.length===0||a.length===c.length&&(!i.opts.unevaluated||i.props===!0))return;const l=o.strictSchema&&!o.allowMatchingProperties&&s.properties,u=t.name("valid");i.props!==!0&&!(i.props instanceof Fr.Name)&&(i.props=(0,No.evaluatedPropsToName)(t,i.props));const{props:E}=i;v();function v(){for(const $ of c)l&&f($),i.allErrors?d($):(t.var(u,!0),d($),t.if(u))}function f($){for(const p in l)new RegExp($).test(p)&&(0,So.checkStrictMode)(i,`property ${p} matches pattern ${$} (use allowMatchingProperties)`)}function d($){t.forIn("key",n,p=>{t.if((0,Fr._)`${(0,wo.usePattern)(e,$)}.test(${p})`,()=>{const m=a.includes($);m||e.subschema({keyword:"patternProperties",schemaProp:$,dataProp:p,dataPropType:No.Type.Str},u),i.opts.unevaluated&&E!==!0?t.assign((0,Fr._)`${E}[${p}]`,!0):!m&&!i.allErrors&&t.if((0,Fr.not)(u),()=>t.break())})})}}};Ei.default=Ry;var $i={};Object.defineProperty($i,"__esModule",{value:!0});const by=x,Dy={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,by.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};$i.default=Dy;var gi={};Object.defineProperty(gi,"__esModule",{value:!0});const Cy=J,Ly={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Cy.validateUnion,error:{message:"must match a schema in anyOf"}};gi.default=Ly;var _i={};Object.defineProperty(_i,"__esModule",{value:!0});const qr=Z,Ay=x,Fy={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,qr._)`{passingSchemas: ${e.passing}}`},jy={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Fy,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const i=r,o=t.let("valid",!1),c=t.let("passing",null),a=t.name("_valid");e.setParams({passing:c}),t.block(l),e.result(o,()=>e.reset(),()=>e.error(!0));function l(){i.forEach((u,E)=>{let v;(0,Ay.alwaysValidSchema)(s,u)?t.var(a,!0):v=e.subschema({keyword:"oneOf",schemaProp:E,compositeRule:!0},a),E>0&&t.if((0,qr._)`${a} && ${o}`).assign(o,!1).assign(c,(0,qr._)`[${c}, ${E}]`).else(),t.if(a,()=>{t.assign(o,!0),t.assign(c,E),v&&e.mergeEvaluated(v,qr.Name)})})}}};_i.default=jy;var vi={};Object.defineProperty(vi,"__esModule",{value:!0});const ky=x,My={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((i,o)=>{if((0,ky.alwaysValidSchema)(n,i))return;const c=e.subschema({keyword:"allOf",schemaProp:o},s);e.ok(s),e.mergeEvaluated(c)})}};vi.default=My;var wi={};Object.defineProperty(wi,"__esModule",{value:!0});const Qr=Z,il=x,Uy={message:({params:e})=>(0,Qr.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Qr._)`{failingKeyword: ${e.ifClause}}`},zy={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Uy,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,il.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=Io(n,"then"),i=Io(n,"else");if(!s&&!i)return;const o=t.let("valid",!0),c=t.name("_valid");if(a(),e.reset(),s&&i){const u=t.let("ifClause");e.setParams({ifClause:u}),t.if(c,l("then",u),l("else",u))}else s?t.if(c,l("then")):t.if((0,Qr.not)(c),l("else"));e.pass(o,()=>e.error(!0));function a(){const u=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},c);e.mergeEvaluated(u)}function l(u,E){return()=>{const v=e.subschema({keyword:u},c);t.assign(o,c),e.mergeValidEvaluated(v,o),E?t.assign(E,(0,Qr._)`${u}`):e.setParams({ifClause:u})}}}};function Io(e,t){const r=e.schema[t];return r!==void 0&&!(0,il.alwaysValidSchema)(e,r)}wi.default=zy;var Si={};Object.defineProperty(Si,"__esModule",{value:!0});const xy=x,Vy={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,xy.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Si.default=Vy;Object.defineProperty(fi,"__esModule",{value:!0});const Gy=Jt,Hy=di,qy=Yt,By=hi,Ky=mi,Wy=nl,Xy=pi,Zy=un,Jy=yi,Yy=Ei,Qy=$i,e0=gi,t0=_i,r0=vi,n0=wi,s0=Si;function i0(e=!1){const t=[Qy.default,e0.default,t0.default,r0.default,n0.default,s0.default,Xy.default,Zy.default,Wy.default,Jy.default,Yy.default];return e?t.push(Hy.default,By.default):t.push(Gy.default,qy.default),t.push(Ky.default),t}fi.default=i0;var Ni={},Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});const ye=Z,o0={message:({schemaCode:e})=>(0,ye.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,ye._)`{format: ${e}}`},a0={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:o0,code(e,t){const{gen:r,data:n,$data:s,schema:i,schemaCode:o,it:c}=e,{opts:a,errSchemaPath:l,schemaEnv:u,self:E}=c;if(!a.validateFormats)return;s?v():f();function v(){const d=r.scopeValue("formats",{ref:E.formats,code:a.code.formats}),$=r.const("fDef",(0,ye._)`${d}[${o}]`),p=r.let("fType"),m=r.let("format");r.if((0,ye._)`typeof ${$} == "object" && !(${$} instanceof RegExp)`,()=>r.assign(p,(0,ye._)`${$}.type || "string"`).assign(m,(0,ye._)`${$}.validate`),()=>r.assign(p,(0,ye._)`"string"`).assign(m,$)),e.fail$data((0,ye.or)(h(),g()));function h(){return a.strictSchema===!1?ye.nil:(0,ye._)`${o} && !${m}`}function g(){const N=u.$async?(0,ye._)`(${$}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,ye._)`${m}(${n})`,O=(0,ye._)`(typeof ${m} == "function" ? ${N} : ${m}.test(${n}))`;return(0,ye._)`${m} && ${m} !== true && ${p} === ${t} && !${O}`}}function f(){const d=E.formats[i];if(!d){h();return}if(d===!0)return;const[$,p,m]=g(d);$===t&&e.pass(N());function h(){if(a.strictSchema===!1){E.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${i}" ignored in schema at path "${l}"`}}function g(O){const L=O instanceof RegExp?(0,ye.regexpCode)(O):a.code.formats?(0,ye._)`${a.code.formats}${(0,ye.getProperty)(i)}`:void 0,k=r.scopeValue("formats",{key:i,ref:O,code:L});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,ye._)`${k}.validate`]:["string",O,k]}function N(){if(typeof d=="object"&&!(d instanceof RegExp)&&d.async){if(!u.$async)throw new Error("async format in sync schema");return(0,ye._)`await ${m}(${n})`}return typeof p=="function"?(0,ye._)`${m}(${n})`:(0,ye._)`${m}.test(${n})`}}}};Ii.default=a0;Object.defineProperty(Ni,"__esModule",{value:!0});const c0=Ii,l0=[c0.default];Ni.default=l0;var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.contentVocabulary=Bt.metadataVocabulary=void 0;Bt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Bt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Zs,"__esModule",{value:!0});const u0=Js,f0=Qs,d0=fi,h0=Ni,Oo=Bt,m0=[u0.default,f0.default,(0,d0.default)(),h0.default,Oo.metadataVocabulary,Oo.contentVocabulary];Zs.default=m0;var Oi={},fn={};Object.defineProperty(fn,"__esModule",{value:!0});fn.DiscrError=void 0;var Po;(function(e){e.Tag="tag",e.Mapping="mapping"})(Po||(fn.DiscrError=Po={}));Object.defineProperty(Oi,"__esModule",{value:!0});const Ft=Z,us=fn,To=Ue,p0=Zt,y0=x,E0={message:({params:{discrError:e,tagName:t}})=>e===us.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Ft._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},$0={keyword:"discriminator",type:"object",schemaType:"object",error:E0,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:i}=e,{oneOf:o}=s;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const c=n.propertyName;if(typeof c!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const a=t.let("valid",!1),l=t.const("tag",(0,Ft._)`${r}${(0,Ft.getProperty)(c)}`);t.if((0,Ft._)`typeof ${l} == "string"`,()=>u(),()=>e.error(!1,{discrError:us.DiscrError.Tag,tag:l,tagName:c})),e.ok(a);function u(){const f=v();t.if(!1);for(const d in f)t.elseIf((0,Ft._)`${l} === ${d}`),t.assign(a,E(f[d]));t.else(),e.error(!1,{discrError:us.DiscrError.Mapping,tag:l,tagName:c}),t.endIf()}function E(f){const d=t.name("valid"),$=e.subschema({keyword:"oneOf",schemaProp:f},d);return e.mergeEvaluated($,Ft.Name),d}function v(){var f;const d={},$=m(s);let p=!0;for(let N=0;N<o.length;N++){let O=o[N];if(O?.$ref&&!(0,y0.schemaHasRulesButRef)(O,i.self.RULES)){const k=O.$ref;if(O=To.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,k),O instanceof To.SchemaEnv&&(O=O.schema),O===void 0)throw new p0.default(i.opts.uriResolver,i.baseId,k)}const L=(f=O?.properties)===null||f===void 0?void 0:f[c];if(typeof L!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${c}"`);p=p&&($||m(O)),h(L,N)}if(!p)throw new Error(`discriminator: "${c}" must be required`);return d;function m({required:N}){return Array.isArray(N)&&N.includes(c)}function h(N,O){if(N.const)g(N.const,O);else if(N.enum)for(const L of N.enum)g(L,O);else throw new Error(`discriminator: "properties/${c}" must have "const" or "enum"`)}function g(N,O){if(typeof N!="string"||N in d)throw new Error(`discriminator: "${c}" values must be unique strings`);d[N]=O}}}};Oi.default=$0;const g0="http://json-schema.org/draft-07/schema#",_0="http://json-schema.org/draft-07/schema#",v0="Core schema meta-schema",w0={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},S0=["object","boolean"],N0={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},I0={$schema:g0,$id:_0,title:v0,definitions:w0,type:S0,properties:N0,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=uc,n=Zs,s=Oi,i=I0,o=["/properties"],c="http://json-schema.org/draft-07/schema";class a extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(d=>this.addVocabulary(d)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const d=this.opts.$data?this.$dataMetaSchema(i,o):i;this.addMetaSchema(d,c,!1),this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}t.Ajv=a,e.exports=t=a,e.exports.Ajv=a,Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var l=Ke;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var u=Z;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var E=vr;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return E.default}});var v=Zt;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return v.default}})})(rs,rs.exports);var ol=rs.exports,fs={exports:{}},al={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(b,F){return{validate:b,compare:F}}e.fullFormats={date:t(i,o),time:t(a,l),"date-time":t(E,v),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:$,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:B,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:m,int32:{type:"number",validate:N},int64:{type:"number",validate:O},float:{type:"number",validate:L},double:{type:"number",validate:L},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,l),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,v),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(b){return b%4===0&&(b%100!==0||b%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function i(b){const F=n.exec(b);if(!F)return!1;const U=+F[1],V=+F[2],W=+F[3];return V>=1&&V<=12&&W>=1&&W<=(V===2&&r(U)?29:s[V])}function o(b,F){if(b&&F)return b>F?1:b<F?-1:0}const c=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function a(b,F){const U=c.exec(b);if(!U)return!1;const V=+U[1],W=+U[2],A=+U[3],C=U[5];return(V<=23&&W<=59&&A<=59||V===23&&W===59&&A===60)&&(!F||C!=="")}function l(b,F){if(!(b&&F))return;const U=c.exec(b),V=c.exec(F);if(U&&V)return b=U[1]+U[2]+U[3]+(U[4]||""),F=V[1]+V[2]+V[3]+(V[4]||""),b>F?1:b<F?-1:0}const u=/t|\s/i;function E(b){const F=b.split(u);return F.length===2&&i(F[0])&&a(F[1],!0)}function v(b,F){if(!(b&&F))return;const[U,V]=b.split(u),[W,A]=F.split(u),C=o(U,W);if(C!==void 0)return C||l(V,A)}const f=/\/|:/,d=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function $(b){return f.test(b)&&d.test(b)}const p=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function m(b){return p.lastIndex=0,p.test(b)}const h=-(2**31),g=2**31-1;function N(b){return Number.isInteger(b)&&b<=g&&b>=h}function O(b){return Number.isInteger(b)}function L(){return!0}const k=/[^\\]\\Z/;function B(b){if(k.test(b))return!1;try{return new RegExp(b),!0}catch{return!1}}})(al);var cl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=ol,r=Z,n=r.operators,s={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},i={message:({keyword:c,schemaCode:a})=>r.str`should be ${s[c].okStr} ${a}`,params:({keyword:c,schemaCode:a})=>r._`{comparison: ${s[c].okStr}, limit: ${a}}`};e.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:i,code(c){const{gen:a,data:l,schemaCode:u,keyword:E,it:v}=c,{opts:f,self:d}=v;if(!f.validateFormats)return;const $=new t.KeywordCxt(v,d.RULES.all.format.definition,"format");$.$data?p():m();function p(){const g=a.scopeValue("formats",{ref:d.formats,code:f.code.formats}),N=a.const("fmt",r._`${g}[${$.schemaCode}]`);c.fail$data(r.or(r._`typeof ${N} != "object"`,r._`${N} instanceof RegExp`,r._`typeof ${N}.compare != "function"`,h(N)))}function m(){const g=$.schema,N=d.formats[g];if(!N||N===!0)return;if(typeof N!="object"||N instanceof RegExp||typeof N.compare!="function")throw new Error(`"${E}": format "${g}" does not define "compare" function`);const O=a.scopeValue("formats",{key:g,ref:N,code:f.code.formats?r._`${f.code.formats}${r.getProperty(g)}`:void 0});c.fail$data(h(O))}function h(g){return r._`${g}.compare(${l}, ${u}) ${s[E].fail} 0`}},dependencies:["format"]};const o=c=>(c.addKeyword(e.formatLimitDefinition),c);e.default=o})(cl);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=al,n=cl,s=Z,i=new s.Name("fullFormats"),o=new s.Name("fastFormats"),c=(l,u={keywords:!0})=>{if(Array.isArray(u))return a(l,u,r.fullFormats,i),l;const[E,v]=u.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,i],f=u.formats||r.formatNames;return a(l,f,E,v),u.keywords&&n.default(l),l};c.get=(l,u="full")=>{const v=(u==="fast"?r.fastFormats:r.fullFormats)[l];if(!v)throw new Error(`Unknown format "${l}"`);return v};function a(l,u,E,v){var f,d;(f=(d=l.opts.code).formats)!==null&&f!==void 0||(d.formats=s._`require("ajv-formats/dist/formats").${v}`);for(const $ of u)l.addFormat($,E[$])}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c})(fs,fs.exports);var O0=fs.exports;const P0=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const s=Object.getOwnPropertyDescriptor(e,r),i=Object.getOwnPropertyDescriptor(t,r);!T0(s,i)&&n||Object.defineProperty(e,r,i)},T0=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},R0=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},b0=(e,t)=>`/* Wrapped ${e}*/
${t}`,D0=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),C0=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),L0=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,s=b0.bind(null,n,t.toString());Object.defineProperty(s,"name",C0),Object.defineProperty(e,"toString",{...D0,value:s})},A0=(e,t,{ignoreNonConfigurable:r=!1}={})=>{const{name:n}=e;for(const s of Reflect.ownKeys(t))P0(e,t,s,r);return R0(e,t),L0(e,t,n),e};var F0=A0;const j0=F0;var k0=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,before:n=!1,after:s=!0}=t;if(!n&&!s)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let i,o;const c=function(...a){const l=this,u=()=>{i=void 0,s&&(o=e.apply(l,a))},E=n&&!i;return clearTimeout(i),i=setTimeout(u,r),E&&(o=e.apply(l,a)),o};return j0(c,e),c.cancel=()=>{i&&(clearTimeout(i),i=void 0)},c},ds={exports:{}};const M0="2.0.0",ll=256,U0=Number.MAX_SAFE_INTEGER||9007199254740991,z0=16,x0=ll-6,V0=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var dn={MAX_LENGTH:ll,MAX_SAFE_COMPONENT_LENGTH:z0,MAX_SAFE_BUILD_LENGTH:x0,MAX_SAFE_INTEGER:U0,RELEASE_TYPES:V0,SEMVER_SPEC_VERSION:M0,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const G0=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var hn=G0;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=dn,i=hn;t=e.exports={};const o=t.re=[],c=t.safeRe=[],a=t.src=[],l=t.t={};let u=0;const E="[a-zA-Z0-9-]",v=[["\\s",1],["\\d",s],[E,n]],f=$=>{for(const[p,m]of v)$=$.split(`${p}*`).join(`${p}{0,${m}}`).split(`${p}+`).join(`${p}{1,${m}}`);return $},d=($,p,m)=>{const h=f(p),g=u++;i($,g,p),l[$]=g,a[g]=p,o[g]=new RegExp(p,m?"g":void 0),c[g]=new RegExp(h,m?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","\\d+"),d("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${E}*`),d("MAINVERSION",`(${a[l.NUMERICIDENTIFIER]})\\.(${a[l.NUMERICIDENTIFIER]})\\.(${a[l.NUMERICIDENTIFIER]})`),d("MAINVERSIONLOOSE",`(${a[l.NUMERICIDENTIFIERLOOSE]})\\.(${a[l.NUMERICIDENTIFIERLOOSE]})\\.(${a[l.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASEIDENTIFIER",`(?:${a[l.NUMERICIDENTIFIER]}|${a[l.NONNUMERICIDENTIFIER]})`),d("PRERELEASEIDENTIFIERLOOSE",`(?:${a[l.NUMERICIDENTIFIERLOOSE]}|${a[l.NONNUMERICIDENTIFIER]})`),d("PRERELEASE",`(?:-(${a[l.PRERELEASEIDENTIFIER]}(?:\\.${a[l.PRERELEASEIDENTIFIER]})*))`),d("PRERELEASELOOSE",`(?:-?(${a[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[l.PRERELEASEIDENTIFIERLOOSE]})*))`),d("BUILDIDENTIFIER",`${E}+`),d("BUILD",`(?:\\+(${a[l.BUILDIDENTIFIER]}(?:\\.${a[l.BUILDIDENTIFIER]})*))`),d("FULLPLAIN",`v?${a[l.MAINVERSION]}${a[l.PRERELEASE]}?${a[l.BUILD]}?`),d("FULL",`^${a[l.FULLPLAIN]}$`),d("LOOSEPLAIN",`[v=\\s]*${a[l.MAINVERSIONLOOSE]}${a[l.PRERELEASELOOSE]}?${a[l.BUILD]}?`),d("LOOSE",`^${a[l.LOOSEPLAIN]}$`),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE",`${a[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),d("XRANGEIDENTIFIER",`${a[l.NUMERICIDENTIFIER]}|x|X|\\*`),d("XRANGEPLAIN",`[v=\\s]*(${a[l.XRANGEIDENTIFIER]})(?:\\.(${a[l.XRANGEIDENTIFIER]})(?:\\.(${a[l.XRANGEIDENTIFIER]})(?:${a[l.PRERELEASE]})?${a[l.BUILD]}?)?)?`),d("XRANGEPLAINLOOSE",`[v=\\s]*(${a[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[l.XRANGEIDENTIFIERLOOSE]})(?:${a[l.PRERELEASELOOSE]})?${a[l.BUILD]}?)?)?`),d("XRANGE",`^${a[l.GTLT]}\\s*${a[l.XRANGEPLAIN]}$`),d("XRANGELOOSE",`^${a[l.GTLT]}\\s*${a[l.XRANGEPLAINLOOSE]}$`),d("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),d("COERCE",`${a[l.COERCEPLAIN]}(?:$|[^\\d])`),d("COERCEFULL",a[l.COERCEPLAIN]+`(?:${a[l.PRERELEASE]})?(?:${a[l.BUILD]})?(?:$|[^\\d])`),d("COERCERTL",a[l.COERCE],!0),d("COERCERTLFULL",a[l.COERCEFULL],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM",`(\\s*)${a[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",d("TILDE",`^${a[l.LONETILDE]}${a[l.XRANGEPLAIN]}$`),d("TILDELOOSE",`^${a[l.LONETILDE]}${a[l.XRANGEPLAINLOOSE]}$`),d("LONECARET","(?:\\^)"),d("CARETTRIM",`(\\s*)${a[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",d("CARET",`^${a[l.LONECARET]}${a[l.XRANGEPLAIN]}$`),d("CARETLOOSE",`^${a[l.LONECARET]}${a[l.XRANGEPLAINLOOSE]}$`),d("COMPARATORLOOSE",`^${a[l.GTLT]}\\s*(${a[l.LOOSEPLAIN]})$|^$`),d("COMPARATOR",`^${a[l.GTLT]}\\s*(${a[l.FULLPLAIN]})$|^$`),d("COMPARATORTRIM",`(\\s*)${a[l.GTLT]}\\s*(${a[l.LOOSEPLAIN]}|${a[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE",`^\\s*(${a[l.XRANGEPLAIN]})\\s+-\\s+(${a[l.XRANGEPLAIN]})\\s*$`),d("HYPHENRANGELOOSE",`^\\s*(${a[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[l.XRANGEPLAINLOOSE]})\\s*$`),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(ds,ds.exports);var Sr=ds.exports;const H0=Object.freeze({loose:!0}),q0=Object.freeze({}),B0=e=>e?typeof e!="object"?H0:e:q0;var Pi=B0;const Ro=/^[0-9]+$/,ul=(e,t)=>{const r=Ro.test(e),n=Ro.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},K0=(e,t)=>ul(t,e);var fl={compareIdentifiers:ul,rcompareIdentifiers:K0};const jr=hn,{MAX_LENGTH:bo,MAX_SAFE_INTEGER:kr}=dn,{safeRe:Do,t:Co}=Sr,W0=Pi,{compareIdentifiers:At}=fl;let X0=class Ze{constructor(t,r){if(r=W0(r),t instanceof Ze){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>bo)throw new TypeError(`version is longer than ${bo} characters`);jr("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?Do[Co.LOOSE]:Do[Co.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>kr||this.major<0)throw new TypeError("Invalid major version");if(this.minor>kr||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>kr||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<kr)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(jr("SemVer.compare",this.version,this.options,t),!(t instanceof Ze)){if(typeof t=="string"&&t===this.version)return 0;t=new Ze(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Ze||(t=new Ze(t,this.options)),At(this.major,t.major)||At(this.minor,t.minor)||At(this.patch,t.patch)}comparePre(t){if(t instanceof Ze||(t=new Ze(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=t.prerelease[r];if(jr("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return At(n,s)}while(++r)}compareBuild(t){t instanceof Ze||(t=new Ze(t,this.options));let r=0;do{const n=this.build[r],s=t.build[r];if(jr("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return At(n,s)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),At(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var je=X0;const Lo=je,Z0=(e,t,r=!1)=>{if(e instanceof Lo)return e;try{return new Lo(e,t)}catch(n){if(!r)return null;throw n}};var Qt=Z0;const J0=Qt,Y0=(e,t)=>{const r=J0(e,t);return r?r.version:null};var Q0=Y0;const eE=Qt,tE=(e,t)=>{const r=eE(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var rE=tE;const Ao=je,nE=(e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new Ao(e instanceof Ao?e.version:e,r).inc(t,n,s).version}catch{return null}};var sE=nE;const Fo=Qt,iE=(e,t)=>{const r=Fo(e,null,!0),n=Fo(t,null,!0),s=r.compare(n);if(s===0)return null;const i=s>0,o=i?r:n,c=i?n:r,a=!!o.prerelease.length;if(!!c.prerelease.length&&!a)return!c.patch&&!c.minor?"major":o.patch?"patch":o.minor?"minor":"major";const u=a?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};var oE=iE;const aE=je,cE=(e,t)=>new aE(e,t).major;var lE=cE;const uE=je,fE=(e,t)=>new uE(e,t).minor;var dE=fE;const hE=je,mE=(e,t)=>new hE(e,t).patch;var pE=mE;const yE=Qt,EE=(e,t)=>{const r=yE(e,t);return r&&r.prerelease.length?r.prerelease:null};var $E=EE;const jo=je,gE=(e,t,r)=>new jo(e,r).compare(new jo(t,r));var We=gE;const _E=We,vE=(e,t,r)=>_E(t,e,r);var wE=vE;const SE=We,NE=(e,t)=>SE(e,t,!0);var IE=NE;const ko=je,OE=(e,t,r)=>{const n=new ko(e,r),s=new ko(t,r);return n.compare(s)||n.compareBuild(s)};var Ti=OE;const PE=Ti,TE=(e,t)=>e.sort((r,n)=>PE(r,n,t));var RE=TE;const bE=Ti,DE=(e,t)=>e.sort((r,n)=>bE(n,r,t));var CE=DE;const LE=We,AE=(e,t,r)=>LE(e,t,r)>0;var mn=AE;const FE=We,jE=(e,t,r)=>FE(e,t,r)<0;var Ri=jE;const kE=We,ME=(e,t,r)=>kE(e,t,r)===0;var dl=ME;const UE=We,zE=(e,t,r)=>UE(e,t,r)!==0;var hl=zE;const xE=We,VE=(e,t,r)=>xE(e,t,r)>=0;var bi=VE;const GE=We,HE=(e,t,r)=>GE(e,t,r)<=0;var Di=HE;const qE=dl,BE=hl,KE=mn,WE=bi,XE=Ri,ZE=Di,JE=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return qE(e,r,n);case"!=":return BE(e,r,n);case">":return KE(e,r,n);case">=":return WE(e,r,n);case"<":return XE(e,r,n);case"<=":return ZE(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var ml=JE;const YE=je,QE=Qt,{safeRe:Mr,t:Ur}=Sr,e$=(e,t)=>{if(e instanceof YE)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?Mr[Ur.COERCEFULL]:Mr[Ur.COERCE]);else{const a=t.includePrerelease?Mr[Ur.COERCERTLFULL]:Mr[Ur.COERCERTL];let l;for(;(l=a.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||l.index+l[0].length!==r.index+r[0].length)&&(r=l),a.lastIndex=l.index+l[1].length+l[2].length;a.lastIndex=-1}if(r===null)return null;const n=r[2],s=r[3]||"0",i=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",c=t.includePrerelease&&r[6]?`+${r[6]}`:"";return QE(`${n}.${s}.${i}${o}${c}`,t)};var t$=e$;class r${constructor(){this.max=1e3,this.map=new Map}get(t){const r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(t,r)}return this}}var n$=r$,qn,Mo;function Xe(){if(Mo)return qn;Mo=1;const e=/\s+/g;class t{constructor(C,M){if(M=s(M),C instanceof t)return C.loose===!!M.loose&&C.includePrerelease===!!M.includePrerelease?C:new t(C.raw,M);if(C instanceof i)return this.raw=C.value,this.set=[[C]],this.formatted=void 0,this;if(this.options=M,this.loose=!!M.loose,this.includePrerelease=!!M.includePrerelease,this.raw=C.trim().replace(e," "),this.set=this.raw.split("||").map(j=>this.parseRange(j.trim())).filter(j=>j.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const j=this.set[0];if(this.set=this.set.filter(P=>!$(P[0])),this.set.length===0)this.set=[j];else if(this.set.length>1){for(const P of this.set)if(P.length===1&&p(P[0])){this.set=[P];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let C=0;C<this.set.length;C++){C>0&&(this.formatted+="||");const M=this.set[C];for(let j=0;j<M.length;j++)j>0&&(this.formatted+=" "),this.formatted+=M[j].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(C){const j=((this.options.includePrerelease&&f)|(this.options.loose&&d))+":"+C,P=n.get(j);if(P)return P;const R=this.options.loose,S=R?a[l.HYPHENRANGELOOSE]:a[l.HYPHENRANGE];C=C.replace(S,V(this.options.includePrerelease)),o("hyphen replace",C),C=C.replace(a[l.COMPARATORTRIM],u),o("comparator trim",C),C=C.replace(a[l.TILDETRIM],E),o("tilde trim",C),C=C.replace(a[l.CARETTRIM],v),o("caret trim",C);let w=C.split(" ").map(_=>h(_,this.options)).join(" ").split(/\s+/).map(_=>U(_,this.options));R&&(w=w.filter(_=>(o("loose invalid filter",_,this.options),!!_.match(a[l.COMPARATORLOOSE])))),o("range list",w);const T=new Map,I=w.map(_=>new i(_,this.options));for(const _ of I){if($(_))return[_];T.set(_.value,_)}T.size>1&&T.has("")&&T.delete("");const y=[...T.values()];return n.set(j,y),y}intersects(C,M){if(!(C instanceof t))throw new TypeError("a Range is required");return this.set.some(j=>m(j,M)&&C.set.some(P=>m(P,M)&&j.every(R=>P.every(S=>R.intersects(S,M)))))}test(C){if(!C)return!1;if(typeof C=="string")try{C=new c(C,this.options)}catch{return!1}for(let M=0;M<this.set.length;M++)if(W(this.set[M],C,this.options))return!0;return!1}}qn=t;const r=n$,n=new r,s=Pi,i=pn(),o=hn,c=je,{safeRe:a,t:l,comparatorTrimReplace:u,tildeTrimReplace:E,caretTrimReplace:v}=Sr,{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:d}=dn,$=A=>A.value==="<0.0.0-0",p=A=>A.value==="",m=(A,C)=>{let M=!0;const j=A.slice();let P=j.pop();for(;M&&j.length;)M=j.every(R=>P.intersects(R,C)),P=j.pop();return M},h=(A,C)=>(o("comp",A,C),A=L(A,C),o("caret",A),A=N(A,C),o("tildes",A),A=B(A,C),o("xrange",A),A=F(A,C),o("stars",A),A),g=A=>!A||A.toLowerCase()==="x"||A==="*",N=(A,C)=>A.trim().split(/\s+/).map(M=>O(M,C)).join(" "),O=(A,C)=>{const M=C.loose?a[l.TILDELOOSE]:a[l.TILDE];return A.replace(M,(j,P,R,S,w)=>{o("tilde",A,j,P,R,S,w);let T;return g(P)?T="":g(R)?T=`>=${P}.0.0 <${+P+1}.0.0-0`:g(S)?T=`>=${P}.${R}.0 <${P}.${+R+1}.0-0`:w?(o("replaceTilde pr",w),T=`>=${P}.${R}.${S}-${w} <${P}.${+R+1}.0-0`):T=`>=${P}.${R}.${S} <${P}.${+R+1}.0-0`,o("tilde return",T),T})},L=(A,C)=>A.trim().split(/\s+/).map(M=>k(M,C)).join(" "),k=(A,C)=>{o("caret",A,C);const M=C.loose?a[l.CARETLOOSE]:a[l.CARET],j=C.includePrerelease?"-0":"";return A.replace(M,(P,R,S,w,T)=>{o("caret",A,P,R,S,w,T);let I;return g(R)?I="":g(S)?I=`>=${R}.0.0${j} <${+R+1}.0.0-0`:g(w)?R==="0"?I=`>=${R}.${S}.0${j} <${R}.${+S+1}.0-0`:I=`>=${R}.${S}.0${j} <${+R+1}.0.0-0`:T?(o("replaceCaret pr",T),R==="0"?S==="0"?I=`>=${R}.${S}.${w}-${T} <${R}.${S}.${+w+1}-0`:I=`>=${R}.${S}.${w}-${T} <${R}.${+S+1}.0-0`:I=`>=${R}.${S}.${w}-${T} <${+R+1}.0.0-0`):(o("no pr"),R==="0"?S==="0"?I=`>=${R}.${S}.${w}${j} <${R}.${S}.${+w+1}-0`:I=`>=${R}.${S}.${w}${j} <${R}.${+S+1}.0-0`:I=`>=${R}.${S}.${w} <${+R+1}.0.0-0`),o("caret return",I),I})},B=(A,C)=>(o("replaceXRanges",A,C),A.split(/\s+/).map(M=>b(M,C)).join(" ")),b=(A,C)=>{A=A.trim();const M=C.loose?a[l.XRANGELOOSE]:a[l.XRANGE];return A.replace(M,(j,P,R,S,w,T)=>{o("xRange",A,j,P,R,S,w,T);const I=g(R),y=I||g(S),_=y||g(w),D=_;return P==="="&&D&&(P=""),T=C.includePrerelease?"-0":"",I?P===">"||P==="<"?j="<0.0.0-0":j="*":P&&D?(y&&(S=0),w=0,P===">"?(P=">=",y?(R=+R+1,S=0,w=0):(S=+S+1,w=0)):P==="<="&&(P="<",y?R=+R+1:S=+S+1),P==="<"&&(T="-0"),j=`${P+R}.${S}.${w}${T}`):y?j=`>=${R}.0.0${T} <${+R+1}.0.0-0`:_&&(j=`>=${R}.${S}.0${T} <${R}.${+S+1}.0-0`),o("xRange return",j),j})},F=(A,C)=>(o("replaceStars",A,C),A.trim().replace(a[l.STAR],"")),U=(A,C)=>(o("replaceGTE0",A,C),A.trim().replace(a[C.includePrerelease?l.GTE0PRE:l.GTE0],"")),V=A=>(C,M,j,P,R,S,w,T,I,y,_,D)=>(g(j)?M="":g(P)?M=`>=${j}.0.0${A?"-0":""}`:g(R)?M=`>=${j}.${P}.0${A?"-0":""}`:S?M=`>=${M}`:M=`>=${M}${A?"-0":""}`,g(I)?T="":g(y)?T=`<${+I+1}.0.0-0`:g(_)?T=`<${I}.${+y+1}.0-0`:D?T=`<=${I}.${y}.${_}-${D}`:A?T=`<${I}.${y}.${+_+1}-0`:T=`<=${T}`,`${M} ${T}`.trim()),W=(A,C,M)=>{for(let j=0;j<A.length;j++)if(!A[j].test(C))return!1;if(C.prerelease.length&&!M.includePrerelease){for(let j=0;j<A.length;j++)if(o(A[j].semver),A[j].semver!==i.ANY&&A[j].semver.prerelease.length>0){const P=A[j].semver;if(P.major===C.major&&P.minor===C.minor&&P.patch===C.patch)return!0}return!1}return!0};return qn}var Bn,Uo;function pn(){if(Uo)return Bn;Uo=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(u,E){if(E=r(E),u instanceof t){if(u.loose===!!E.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),o("comparator",u,E),this.options=E,this.loose=!!E.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(u){const E=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],v=u.match(E);if(!v)throw new TypeError(`Invalid comparator: ${u}`);this.operator=v[1]!==void 0?v[1]:"",this.operator==="="&&(this.operator=""),v[2]?this.semver=new c(v[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(o("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new c(u,this.options)}catch{return!1}return i(u,this.operator,this.semver,this.options)}intersects(u,E){if(!(u instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new a(u.value,E).test(this.value):u.operator===""?u.value===""?!0:new a(this.value,E).test(u.semver):(E=r(E),E.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!E.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||i(this.semver,"<",u.semver,E)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||i(this.semver,">",u.semver,E)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}Bn=t;const r=Pi,{safeRe:n,t:s}=Sr,i=ml,o=hn,c=je,a=Xe();return Bn}const s$=Xe(),i$=(e,t,r)=>{try{t=new s$(t,r)}catch{return!1}return t.test(e)};var yn=i$;const o$=Xe(),a$=(e,t)=>new o$(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var c$=a$;const l$=je,u$=Xe(),f$=(e,t,r)=>{let n=null,s=null,i=null;try{i=new u$(t,r)}catch{return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new l$(n,r))}),n};var d$=f$;const h$=je,m$=Xe(),p$=(e,t,r)=>{let n=null,s=null,i=null;try{i=new m$(t,r)}catch{return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new h$(n,r))}),n};var y$=p$;const Kn=je,E$=Xe(),zo=mn,$$=(e,t)=>{e=new E$(e,t);let r=new Kn("0.0.0");if(e.test(r)||(r=new Kn("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const s=e.set[n];let i=null;s.forEach(o=>{const c=new Kn(o.semver.version);switch(o.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!i||zo(c,i))&&(i=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!r||zo(r,i))&&(r=i)}return r&&e.test(r)?r:null};var g$=$$;const _$=Xe(),v$=(e,t)=>{try{return new _$(e,t).range||"*"}catch{return null}};var w$=v$;const S$=je,pl=pn(),{ANY:N$}=pl,I$=Xe(),O$=yn,xo=mn,Vo=Ri,P$=Di,T$=bi,R$=(e,t,r,n)=>{e=new S$(e,n),t=new I$(t,n);let s,i,o,c,a;switch(r){case">":s=xo,i=P$,o=Vo,c=">",a=">=";break;case"<":s=Vo,i=T$,o=xo,c="<",a="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(O$(e,t,n))return!1;for(let l=0;l<t.set.length;++l){const u=t.set[l];let E=null,v=null;if(u.forEach(f=>{f.semver===N$&&(f=new pl(">=0.0.0")),E=E||f,v=v||f,s(f.semver,E.semver,n)?E=f:o(f.semver,v.semver,n)&&(v=f)}),E.operator===c||E.operator===a||(!v.operator||v.operator===c)&&i(e,v.semver))return!1;if(v.operator===a&&o(e,v.semver))return!1}return!0};var Ci=R$;const b$=Ci,D$=(e,t,r)=>b$(e,t,">",r);var C$=D$;const L$=Ci,A$=(e,t,r)=>L$(e,t,"<",r);var F$=A$;const Go=Xe(),j$=(e,t,r)=>(e=new Go(e,r),t=new Go(t,r),e.intersects(t,r));var k$=j$;const M$=yn,U$=We;var z$=(e,t,r)=>{const n=[];let s=null,i=null;const o=e.sort((u,E)=>U$(u,E,r));for(const u of o)M$(u,t,r)?(i=u,s||(s=u)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);const c=[];for(const[u,E]of n)u===E?c.push(u):!E&&u===o[0]?c.push("*"):E?u===o[0]?c.push(`<=${E}`):c.push(`${u} - ${E}`):c.push(`>=${u}`);const a=c.join(" || "),l=typeof t.raw=="string"?t.raw:String(t);return a.length<l.length?a:t};const Ho=Xe(),Li=pn(),{ANY:Wn}=Li,sr=yn,Ai=We,x$=(e,t,r={})=>{if(e===t)return!0;e=new Ho(e,r),t=new Ho(t,r);let n=!1;e:for(const s of e.set){for(const i of t.set){const o=G$(s,i,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},V$=[new Li(">=0.0.0-0")],qo=[new Li(">=0.0.0")],G$=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Wn){if(t.length===1&&t[0].semver===Wn)return!0;r.includePrerelease?e=V$:e=qo}if(t.length===1&&t[0].semver===Wn){if(r.includePrerelease)return!0;t=qo}const n=new Set;let s,i;for(const f of e)f.operator===">"||f.operator===">="?s=Bo(s,f,r):f.operator==="<"||f.operator==="<="?i=Ko(i,f,r):n.add(f.semver);if(n.size>1)return null;let o;if(s&&i){if(o=Ai(s.semver,i.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(const f of n){if(s&&!sr(f,String(s),r)||i&&!sr(f,String(i),r))return null;for(const d of t)if(!sr(f,String(d),r))return!1;return!0}let c,a,l,u,E=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,v=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;E&&E.prerelease.length===1&&i.operator==="<"&&E.prerelease[0]===0&&(E=!1);for(const f of t){if(u=u||f.operator===">"||f.operator===">=",l=l||f.operator==="<"||f.operator==="<=",s){if(v&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===v.major&&f.semver.minor===v.minor&&f.semver.patch===v.patch&&(v=!1),f.operator===">"||f.operator===">="){if(c=Bo(s,f,r),c===f&&c!==s)return!1}else if(s.operator===">="&&!sr(s.semver,String(f),r))return!1}if(i){if(E&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===E.major&&f.semver.minor===E.minor&&f.semver.patch===E.patch&&(E=!1),f.operator==="<"||f.operator==="<="){if(a=Ko(i,f,r),a===f&&a!==i)return!1}else if(i.operator==="<="&&!sr(i.semver,String(f),r))return!1}if(!f.operator&&(i||s)&&o!==0)return!1}return!(s&&l&&!i&&o!==0||i&&u&&!s&&o!==0||v||E)},Bo=(e,t,r)=>{if(!e)return t;const n=Ai(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Ko=(e,t,r)=>{if(!e)return t;const n=Ai(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var H$=x$;const Xn=Sr,Wo=dn,q$=je,Xo=fl,B$=Qt,K$=Q0,W$=rE,X$=sE,Z$=oE,J$=lE,Y$=dE,Q$=pE,eg=$E,tg=We,rg=wE,ng=IE,sg=Ti,ig=RE,og=CE,ag=mn,cg=Ri,lg=dl,ug=hl,fg=bi,dg=Di,hg=ml,mg=t$,pg=pn(),yg=Xe(),Eg=yn,$g=c$,gg=d$,_g=y$,vg=g$,wg=w$,Sg=Ci,Ng=C$,Ig=F$,Og=k$,Pg=z$,Tg=H$;var Rg={parse:B$,valid:K$,clean:W$,inc:X$,diff:Z$,major:J$,minor:Y$,patch:Q$,prerelease:eg,compare:tg,rcompare:rg,compareLoose:ng,compareBuild:sg,sort:ig,rsort:og,gt:ag,lt:cg,eq:lg,neq:ug,gte:fg,lte:dg,cmp:hg,coerce:mg,Comparator:pg,Range:yg,satisfies:Eg,toComparators:$g,maxSatisfying:gg,minSatisfying:_g,minVersion:vg,validRange:wg,outside:Sg,gtr:Ng,ltr:Ig,intersects:Og,simplifyRange:Pg,subset:Tg,SemVer:q$,re:Xn.re,src:Xn.src,tokens:Xn.t,SEMVER_SPEC_VERSION:Wo.SEMVER_SPEC_VERSION,RELEASE_TYPES:Wo.RELEASE_TYPES,compareIdentifiers:Xo.compareIdentifiers,rcompareIdentifiers:Xo.rcompareIdentifiers},En={exports:{}},Fi={exports:{}};const yl=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};Fi.exports=yl;Fi.exports.default=yl;var bg=Fi.exports;const Dg=bg,en=new WeakMap,El=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0;const s=e.displayName||e.name||"<anonymous>",i=function(...o){if(en.set(i,++n),n===1)r=e.apply(this,o),e=null;else if(t.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r};return Dg(i,e),en.set(i,n),i};En.exports=El;En.exports.default=El;En.exports.callCount=e=>{if(!en.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return en.get(e)};var Cg=En.exports;(function(e,t){var r=It&&It.__classPrivateFieldSet||function(j,P,R,S,w){if(S==="m")throw new TypeError("Private method is not writable");if(S==="a"&&!w)throw new TypeError("Private accessor was defined without a setter");if(typeof P=="function"?j!==P||!w:!P.has(j))throw new TypeError("Cannot write private member to an object whose class did not declare it");return S==="a"?w.call(j,R):w?w.value=R:P.set(j,R),R},n=It&&It.__classPrivateFieldGet||function(j,P,R,S){if(R==="a"&&!S)throw new TypeError("Private accessor was defined without a getter");if(typeof P=="function"?j!==P||!S:!P.has(j))throw new TypeError("Cannot read private member from an object whose class did not declare it");return R==="m"?S:R==="a"?S.call(j):S?S.value:P.get(j)},s,i,o,c,a,l;Object.defineProperty(t,"__esModule",{value:!0});const u=ms,E=Kt,v=pe,f=la,d=ca,$=Il,p=Yf,m=ld,h=hd,g=Qe,N=ol,O=O0,L=k0,k=Rg,B=Cg,b="aes-256-cbc",F=()=>Object.create(null),U=j=>j!=null;let V="";try{delete require.cache[__filename],V=v.dirname((i=(s=e.parent)===null||s===void 0?void 0:s.filename)!==null&&i!==void 0?i:".")}catch{}const W=(j,P)=>{const R=new Set(["undefined","symbol","function"]),S=typeof P;if(R.has(S))throw new TypeError(`Setting a value of type \`${S}\` for key \`${j}\` is not allowed as it's not supported by JSON`)},A="__internal__",C=`${A}.migrations.version`;class M{constructor(P={}){var R;o.set(this,void 0),c.set(this,void 0),a.set(this,void 0),l.set(this,{}),this._deserialize=_=>JSON.parse(_),this._serialize=_=>JSON.stringify(_,void 0,"	");const S={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...P},w=B(()=>{const _=m.sync({cwd:V}),D=_&&JSON.parse(E.readFileSync(_,"utf8"));return D??{}});if(!S.cwd){if(S.projectName||(S.projectName=w().name),!S.projectName)throw new Error("Project name could not be inferred. Please specify the `projectName` option.");S.cwd=h(S.projectName,{suffix:S.projectSuffix}).config}if(r(this,a,S,"f"),S.schema){if(typeof S.schema!="object")throw new TypeError("The `schema` option must be an object.");const _=new N.default({allErrors:!0,useDefaults:!0});(0,O.default)(_);const D={type:"object",properties:S.schema};r(this,o,_.compile(D),"f");for(const[G,H]of Object.entries(S.schema))H?.default&&(n(this,l,"f")[G]=H.default)}S.defaults&&r(this,l,{...n(this,l,"f"),...S.defaults},"f"),S.serialize&&(this._serialize=S.serialize),S.deserialize&&(this._deserialize=S.deserialize),this.events=new $.EventEmitter,r(this,c,S.encryptionKey,"f");const T=S.fileExtension?`.${S.fileExtension}`:"";this.path=v.resolve(S.cwd,`${(R=S.configName)!==null&&R!==void 0?R:"config"}${T}`);const I=this.store,y=Object.assign(F(),S.defaults,I);this._validate(y);try{d.deepEqual(I,y)}catch{this.store=y}if(S.watch&&this._watch(),S.migrations){if(S.projectVersion||(S.projectVersion=w().version),!S.projectVersion)throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.");this._migrate(S.migrations,S.projectVersion,S.beforeEachMigration)}}get(P,R){if(n(this,a,"f").accessPropertiesByDotNotation)return this._get(P,R);const{store:S}=this;return P in S?S[P]:R}set(P,R){if(typeof P!="string"&&typeof P!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof P}`);if(typeof P!="object"&&R===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(P))throw new TypeError(`Please don't use the ${A} key, as it's used to manage this module internal operations.`);const{store:S}=this,w=(T,I)=>{W(T,I),n(this,a,"f").accessPropertiesByDotNotation?p.set(S,T,I):S[T]=I};if(typeof P=="object"){const T=P;for(const[I,y]of Object.entries(T))w(I,y)}else w(P,R);this.store=S}has(P){return n(this,a,"f").accessPropertiesByDotNotation?p.has(this.store,P):P in this.store}reset(...P){for(const R of P)U(n(this,l,"f")[R])&&this.set(R,n(this,l,"f")[R])}delete(P){const{store:R}=this;n(this,a,"f").accessPropertiesByDotNotation?p.delete(R,P):delete R[P],this.store=R}clear(){this.store=F();for(const P of Object.keys(n(this,l,"f")))this.reset(P)}onDidChange(P,R){if(typeof P!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof P}`);if(typeof R!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof R}`);return this._handleChange(()=>this.get(P),R)}onDidAnyChange(P){if(typeof P!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof P}`);return this._handleChange(()=>this.store,P)}get size(){return Object.keys(this.store).length}get store(){try{const P=E.readFileSync(this.path,n(this,c,"f")?null:"utf8"),R=this._encryptData(P),S=this._deserialize(R);return this._validate(S),Object.assign(F(),S)}catch(P){if(P?.code==="ENOENT")return this._ensureDirectory(),F();if(n(this,a,"f").clearInvalidConfig&&P.name==="SyntaxError")return F();throw P}}set store(P){this._ensureDirectory(),this._validate(P),this._write(P),this.events.emit("change")}*[(o=new WeakMap,c=new WeakMap,a=new WeakMap,l=new WeakMap,Symbol.iterator)](){for(const[P,R]of Object.entries(this.store))yield[P,R]}_encryptData(P){if(!n(this,c,"f"))return P.toString();try{if(n(this,c,"f"))try{if(P.slice(16,17).toString()===":"){const R=P.slice(0,16),S=f.pbkdf2Sync(n(this,c,"f"),R.toString(),1e4,32,"sha512"),w=f.createDecipheriv(b,S,R);P=Buffer.concat([w.update(Buffer.from(P.slice(17))),w.final()]).toString("utf8")}else{const R=f.createDecipher(b,n(this,c,"f"));P=Buffer.concat([R.update(Buffer.from(P)),R.final()]).toString("utf8")}}catch{}}catch{}return P.toString()}_handleChange(P,R){let S=P();const w=()=>{const T=S,I=P();(0,u.isDeepStrictEqual)(I,T)||(S=I,R.call(this,I,T))};return this.events.on("change",w),()=>this.events.removeListener("change",w)}_validate(P){if(!n(this,o,"f")||n(this,o,"f").call(this,P)||!n(this,o,"f").errors)return;const S=n(this,o,"f").errors.map(({instancePath:w,message:T=""})=>`\`${w.slice(1)}\` ${T}`);throw new Error("Config schema violation: "+S.join("; "))}_ensureDirectory(){E.mkdirSync(v.dirname(this.path),{recursive:!0})}_write(P){let R=this._serialize(P);if(n(this,c,"f")){const S=f.randomBytes(16),w=f.pbkdf2Sync(n(this,c,"f"),S.toString(),1e4,32,"sha512"),T=f.createCipheriv(b,w,S);R=Buffer.concat([S,Buffer.from(":"),T.update(Buffer.from(R)),T.final()])}if(process.env.SNAP)E.writeFileSync(this.path,R,{mode:n(this,a,"f").configFileMode});else try{g.writeFileSync(this.path,R,{mode:n(this,a,"f").configFileMode})}catch(S){if(S?.code==="EXDEV"){E.writeFileSync(this.path,R,{mode:n(this,a,"f").configFileMode});return}throw S}}_watch(){this._ensureDirectory(),E.existsSync(this.path)||this._write(F()),process.platform==="win32"?E.watch(this.path,{persistent:!1},L(()=>{this.events.emit("change")},{wait:100})):E.watchFile(this.path,{persistent:!1},L(()=>{this.events.emit("change")},{wait:5e3}))}_migrate(P,R,S){let w=this._get(C,"0.0.0");const T=Object.keys(P).filter(y=>this._shouldPerformMigration(y,w,R));let I={...this.store};for(const y of T)try{S&&S(this,{fromVersion:w,toVersion:y,finalVersion:R,versions:T});const _=P[y];_(this),this._set(C,y),w=y,I={...this.store}}catch(_){throw this.store=I,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${_}`)}(this._isVersionInRangeFormat(w)||!k.eq(w,R))&&this._set(C,R)}_containsReservedKey(P){return typeof P=="object"&&Object.keys(P)[0]===A?!0:typeof P!="string"?!1:n(this,a,"f").accessPropertiesByDotNotation?!!P.startsWith(`${A}.`):!1}_isVersionInRangeFormat(P){return k.clean(P)===null}_shouldPerformMigration(P,R,S){return this._isVersionInRangeFormat(P)?R!=="0.0.0"&&k.satisfies(R,P)?!1:k.satisfies(S,P):!(k.lte(P,R)||k.gt(P,S))}_get(P,R){return p.get(this.store,P,R)}_set(P,R){const{store:S}=this;p.set(S,P,R),this.store=S}}t.default=M,e.exports=M,e.exports.default=M})(es,es.exports);var Lg=es.exports;const Zo=pe,{app:Br,ipcMain:hs,ipcRenderer:Jo,shell:Ag}=Y,Fg=Lg;let Yo=!1;const Qo=()=>{if(!hs||!Br)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:Br.getPath("userData"),appVersion:Br.getVersion()};return Yo||(hs.on("electron-store-get-data",t=>{t.returnValue=e}),Yo=!0),e};class jg extends Fg{constructor(t){let r,n;if(Jo){const s=Jo.sendSync("electron-store-get-data");if(!s)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=s)}else hs&&Br&&({defaultCwd:r,appVersion:n}=Qo());t={name:"config",...t},t.projectVersion||(t.projectVersion=n),t.cwd?t.cwd=Zo.isAbsolute(t.cwd)?t.cwd:Zo.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){Qo()}async openInEditor(){const t=await Ag.openPath(this.path);if(t)throw new Error(t)}}var kg=jg;const ea=fa(kg);var er={exports:{}},$l={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24},$n={};(function(e){const t={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",DESCRIPTOR_NOT_EXIST:"No descriptor present",DESCRIPTOR_UNKNOWN:"Unknown descriptor format",DESCRIPTOR_FAULTY:"Descriptor data is malformed",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed {0}",FILE_IN_THE_WAY:"There is a file in the way: {0}",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",DISK_ENTRY_TOO_LARGE:"Number of disk entries is too large",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:'File not found: "{0}"',NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found",INVALID_PASS_PARAM:"Incompatible password parameter",WRONG_PASSWORD:"Wrong Password",COMMENT_TOO_LONG:"Comment is too long",EXTRA_FIELD_PARSE_ERROR:"Extra field parsing error"};function r(n){return function(...s){return s.length&&(n=n.replace(/\{(\d)\}/g,(i,o)=>s[o]||"")),new Error("ADM-ZIP: "+n)}}for(const n of Object.keys(t))e[n]=r(t[n])})($n);const Mg=Kt,Ee=pe,ta=$l,Ug=$n,zg=typeof process=="object"&&process.platform==="win32",ra=e=>typeof e=="object"&&e!==null,gl=new Uint32Array(256).map((e,t)=>{for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t>>>=1;return t>>>0});function me(e){this.sep=Ee.sep,this.fs=Mg,ra(e)&&ra(e.fs)&&typeof e.fs.statSync=="function"&&(this.fs=e.fs)}var xg=me;me.prototype.makeDir=function(e){const t=this;function r(n){let s=n.split(t.sep)[0];n.split(t.sep).forEach(function(i){if(!(!i||i.substr(-1,1)===":")){s+=t.sep+i;var o;try{o=t.fs.statSync(s)}catch{t.fs.mkdirSync(s)}if(o&&o.isFile())throw Ug.FILE_IN_THE_WAY(`"${s}"`)}})}r(e)};me.prototype.writeFileTo=function(e,t,r,n){const s=this;if(s.fs.existsSync(e)){if(!r)return!1;var i=s.fs.statSync(e);if(i.isDirectory())return!1}var o=Ee.dirname(e);s.fs.existsSync(o)||s.makeDir(o);var c;try{c=s.fs.openSync(e,"w",438)}catch{s.fs.chmodSync(e,438),c=s.fs.openSync(e,"w",438)}if(c)try{s.fs.writeSync(c,t,0,t.length,0)}finally{s.fs.closeSync(c)}return s.fs.chmodSync(e,n||438),!0};me.prototype.writeFileToAsync=function(e,t,r,n,s){typeof n=="function"&&(s=n,n=void 0);const i=this;i.fs.exists(e,function(o){if(o&&!r)return s(!1);i.fs.stat(e,function(c,a){if(o&&a.isDirectory())return s(!1);var l=Ee.dirname(e);i.fs.exists(l,function(u){u||i.makeDir(l),i.fs.open(e,"w",438,function(E,v){E?i.fs.chmod(e,438,function(){i.fs.open(e,"w",438,function(f,d){i.fs.write(d,t,0,t.length,0,function(){i.fs.close(d,function(){i.fs.chmod(e,n||438,function(){s(!0)})})})})}):v?i.fs.write(v,t,0,t.length,0,function(){i.fs.close(v,function(){i.fs.chmod(e,n||438,function(){s(!0)})})}):i.fs.chmod(e,n||438,function(){s(!0)})})})})})};me.prototype.findFiles=function(e){const t=this;function r(n,s,i){let o=[];return t.fs.readdirSync(n).forEach(function(c){const a=Ee.join(n,c),l=t.fs.statSync(a);o.push(Ee.normalize(a)+(l.isDirectory()?t.sep:"")),l.isDirectory()&&i&&(o=o.concat(r(a,s,i)))}),o}return r(e,void 0,!0)};me.prototype.findFilesAsync=function(e,t){const r=this;let n=[];r.fs.readdir(e,function(s,i){if(s)return t(s);let o=i.length;if(!o)return t(null,n);i.forEach(function(c){c=Ee.join(e,c),r.fs.stat(c,function(a,l){if(a)return t(a);l&&(n.push(Ee.normalize(c)+(l.isDirectory()?r.sep:"")),l.isDirectory()?r.findFilesAsync(c,function(u,E){if(u)return t(u);n=n.concat(E),--o||t(null,n)}):--o||t(null,n))})})})};me.prototype.getAttributes=function(){};me.prototype.setAttributes=function(){};me.crc32update=function(e,t){return gl[(e^t)&255]^e>>>8};me.crc32=function(e){typeof e=="string"&&(e=Buffer.from(e,"utf8"));let t=e.length,r=-1;for(let n=0;n<t;)r=me.crc32update(r,e[n++]);return~r>>>0};me.methodToString=function(e){switch(e){case ta.STORED:return"STORED ("+e+")";case ta.DEFLATED:return"DEFLATED ("+e+")";default:return"UNSUPPORTED ("+e+")"}};me.canonical=function(e){if(!e)return"";const t=Ee.posix.normalize("/"+e.split("\\").join("/"));return Ee.join(".",t)};me.zipnamefix=function(e){if(!e)return"";const t=Ee.posix.normalize("/"+e.split("\\").join("/"));return Ee.posix.join(".",t)};me.findLast=function(e,t){if(!Array.isArray(e))throw new TypeError("arr is not array");const r=e.length>>>0;for(let n=r-1;n>=0;n--)if(t(e[n],n,e))return e[n]};me.sanitize=function(e,t){e=Ee.resolve(Ee.normalize(e));for(var r=t.split("/"),n=0,s=r.length;n<s;n++){var i=Ee.normalize(Ee.join(e,r.slice(n,s).join(Ee.sep)));if(i.indexOf(e)===0)return i}return Ee.normalize(Ee.join(e,Ee.basename(t)))};me.toBuffer=function(t,r){return Buffer.isBuffer(t)?t:t instanceof Uint8Array?Buffer.from(t):typeof t=="string"?r(t):Buffer.alloc(0)};me.readBigUInt64LE=function(e,t){var r=Buffer.from(e.slice(t,t+8));return r.swap64(),parseInt(`0x${r.toString("hex")}`)};me.fromDOS2Date=function(e){return new Date((e>>25&127)+1980,Math.max((e>>21&15)-1,0),Math.max(e>>16&31,1),e>>11&31,e>>5&63,(e&31)<<1)};me.fromDate2DOS=function(e){let t=0,r=0;return e.getFullYear()>1979&&(t=(e.getFullYear()-1980&127)<<9|e.getMonth()+1<<5|e.getDate(),r=e.getHours()<<11|e.getMinutes()<<5|e.getSeconds()>>1),t<<16|r};me.isWin=zg;me.crcTable=gl;const Vg=pe;var Gg=function(e,{fs:t}){var r=e||"",n=i(),s=null;function i(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return r&&t.existsSync(r)?(s=t.statSync(r),n.directory=s.isDirectory(),n.mtime=s.mtime,n.atime=s.atime,n.executable=(73&s.mode)!==0,n.readonly=(128&s.mode)===0,n.hidden=Vg.basename(r)[0]==="."):console.warn("Invalid path: "+r),{get directory(){return n.directory},get readOnly(){return n.readonly},get hidden(){return n.hidden},get mtime(){return n.mtime},get atime(){return n.atime},get executable(){return n.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:r,isDirectory:n.directory,isReadOnly:n.readonly,isHidden:n.hidden,isExecutable:n.executable,mTime:n.mtime,aTime:n.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}},Hg={efs:!0,encode:e=>Buffer.from(e,"utf8"),decode:e=>e.toString("utf8")};er.exports=xg;er.exports.Constants=$l;er.exports.Errors=$n;er.exports.FileAttr=Gg;er.exports.decoder=Hg;var Nr=er.exports,gn={},ft=Nr,z=ft.Constants,qg=function(){var e=20,t=10,r=0,n=0,s=0,i=0,o=0,c=0,a=0,l=0,u=0,E=0,v=0,f=0,d=0;e|=ft.isWin?2560:768,r|=z.FLG_EFS;const $={extraLen:0},p=h=>Math.max(0,h)>>>0,m=h=>Math.max(0,h)&255;return s=ft.fromDate2DOS(new Date),{get made(){return e},set made(h){e=h},get version(){return t},set version(h){t=h},get flags(){return r},set flags(h){r=h},get flags_efs(){return(r&z.FLG_EFS)>0},set flags_efs(h){h?r|=z.FLG_EFS:r&=~z.FLG_EFS},get flags_desc(){return(r&z.FLG_DESC)>0},set flags_desc(h){h?r|=z.FLG_DESC:r&=~z.FLG_DESC},get method(){return n},set method(h){switch(h){case z.STORED:this.version=10;case z.DEFLATED:default:this.version=20}n=h},get time(){return ft.fromDOS2Date(this.timeval)},set time(h){this.timeval=ft.fromDate2DOS(h)},get timeval(){return s},set timeval(h){s=p(h)},get timeHighByte(){return m(s>>>8)},get crc(){return i},set crc(h){i=p(h)},get compressedSize(){return o},set compressedSize(h){o=p(h)},get size(){return c},set size(h){c=p(h)},get fileNameLength(){return a},set fileNameLength(h){a=h},get extraLength(){return l},set extraLength(h){l=h},get extraLocalLength(){return $.extraLen},set extraLocalLength(h){$.extraLen=h},get commentLength(){return u},set commentLength(h){u=h},get diskNumStart(){return E},set diskNumStart(h){E=p(h)},get inAttr(){return v},set inAttr(h){v=p(h)},get attr(){return f},set attr(h){f=p(h)},get fileAttr(){return(f||0)>>16&4095},get offset(){return d},set offset(h){d=p(h)},get encrypted(){return(r&z.FLG_ENC)===z.FLG_ENC},get centralHeaderSize(){return z.CENHDR+a+l+u},get realDataOffset(){return d+z.LOCHDR+$.fnameLen+$.extraLen},get localHeader(){return $},loadLocalHeaderFromBinary:function(h){var g=h.slice(d,d+z.LOCHDR);if(g.readUInt32LE(0)!==z.LOCSIG)throw ft.Errors.INVALID_LOC();$.version=g.readUInt16LE(z.LOCVER),$.flags=g.readUInt16LE(z.LOCFLG),$.method=g.readUInt16LE(z.LOCHOW),$.time=g.readUInt32LE(z.LOCTIM),$.crc=g.readUInt32LE(z.LOCCRC),$.compressedSize=g.readUInt32LE(z.LOCSIZ),$.size=g.readUInt32LE(z.LOCLEN),$.fnameLen=g.readUInt16LE(z.LOCNAM),$.extraLen=g.readUInt16LE(z.LOCEXT);const N=d+z.LOCHDR+$.fnameLen,O=N+$.extraLen;return h.slice(N,O)},loadFromBinary:function(h){if(h.length!==z.CENHDR||h.readUInt32LE(0)!==z.CENSIG)throw ft.Errors.INVALID_CEN();e=h.readUInt16LE(z.CENVEM),t=h.readUInt16LE(z.CENVER),r=h.readUInt16LE(z.CENFLG),n=h.readUInt16LE(z.CENHOW),s=h.readUInt32LE(z.CENTIM),i=h.readUInt32LE(z.CENCRC),o=h.readUInt32LE(z.CENSIZ),c=h.readUInt32LE(z.CENLEN),a=h.readUInt16LE(z.CENNAM),l=h.readUInt16LE(z.CENEXT),u=h.readUInt16LE(z.CENCOM),E=h.readUInt16LE(z.CENDSK),v=h.readUInt16LE(z.CENATT),f=h.readUInt32LE(z.CENATX),d=h.readUInt32LE(z.CENOFF)},localHeaderToBinary:function(){var h=Buffer.alloc(z.LOCHDR);return h.writeUInt32LE(z.LOCSIG,0),h.writeUInt16LE(t,z.LOCVER),h.writeUInt16LE(r,z.LOCFLG),h.writeUInt16LE(n,z.LOCHOW),h.writeUInt32LE(s,z.LOCTIM),h.writeUInt32LE(i,z.LOCCRC),h.writeUInt32LE(o,z.LOCSIZ),h.writeUInt32LE(c,z.LOCLEN),h.writeUInt16LE(a,z.LOCNAM),h.writeUInt16LE($.extraLen,z.LOCEXT),h},centralHeaderToBinary:function(){var h=Buffer.alloc(z.CENHDR+a+l+u);return h.writeUInt32LE(z.CENSIG,0),h.writeUInt16LE(e,z.CENVEM),h.writeUInt16LE(t,z.CENVER),h.writeUInt16LE(r,z.CENFLG),h.writeUInt16LE(n,z.CENHOW),h.writeUInt32LE(s,z.CENTIM),h.writeUInt32LE(i,z.CENCRC),h.writeUInt32LE(o,z.CENSIZ),h.writeUInt32LE(c,z.CENLEN),h.writeUInt16LE(a,z.CENNAM),h.writeUInt16LE(l,z.CENEXT),h.writeUInt16LE(u,z.CENCOM),h.writeUInt16LE(E,z.CENDSK),h.writeUInt16LE(v,z.CENATT),h.writeUInt32LE(f,z.CENATX),h.writeUInt32LE(d,z.CENOFF),h},toJSON:function(){const h=function(g){return g+" bytes"};return{made:e,version:t,flags:r,method:ft.methodToString(n),time:this.time,crc:"0x"+i.toString(16).toUpperCase(),compressedSize:h(o),size:h(c),fileNameLength:h(a),extraLength:h(l),commentLength:h(u),diskNumStart:E,inAttr:v,attr:f,offset:d,centralHeaderSize:h(z.CENHDR+a+l+u)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}},jt=Nr,ce=jt.Constants,Bg=function(){var e=0,t=0,r=0,n=0,s=0;return{get diskEntries(){return e},set diskEntries(i){e=t=i},get totalEntries(){return t},set totalEntries(i){t=e=i},get size(){return r},set size(i){r=i},get offset(){return n},set offset(i){n=i},get commentLength(){return s},set commentLength(i){s=i},get mainHeaderSize(){return ce.ENDHDR+s},loadFromBinary:function(i){if((i.length!==ce.ENDHDR||i.readUInt32LE(0)!==ce.ENDSIG)&&(i.length<ce.ZIP64HDR||i.readUInt32LE(0)!==ce.ZIP64SIG))throw jt.Errors.INVALID_END();i.readUInt32LE(0)===ce.ENDSIG?(e=i.readUInt16LE(ce.ENDSUB),t=i.readUInt16LE(ce.ENDTOT),r=i.readUInt32LE(ce.ENDSIZ),n=i.readUInt32LE(ce.ENDOFF),s=i.readUInt16LE(ce.ENDCOM)):(e=jt.readBigUInt64LE(i,ce.ZIP64SUB),t=jt.readBigUInt64LE(i,ce.ZIP64TOT),r=jt.readBigUInt64LE(i,ce.ZIP64SIZE),n=jt.readBigUInt64LE(i,ce.ZIP64OFF),s=0)},toBinary:function(){var i=Buffer.alloc(ce.ENDHDR+s);return i.writeUInt32LE(ce.ENDSIG,0),i.writeUInt32LE(0,4),i.writeUInt16LE(e,ce.ENDSUB),i.writeUInt16LE(t,ce.ENDTOT),i.writeUInt32LE(r,ce.ENDSIZ),i.writeUInt32LE(n,ce.ENDOFF),i.writeUInt16LE(s,ce.ENDCOM),i.fill(" ",ce.ENDHDR),i},toJSON:function(){const i=function(o,c){let a=o.toString(16).toUpperCase();for(;a.length<c;)a="0"+a;return"0x"+a};return{diskEntries:e,totalEntries:t,size:r+" bytes",offset:i(n,4),commentLength:s}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}};gn.EntryHeader=qg;gn.MainHeader=Bg;var _n={},Kg=function(e){var t=ua,r={chunkSize:(parseInt(e.length/1024)+1)*1024};return{deflate:function(){return t.deflateRawSync(e,r)},deflateAsync:function(n){var s=t.createDeflateRaw(r),i=[],o=0;s.on("data",function(c){i.push(c),o+=c.length}),s.on("end",function(){var c=Buffer.alloc(o),a=0;c.fill(0);for(var l=0;l<i.length;l++){var u=i[l];u.copy(c,a),a+=u.length}n&&n(c)}),s.end(e)}}};const Wg=+(process.versions?process.versions.node:"").split(".")[0]||0;var Xg=function(e,t){var r=ua;const n=Wg>=15&&t>0?{maxOutputLength:t}:{};return{inflate:function(){return r.inflateRawSync(e,n)},inflateAsync:function(s){var i=r.createInflateRaw(n),o=[],c=0;i.on("data",function(a){o.push(a),c+=a.length}),i.on("end",function(){var a=Buffer.alloc(c),l=0;a.fill(0);for(var u=0;u<o.length;u++){var E=o[u];E.copy(a,l),l+=E.length}s&&s(a)}),i.end(e)}}};const{randomFillSync:na}=la,Zg=$n,Jg=new Uint32Array(256).map((e,t)=>{for(let r=0;r<8;r++)t&1?t=t>>>1^3988292384:t>>>=1;return t>>>0}),_l=(e,t)=>Math.imul(e,t)>>>0,sa=(e,t)=>Jg[(e^t)&255]^e>>>8,$r=()=>typeof na=="function"?na(Buffer.alloc(12)):$r.node();$r.node=()=>{const e=Buffer.alloc(12),t=e.length;for(let r=0;r<t;r++)e[r]=Math.random()*256&255;return e};const Kr={genSalt:$r};function vn(e){const t=Buffer.isBuffer(e)?e:Buffer.from(e);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let r=0;r<t.length;r++)this.updateKeys(t[r])}vn.prototype.updateKeys=function(e){const t=this.keys;return t[0]=sa(t[0],e),t[1]+=t[0]&255,t[1]=_l(t[1],134775813)+1,t[2]=sa(t[2],t[1]>>>24),e};vn.prototype.next=function(){const e=(this.keys[2]|2)>>>0;return _l(e,e^1)>>8&255};function Yg(e){const t=new vn(e);return function(r){const n=Buffer.alloc(r.length);let s=0;for(let i of r)n[s++]=t.updateKeys(i^t.next());return n}}function Qg(e){const t=new vn(e);return function(r,n,s=0){n||(n=Buffer.alloc(r.length));for(let i of r){const o=t.next();n[s++]=i^o,t.updateKeys(i)}return n}}function e_(e,t,r){if(!e||!Buffer.isBuffer(e)||e.length<12)return Buffer.alloc(0);const n=Yg(r),s=n(e.slice(0,12)),i=(t.flags&8)===8?t.timeHighByte:t.crc>>>24;if(s[11]!==i)throw Zg.WRONG_PASSWORD();return n(e.slice(12))}function t_(e){Buffer.isBuffer(e)&&e.length>=12?Kr.genSalt=function(){return e.slice(0,12)}:e==="node"?Kr.genSalt=$r.node:Kr.genSalt=$r}function r_(e,t,r,n=!1){e==null&&(e=Buffer.alloc(0)),Buffer.isBuffer(e)||(e=Buffer.from(e.toString()));const s=Qg(r),i=Kr.genSalt();i[11]=t.crc>>>24&255,n&&(i[10]=t.crc>>>16&255);const o=Buffer.alloc(e.length+12);return s(i,o),s(e,o,12)}var n_={decrypt:e_,encrypt:r_,_salter:t_};_n.Deflater=Kg;_n.Inflater=Xg;_n.ZipCrypto=n_;var se=Nr,s_=gn,de=se.Constants,Zn=_n,vl=function(e,t){var r=new s_.EntryHeader,n=Buffer.alloc(0),s=Buffer.alloc(0),i=!1,o=null,c=Buffer.alloc(0),a=Buffer.alloc(0),l=!0;const u=e,E=typeof u.decoder=="object"?u.decoder:se.decoder;l=E.hasOwnProperty("efs")?E.efs:!1;function v(){return!t||!(t instanceof Uint8Array)?Buffer.alloc(0):(a=r.loadLocalHeaderFromBinary(t),t.slice(r.realDataOffset,r.realDataOffset+r.compressedSize))}function f(g){if(r.flags_desc){const N={},O=r.realDataOffset+r.compressedSize;if(t.readUInt32LE(O)==de.LOCSIG||t.readUInt32LE(O)==de.CENSIG)throw se.Errors.DESCRIPTOR_NOT_EXIST();if(t.readUInt32LE(O)==de.EXTSIG)N.crc=t.readUInt32LE(O+de.EXTCRC),N.compressedSize=t.readUInt32LE(O+de.EXTSIZ),N.size=t.readUInt32LE(O+de.EXTLEN);else if(t.readUInt16LE(O+12)===19280)N.crc=t.readUInt32LE(O+de.EXTCRC-4),N.compressedSize=t.readUInt32LE(O+de.EXTSIZ-4),N.size=t.readUInt32LE(O+de.EXTLEN-4);else throw se.Errors.DESCRIPTOR_UNKNOWN();if(N.compressedSize!==r.compressedSize||N.size!==r.size||N.crc!==r.crc)throw se.Errors.DESCRIPTOR_FAULTY();if(se.crc32(g)!==N.crc)return!1}else if(se.crc32(g)!==r.localHeader.crc)return!1;return!0}function d(g,N,O){if(typeof N>"u"&&typeof g=="string"&&(O=g,g=void 0),i)return g&&N&&N(Buffer.alloc(0),se.Errors.DIRECTORY_CONTENT_ERROR()),Buffer.alloc(0);var L=v();if(L.length===0)return g&&N&&N(L),L;if(r.encrypted){if(typeof O!="string"&&!Buffer.isBuffer(O))throw se.Errors.INVALID_PASS_PARAM();L=Zn.ZipCrypto.decrypt(L,r,O)}var k=Buffer.alloc(r.size);switch(r.method){case se.Constants.STORED:if(L.copy(k),f(k))return g&&N&&N(k),k;throw g&&N&&N(k,se.Errors.BAD_CRC()),se.Errors.BAD_CRC();case se.Constants.DEFLATED:var B=new Zn.Inflater(L,r.size);if(g)B.inflateAsync(function(b){b.copy(b,0),N&&(f(b)?N(b):N(b,se.Errors.BAD_CRC()))});else{if(B.inflate(k).copy(k,0),!f(k))throw se.Errors.BAD_CRC(`"${E.decode(n)}"`);return k}break;default:throw g&&N&&N(Buffer.alloc(0),se.Errors.UNKNOWN_METHOD()),se.Errors.UNKNOWN_METHOD()}}function $(g,N){if((!o||!o.length)&&Buffer.isBuffer(t))return g&&N&&N(v()),v();if(o.length&&!i){var O;switch(r.method){case se.Constants.STORED:return r.compressedSize=r.size,O=Buffer.alloc(o.length),o.copy(O),g&&N&&N(O),O;default:case se.Constants.DEFLATED:var L=new Zn.Deflater(o);if(g)L.deflateAsync(function(B){O=Buffer.alloc(B.length),r.compressedSize=B.length,B.copy(O),N&&N(O)});else{var k=L.deflate();return r.compressedSize=k.length,k}L=null;break}}else if(g&&N)N(Buffer.alloc(0));else return Buffer.alloc(0)}function p(g,N){return(g.readUInt32LE(N+4)<<4)+g.readUInt32LE(N)}function m(g){try{for(var N=0,O,L,k;N+4<g.length;)O=g.readUInt16LE(N),N+=2,L=g.readUInt16LE(N),N+=2,k=g.slice(N,N+L),N+=L,de.ID_ZIP64===O&&h(k)}catch{throw se.Errors.EXTRA_FIELD_PARSE_ERROR()}}function h(g){var N,O,L,k;g.length>=de.EF_ZIP64_SCOMP&&(N=p(g,de.EF_ZIP64_SUNCOMP),r.size===de.EF_ZIP64_OR_32&&(r.size=N)),g.length>=de.EF_ZIP64_RHO&&(O=p(g,de.EF_ZIP64_SCOMP),r.compressedSize===de.EF_ZIP64_OR_32&&(r.compressedSize=O)),g.length>=de.EF_ZIP64_DSN&&(L=p(g,de.EF_ZIP64_RHO),r.offset===de.EF_ZIP64_OR_32&&(r.offset=L)),g.length>=de.EF_ZIP64_DSN+4&&(k=g.readUInt32LE(de.EF_ZIP64_DSN),r.diskNumStart===de.EF_ZIP64_OR_16&&(r.diskNumStart=k))}return{get entryName(){return E.decode(n)},get rawEntryName(){return n},set entryName(g){n=se.toBuffer(g,E.encode);var N=n[n.length-1];i=N===47||N===92,r.fileNameLength=n.length},get efs(){return typeof l=="function"?l(this.entryName):l},get extra(){return c},set extra(g){c=g,r.extraLength=g.length,m(g)},get comment(){return E.decode(s)},set comment(g){if(s=se.toBuffer(g,E.encode),r.commentLength=s.length,s.length>65535)throw se.Errors.COMMENT_TOO_LONG()},get name(){var g=E.decode(n);return i?g.substr(g.length-1).split("/").pop():g.split("/").pop()},get isDirectory(){return i},getCompressedData:function(){return $(!1,null)},getCompressedDataAsync:function(g){$(!0,g)},setData:function(g){o=se.toBuffer(g,se.decoder.encode),!i&&o.length?(r.size=o.length,r.method=se.Constants.DEFLATED,r.crc=se.crc32(g),r.changed=!0):r.method=se.Constants.STORED},getData:function(g){return r.changed?o:d(!1,null,g)},getDataAsync:function(g,N){r.changed?g(o):d(!0,g,N)},set attr(g){r.attr=g},get attr(){return r.attr},set header(g){r.loadFromBinary(g)},get header(){return r},packCentralHeader:function(){r.flags_efs=this.efs,r.extraLength=c.length;var g=r.centralHeaderToBinary(),N=se.Constants.CENHDR;return n.copy(g,N),N+=n.length,c.copy(g,N),N+=r.extraLength,s.copy(g,N),g},packLocalHeader:function(){let g=0;r.flags_efs=this.efs,r.extraLocalLength=a.length;const N=r.localHeaderToBinary(),O=Buffer.alloc(N.length+n.length+r.extraLocalLength);return N.copy(O,g),g+=N.length,n.copy(O,g),g+=n.length,a.copy(O,g),g+=a.length,O},toJSON:function(){const g=function(N){return"<"+(N&&N.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:r.toJSON(),compressedData:g(t),data:g(o)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}};const ia=vl,i_=gn,Se=Nr;var o_=function(e,t){var r=[],n={},s=Buffer.alloc(0),i=new i_.MainHeader,o=!1;const c=new Set,a=t,{noSort:l,decoder:u}=a;e?f(a.readEntries):o=!0;function E(){const $=new Set;for(const p of Object.keys(n)){const m=p.split("/");if(m.pop(),!!m.length)for(let h=0;h<m.length;h++){const g=m.slice(0,h+1).join("/")+"/";$.add(g)}}for(const p of $)if(!(p in n)){const m=new ia(a);m.entryName=p,m.attr=16,m.temporary=!0,r.push(m),n[m.entryName]=m,c.add(m)}}function v(){if(o=!0,n={},i.diskEntries>(e.length-i.offset)/Se.Constants.CENHDR)throw Se.Errors.DISK_ENTRY_TOO_LARGE();r=new Array(i.diskEntries);for(var $=i.offset,p=0;p<r.length;p++){var m=$,h=new ia(a,e);h.header=e.slice(m,m+=Se.Constants.CENHDR),h.entryName=e.slice(m,m+=h.header.fileNameLength),h.header.extraLength&&(h.extra=e.slice(m,m+=h.header.extraLength)),h.header.commentLength&&(h.comment=e.slice(m,m+h.header.commentLength)),$+=h.header.centralHeaderSize,r[p]=h,n[h.entryName]=h}c.clear(),E()}function f($){var p=e.length-Se.Constants.ENDHDR,m=Math.max(0,p-65535),h=m,g=e.length,N=-1,O=0;for((typeof a.trailingSpace=="boolean"?a.trailingSpace:!1)&&(m=0),p;p>=h;p--)if(e[p]===80){if(e.readUInt32LE(p)===Se.Constants.ENDSIG){N=p,O=p,g=p+Se.Constants.ENDHDR,h=p-Se.Constants.END64HDR;continue}if(e.readUInt32LE(p)===Se.Constants.END64SIG){h=m;continue}if(e.readUInt32LE(p)===Se.Constants.ZIP64SIG){N=p,g=p+Se.readBigUInt64LE(e,p+Se.Constants.ZIP64SIZE)+Se.Constants.ZIP64LEAD;break}}if(N==-1)throw Se.Errors.INVALID_FORMAT();i.loadFromBinary(e.slice(N,g)),i.commentLength&&(s=e.slice(O+Se.Constants.ENDHDR)),$&&v()}function d(){r.length>1&&!l&&r.sort(($,p)=>$.entryName.toLowerCase().localeCompare(p.entryName.toLowerCase()))}return{get entries(){return o||v(),r.filter($=>!c.has($))},get comment(){return u.decode(s)},set comment($){s=Se.toBuffer($,u.encode),i.commentLength=s.length},getEntryCount:function(){return o?r.length:i.diskEntries},forEach:function($){this.entries.forEach($)},getEntry:function($){return o||v(),n[$]||null},setEntry:function($){o||v(),r.push($),n[$.entryName]=$,i.totalEntries=r.length},deleteFile:function($,p=!0){o||v();const m=n[$];this.getEntryChildren(m,p).map(g=>g.entryName).forEach(this.deleteEntry)},deleteEntry:function($){o||v();const p=n[$],m=r.indexOf(p);m>=0&&(r.splice(m,1),delete n[$],i.totalEntries=r.length)},getEntryChildren:function($,p=!0){if(o||v(),typeof $=="object")if($.isDirectory&&p){const m=[],h=$.entryName;for(const g of r)g.entryName.startsWith(h)&&m.push(g);return m}else return[$];return[]},getChildCount:function($){if($&&$.isDirectory){const p=this.getEntryChildren($);return p.includes($)?p.length-1:p.length}return 0},compressToBuffer:function(){o||v(),d();const $=[],p=[];let m=0,h=0;i.size=0,i.offset=0;let g=0;for(const L of this.entries){const k=L.getCompressedData();L.header.offset=h;const B=L.packLocalHeader(),b=B.length+k.length;h+=b,$.push(B),$.push(k);const F=L.packCentralHeader();p.push(F),i.size+=F.length,m+=b+F.length,g++}m+=i.mainHeaderSize,i.offset=h,i.totalEntries=g,h=0;const N=Buffer.alloc(m);for(const L of $)L.copy(N,h),h+=L.length;for(const L of p)L.copy(N,h),h+=L.length;const O=i.toBinary();return s&&s.copy(O,Se.Constants.ENDHDR),O.copy(N,h),e=N,o=!1,N},toAsyncBuffer:function($,p,m,h){try{o||v(),d();const g=[],N=[];let O=0,L=0,k=0;i.size=0,i.offset=0;const B=function(b){if(b.length>0){const F=b.shift(),U=F.entryName+F.extra.toString();m&&m(U),F.getCompressedDataAsync(function(V){h&&h(U),F.header.offset=L;const W=F.packLocalHeader(),A=W.length+V.length;L+=A,g.push(W),g.push(V);const C=F.packCentralHeader();N.push(C),i.size+=C.length,O+=A+C.length,k++,B(b)})}else{O+=i.mainHeaderSize,i.offset=L,i.totalEntries=k,L=0;const F=Buffer.alloc(O);g.forEach(function(V){V.copy(F,L),L+=V.length}),N.forEach(function(V){V.copy(F,L),L+=V.length});const U=i.toBinary();s&&s.copy(U,Se.Constants.ENDHDR),U.copy(F,L),e=F,o=!1,$(F)}};B(Array.from(this.entries))}catch(g){p(g)}}}};const le=Nr,he=pe,a_=vl,c_=o_,vt=(...e)=>le.findLast(e,t=>typeof t=="boolean"),oa=(...e)=>le.findLast(e,t=>typeof t=="string"),l_=(...e)=>le.findLast(e,t=>typeof t=="function"),u_={noSort:!1,readEntries:!1,method:le.Constants.NONE,fs:null};var f_=function(e,t){let r=null;const n=Object.assign(Object.create(null),u_);e&&typeof e=="object"&&(e instanceof Uint8Array||(Object.assign(n,e),e=n.input?n.input:void 0,n.input&&delete n.input),Buffer.isBuffer(e)&&(r=e,n.method=le.Constants.BUFFER,e=void 0)),Object.assign(n,t);const s=new le(n);if((typeof n.decoder!="object"||typeof n.decoder.encode!="function"||typeof n.decoder.decode!="function")&&(n.decoder=le.decoder),e&&typeof e=="string")if(s.fs.existsSync(e))n.method=le.Constants.FILE,n.filename=e,r=s.fs.readFileSync(e);else throw le.Errors.INVALID_FILENAME();const i=new c_(r,n),{canonical:o,sanitize:c,zipnamefix:a}=le;function l(f){if(f&&i){var d;if(typeof f=="string"&&(d=i.getEntry(he.posix.normalize(f))),typeof f=="object"&&typeof f.entryName<"u"&&typeof f.header<"u"&&(d=i.getEntry(f.entryName)),d)return d}return null}function u(f){const{join:d,normalize:$,sep:p}=he.posix;return d(".",$(p+f.split("\\").join(p)+p))}function E(f){return f instanceof RegExp?function(d){return function($){return d.test($)}}(f):typeof f!="function"?()=>!0:f}const v=(f,d)=>{let $=d.slice(-1);return $=$===s.sep?s.sep:"",he.relative(f,d)+$};return{readFile:function(f,d){var $=l(f);return $&&$.getData(d)||null},childCount:function(f){const d=l(f);if(d)return i.getChildCount(d)},readFileAsync:function(f,d){var $=l(f);$?$.getDataAsync(d):d(null,"getEntry failed for:"+f)},readAsText:function(f,d){var $=l(f);if($){var p=$.getData();if(p&&p.length)return p.toString(d||"utf8")}return""},readAsTextAsync:function(f,d,$){var p=l(f);p?p.getDataAsync(function(m,h){if(h){d(m,h);return}m&&m.length?d(m.toString($||"utf8")):d("")}):d("")},deleteFile:function(f,d=!0){var $=l(f);$&&i.deleteFile($.entryName,d)},deleteEntry:function(f){var d=l(f);d&&i.deleteEntry(d.entryName)},addZipComment:function(f){i.comment=f},getZipComment:function(){return i.comment||""},addZipEntryComment:function(f,d){var $=l(f);$&&($.comment=d)},getZipEntryComment:function(f){var d=l(f);return d&&d.comment||""},updateFile:function(f,d){var $=l(f);$&&$.setData(d)},addLocalFile:function(f,d,$,p){if(s.fs.existsSync(f)){d=d?u(d):"";const m=he.win32.basename(he.win32.normalize(f));d+=$||m;const h=s.fs.statSync(f),g=h.isFile()?s.fs.readFileSync(f):Buffer.alloc(0);h.isDirectory()&&(d+=s.sep),this.addFile(d,g,p,h)}else throw le.Errors.FILE_NOT_FOUND(f)},addLocalFileAsync:function(f,d){f=typeof f=="object"?f:{localPath:f};const $=he.resolve(f.localPath),{comment:p}=f;let{zipPath:m,zipName:h}=f;const g=this;s.fs.stat($,function(N,O){if(N)return d(N,!1);m=m?u(m):"";const L=he.win32.basename(he.win32.normalize($));if(m+=h||L,O.isFile())s.fs.readFile($,function(k,B){return k?d(k,!1):(g.addFile(m,B,p,O),setImmediate(d,void 0,!0))});else if(O.isDirectory())return m+=s.sep,g.addFile(m,Buffer.alloc(0),p,O),setImmediate(d,void 0,!0)})},addLocalFolder:function(f,d,$){if($=E($),d=d?u(d):"",f=he.normalize(f),s.fs.existsSync(f)){const p=s.findFiles(f),m=this;if(p.length)for(const h of p){const g=he.join(d,v(f,h));$(g)&&m.addLocalFile(h,he.dirname(g))}}else throw le.Errors.FILE_NOT_FOUND(f)},addLocalFolderAsync:function(f,d,$,p){p=E(p),$=$?u($):"",f=he.normalize(f);var m=this;s.fs.open(f,"r",function(h){if(h&&h.code==="ENOENT")d(void 0,le.Errors.FILE_NOT_FOUND(f));else if(h)d(void 0,h);else{var g=s.findFiles(f),N=-1,O=function(){if(N+=1,N<g.length){var L=g[N],k=v(f,L).split("\\").join("/");k=k.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),p(k)?s.fs.stat(L,function(B,b){B&&d(void 0,B),b.isFile()?s.fs.readFile(L,function(F,U){F?d(void 0,F):(m.addFile($+k,U,"",b),O())}):(m.addFile($+k+"/",Buffer.alloc(0),"",b),O())}):process.nextTick(()=>{O()})}else d(!0,void 0)};O()}})},addLocalFolderAsync2:function(f,d){const $=this;f=typeof f=="object"?f:{localPath:f},localPath=he.resolve(u(f.localPath));let{zipPath:p,filter:m,namefix:h}=f;m instanceof RegExp?m=function(O){return function(L){return O.test(L)}}(m):typeof m!="function"&&(m=function(){return!0}),p=p?u(p):"",h=="latin1"&&(h=O=>O.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,"")),typeof h!="function"&&(h=O=>O);const g=O=>he.join(p,h(v(localPath,O))),N=O=>he.win32.basename(he.win32.normalize(h(O)));s.fs.open(localPath,"r",function(O){O&&O.code==="ENOENT"?d(void 0,le.Errors.FILE_NOT_FOUND(localPath)):O?d(void 0,O):s.findFilesAsync(localPath,function(L,k){if(L)return d(L);k=k.filter(B=>m(g(B))),k.length||d(void 0,!1),setImmediate(k.reverse().reduce(function(B,b){return function(F,U){if(F||U===!1)return setImmediate(B,F,!1);$.addLocalFileAsync({localPath:b,zipPath:he.dirname(g(b)),zipName:N(b)},B)}},d))})})},addLocalFolderPromise:function(f,d){return new Promise(($,p)=>{this.addLocalFolderAsync2(Object.assign({localPath:f},d),(m,h)=>{m&&p(m),h&&$(this)})})},addFile:function(f,d,$,p){f=a(f);let m=l(f);const h=m!=null;h||(m=new a_(n),m.entryName=f),m.comment=$||"";const g=typeof p=="object"&&p instanceof s.fs.Stats;g&&(m.header.time=p.mtime);var N=m.isDirectory?16:0;let O=m.isDirectory?16384:32768;return g?O|=4095&p.mode:typeof p=="number"?O|=4095&p:O|=m.isDirectory?493:420,N=(N|O<<16)>>>0,m.attr=N,m.setData(d),h||i.setEntry(m),m},getEntries:function(f){return i.password=f,i?i.entries:[]},getEntry:function(f){return l(f)},getEntryCount:function(){return i.getEntryCount()},forEach:function(f){return i.forEach(f)},extractEntryTo:function(f,d,$,p,m,h){p=vt(!1,p),m=vt(!1,m),$=vt(!0,$),h=oa(m,h);var g=l(f);if(!g)throw le.Errors.NO_ENTRY();var N=o(g.entryName),O=c(d,h&&!g.isDirectory?h:$?N:he.basename(N));if(g.isDirectory){var L=i.getEntryChildren(g);return L.forEach(function(b){if(b.isDirectory)return;var F=b.getData();if(!F)throw le.Errors.CANT_EXTRACT_FILE();var U=o(b.entryName),V=c(d,$?U:he.basename(U));const W=m?b.header.fileAttr:void 0;s.writeFileTo(V,F,p,W)}),!0}var k=g.getData(i.password);if(!k)throw le.Errors.CANT_EXTRACT_FILE();if(s.fs.existsSync(O)&&!p)throw le.Errors.CANT_OVERRIDE();const B=m?f.header.fileAttr:void 0;return s.writeFileTo(O,k,p,B),!0},test:function(f){if(!i)return!1;for(var d in i.entries)try{if(d.isDirectory)continue;var $=i.entries[d].getData(f);if(!$)return!1}catch{return!1}return!0},extractAllTo:function(f,d,$,p){if($=vt(!1,$),p=oa($,p),d=vt(!1,d),!i)throw le.Errors.NO_ZIP();i.entries.forEach(function(m){var h=c(f,o(m.entryName));if(m.isDirectory){s.makeDir(h);return}var g=m.getData(p);if(!g)throw le.Errors.CANT_EXTRACT_FILE();const N=$?m.header.fileAttr:void 0;s.writeFileTo(h,g,d,N);try{s.fs.utimesSync(h,m.header.time,m.header.time)}catch{throw le.Errors.CANT_EXTRACT_FILE()}})},extractAllToAsync:function(f,d,$,p){if(p=l_(d,$,p),$=vt(!1,$),d=vt(!1,d),!p)return new Promise((O,L)=>{this.extractAllToAsync(f,d,$,function(k){k?L(k):O(this)})});if(!i){p(le.Errors.NO_ZIP());return}f=he.resolve(f);const m=O=>c(f,he.normalize(o(O.entryName))),h=(O,L)=>new Error(O+': "'+L+'"'),g=[],N=[];i.entries.forEach(O=>{O.isDirectory?g.push(O):N.push(O)});for(const O of g){const L=m(O),k=$?O.header.fileAttr:void 0;try{s.makeDir(L),k&&s.fs.chmodSync(L,k),s.fs.utimesSync(L,O.header.time,O.header.time)}catch{p(h("Unable to create folder",L))}}N.reverse().reduce(function(O,L){return function(k){if(k)O(k);else{const B=he.normalize(o(L.entryName)),b=c(f,B);L.getDataAsync(function(F,U){if(U)O(U);else if(!F)O(le.Errors.CANT_EXTRACT_FILE());else{const V=$?L.header.fileAttr:void 0;s.writeFileToAsync(b,F,d,V,function(W){W||O(h("Unable to write file",b)),s.fs.utimes(b,L.header.time,L.header.time,function(A){A?O(h("Unable to set times",b)):O()})})}})}}},p)()},writeZip:function(f,d){if(arguments.length===1&&typeof f=="function"&&(d=f,f=""),!f&&n.filename&&(f=n.filename),!!f){var $=i.compressToBuffer();if($){var p=s.writeFileTo(f,$,!0);typeof d=="function"&&d(p?null:new Error("failed"),"")}}},writeZipPromise:function(f,d){const{overwrite:$,perm:p}=Object.assign({overwrite:!0},d);return new Promise((m,h)=>{!f&&n.filename&&(f=n.filename),f||h("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(g=>{const N=O=>O?m(O):h("ADM-ZIP: Wasn't able to write zip file");s.writeFileToAsync(f,g,$,p,N)},h)})},toBufferPromise:function(){return new Promise((f,d)=>{i.toAsyncBuffer(f,d)})},toBuffer:function(f,d,$,p){return typeof f=="function"?(i.toAsyncBuffer(f,d,$,p),null):i.compressToBuffer()}}};const aa=fa(f_),Jn=process.platform==="win32";class wn{constructor(t,r,n){this.bw=t,this.version=r,this.path_htm=n,console.log=i=>this.bw.webContents.send("log",i),t.webContents.on("devtools-opened",()=>this.#c()),Y.ipcMain.handle("openDevTools",()=>t.webContents.openDevTools()),this.#f.getVersion=r,Y.ipcMain.handle("getInfo",()=>this.#f),Y.ipcMain.handle("inited",(i,o,c)=>this.#m(o,c)),Y.ipcMain.handle("existsSync",(i,o)=>Ve.existsSync(o)),Y.ipcMain.handle("copySync",(i,o,c)=>Ve.copySync(o,c)),Y.ipcMain.handle("removeSync",(i,o)=>Ve.removeSync(o)),Y.ipcMain.handle("ensureFileSync",(i,o)=>Ve.ensureFileSync(o)),Y.ipcMain.handle("readFileSync",(i,o)=>Ve.readFileSync(o,{encoding:"utf8"})),Y.ipcMain.handle("writeFileSync",(i,o,c,a)=>Ve.writeFileSync(o,c,a)),Y.ipcMain.handle("appendFile",(i,o,c)=>Ve.appendFile(o,c).catch(a=>console.log(a))),Y.ipcMain.handle("outputFile",(i,o,c)=>Ve.outputFile(o,c).catch(a=>console.log(a))),Y.ipcMain.handle("win_close",()=>t.close()),Y.ipcMain.handle("win_setTitle",(i,o)=>t.setTitle(o)),Y.ipcMain.handle("showMessageBox",(i,o)=>Y.dialog.showMessageBox(o)),Y.ipcMain.handle("capturePage",(i,o,c,a)=>t.webContents.capturePage().then(l=>{Ve.ensureFileSync(o);const u=l.resize({width:c,height:a,quality:"best"}),E=o.endsWith(".png")?u.toPNG():u.toJPEG(80);Ve.writeFileSync(o,E)})),Y.ipcMain.handle("navigate_to",(i,o)=>Y.shell.openExternal(o));let s;Y.ipcMain.handle("Store",(i,o)=>{s=new ea(o)}),Y.ipcMain.handle("flush",(i,o)=>{s.store=o}),Y.ipcMain.handle("Store_isEmpty",()=>s.size===0),Y.ipcMain.handle("Store_get",()=>s.store),Y.ipcMain.handle("zip",(i,o,c)=>{const a=new aa;a.addLocalFolder(o),a.writeZip(c)}),Y.ipcMain.handle("unzip",(i,o,c)=>{Ve.removeSync(c),Ve.ensureDirSync(c),new aa(o).extractAllTo(c,!0)}),Y.ipcMain.handle("isSimpleFullScreen",()=>t.simpleFullScreen),Jn?(Y.ipcMain.handle("setSimpleFullScreen",(i,o)=>{this.#e=!0,t.setSimpleFullScreen(o),o||(t.setPosition(this.#o,this.#a),t.setContentSize(this.#r,this.#n)),this.#e=!1}),t.on("enter-full-screen",()=>{t.setContentSize(this.#t.width,this.#t.height)}),t.on("leave-full-screen",()=>{this.#i(!1,this.#o,this.#a,this.#r,this.#n)})):Y.ipcMain.handle("setSimpleFullScreen",(i,o)=>{t.setSimpleFullScreen(o),!o&&t.setContentSize(this.#r,this.#n)}),Y.ipcMain.handle("window",(i,o,c,a,l,u)=>this.#i(o,c,a,l,u)),t.on("move",()=>this.#u()),t.on("resize",()=>this.#u()),this.#d(),t.loadFile(n)}static initRenderer(t,r,n){let s,i=()=>{};try{ea.initRenderer(),process.env.ELECTRON_DISABLE_SECURITY_WARNINGS="true",s=new Y.BrowserWindow({show:!1,minWidth:300,minHeight:300,acceptFirstMouse:!0,maximizable:!1,webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:`${__dirname}/preload.js`}});const o=new wn(s,r,t);i=()=>o.openDevTools()}catch(o){throw console.error(`early err:${o}`),i(),"initRenderer error"}return s}#f={getAppPath:Y.app.getAppPath(),isPackaged:Y.app.isPackaged,downloads:Y.app.getPath("downloads"),userData:Y.app.getPath("userData"),getVersion:"",env:{...process.env},platform:process.platform,arch:process.arch};#o=0;#a=0;#r=0;#n=0;#s=0;openDevTools=()=>{};#c=()=>this.bw.webContents.closeDevTools();#m(t,r){const{c:n,x:s,y:i,w:o,h:c}=r;if(this.#s=o/c,Jn||this.bw.setAspectRatio(this.#s),this.#i(n,s,i,o,c),this.bw.show(),t.debug.devtool){this.#c=()=>{},this.openDevTools=()=>this.bw.webContents.openDevTools({mode:"detach"}),this.openDevTools();return}this.#c=()=>{this.bw.webContents.closeDevTools(),this.bw.setTitle("DevToolは禁止されています。許可する場合は【プロジェクト設定】の【devtool】をONに。"),this.bw.webContents.send("shutdown")}}#t;#d(){const t=Y.screen.getCursorScreenPoint(),r=Y.screen.getDisplayNearestPoint(t);this.#t=r.workAreaSize}#l=void 0;#h=!1;#e=!1;#u(){if(this.#l||this.#e)return;this.#e=!0;const[t,r]=this.bw.getPosition(),[n,s]=this.bw.getContentSize();this.#l=setTimeout(()=>{if(this.#l=void 0,this.#h){this.#h=!1;return}this.#e=!1;const[i=0,o=0]=this.bw.getPosition(),[c=0,a=0]=this.bw.getContentSize();if(t!==i||r!==o||n!==c||s!==a){this.#u();return}this.#i(!1,i,o,c,a)},1e3/60*10)}#i(t,r,n,s,i){this.#e||(this.#e=!0,!this.bw.simpleFullScreen&&(t&&(this.#d(),r=(this.#t.width-s)*.5,n=(this.#t.height-i)*.5),this.#o=r=Math.round(r),this.#a=n=Math.round(n),this.bw.setPosition(r,n),Jn&&(this.#r!==s?i=s/this.#s:s=i*this.#s),this.#r=s=Math.round(s),this.#n=i=Math.round(i),this.bw.setContentSize(s,i),this.bw.webContents.send("save_win_inf",{c:t,x:r,y:n,w:s,h:i,scrw:this.#t.width,scrh:this.#t.height}),this.#e=!1))}}module.exports=wn;exports.appMain=wn;
//# sourceMappingURL=appMain.js.map
