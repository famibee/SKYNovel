"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const ne=require("electron"),Qs=require("fs"),rf=require("constants"),nf=require("stream"),sf=require("util"),of=require("assert"),Ke=require("path"),lt=require("node:process"),de=require("node:path"),Ae=require("node:util"),ie=require("node:fs"),Br=require("node:crypto"),af=require("node:assert"),Zn=require("node:os"),ic=require("zlib"),cf=require("crypto");var Vn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ei(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ze={},Ce={};Ce.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,n)=>{t.push((s,i)=>s!=null?n(s):r(i)),e.apply(this,t)})},"name",{value:e.name})};Ce.fromPromise=function(e){return Object.defineProperty(function(...t){const r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);t.pop(),e.apply(this,t).then(n=>r(null,n),r)},"name",{value:e.name})};var At=rf,uf=process.cwd,An=null,ff=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return An||(An=uf.call(process)),An};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var Co=process.chdir;process.chdir=function(e){An=null,Co.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Co)}var lf=df;function df(e){At.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=i(e.chown),e.fchown=i(e.fchown),e.lchown=i(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=s(e.chmodSync),e.fchmodSync=s(e.fchmodSync),e.lchmodSync=s(e.lchmodSync),e.stat=f(e.stat),e.fstat=f(e.fstat),e.lstat=f(e.lstat),e.statSync=c(e.statSync),e.fstatSync=c(e.fstatSync),e.lstatSync=c(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(a,l,v){v&&process.nextTick(v)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(a,l,v,m){m&&process.nextTick(m)},e.lchownSync=function(){}),ff==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(a){function l(v,m,u){var y=Date.now(),$=0;a(v,m,function d(E){if(E&&(E.code==="EACCES"||E.code==="EPERM"||E.code==="EBUSY")&&Date.now()-y<6e4){setTimeout(function(){e.stat(m,function(I,D){I&&I.code==="ENOENT"?a(v,m,d):u(E)})},$),$<100&&($+=10);return}u&&u(E)})}return Object.setPrototypeOf&&Object.setPrototypeOf(l,a),l}(e.rename)),e.read=typeof e.read!="function"?e.read:function(a){function l(v,m,u,y,$,d){var E;if(d&&typeof d=="function"){var I=0;E=function(D,M,W){if(D&&D.code==="EAGAIN"&&I<10)return I++,a.call(e,v,m,u,y,$,E);d.apply(this,arguments)}}return a.call(e,v,m,u,y,$,E)}return Object.setPrototypeOf&&Object.setPrototypeOf(l,a),l}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(a){return function(l,v,m,u,y){for(var $=0;;)try{return a.call(e,l,v,m,u,y)}catch(d){if(d.code==="EAGAIN"&&$<10){$++;continue}throw d}}}(e.readSync);function t(a){a.lchmod=function(l,v,m){a.open(l,At.O_WRONLY|At.O_SYMLINK,v,function(u,y){if(u){m&&m(u);return}a.fchmod(y,v,function($){a.close(y,function(d){m&&m($||d)})})})},a.lchmodSync=function(l,v){var m=a.openSync(l,At.O_WRONLY|At.O_SYMLINK,v),u=!0,y;try{y=a.fchmodSync(m,v),u=!1}finally{if(u)try{a.closeSync(m)}catch{}else a.closeSync(m)}return y}}function r(a){At.hasOwnProperty("O_SYMLINK")&&a.futimes?(a.lutimes=function(l,v,m,u){a.open(l,At.O_SYMLINK,function(y,$){if(y){u&&u(y);return}a.futimes($,v,m,function(d){a.close($,function(E){u&&u(d||E)})})})},a.lutimesSync=function(l,v,m){var u=a.openSync(l,At.O_SYMLINK),y,$=!0;try{y=a.futimesSync(u,v,m),$=!1}finally{if($)try{a.closeSync(u)}catch{}else a.closeSync(u)}return y}):a.futimes&&(a.lutimes=function(l,v,m,u){u&&process.nextTick(u)},a.lutimesSync=function(){})}function n(a){return a&&function(l,v,m){return a.call(e,l,v,function(u){h(u)&&(u=null),m&&m.apply(this,arguments)})}}function s(a){return a&&function(l,v){try{return a.call(e,l,v)}catch(m){if(!h(m))throw m}}}function i(a){return a&&function(l,v,m,u){return a.call(e,l,v,m,function(y){h(y)&&(y=null),u&&u.apply(this,arguments)})}}function o(a){return a&&function(l,v,m){try{return a.call(e,l,v,m)}catch(u){if(!h(u))throw u}}}function f(a){return a&&function(l,v,m){typeof v=="function"&&(m=v,v=null);function u(y,$){$&&($.uid<0&&($.uid+=4294967296),$.gid<0&&($.gid+=4294967296)),m&&m.apply(this,arguments)}return v?a.call(e,l,v,u):a.call(e,l,u)}}function c(a){return a&&function(l,v){var m=v?a.call(e,l,v):a.call(e,l);return m&&(m.uid<0&&(m.uid+=4294967296),m.gid<0&&(m.gid+=4294967296)),m}}function h(a){if(!a||a.code==="ENOSYS")return!0;var l=!process.getuid||process.getuid()!==0;return!!(l&&(a.code==="EINVAL"||a.code==="EPERM"))}}var To=nf.Stream,hf=mf;function mf(e){return{ReadStream:t,WriteStream:r};function t(n,s){if(!(this instanceof t))return new t(n,s);To.call(this);var i=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,s=s||{};for(var o=Object.keys(s),f=0,c=o.length;f<c;f++){var h=o[f];this[h]=s[h]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){i._read()});return}e.open(this.path,this.flags,this.mode,function(a,l){if(a){i.emit("error",a),i.readable=!1;return}i.fd=l,i.emit("open",l),i._read()})}function r(n,s){if(!(this instanceof r))return new r(n,s);To.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,s=s||{};for(var i=Object.keys(s),o=0,f=i.length;o<f;o++){var c=i[o];this[c]=s[c]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var pf=$f,yf=Object.getPrototypeOf||function(e){return e.__proto__};function $f(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:yf(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}var _e=Qs,vf=lf,gf=hf,Ef=pf,_n=sf,Fe,zn;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Fe=Symbol.for("graceful-fs.queue"),zn=Symbol.for("graceful-fs.previous")):(Fe="___graceful-fs.queue",zn="___graceful-fs.previous");function _f(){}function oc(e,t){Object.defineProperty(e,Fe,{get:function(){return t}})}var tr=_f;_n.debuglog?tr=_n.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(tr=function(){var e=_n.format.apply(_n,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});if(!_e[Fe]){var wf=Vn[Fe]||[];oc(_e,wf),_e.close=function(e){function t(r,n){return e.call(_e,r,function(s){s||Do(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,zn,{value:e}),t}(_e.close),_e.closeSync=function(e){function t(r){e.apply(_e,arguments),Do()}return Object.defineProperty(t,zn,{value:e}),t}(_e.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){tr(_e[Fe]),of.equal(_e[Fe].length,0)})}Vn[Fe]||oc(Vn,_e[Fe]);var Pr=ti(Ef(_e));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!_e.__patched&&(Pr=ti(_e),_e.__patched=!0);function ti(e){vf(e),e.gracefulify=ti,e.createReadStream=M,e.createWriteStream=W;var t=e.readFile;e.readFile=r;function r(H,Q,j){return typeof Q=="function"&&(j=Q,Q=null),x(H,Q,j);function x(L,P,F,U){return t(L,P,function(k){k&&(k.code==="EMFILE"||k.code==="ENFILE")?mr([x,[L,P,F],k,U||Date.now(),Date.now()]):typeof F=="function"&&F.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=s;function s(H,Q,j,x){return typeof j=="function"&&(x=j,j=null),L(H,Q,j,x);function L(P,F,U,k,V){return n(P,F,U,function(z){z&&(z.code==="EMFILE"||z.code==="ENFILE")?mr([L,[P,F,U,k],z,V||Date.now(),Date.now()]):typeof k=="function"&&k.apply(this,arguments)})}}var i=e.appendFile;i&&(e.appendFile=o);function o(H,Q,j,x){return typeof j=="function"&&(x=j,j=null),L(H,Q,j,x);function L(P,F,U,k,V){return i(P,F,U,function(z){z&&(z.code==="EMFILE"||z.code==="ENFILE")?mr([L,[P,F,U,k],z,V||Date.now(),Date.now()]):typeof k=="function"&&k.apply(this,arguments)})}}var f=e.copyFile;f&&(e.copyFile=c);function c(H,Q,j,x){return typeof j=="function"&&(x=j,j=0),L(H,Q,j,x);function L(P,F,U,k,V){return f(P,F,U,function(z){z&&(z.code==="EMFILE"||z.code==="ENFILE")?mr([L,[P,F,U,k],z,V||Date.now(),Date.now()]):typeof k=="function"&&k.apply(this,arguments)})}}var h=e.readdir;e.readdir=l;var a=/^v[0-5]\./;function l(H,Q,j){typeof Q=="function"&&(j=Q,Q=null);var x=a.test(process.version)?function(F,U,k,V){return h(F,L(F,U,k,V))}:function(F,U,k,V){return h(F,U,L(F,U,k,V))};return x(H,Q,j);function L(P,F,U,k){return function(V,z){V&&(V.code==="EMFILE"||V.code==="ENFILE")?mr([x,[P,F,U],V,k||Date.now(),Date.now()]):(z&&z.sort&&z.sort(),typeof U=="function"&&U.call(this,V,z))}}}if(process.version.substr(0,4)==="v0.8"){var v=gf(e);d=v.ReadStream,I=v.WriteStream}var m=e.ReadStream;m&&(d.prototype=Object.create(m.prototype),d.prototype.open=E);var u=e.WriteStream;u&&(I.prototype=Object.create(u.prototype),I.prototype.open=D),Object.defineProperty(e,"ReadStream",{get:function(){return d},set:function(H){d=H},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return I},set:function(H){I=H},enumerable:!0,configurable:!0});var y=d;Object.defineProperty(e,"FileReadStream",{get:function(){return y},set:function(H){y=H},enumerable:!0,configurable:!0});var $=I;Object.defineProperty(e,"FileWriteStream",{get:function(){return $},set:function(H){$=H},enumerable:!0,configurable:!0});function d(H,Q){return this instanceof d?(m.apply(this,arguments),this):d.apply(Object.create(d.prototype),arguments)}function E(){var H=this;fe(H.path,H.flags,H.mode,function(Q,j){Q?(H.autoClose&&H.destroy(),H.emit("error",Q)):(H.fd=j,H.emit("open",j),H.read())})}function I(H,Q){return this instanceof I?(u.apply(this,arguments),this):I.apply(Object.create(I.prototype),arguments)}function D(){var H=this;fe(H.path,H.flags,H.mode,function(Q,j){Q?(H.destroy(),H.emit("error",Q)):(H.fd=j,H.emit("open",j))})}function M(H,Q){return new e.ReadStream(H,Q)}function W(H,Q){return new e.WriteStream(H,Q)}var Y=e.open;e.open=fe;function fe(H,Q,j,x){return typeof j=="function"&&(x=j,j=null),L(H,Q,j,x);function L(P,F,U,k,V){return Y(P,F,U,function(z,A){z&&(z.code==="EMFILE"||z.code==="ENFILE")?mr([L,[P,F,U,k],z,V||Date.now(),Date.now()]):typeof k=="function"&&k.apply(this,arguments)})}}return e}function mr(e){tr("ENQUEUE",e[0].name,e[1]),_e[Fe].push(e),ri()}var wn;function Do(){for(var e=Date.now(),t=0;t<_e[Fe].length;++t)_e[Fe][t].length>2&&(_e[Fe][t][3]=e,_e[Fe][t][4]=e);ri()}function ri(){if(clearTimeout(wn),wn=void 0,_e[Fe].length!==0){var e=_e[Fe].shift(),t=e[0],r=e[1],n=e[2],s=e[3],i=e[4];if(s===void 0)tr("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-s>=6e4){tr("TIMEOUT",t.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var f=Date.now()-i,c=Math.max(i-s,1),h=Math.min(c*1.2,100);f>=h?(tr("RETRY",t.name,r),t.apply(null,r.concat([s]))):_e[Fe].push(e)}wn===void 0&&(wn=setTimeout(ri,0))}}(function(e){const t=Ce.fromCallback,r=Pr,n=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(s=>typeof r[s]=="function");Object.assign(e,r),n.forEach(s=>{e[s]=t(r[s])}),e.exists=function(s,i){return typeof i=="function"?r.exists(s,i):new Promise(o=>r.exists(s,o))},e.read=function(s,i,o,f,c,h){return typeof h=="function"?r.read(s,i,o,f,c,h):new Promise((a,l)=>{r.read(s,i,o,f,c,(v,m,u)=>{if(v)return l(v);a({bytesRead:m,buffer:u})})})},e.write=function(s,i,...o){return typeof o[o.length-1]=="function"?r.write(s,i,...o):new Promise((f,c)=>{r.write(s,i,...o,(h,a,l)=>{if(h)return c(h);f({bytesWritten:a,buffer:l})})})},e.readv=function(s,i,...o){return typeof o[o.length-1]=="function"?r.readv(s,i,...o):new Promise((f,c)=>{r.readv(s,i,...o,(h,a,l)=>{if(h)return c(h);f({bytesRead:a,buffers:l})})})},e.writev=function(s,i,...o){return typeof o[o.length-1]=="function"?r.writev(s,i,...o):new Promise((f,c)=>{r.writev(s,i,...o,(h,a,l)=>{if(h)return c(h);f({bytesWritten:a,buffers:l})})})},typeof r.realpath.native=="function"?e.realpath.native=t(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")})(Ze);var ni={},ac={};const Sf=Ke;ac.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(Sf.parse(t).root,""))){const n=new Error(`Path contains invalid characters: ${t}`);throw n.code="EINVAL",n}};const cc=Ze,{checkPath:uc}=ac,fc=e=>{const t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};ni.makeDir=async(e,t)=>(uc(e),cc.mkdir(e,{mode:fc(t),recursive:!0}));ni.makeDirSync=(e,t)=>(uc(e),cc.mkdirSync(e,{mode:fc(t),recursive:!0}));const Nf=Ce.fromPromise,{makeDir:If,makeDirSync:gs}=ni,Es=Nf(If);var It={mkdirs:Es,mkdirsSync:gs,mkdirp:Es,mkdirpSync:gs,ensureDir:Es,ensureDirSync:gs};const bf=Ce.fromPromise,lc=Ze;function Of(e){return lc.access(e).then(()=>!0).catch(()=>!1)}var ir={pathExists:bf(Of),pathExistsSync:lc.existsSync};const Sr=Ze,Rf=Ce.fromPromise;async function Pf(e,t,r){const n=await Sr.open(e,"r+");let s=null;try{await Sr.futimes(n,t,r)}finally{try{await Sr.close(n)}catch(i){s=i}}if(s)throw s}function Cf(e,t,r){const n=Sr.openSync(e,"r+");return Sr.futimesSync(n,t,r),Sr.closeSync(n)}var dc={utimesMillis:Rf(Pf),utimesMillisSync:Cf};const br=Ze,De=Ke,Ao=Ce.fromPromise;function Tf(e,t,r){const n=r.dereference?s=>br.stat(s,{bigint:!0}):s=>br.lstat(s,{bigint:!0});return Promise.all([n(e),n(t).catch(s=>{if(s.code==="ENOENT")return null;throw s})]).then(([s,i])=>({srcStat:s,destStat:i}))}function Df(e,t,r){let n;const s=r.dereference?o=>br.statSync(o,{bigint:!0}):o=>br.lstatSync(o,{bigint:!0}),i=s(e);try{n=s(t)}catch(o){if(o.code==="ENOENT")return{srcStat:i,destStat:null};throw o}return{srcStat:i,destStat:n}}async function Af(e,t,r,n){const{srcStat:s,destStat:i}=await Tf(e,t,n);if(i){if(ln(s,i)){const o=De.basename(e),f=De.basename(t);if(r==="move"&&o!==f&&o.toLowerCase()===f.toLowerCase())return{srcStat:s,destStat:i,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!i.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!s.isDirectory()&&i.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(s.isDirectory()&&si(e,t))throw new Error(Wn(e,t,r));return{srcStat:s,destStat:i}}function Lf(e,t,r,n){const{srcStat:s,destStat:i}=Df(e,t,n);if(i){if(ln(s,i)){const o=De.basename(e),f=De.basename(t);if(r==="move"&&o!==f&&o.toLowerCase()===f.toLowerCase())return{srcStat:s,destStat:i,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!i.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!s.isDirectory()&&i.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(s.isDirectory()&&si(e,t))throw new Error(Wn(e,t,r));return{srcStat:s,destStat:i}}async function hc(e,t,r,n){const s=De.resolve(De.dirname(e)),i=De.resolve(De.dirname(r));if(i===s||i===De.parse(i).root)return;let o;try{o=await br.stat(i,{bigint:!0})}catch(f){if(f.code==="ENOENT")return;throw f}if(ln(t,o))throw new Error(Wn(e,r,n));return hc(e,t,i,n)}function mc(e,t,r,n){const s=De.resolve(De.dirname(e)),i=De.resolve(De.dirname(r));if(i===s||i===De.parse(i).root)return;let o;try{o=br.statSync(i,{bigint:!0})}catch(f){if(f.code==="ENOENT")return;throw f}if(ln(t,o))throw new Error(Wn(e,r,n));return mc(e,t,i,n)}function ln(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function si(e,t){const r=De.resolve(e).split(De.sep).filter(s=>s),n=De.resolve(t).split(De.sep).filter(s=>s);return r.every((s,i)=>n[i]===s)}function Wn(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}var Cr={checkPaths:Ao(Af),checkPathsSync:Lf,checkParentPaths:Ao(hc),checkParentPathsSync:mc,isSrcSubdir:si,areIdentical:ln};const ze=Ze,sn=Ke,{mkdirs:jf}=It,{pathExists:Ff}=ir,{utimesMillis:kf}=dc,on=Cr;async function Mf(e,t,r={}){typeof r=="function"&&(r={filter:r}),r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001");const{srcStat:n,destStat:s}=await on.checkPaths(e,t,"copy",r);if(await on.checkParentPaths(e,n,t,"copy"),!await pc(e,t,r))return;const o=sn.dirname(t);await Ff(o)||await jf(o),await yc(s,e,t,r)}async function pc(e,t,r){return r.filter?r.filter(e,t):!0}async function yc(e,t,r,n){const i=await(n.dereference?ze.stat:ze.lstat)(t);if(i.isDirectory())return xf(i,e,t,r,n);if(i.isFile()||i.isCharacterDevice()||i.isBlockDevice())return Uf(i,e,t,r,n);if(i.isSymbolicLink())return qf(e,t,r,n);throw i.isSocket()?new Error(`Cannot copy a socket file: ${t}`):i.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}async function Uf(e,t,r,n,s){if(!t)return Lo(e,r,n,s);if(s.overwrite)return await ze.unlink(n),Lo(e,r,n,s);if(s.errorOnExist)throw new Error(`'${n}' already exists`)}async function Lo(e,t,r,n){if(await ze.copyFile(t,r),n.preserveTimestamps){Vf(e.mode)&&await zf(r,e.mode);const s=await ze.stat(t);await kf(r,s.atime,s.mtime)}return ze.chmod(r,e.mode)}function Vf(e){return(e&128)===0}function zf(e,t){return ze.chmod(e,t|128)}async function xf(e,t,r,n,s){t||await ze.mkdir(n);const i=await ze.readdir(r);await Promise.all(i.map(async o=>{const f=sn.join(r,o),c=sn.join(n,o);if(!await pc(f,c,s))return;const{destStat:a}=await on.checkPaths(f,c,"copy",s);return yc(a,f,c,s)})),t||await ze.chmod(n,e.mode)}async function qf(e,t,r,n){let s=await ze.readlink(t);if(n.dereference&&(s=sn.resolve(process.cwd(),s)),!e)return ze.symlink(s,r);let i=null;try{i=await ze.readlink(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return ze.symlink(s,r);throw o}if(n.dereference&&(i=sn.resolve(process.cwd(),i)),on.isSrcSubdir(s,i))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${i}'.`);if(on.isSrcSubdir(i,s))throw new Error(`Cannot overwrite '${i}' with '${s}'.`);return await ze.unlink(r),ze.symlink(s,r)}var Hf=Mf;const Ge=Pr,an=Ke,Gf=It.mkdirsSync,Bf=dc.utimesMillisSync,cn=Cr;function Kf(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:n,destStat:s}=cn.checkPathsSync(e,t,"copy",r);if(cn.checkParentPathsSync(e,n,t,"copy"),r.filter&&!r.filter(e,t))return;const i=an.dirname(t);return Ge.existsSync(i)||Gf(i),$c(s,e,t,r)}function $c(e,t,r,n){const i=(n.dereference?Ge.statSync:Ge.lstatSync)(t);if(i.isDirectory())return el(i,e,t,r,n);if(i.isFile()||i.isCharacterDevice()||i.isBlockDevice())return Zf(i,e,t,r,n);if(i.isSymbolicLink())return nl(e,t,r,n);throw i.isSocket()?new Error(`Cannot copy a socket file: ${t}`):i.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function Zf(e,t,r,n,s){return t?Wf(e,r,n,s):vc(e,r,n,s)}function Wf(e,t,r,n){if(n.overwrite)return Ge.unlinkSync(r),vc(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function vc(e,t,r,n){return Ge.copyFileSync(t,r),n.preserveTimestamps&&Xf(e.mode,t,r),ii(r,e.mode)}function Xf(e,t,r){return Jf(e)&&Yf(r,e),Qf(t,r)}function Jf(e){return(e&128)===0}function Yf(e,t){return ii(e,t|128)}function ii(e,t){return Ge.chmodSync(e,t)}function Qf(e,t){const r=Ge.statSync(e);return Bf(t,r.atime,r.mtime)}function el(e,t,r,n,s){return t?gc(r,n,s):tl(e.mode,r,n,s)}function tl(e,t,r,n){return Ge.mkdirSync(r),gc(t,r,n),ii(r,e)}function gc(e,t,r){Ge.readdirSync(e).forEach(n=>rl(n,e,t,r))}function rl(e,t,r,n){const s=an.join(t,e),i=an.join(r,e);if(n.filter&&!n.filter(s,i))return;const{destStat:o}=cn.checkPathsSync(s,i,"copy",n);return $c(o,s,i,n)}function nl(e,t,r,n){let s=Ge.readlinkSync(t);if(n.dereference&&(s=an.resolve(process.cwd(),s)),e){let i;try{i=Ge.readlinkSync(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return Ge.symlinkSync(s,r);throw o}if(n.dereference&&(i=an.resolve(process.cwd(),i)),cn.isSrcSubdir(s,i))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${i}'.`);if(cn.isSrcSubdir(i,s))throw new Error(`Cannot overwrite '${i}' with '${s}'.`);return sl(s,r)}else return Ge.symlinkSync(s,r)}function sl(e,t){return Ge.unlinkSync(t),Ge.symlinkSync(e,t)}var il=Kf;const ol=Ce.fromPromise;var oi={copy:ol(Hf),copySync:il};const Ec=Pr,al=Ce.fromCallback;function cl(e,t){Ec.rm(e,{recursive:!0,force:!0},t)}function ul(e){Ec.rmSync(e,{recursive:!0,force:!0})}var Xn={remove:al(cl),removeSync:ul};const fl=Ce.fromPromise,_c=Ze,wc=Ke,Sc=It,Nc=Xn,jo=fl(async function(t){let r;try{r=await _c.readdir(t)}catch{return Sc.mkdirs(t)}return Promise.all(r.map(n=>Nc.remove(wc.join(t,n))))});function Fo(e){let t;try{t=_c.readdirSync(e)}catch{return Sc.mkdirsSync(e)}t.forEach(r=>{r=wc.join(e,r),Nc.removeSync(r)})}var ll={emptyDirSync:Fo,emptydirSync:Fo,emptyDir:jo,emptydir:jo};const dl=Ce.fromPromise,Ic=Ke,Rt=Ze,bc=It;async function hl(e){let t;try{t=await Rt.stat(e)}catch{}if(t&&t.isFile())return;const r=Ic.dirname(e);let n=null;try{n=await Rt.stat(r)}catch(s){if(s.code==="ENOENT"){await bc.mkdirs(r),await Rt.writeFile(e,"");return}else throw s}n.isDirectory()?await Rt.writeFile(e,""):await Rt.readdir(r)}function ml(e){let t;try{t=Rt.statSync(e)}catch{}if(t&&t.isFile())return;const r=Ic.dirname(e);try{Rt.statSync(r).isDirectory()||Rt.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")bc.mkdirsSync(r);else throw n}Rt.writeFileSync(e,"")}var pl={createFile:dl(hl),createFileSync:ml};const yl=Ce.fromPromise,Oc=Ke,Vt=Ze,Rc=It,{pathExists:$l}=ir,{areIdentical:Pc}=Cr;async function vl(e,t){let r;try{r=await Vt.lstat(t)}catch{}let n;try{n=await Vt.lstat(e)}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}if(r&&Pc(n,r))return;const s=Oc.dirname(t);await $l(s)||await Rc.mkdirs(s),await Vt.link(e,t)}function gl(e,t){let r;try{r=Vt.lstatSync(t)}catch{}try{const i=Vt.lstatSync(e);if(r&&Pc(i,r))return}catch(i){throw i.message=i.message.replace("lstat","ensureLink"),i}const n=Oc.dirname(t);return Vt.existsSync(n)||Rc.mkdirsSync(n),Vt.linkSync(e,t)}var El={createLink:yl(vl),createLinkSync:gl};const xt=Ke,Yr=Ze,{pathExists:_l}=ir,wl=Ce.fromPromise;async function Sl(e,t){if(xt.isAbsolute(e)){try{await Yr.lstat(e)}catch(i){throw i.message=i.message.replace("lstat","ensureSymlink"),i}return{toCwd:e,toDst:e}}const r=xt.dirname(t),n=xt.join(r,e);if(await _l(n))return{toCwd:n,toDst:e};try{await Yr.lstat(e)}catch(i){throw i.message=i.message.replace("lstat","ensureSymlink"),i}return{toCwd:e,toDst:xt.relative(r,e)}}function Nl(e,t){if(xt.isAbsolute(e)){if(!Yr.existsSync(e))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}const r=xt.dirname(t),n=xt.join(r,e);if(Yr.existsSync(n))return{toCwd:n,toDst:e};if(!Yr.existsSync(e))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:xt.relative(r,e)}}var Il={symlinkPaths:wl(Sl),symlinkPathsSync:Nl};const Cc=Ze,bl=Ce.fromPromise;async function Ol(e,t){if(t)return t;let r;try{r=await Cc.lstat(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}function Rl(e,t){if(t)return t;let r;try{r=Cc.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}var Pl={symlinkType:bl(Ol),symlinkTypeSync:Rl};const Cl=Ce.fromPromise,Tc=Ke,wt=Ze,{mkdirs:Tl,mkdirsSync:Dl}=It,{symlinkPaths:Al,symlinkPathsSync:Ll}=Il,{symlinkType:jl,symlinkTypeSync:Fl}=Pl,{pathExists:kl}=ir,{areIdentical:Dc}=Cr;async function Ml(e,t,r){let n;try{n=await wt.lstat(t)}catch{}if(n&&n.isSymbolicLink()){const[f,c]=await Promise.all([wt.stat(e),wt.stat(t)]);if(Dc(f,c))return}const s=await Al(e,t);e=s.toDst;const i=await jl(s.toCwd,r),o=Tc.dirname(t);return await kl(o)||await Tl(o),wt.symlink(e,t,i)}function Ul(e,t,r){let n;try{n=wt.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){const f=wt.statSync(e),c=wt.statSync(t);if(Dc(f,c))return}const s=Ll(e,t);e=s.toDst,r=Fl(s.toCwd,r);const i=Tc.dirname(t);return wt.existsSync(i)||Dl(i),wt.symlinkSync(e,t,r)}var Vl={createSymlink:Cl(Ml),createSymlinkSync:Ul};const{createFile:ko,createFileSync:Mo}=pl,{createLink:Uo,createLinkSync:Vo}=El,{createSymlink:zo,createSymlinkSync:xo}=Vl;var zl={createFile:ko,createFileSync:Mo,ensureFile:ko,ensureFileSync:Mo,createLink:Uo,createLinkSync:Vo,ensureLink:Uo,ensureLinkSync:Vo,createSymlink:zo,createSymlinkSync:xo,ensureSymlink:zo,ensureSymlinkSync:xo};function xl(e,{EOL:t=`
`,finalEOL:r=!0,replacer:n=null,spaces:s}={}){const i=r?t:"";return JSON.stringify(e,n,s).replace(/\n/g,t)+i}function ql(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}var ai={stringify:xl,stripBom:ql};let Or;try{Or=Pr}catch{Or=Qs}const Jn=Ce,{stringify:Ac,stripBom:Lc}=ai;async function Hl(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Or,n="throws"in t?t.throws:!0;let s=await Jn.fromCallback(r.readFile)(e,t);s=Lc(s);let i;try{i=JSON.parse(s,t?t.reviver:null)}catch(o){if(n)throw o.message=`${e}: ${o.message}`,o;return null}return i}const Gl=Jn.fromPromise(Hl);function Bl(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Or,n="throws"in t?t.throws:!0;try{let s=r.readFileSync(e,t);return s=Lc(s),JSON.parse(s,t.reviver)}catch(s){if(n)throw s.message=`${e}: ${s.message}`,s;return null}}async function Kl(e,t,r={}){const n=r.fs||Or,s=Ac(t,r);await Jn.fromCallback(n.writeFile)(e,s,r)}const Zl=Jn.fromPromise(Kl);function Wl(e,t,r={}){const n=r.fs||Or,s=Ac(t,r);return n.writeFileSync(e,s,r)}const Xl={readFile:Gl,readFileSync:Bl,writeFile:Zl,writeFileSync:Wl};var Jl=Xl;const Sn=Jl;var Yl={readJson:Sn.readFile,readJsonSync:Sn.readFileSync,writeJson:Sn.writeFile,writeJsonSync:Sn.writeFileSync};const Ql=Ce.fromPromise,Us=Ze,jc=Ke,Fc=It,ed=ir.pathExists;async function td(e,t,r="utf-8"){const n=jc.dirname(e);return await ed(n)||await Fc.mkdirs(n),Us.writeFile(e,t,r)}function rd(e,...t){const r=jc.dirname(e);Us.existsSync(r)||Fc.mkdirsSync(r),Us.writeFileSync(e,...t)}var ci={outputFile:Ql(td),outputFileSync:rd};const{stringify:nd}=ai,{outputFile:sd}=ci;async function id(e,t,r={}){const n=nd(t,r);await sd(e,n,r)}var od=id;const{stringify:ad}=ai,{outputFileSync:cd}=ci;function ud(e,t,r){const n=ad(t,r);cd(e,n,r)}var fd=ud;const ld=Ce.fromPromise,Be=Yl;Be.outputJson=ld(od);Be.outputJsonSync=fd;Be.outputJSON=Be.outputJson;Be.outputJSONSync=Be.outputJsonSync;Be.writeJSON=Be.writeJson;Be.writeJSONSync=Be.writeJsonSync;Be.readJSON=Be.readJson;Be.readJSONSync=Be.readJsonSync;var dd=Be;const hd=Ze,qo=Ke,{copy:md}=oi,{remove:kc}=Xn,{mkdirp:pd}=It,{pathExists:yd}=ir,Ho=Cr;async function $d(e,t,r={}){const n=r.overwrite||r.clobber||!1,{srcStat:s,isChangingCase:i=!1}=await Ho.checkPaths(e,t,"move",r);await Ho.checkParentPaths(e,s,t,"move");const o=qo.dirname(t);return qo.parse(o).root!==o&&await pd(o),vd(e,t,n,i)}async function vd(e,t,r,n){if(!n){if(r)await kc(t);else if(await yd(t))throw new Error("dest already exists.")}try{await hd.rename(e,t)}catch(s){if(s.code!=="EXDEV")throw s;await gd(e,t,r)}}async function gd(e,t,r){return await md(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),kc(e)}var Ed=$d;const Mc=Pr,Vs=Ke,_d=oi.copySync,Uc=Xn.removeSync,wd=It.mkdirpSync,Go=Cr;function Sd(e,t,r){r=r||{};const n=r.overwrite||r.clobber||!1,{srcStat:s,isChangingCase:i=!1}=Go.checkPathsSync(e,t,"move",r);return Go.checkParentPathsSync(e,s,t,"move"),Nd(t)||wd(Vs.dirname(t)),Id(e,t,n,i)}function Nd(e){const t=Vs.dirname(e);return Vs.parse(t).root===t}function Id(e,t,r,n){if(n)return _s(e,t,r);if(r)return Uc(t),_s(e,t,r);if(Mc.existsSync(t))throw new Error("dest already exists.");return _s(e,t,r)}function _s(e,t,r){try{Mc.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return bd(e,t,r)}}function bd(e,t,r){return _d(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),Uc(e)}var Od=Sd;const Rd=Ce.fromPromise;var Pd={move:Rd(Ed),moveSync:Od},st={...Ze,...oi,...ll,...zl,...dd,...It,...Pd,...ci,...ir,...Xn};const rr=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")},ws=new Set(["__proto__","prototype","constructor"]),Cd=new Set("0123456789");function Yn(e){const t=[];let r="",n="start",s=!1;for(const i of e)switch(i){case"\\":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");s&&(r+=i),n="property",s=!s;break}case".":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="property";break}if(s){s=!1,r+=i;break}if(ws.has(r))return[];t.push(r),r="",n="property";break}case"[":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="index";break}if(s){s=!1,r+=i;break}if(n==="property"){if(ws.has(r))return[];t.push(r),r=""}n="index";break}case"]":{if(n==="index"){t.push(Number.parseInt(r,10)),r="",n="indexEnd";break}if(n==="indexEnd")throw new Error("Invalid character after an index")}default:{if(n==="index"&&!Cd.has(i))throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");n==="start"&&(n="property"),s&&(s=!1,r+="\\"),r+=i}}switch(s&&(r+="\\"),n){case"property":{if(ws.has(r))return[];t.push(r);break}case"index":throw new Error("Index was not closed");case"start":{t.push("");break}}return t}function ui(e,t){if(typeof t!="number"&&Array.isArray(e)){const r=Number.parseInt(t,10);return Number.isInteger(r)&&e[r]===e[t]}return!1}function Vc(e,t){if(ui(e,t))throw new Error("Cannot use string index")}function Td(e,t,r){if(!rr(e)||typeof t!="string")return r===void 0?e:r;const n=Yn(t);if(n.length===0)return r;for(let s=0;s<n.length;s++){const i=n[s];if(ui(e,i)?e=s===n.length-1?void 0:null:e=e[i],e==null){if(s!==n.length-1)return r;break}}return e===void 0?r:e}function Bo(e,t,r){if(!rr(e)||typeof t!="string")return e;const n=e,s=Yn(t);for(let i=0;i<s.length;i++){const o=s[i];Vc(e,o),i===s.length-1?e[o]=r:rr(e[o])||(e[o]=typeof s[i+1]=="number"?[]:{}),e=e[o]}return n}function Dd(e,t){if(!rr(e)||typeof t!="string")return!1;const r=Yn(t);for(let n=0;n<r.length;n++){const s=r[n];if(Vc(e,s),n===r.length-1)return delete e[s],!0;if(e=e[s],!rr(e))return!1}}function Ad(e,t){if(!rr(e)||typeof t!="string")return!1;const r=Yn(t);if(r.length===0)return!1;for(const n of r){if(!rr(e)||!(n in e)||ui(e,n))return!1;e=e[n]}return!0}const zt=Zn.homedir(),fi=Zn.tmpdir(),{env:wr}=lt,Ld=e=>{const t=de.join(zt,"Library");return{data:de.join(t,"Application Support",e),config:de.join(t,"Preferences",e),cache:de.join(t,"Caches",e),log:de.join(t,"Logs",e),temp:de.join(fi,e)}},jd=e=>{const t=wr.APPDATA||de.join(zt,"AppData","Roaming"),r=wr.LOCALAPPDATA||de.join(zt,"AppData","Local");return{data:de.join(r,e,"Data"),config:de.join(t,e,"Config"),cache:de.join(r,e,"Cache"),log:de.join(r,e,"Log"),temp:de.join(fi,e)}},Fd=e=>{const t=de.basename(zt);return{data:de.join(wr.XDG_DATA_HOME||de.join(zt,".local","share"),e),config:de.join(wr.XDG_CONFIG_HOME||de.join(zt,".config"),e),cache:de.join(wr.XDG_CACHE_HOME||de.join(zt,".cache"),e),log:de.join(wr.XDG_STATE_HOME||de.join(zt,".local","state"),e),temp:de.join(fi,t,e)}};function kd(e,{suffix:t="nodejs"}={}){if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);return t&&(e+=`-${t}`),lt.platform==="darwin"?Ld(e):lt.platform==="win32"?jd(e):Fd(e)}const Lt=(e,t)=>function(...n){return e.apply(void 0,n).catch(t)},Ot=(e,t)=>function(...n){try{return e.apply(void 0,n)}catch(s){return t(s)}},Md=lt.getuid?!lt.getuid():!1,Ud=1e4,Qe=()=>{},ge={isChangeErrorOk:e=>{if(!ge.isNodeError(e))return!1;const{code:t}=e;return t==="ENOSYS"||!Md&&(t==="EINVAL"||t==="EPERM")},isNodeError:e=>e instanceof Error,isRetriableError:e=>{if(!ge.isNodeError(e))return!1;const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCES"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!ge.isNodeError(e))throw e;if(!ge.isChangeErrorOk(e))throw e}};class Vd{constructor(){this.interval=25,this.intervalId=void 0,this.limit=Ud,this.queueActive=new Set,this.queueWaiting=new Set,this.init=()=>{this.intervalId||(this.intervalId=setInterval(this.tick,this.interval))},this.reset=()=>{this.intervalId&&(clearInterval(this.intervalId),delete this.intervalId)},this.add=t=>{this.queueWaiting.add(t),this.queueActive.size<this.limit/2?this.tick():this.init()},this.remove=t=>{this.queueWaiting.delete(t),this.queueActive.delete(t)},this.schedule=()=>new Promise(t=>{const r=()=>this.remove(n),n=()=>t(r);this.add(n)}),this.tick=()=>{if(!(this.queueActive.size>=this.limit)){if(!this.queueWaiting.size)return this.reset();for(const t of this.queueWaiting){if(this.queueActive.size>=this.limit)break;this.queueWaiting.delete(t),this.queueActive.add(t),t()}}}}}const zd=new Vd,jt=(e,t)=>function(n){return function s(...i){return zd.schedule().then(o=>{const f=h=>(o(),h),c=h=>{if(o(),Date.now()>=n)throw h;if(t(h)){const a=Math.round(100*Math.random());return new Promise(v=>setTimeout(v,a)).then(()=>s.apply(void 0,i))}throw h};return e.apply(void 0,i).then(f,c)})}},Ft=(e,t)=>function(n){return function s(...i){try{return e.apply(void 0,i)}catch(o){if(Date.now()>n)throw o;if(t(o))return s.apply(void 0,i);throw o}}},Ue={attempt:{chmod:Lt(Ae.promisify(ie.chmod),ge.onChangeError),chown:Lt(Ae.promisify(ie.chown),ge.onChangeError),close:Lt(Ae.promisify(ie.close),Qe),fsync:Lt(Ae.promisify(ie.fsync),Qe),mkdir:Lt(Ae.promisify(ie.mkdir),Qe),realpath:Lt(Ae.promisify(ie.realpath),Qe),stat:Lt(Ae.promisify(ie.stat),Qe),unlink:Lt(Ae.promisify(ie.unlink),Qe),chmodSync:Ot(ie.chmodSync,ge.onChangeError),chownSync:Ot(ie.chownSync,ge.onChangeError),closeSync:Ot(ie.closeSync,Qe),existsSync:Ot(ie.existsSync,Qe),fsyncSync:Ot(ie.fsync,Qe),mkdirSync:Ot(ie.mkdirSync,Qe),realpathSync:Ot(ie.realpathSync,Qe),statSync:Ot(ie.statSync,Qe),unlinkSync:Ot(ie.unlinkSync,Qe)},retry:{close:jt(Ae.promisify(ie.close),ge.isRetriableError),fsync:jt(Ae.promisify(ie.fsync),ge.isRetriableError),open:jt(Ae.promisify(ie.open),ge.isRetriableError),readFile:jt(Ae.promisify(ie.readFile),ge.isRetriableError),rename:jt(Ae.promisify(ie.rename),ge.isRetriableError),stat:jt(Ae.promisify(ie.stat),ge.isRetriableError),write:jt(Ae.promisify(ie.write),ge.isRetriableError),writeFile:jt(Ae.promisify(ie.writeFile),ge.isRetriableError),closeSync:Ft(ie.closeSync,ge.isRetriableError),fsyncSync:Ft(ie.fsyncSync,ge.isRetriableError),openSync:Ft(ie.openSync,ge.isRetriableError),readFileSync:Ft(ie.readFileSync,ge.isRetriableError),renameSync:Ft(ie.renameSync,ge.isRetriableError),statSync:Ft(ie.statSync,ge.isRetriableError),writeSync:Ft(ie.writeSync,ge.isRetriableError),writeFileSync:Ft(ie.writeFileSync,ge.isRetriableError)}},xd="utf8",Ko=438,qd=511,Hd={},Gd=Zn.userInfo().uid,Bd=Zn.userInfo().gid,Kd=1e3,Zd=!!lt.getuid;lt.getuid&&lt.getuid();const Zo=128,Wd=e=>e instanceof Error&&"code"in e,Wo=e=>typeof e=="string",Ss=e=>e===void 0;class Xd{constructor(){this.callbacks=new Set,this.exit=()=>{for(const t of this.callbacks)t()},this.hook=()=>{window.addEventListener("beforeunload",this.exit)},this.register=t=>(this.callbacks.add(t),()=>{this.callbacks.delete(t)}),this.hook()}}const Jd=new Xd,Yd=Jd.register,Ve={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),s=`.tmp-${Date.now().toString().slice(-10)}${t}`;return`${e}${s}`},get:(e,t,r=!0)=>{const n=Ve.truncate(t(e));return n in Ve.store?Ve.get(e,t,r):(Ve.store[n]=r,[n,()=>delete Ve.store[n]])},purge:e=>{Ve.store[e]&&(delete Ve.store[e],Ue.attempt.unlink(e))},purgeSync:e=>{Ve.store[e]&&(delete Ve.store[e],Ue.attempt.unlinkSync(e))},purgeSyncAll:()=>{for(const e in Ve.store)Ve.purgeSync(e)},truncate:e=>{const t=de.basename(e);if(t.length<=Zo)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-Zo;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};Yd(Ve.purgeSyncAll);function zc(e,t,r=Hd){if(Wo(r))return zc(e,t,{encoding:r});const n=Date.now()+((r.timeout??Kd)||-1);let s=null,i=null,o=null;try{const f=Ue.attempt.realpathSync(e),c=!!f;e=f||e,[i,s]=Ve.get(e,r.tmpCreate||Ve.create,r.tmpPurge!==!1);const h=Zd&&Ss(r.chown),a=Ss(r.mode);if(c&&(h||a)){const l=Ue.attempt.statSync(e);l&&(r={...r},h&&(r.chown={uid:l.uid,gid:l.gid}),a&&(r.mode=l.mode))}if(!c){const l=de.dirname(e);Ue.attempt.mkdirSync(l,{mode:qd,recursive:!0})}o=Ue.retry.openSync(n)(i,"w",r.mode||Ko),r.tmpCreated&&r.tmpCreated(i),Wo(t)?Ue.retry.writeSync(n)(o,t,0,r.encoding||xd):Ss(t)||Ue.retry.writeSync(n)(o,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?Ue.retry.fsyncSync(n)(o):Ue.attempt.fsync(o)),Ue.retry.closeSync(n)(o),o=null,r.chown&&(r.chown.uid!==Gd||r.chown.gid!==Bd)&&Ue.attempt.chownSync(i,r.chown.uid,r.chown.gid),r.mode&&r.mode!==Ko&&Ue.attempt.chmodSync(i,r.mode);try{Ue.retry.renameSync(n)(i,e)}catch(l){if(!Wd(l)||l.code!=="ENAMETOOLONG")throw l;Ue.retry.renameSync(n)(i,Ve.truncate(e))}s(),i=null}finally{o&&Ue.attempt.closeSync(o),i&&Ve.purge(i)}}var zs={exports:{}},li={},at={},Rr={},dn={},te={},un={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(E){if(super(),!e.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(E){super(),this._items=typeof E=="string"?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return E===""||E==='""'}get str(){var E;return(E=this._str)!==null&&E!==void 0?E:this._str=this._items.reduce((I,D)=>`${I}${D}`,"")}get names(){var E;return(E=this._names)!==null&&E!==void 0?E:this._names=this._items.reduce((I,D)=>(D instanceof r&&(I[D.str]=(I[D.str]||0)+1),I),{})}}e._Code=n,e.nil=new n("");function s(d,...E){const I=[d[0]];let D=0;for(;D<E.length;)f(I,E[D]),I.push(d[++D]);return new n(I)}e._=s;const i=new n("+");function o(d,...E){const I=[m(d[0])];let D=0;for(;D<E.length;)I.push(i),f(I,E[D]),I.push(i,m(d[++D]));return c(I),new n(I)}e.str=o;function f(d,E){E instanceof n?d.push(...E._items):E instanceof r?d.push(E):d.push(l(E))}e.addCodeArg=f;function c(d){let E=1;for(;E<d.length-1;){if(d[E]===i){const I=h(d[E-1],d[E+1]);if(I!==void 0){d.splice(E-1,3,I);continue}d[E++]="+"}E++}}function h(d,E){if(E==='""')return d;if(d==='""')return E;if(typeof d=="string")return E instanceof r||d[d.length-1]!=='"'?void 0:typeof E!="string"?`${d.slice(0,-1)}${E}"`:E[0]==='"'?d.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(d instanceof r))return`"${d}${E.slice(1)}`}function a(d,E){return E.emptyStr()?d:d.emptyStr()?E:o`${d}${E}`}e.strConcat=a;function l(d){return typeof d=="number"||typeof d=="boolean"||d===null?d:m(Array.isArray(d)?d.join(","):d)}function v(d){return new n(m(d))}e.stringify=v;function m(d){return JSON.stringify(d).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function u(d){return typeof d=="string"&&e.IDENTIFIER.test(d)?new n(`.${d}`):s`[${d}]`}e.getProperty=u;function y(d){if(typeof d=="string"&&e.IDENTIFIER.test(d))return new n(`${d}`);throw new Error(`CodeGen: invalid export name: ${d}, use explicit $id name mapping`)}e.getEsmExportName=y;function $(d){return new n(d.toString())}e.regexpCode=$})(un);var xs={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=un;class r extends Error{constructor(h){super(`CodeGen: "code" for ${h} not defined`),this.value=h.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:h,parent:a}={}){this._names={},this._prefixes=h,this._parent=a}toName(h){return h instanceof t.Name?h:this.name(h)}name(h){return new t.Name(this._newName(h))}_newName(h){const a=this._names[h]||this._nameGroup(h);return`${h}${a.index++}`}_nameGroup(h){var a,l;if(!((l=(a=this._parent)===null||a===void 0?void 0:a._prefixes)===null||l===void 0)&&l.has(h)||this._prefixes&&!this._prefixes.has(h))throw new Error(`CodeGen: prefix "${h}" is not allowed in this scope`);return this._names[h]={prefix:h,index:0}}}e.Scope=s;class i extends t.Name{constructor(h,a){super(a),this.prefix=h}setValue(h,{property:a,itemIndex:l}){this.value=h,this.scopePath=(0,t._)`.${new t.Name(a)}[${l}]`}}e.ValueScopeName=i;const o=(0,t._)`\n`;class f extends s{constructor(h){super(h),this._values={},this._scope=h.scope,this.opts={...h,_n:h.lines?o:t.nil}}get(){return this._scope}name(h){return new i(h,this._newName(h))}value(h,a){var l;if(a.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const v=this.toName(h),{prefix:m}=v,u=(l=a.key)!==null&&l!==void 0?l:a.ref;let y=this._values[m];if(y){const E=y.get(u);if(E)return E}else y=this._values[m]=new Map;y.set(u,v);const $=this._scope[m]||(this._scope[m]=[]),d=$.length;return $[d]=a.ref,v.setValue(a,{property:m,itemIndex:d}),v}getValue(h,a){const l=this._values[h];if(l)return l.get(a)}scopeRefs(h,a=this._values){return this._reduceValues(a,l=>{if(l.scopePath===void 0)throw new Error(`CodeGen: name "${l}" has no value`);return(0,t._)`${h}${l.scopePath}`})}scopeCode(h=this._values,a,l){return this._reduceValues(h,v=>{if(v.value===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return v.value.code},a,l)}_reduceValues(h,a,l={},v){let m=t.nil;for(const u in h){const y=h[u];if(!y)continue;const $=l[u]=l[u]||new Map;y.forEach(d=>{if($.has(d))return;$.set(d,n.Started);let E=a(d);if(E){const I=this.opts.es5?e.varKinds.var:e.varKinds.const;m=(0,t._)`${m}${I} ${d} = ${E};${this.opts._n}`}else if(E=v?.(d))m=(0,t._)`${m}${E}${this.opts._n}`;else throw new r(d);$.set(d,n.Completed)})}return m}}e.ValueScope=f})(xs);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=un,r=xs;var n=un;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=xs;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames(p,w){return this}}class o extends i{constructor(p,w,T){super(),this.varKind=p,this.name=w,this.rhs=T}render({es5:p,_n:w}){const T=p?r.varKinds.var:this.varKind,G=this.rhs===void 0?"":` = ${this.rhs}`;return`${T} ${this.name}${G};`+w}optimizeNames(p,w){if(p[this.name.str])return this.rhs&&(this.rhs=P(this.rhs,p,w)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class f extends i{constructor(p,w,T){super(),this.lhs=p,this.rhs=w,this.sideEffects=T}render({_n:p}){return`${this.lhs} = ${this.rhs};`+p}optimizeNames(p,w){if(!(this.lhs instanceof t.Name&&!p[this.lhs.str]&&!this.sideEffects))return this.rhs=P(this.rhs,p,w),this}get names(){const p=this.lhs instanceof t.Name?{}:{...this.lhs.names};return L(p,this.rhs)}}class c extends f{constructor(p,w,T,G){super(p,T,G),this.op=w}render({_n:p}){return`${this.lhs} ${this.op}= ${this.rhs};`+p}}class h extends i{constructor(p){super(),this.label=p,this.names={}}render({_n:p}){return`${this.label}:`+p}}class a extends i{constructor(p){super(),this.label=p,this.names={}}render({_n:p}){return`break${this.label?` ${this.label}`:""};`+p}}class l extends i{constructor(p){super(),this.error=p}render({_n:p}){return`throw ${this.error};`+p}get names(){return this.error.names}}class v extends i{constructor(p){super(),this.code=p}render({_n:p}){return`${this.code};`+p}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(p,w){return this.code=P(this.code,p,w),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class m extends i{constructor(p=[]){super(),this.nodes=p}render(p){return this.nodes.reduce((w,T)=>w+T.render(p),"")}optimizeNodes(){const{nodes:p}=this;let w=p.length;for(;w--;){const T=p[w].optimizeNodes();Array.isArray(T)?p.splice(w,1,...T):T?p[w]=T:p.splice(w,1)}return p.length>0?this:void 0}optimizeNames(p,w){const{nodes:T}=this;let G=T.length;for(;G--;){const B=T[G];B.optimizeNames(p,w)||(F(p,B.names),T.splice(G,1))}return T.length>0?this:void 0}get names(){return this.nodes.reduce((p,w)=>x(p,w.names),{})}}class u extends m{render(p){return"{"+p._n+super.render(p)+"}"+p._n}}class y extends m{}class $ extends u{}$.kind="else";class d extends u{constructor(p,w){super(w),this.condition=p}render(p){let w=`if(${this.condition})`+super.render(p);return this.else&&(w+="else "+this.else.render(p)),w}optimizeNodes(){super.optimizeNodes();const p=this.condition;if(p===!0)return this.nodes;let w=this.else;if(w){const T=w.optimizeNodes();w=this.else=Array.isArray(T)?new $(T):T}if(w)return p===!1?w instanceof d?w:w.nodes:this.nodes.length?this:new d(U(p),w instanceof d?[w]:w.nodes);if(!(p===!1||!this.nodes.length))return this}optimizeNames(p,w){var T;if(this.else=(T=this.else)===null||T===void 0?void 0:T.optimizeNames(p,w),!!(super.optimizeNames(p,w)||this.else))return this.condition=P(this.condition,p,w),this}get names(){const p=super.names;return L(p,this.condition),this.else&&x(p,this.else.names),p}}d.kind="if";class E extends u{}E.kind="for";class I extends E{constructor(p){super(),this.iteration=p}render(p){return`for(${this.iteration})`+super.render(p)}optimizeNames(p,w){if(super.optimizeNames(p,w))return this.iteration=P(this.iteration,p,w),this}get names(){return x(super.names,this.iteration.names)}}class D extends E{constructor(p,w,T,G){super(),this.varKind=p,this.name=w,this.from=T,this.to=G}render(p){const w=p.es5?r.varKinds.var:this.varKind,{name:T,from:G,to:B}=this;return`for(${w} ${T}=${G}; ${T}<${B}; ${T}++)`+super.render(p)}get names(){const p=L(super.names,this.from);return L(p,this.to)}}class M extends E{constructor(p,w,T,G){super(),this.loop=p,this.varKind=w,this.name=T,this.iterable=G}render(p){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(p)}optimizeNames(p,w){if(super.optimizeNames(p,w))return this.iterable=P(this.iterable,p,w),this}get names(){return x(super.names,this.iterable.names)}}class W extends u{constructor(p,w,T){super(),this.name=p,this.args=w,this.async=T}render(p){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(p)}}W.kind="func";class Y extends m{render(p){return"return "+super.render(p)}}Y.kind="return";class fe extends u{render(p){let w="try"+super.render(p);return this.catch&&(w+=this.catch.render(p)),this.finally&&(w+=this.finally.render(p)),w}optimizeNodes(){var p,w;return super.optimizeNodes(),(p=this.catch)===null||p===void 0||p.optimizeNodes(),(w=this.finally)===null||w===void 0||w.optimizeNodes(),this}optimizeNames(p,w){var T,G;return super.optimizeNames(p,w),(T=this.catch)===null||T===void 0||T.optimizeNames(p,w),(G=this.finally)===null||G===void 0||G.optimizeNames(p,w),this}get names(){const p=super.names;return this.catch&&x(p,this.catch.names),this.finally&&x(p,this.finally.names),p}}class H extends u{constructor(p){super(),this.error=p}render(p){return`catch(${this.error})`+super.render(p)}}H.kind="catch";class Q extends u{render(p){return"finally"+super.render(p)}}Q.kind="finally";class j{constructor(p,w={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...w,_n:w.lines?`
`:""},this._extScope=p,this._scope=new r.Scope({parent:p}),this._nodes=[new y]}toString(){return this._root.render(this.opts)}name(p){return this._scope.name(p)}scopeName(p){return this._extScope.name(p)}scopeValue(p,w){const T=this._extScope.value(p,w);return(this._values[T.prefix]||(this._values[T.prefix]=new Set)).add(T),T}getScopeValue(p,w){return this._extScope.getValue(p,w)}scopeRefs(p){return this._extScope.scopeRefs(p,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(p,w,T,G){const B=this._scope.toName(w);return T!==void 0&&G&&(this._constants[B.str]=T),this._leafNode(new o(p,B,T)),B}const(p,w,T){return this._def(r.varKinds.const,p,w,T)}let(p,w,T){return this._def(r.varKinds.let,p,w,T)}var(p,w,T){return this._def(r.varKinds.var,p,w,T)}assign(p,w,T){return this._leafNode(new f(p,w,T))}add(p,w){return this._leafNode(new c(p,e.operators.ADD,w))}code(p){return typeof p=="function"?p():p!==t.nil&&this._leafNode(new v(p)),this}object(...p){const w=["{"];for(const[T,G]of p)w.length>1&&w.push(","),w.push(T),(T!==G||this.opts.es5)&&(w.push(":"),(0,t.addCodeArg)(w,G));return w.push("}"),new t._Code(w)}if(p,w,T){if(this._blockNode(new d(p)),w&&T)this.code(w).else().code(T).endIf();else if(w)this.code(w).endIf();else if(T)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(p){return this._elseNode(new d(p))}else(){return this._elseNode(new $)}endIf(){return this._endBlockNode(d,$)}_for(p,w){return this._blockNode(p),w&&this.code(w).endFor(),this}for(p,w){return this._for(new I(p),w)}forRange(p,w,T,G,B=this.opts.es5?r.varKinds.var:r.varKinds.let){const ae=this._scope.toName(p);return this._for(new D(B,ae,w,T),()=>G(ae))}forOf(p,w,T,G=r.varKinds.const){const B=this._scope.toName(p);if(this.opts.es5){const ae=w instanceof t.Name?w:this.var("_arr",w);return this.forRange("_i",0,(0,t._)`${ae}.length`,ue=>{this.var(B,(0,t._)`${ae}[${ue}]`),T(B)})}return this._for(new M("of",G,B,w),()=>T(B))}forIn(p,w,T,G=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(p,(0,t._)`Object.keys(${w})`,T);const B=this._scope.toName(p);return this._for(new M("in",G,B,w),()=>T(B))}endFor(){return this._endBlockNode(E)}label(p){return this._leafNode(new h(p))}break(p){return this._leafNode(new a(p))}return(p){const w=new Y;if(this._blockNode(w),this.code(p),w.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Y)}try(p,w,T){if(!w&&!T)throw new Error('CodeGen: "try" without "catch" and "finally"');const G=new fe;if(this._blockNode(G),this.code(p),w){const B=this.name("e");this._currNode=G.catch=new H(B),w(B)}return T&&(this._currNode=G.finally=new Q,this.code(T)),this._endBlockNode(H,Q)}throw(p){return this._leafNode(new l(p))}block(p,w){return this._blockStarts.push(this._nodes.length),p&&this.code(p).endBlock(w),this}endBlock(p){const w=this._blockStarts.pop();if(w===void 0)throw new Error("CodeGen: not in self-balancing block");const T=this._nodes.length-w;if(T<0||p!==void 0&&T!==p)throw new Error(`CodeGen: wrong number of nodes: ${T} vs ${p} expected`);return this._nodes.length=w,this}func(p,w=t.nil,T,G){return this._blockNode(new W(p,w,T)),G&&this.code(G).endFunc(),this}endFunc(){return this._endBlockNode(W)}optimize(p=1){for(;p-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(p){return this._currNode.nodes.push(p),this}_blockNode(p){this._currNode.nodes.push(p),this._nodes.push(p)}_endBlockNode(p,w){const T=this._currNode;if(T instanceof p||w&&T instanceof w)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${w?`${p.kind}/${w.kind}`:p.kind}"`)}_elseNode(p){const w=this._currNode;if(!(w instanceof d))throw new Error('CodeGen: "else" without "if"');return this._currNode=w.else=p,this}get _root(){return this._nodes[0]}get _currNode(){const p=this._nodes;return p[p.length-1]}set _currNode(p){const w=this._nodes;w[w.length-1]=p}}e.CodeGen=j;function x(b,p){for(const w in p)b[w]=(b[w]||0)+(p[w]||0);return b}function L(b,p){return p instanceof t._CodeOrName?x(b,p.names):b}function P(b,p,w){if(b instanceof t.Name)return T(b);if(!G(b))return b;return new t._Code(b._items.reduce((B,ae)=>(ae instanceof t.Name&&(ae=T(ae)),ae instanceof t._Code?B.push(...ae._items):B.push(ae),B),[]));function T(B){const ae=w[B.str];return ae===void 0||p[B.str]!==1?B:(delete p[B.str],ae)}function G(B){return B instanceof t._Code&&B._items.some(ae=>ae instanceof t.Name&&p[ae.str]===1&&w[ae.str]!==void 0)}}function F(b,p){for(const w in p)b[w]=(b[w]||0)-(p[w]||0)}function U(b){return typeof b=="boolean"||typeof b=="number"||b===null?!b:(0,t._)`!${C(b)}`}e.not=U;const k=N(e.operators.AND);function V(...b){return b.reduce(k)}e.and=V;const z=N(e.operators.OR);function A(...b){return b.reduce(z)}e.or=A;function N(b){return(p,w)=>p===t.nil?w:w===t.nil?p:(0,t._)`${C(p)} ${b} ${C(w)}`}function C(b){return b instanceof t.Name?b:(0,t._)`(${b})`}})(te);var q={};Object.defineProperty(q,"__esModule",{value:!0});q.checkStrictMode=q.getErrorPath=q.Type=q.useFunc=q.setEvaluated=q.evaluatedPropsToName=q.mergeEvaluated=q.eachItem=q.unescapeJsonPointer=q.escapeJsonPointer=q.escapeFragment=q.unescapeFragment=q.schemaRefOrVal=q.schemaHasRulesButRef=q.schemaHasRules=q.checkUnknownRules=q.alwaysValidSchema=q.toHash=void 0;const he=te,Qd=un;function eh(e){const t={};for(const r of e)t[r]=!0;return t}q.toHash=eh;function th(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(xc(e,t),!qc(t,e.self.RULES.all))}q.alwaysValidSchema=th;function xc(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const s=n.RULES.keywords;for(const i in t)s[i]||Bc(e,`unknown keyword: "${i}"`)}q.checkUnknownRules=xc;function qc(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}q.schemaHasRules=qc;function rh(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}q.schemaHasRulesButRef=rh;function nh({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,he._)`${r}`}return(0,he._)`${e}${t}${(0,he.getProperty)(n)}`}q.schemaRefOrVal=nh;function sh(e){return Hc(decodeURIComponent(e))}q.unescapeFragment=sh;function ih(e){return encodeURIComponent(di(e))}q.escapeFragment=ih;function di(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}q.escapeJsonPointer=di;function Hc(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}q.unescapeJsonPointer=Hc;function oh(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}q.eachItem=oh;function Xo({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,i,o,f)=>{const c=o===void 0?i:o instanceof he.Name?(i instanceof he.Name?e(s,i,o):t(s,i,o),o):i instanceof he.Name?(t(s,o,i),i):r(i,o);return f===he.Name&&!(c instanceof he.Name)?n(s,c):c}}q.mergeEvaluated={props:Xo({mergeNames:(e,t,r)=>e.if((0,he._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,he._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,he._)`${r} || {}`).code((0,he._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,he._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,he._)`${r} || {}`),hi(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:Gc}),items:Xo({mergeNames:(e,t,r)=>e.if((0,he._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,he._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,he._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,he._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function Gc(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,he._)`{}`);return t!==void 0&&hi(e,r,t),r}q.evaluatedPropsToName=Gc;function hi(e,t,r){Object.keys(r).forEach(n=>e.assign((0,he._)`${t}${(0,he.getProperty)(n)}`,!0))}q.setEvaluated=hi;const Jo={};function ah(e,t){return e.scopeValue("func",{ref:t,code:Jo[t.code]||(Jo[t.code]=new Qd._Code(t.code))})}q.useFunc=ah;var qs;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(qs||(q.Type=qs={}));function ch(e,t,r){if(e instanceof he.Name){const n=t===qs.Num;return r?n?(0,he._)`"[" + ${e} + "]"`:(0,he._)`"['" + ${e} + "']"`:n?(0,he._)`"/" + ${e}`:(0,he._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,he.getProperty)(e).toString():"/"+di(e)}q.getErrorPath=ch;function Bc(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}q.checkStrictMode=Bc;var tt={};Object.defineProperty(tt,"__esModule",{value:!0});const Me=te,uh={data:new Me.Name("data"),valCxt:new Me.Name("valCxt"),instancePath:new Me.Name("instancePath"),parentData:new Me.Name("parentData"),parentDataProperty:new Me.Name("parentDataProperty"),rootData:new Me.Name("rootData"),dynamicAnchors:new Me.Name("dynamicAnchors"),vErrors:new Me.Name("vErrors"),errors:new Me.Name("errors"),this:new Me.Name("this"),self:new Me.Name("self"),scope:new Me.Name("scope"),json:new Me.Name("json"),jsonPos:new Me.Name("jsonPos"),jsonLen:new Me.Name("jsonLen"),jsonPart:new Me.Name("jsonPart")};tt.default=uh;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=te,r=q,n=tt;e.keywordError={message:({keyword:$})=>(0,t.str)`must pass "${$}" keyword validation`},e.keyword$DataError={message:({keyword:$,schemaType:d})=>d?(0,t.str)`"${$}" keyword must be ${d} ($data)`:(0,t.str)`"${$}" keyword is invalid ($data)`};function s($,d=e.keywordError,E,I){const{it:D}=$,{gen:M,compositeRule:W,allErrors:Y}=D,fe=l($,d,E);I??(W||Y)?c(M,fe):h(D,(0,t._)`[${fe}]`)}e.reportError=s;function i($,d=e.keywordError,E){const{it:I}=$,{gen:D,compositeRule:M,allErrors:W}=I,Y=l($,d,E);c(D,Y),M||W||h(I,n.default.vErrors)}e.reportExtraError=i;function o($,d){$.assign(n.default.errors,d),$.if((0,t._)`${n.default.vErrors} !== null`,()=>$.if(d,()=>$.assign((0,t._)`${n.default.vErrors}.length`,d),()=>$.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function f({gen:$,keyword:d,schemaValue:E,data:I,errsCount:D,it:M}){if(D===void 0)throw new Error("ajv implementation error");const W=$.name("err");$.forRange("i",D,n.default.errors,Y=>{$.const(W,(0,t._)`${n.default.vErrors}[${Y}]`),$.if((0,t._)`${W}.instancePath === undefined`,()=>$.assign((0,t._)`${W}.instancePath`,(0,t.strConcat)(n.default.instancePath,M.errorPath))),$.assign((0,t._)`${W}.schemaPath`,(0,t.str)`${M.errSchemaPath}/${d}`),M.opts.verbose&&($.assign((0,t._)`${W}.schema`,E),$.assign((0,t._)`${W}.data`,I))})}e.extendErrors=f;function c($,d){const E=$.const("err",d);$.if((0,t._)`${n.default.vErrors} === null`,()=>$.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),$.code((0,t._)`${n.default.errors}++`)}function h($,d){const{gen:E,validateName:I,schemaEnv:D}=$;D.$async?E.throw((0,t._)`new ${$.ValidationError}(${d})`):(E.assign((0,t._)`${I}.errors`,d),E.return(!1))}const a={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function l($,d,E){const{createErrors:I}=$.it;return I===!1?(0,t._)`{}`:v($,d,E)}function v($,d,E={}){const{gen:I,it:D}=$,M=[m(D,E),u($,E)];return y($,d,M),I.object(...M)}function m({errorPath:$},{instancePath:d}){const E=d?(0,t.str)`${$}${(0,r.getErrorPath)(d,r.Type.Str)}`:$;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function u({keyword:$,it:{errSchemaPath:d}},{schemaPath:E,parentSchema:I}){let D=I?d:(0,t.str)`${d}/${$}`;return E&&(D=(0,t.str)`${D}${(0,r.getErrorPath)(E,r.Type.Str)}`),[a.schemaPath,D]}function y($,{params:d,message:E},I){const{keyword:D,data:M,schemaValue:W,it:Y}=$,{opts:fe,propertyName:H,topSchemaRef:Q,schemaPath:j}=Y;I.push([a.keyword,D],[a.params,typeof d=="function"?d($):d||(0,t._)`{}`]),fe.messages&&I.push([a.message,typeof E=="function"?E($):E]),fe.verbose&&I.push([a.schema,W],[a.parentSchema,(0,t._)`${Q}${j}`],[n.default.data,M]),H&&I.push([a.propertyName,H])}})(dn);Object.defineProperty(Rr,"__esModule",{value:!0});Rr.boolOrEmptySchema=Rr.topBoolOrEmptySchema=void 0;const fh=dn,lh=te,dh=tt,hh={message:"boolean schema is false"};function mh(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Kc(e,!1):typeof r=="object"&&r.$async===!0?t.return(dh.default.data):(t.assign((0,lh._)`${n}.errors`,null),t.return(!0))}Rr.topBoolOrEmptySchema=mh;function ph(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Kc(e)):r.var(t,!0)}Rr.boolOrEmptySchema=ph;function Kc(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,fh.reportError)(s,hh,void 0,t)}var Pe={},nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.getRules=nr.isJSONType=void 0;const yh=["string","number","integer","boolean","null","object","array"],$h=new Set(yh);function vh(e){return typeof e=="string"&&$h.has(e)}nr.isJSONType=vh;function gh(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}nr.getRules=gh;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.shouldUseRule=Pt.shouldUseGroup=Pt.schemaHasRulesForType=void 0;function Eh({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Zc(e,n)}Pt.schemaHasRulesForType=Eh;function Zc(e,t){return t.rules.some(r=>Wc(e,r))}Pt.shouldUseGroup=Zc;function Wc(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Pt.shouldUseRule=Wc;Object.defineProperty(Pe,"__esModule",{value:!0});Pe.reportTypeError=Pe.checkDataTypes=Pe.checkDataType=Pe.coerceAndCheckDataType=Pe.getJSONTypes=Pe.getSchemaTypes=Pe.DataType=void 0;const _h=nr,wh=Pt,Sh=dn,se=te,Xc=q;var Nr;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Nr||(Pe.DataType=Nr={}));function Nh(e){const t=Jc(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}Pe.getSchemaTypes=Nh;function Jc(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(_h.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}Pe.getJSONTypes=Jc;function Ih(e,t){const{gen:r,data:n,opts:s}=e,i=bh(t,s.coerceTypes),o=t.length>0&&!(i.length===0&&t.length===1&&(0,wh.schemaHasRulesForType)(e,t[0]));if(o){const f=mi(t,n,s.strictNumbers,Nr.Wrong);r.if(f,()=>{i.length?Oh(e,t,i):pi(e)})}return o}Pe.coerceAndCheckDataType=Ih;const Yc=new Set(["string","number","integer","boolean","null"]);function bh(e,t){return t?e.filter(r=>Yc.has(r)||t==="array"&&r==="array"):[]}function Oh(e,t,r){const{gen:n,data:s,opts:i}=e,o=n.let("dataType",(0,se._)`typeof ${s}`),f=n.let("coerced",(0,se._)`undefined`);i.coerceTypes==="array"&&n.if((0,se._)`${o} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,se._)`${s}[0]`).assign(o,(0,se._)`typeof ${s}`).if(mi(t,s,i.strictNumbers),()=>n.assign(f,s))),n.if((0,se._)`${f} !== undefined`);for(const h of r)(Yc.has(h)||h==="array"&&i.coerceTypes==="array")&&c(h);n.else(),pi(e),n.endIf(),n.if((0,se._)`${f} !== undefined`,()=>{n.assign(s,f),Rh(e,f)});function c(h){switch(h){case"string":n.elseIf((0,se._)`${o} == "number" || ${o} == "boolean"`).assign(f,(0,se._)`"" + ${s}`).elseIf((0,se._)`${s} === null`).assign(f,(0,se._)`""`);return;case"number":n.elseIf((0,se._)`${o} == "boolean" || ${s} === null
              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(f,(0,se._)`+${s}`);return;case"integer":n.elseIf((0,se._)`${o} === "boolean" || ${s} === null
              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(f,(0,se._)`+${s}`);return;case"boolean":n.elseIf((0,se._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(f,!1).elseIf((0,se._)`${s} === "true" || ${s} === 1`).assign(f,!0);return;case"null":n.elseIf((0,se._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(f,null);return;case"array":n.elseIf((0,se._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${s} === null`).assign(f,(0,se._)`[${s}]`)}}}function Rh({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,se._)`${t} !== undefined`,()=>e.assign((0,se._)`${t}[${r}]`,n))}function Hs(e,t,r,n=Nr.Correct){const s=n===Nr.Correct?se.operators.EQ:se.operators.NEQ;let i;switch(e){case"null":return(0,se._)`${t} ${s} null`;case"array":i=(0,se._)`Array.isArray(${t})`;break;case"object":i=(0,se._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=o((0,se._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=o();break;default:return(0,se._)`typeof ${t} ${s} ${e}`}return n===Nr.Correct?i:(0,se.not)(i);function o(f=se.nil){return(0,se.and)((0,se._)`typeof ${t} == "number"`,f,r?(0,se._)`isFinite(${t})`:se.nil)}}Pe.checkDataType=Hs;function mi(e,t,r,n){if(e.length===1)return Hs(e[0],t,r,n);let s;const i=(0,Xc.toHash)(e);if(i.array&&i.object){const o=(0,se._)`typeof ${t} != "object"`;s=i.null?o:(0,se._)`!${t} || ${o}`,delete i.null,delete i.array,delete i.object}else s=se.nil;i.number&&delete i.integer;for(const o in i)s=(0,se.and)(s,Hs(o,t,r,n));return s}Pe.checkDataTypes=mi;const Ph={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,se._)`{type: ${e}}`:(0,se._)`{type: ${t}}`};function pi(e){const t=Ch(e);(0,Sh.reportError)(t,Ph)}Pe.reportTypeError=pi;function Ch(e){const{gen:t,data:r,schema:n}=e,s=(0,Xc.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.assignDefaults=void 0;const pr=te,Th=q;function Dh(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)Yo(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,i)=>Yo(e,i,s.default))}Qn.assignDefaults=Dh;function Yo(e,t,r){const{gen:n,compositeRule:s,data:i,opts:o}=e;if(r===void 0)return;const f=(0,pr._)`${i}${(0,pr.getProperty)(t)}`;if(s){(0,Th.checkStrictMode)(e,`default is ignored for: ${f}`);return}let c=(0,pr._)`${f} === undefined`;o.useDefaults==="empty"&&(c=(0,pr._)`${c} || ${f} === null || ${f} === ""`),n.if(c,(0,pr._)`${f} = ${(0,pr.stringify)(r)}`)}var Nt={},oe={};Object.defineProperty(oe,"__esModule",{value:!0});oe.validateUnion=oe.validateArray=oe.usePattern=oe.callValidateCode=oe.schemaProperties=oe.allSchemaProperties=oe.noPropertyInData=oe.propertyInData=oe.isOwnProperty=oe.hasPropFunc=oe.reportMissingProp=oe.checkMissingProp=oe.checkReportMissingProp=void 0;const ye=te,yi=q,kt=tt,Ah=q;function Lh(e,t){const{gen:r,data:n,it:s}=e;r.if(vi(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,ye._)`${t}`},!0),e.error()})}oe.checkReportMissingProp=Lh;function jh({gen:e,data:t,it:{opts:r}},n,s){return(0,ye.or)(...n.map(i=>(0,ye.and)(vi(e,t,i,r.ownProperties),(0,ye._)`${s} = ${i}`)))}oe.checkMissingProp=jh;function Fh(e,t){e.setParams({missingProperty:t},!0),e.error()}oe.reportMissingProp=Fh;function Qc(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ye._)`Object.prototype.hasOwnProperty`})}oe.hasPropFunc=Qc;function $i(e,t,r){return(0,ye._)`${Qc(e)}.call(${t}, ${r})`}oe.isOwnProperty=$i;function kh(e,t,r,n){const s=(0,ye._)`${t}${(0,ye.getProperty)(r)} !== undefined`;return n?(0,ye._)`${s} && ${$i(e,t,r)}`:s}oe.propertyInData=kh;function vi(e,t,r,n){const s=(0,ye._)`${t}${(0,ye.getProperty)(r)} === undefined`;return n?(0,ye.or)(s,(0,ye.not)($i(e,t,r))):s}oe.noPropertyInData=vi;function eu(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}oe.allSchemaProperties=eu;function Mh(e,t){return eu(t).filter(r=>!(0,yi.alwaysValidSchema)(e,t[r]))}oe.schemaProperties=Mh;function Uh({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:i},it:o},f,c,h){const a=h?(0,ye._)`${e}, ${t}, ${n}${s}`:t,l=[[kt.default.instancePath,(0,ye.strConcat)(kt.default.instancePath,i)],[kt.default.parentData,o.parentData],[kt.default.parentDataProperty,o.parentDataProperty],[kt.default.rootData,kt.default.rootData]];o.opts.dynamicRef&&l.push([kt.default.dynamicAnchors,kt.default.dynamicAnchors]);const v=(0,ye._)`${a}, ${r.object(...l)}`;return c!==ye.nil?(0,ye._)`${f}.call(${c}, ${v})`:(0,ye._)`${f}(${v})`}oe.callValidateCode=Uh;const Vh=(0,ye._)`new RegExp`;function zh({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,i=s(r,n);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,ye._)`${s.code==="new RegExp"?Vh:(0,Ah.useFunc)(e,s)}(${r}, ${n})`})}oe.usePattern=zh;function xh(e){const{gen:t,data:r,keyword:n,it:s}=e,i=t.name("valid");if(s.allErrors){const f=t.let("valid",!0);return o(()=>t.assign(f,!1)),f}return t.var(i,!0),o(()=>t.break()),i;function o(f){const c=t.const("len",(0,ye._)`${r}.length`);t.forRange("i",0,c,h=>{e.subschema({keyword:n,dataProp:h,dataPropType:yi.Type.Num},i),t.if((0,ye.not)(i),f)})}}oe.validateArray=xh;function qh(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,yi.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;const o=t.let("valid",!1),f=t.name("_valid");t.block(()=>r.forEach((c,h)=>{const a=e.subschema({keyword:n,schemaProp:h,compositeRule:!0},f);t.assign(o,(0,ye._)`${o} || ${f}`),e.mergeValidEvaluated(a,f)||t.if((0,ye.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}oe.validateUnion=qh;Object.defineProperty(Nt,"__esModule",{value:!0});Nt.validateKeywordUsage=Nt.validSchemaType=Nt.funcKeywordCode=Nt.macroKeywordCode=void 0;const xe=te,Jt=tt,Hh=oe,Gh=dn;function Bh(e,t){const{gen:r,keyword:n,schema:s,parentSchema:i,it:o}=e,f=t.macro.call(o.self,s,i,o),c=tu(r,n,f);o.opts.validateSchema!==!1&&o.self.validateSchema(f,!0);const h=r.name("valid");e.subschema({schema:f,schemaPath:xe.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},h),e.pass(h,()=>e.error(!0))}Nt.macroKeywordCode=Bh;function Kh(e,t){var r;const{gen:n,keyword:s,schema:i,parentSchema:o,$data:f,it:c}=e;Wh(c,t);const h=!f&&t.compile?t.compile.call(c.self,i,o,c):t.validate,a=tu(n,s,h),l=n.let("valid");e.block$data(l,v),e.ok((r=t.valid)!==null&&r!==void 0?r:l);function v(){if(t.errors===!1)y(),t.modifying&&Qo(e),$(()=>e.error());else{const d=t.async?m():u();t.modifying&&Qo(e),$(()=>Zh(e,d))}}function m(){const d=n.let("ruleErrs",null);return n.try(()=>y((0,xe._)`await `),E=>n.assign(l,!1).if((0,xe._)`${E} instanceof ${c.ValidationError}`,()=>n.assign(d,(0,xe._)`${E}.errors`),()=>n.throw(E))),d}function u(){const d=(0,xe._)`${a}.errors`;return n.assign(d,null),y(xe.nil),d}function y(d=t.async?(0,xe._)`await `:xe.nil){const E=c.opts.passContext?Jt.default.this:Jt.default.self,I=!("compile"in t&&!f||t.schema===!1);n.assign(l,(0,xe._)`${d}${(0,Hh.callValidateCode)(e,a,E,I)}`,t.modifying)}function $(d){var E;n.if((0,xe.not)((E=t.valid)!==null&&E!==void 0?E:l),d)}}Nt.funcKeywordCode=Kh;function Qo(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,xe._)`${n.parentData}[${n.parentDataProperty}]`))}function Zh(e,t){const{gen:r}=e;r.if((0,xe._)`Array.isArray(${t})`,()=>{r.assign(Jt.default.vErrors,(0,xe._)`${Jt.default.vErrors} === null ? ${t} : ${Jt.default.vErrors}.concat(${t})`).assign(Jt.default.errors,(0,xe._)`${Jt.default.vErrors}.length`),(0,Gh.extendErrors)(e)},()=>e.error())}function Wh({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function tu(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,xe.stringify)(r)})}function Xh(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Nt.validSchemaType=Xh;function Jh({schema:e,opts:t,self:r,errSchemaPath:n},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw new Error("ajv implementation error");const o=s.dependencies;if(o?.some(f=>!Object.prototype.hasOwnProperty.call(e,f)))throw new Error(`parent schema must have dependencies of ${i}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[i])){const c=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Nt.validateKeywordUsage=Jh;var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.extendSubschemaMode=Ht.extendSubschemaData=Ht.getSubschema=void 0;const St=te,ru=q;function Yh(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:i,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const f=e.schema[t];return r===void 0?{schema:f,schemaPath:(0,St._)`${e.schemaPath}${(0,St.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:f[r],schemaPath:(0,St._)`${e.schemaPath}${(0,St.getProperty)(t)}${(0,St.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,ru.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||i===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:o,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}Ht.getSubschema=Yh;function Qh(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:i,propertyName:o}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:f}=t;if(r!==void 0){const{errorPath:h,dataPathArr:a,opts:l}=t,v=f.let("data",(0,St._)`${t.data}${(0,St.getProperty)(r)}`,!0);c(v),e.errorPath=(0,St.str)`${h}${(0,ru.getErrorPath)(r,n,l.jsPropertySyntax)}`,e.parentDataProperty=(0,St._)`${r}`,e.dataPathArr=[...a,e.parentDataProperty]}if(s!==void 0){const h=s instanceof St.Name?s:f.let("data",s,!0);c(h),o!==void 0&&(e.propertyName=o)}i&&(e.dataTypes=i);function c(h){e.data=h,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,h]}}Ht.extendSubschemaData=Qh;function em(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:i}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}Ht.extendSubschemaMode=em;var je={},nu=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r},su={exports:{}},qt=su.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Ln(t,n,s,e,"",e)};qt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};qt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};qt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};qt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Ln(e,t,r,n,s,i,o,f,c,h){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,i,o,f,c,h);for(var a in n){var l=n[a];if(Array.isArray(l)){if(a in qt.arrayKeywords)for(var v=0;v<l.length;v++)Ln(e,t,r,l[v],s+"/"+a+"/"+v,i,s,a,n,v)}else if(a in qt.propsKeywords){if(l&&typeof l=="object")for(var m in l)Ln(e,t,r,l[m],s+"/"+a+"/"+tm(m),i,s,a,n,m)}else(a in qt.keywords||e.allKeys&&!(a in qt.skipKeywords))&&Ln(e,t,r,l,s+"/"+a,i,s,a,n)}r(n,s,i,o,f,c,h)}}function tm(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var rm=su.exports;Object.defineProperty(je,"__esModule",{value:!0});je.getSchemaRefs=je.resolveUrl=je.normalizeId=je._getFullPath=je.getFullPath=je.inlineRef=void 0;const nm=q,sm=nu,im=rm,om=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function am(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Gs(e):t?iu(e)<=t:!1}je.inlineRef=am;const cm=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Gs(e){for(const t in e){if(cm.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Gs)||typeof r=="object"&&Gs(r))return!0}return!1}function iu(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!om.has(r)&&(typeof e[r]=="object"&&(0,nm.eachItem)(e[r],n=>t+=iu(n)),t===1/0))return 1/0}return t}function ou(e,t="",r){r!==!1&&(t=Ir(t));const n=e.parse(t);return au(e,n)}je.getFullPath=ou;function au(e,t){return e.serialize(t).split("#")[0]+"#"}je._getFullPath=au;const um=/#\/?$/;function Ir(e){return e?e.replace(um,""):""}je.normalizeId=Ir;function fm(e,t,r){return r=Ir(r),e.resolve(t,r)}je.resolveUrl=fm;const lm=/^[a-z_][-a-z0-9._]*$/i;function dm(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=Ir(e[r]||t),i={"":s},o=ou(n,s,!1),f={},c=new Set;return im(e,{allKeys:!0},(l,v,m,u)=>{if(u===void 0)return;const y=o+v;let $=i[u];typeof l[r]=="string"&&($=d.call(this,l[r])),E.call(this,l.$anchor),E.call(this,l.$dynamicAnchor),i[v]=$;function d(I){const D=this.opts.uriResolver.resolve;if(I=Ir($?D($,I):I),c.has(I))throw a(I);c.add(I);let M=this.refs[I];return typeof M=="string"&&(M=this.refs[M]),typeof M=="object"?h(l,M.schema,I):I!==Ir(y)&&(I[0]==="#"?(h(l,f[I],I),f[I]=l):this.refs[I]=y),I}function E(I){if(typeof I=="string"){if(!lm.test(I))throw new Error(`invalid anchor "${I}"`);d.call(this,`#${I}`)}}}),f;function h(l,v,m){if(v!==void 0&&!sm(l,v))throw a(m)}function a(l){return new Error(`reference "${l}" resolves to more than one schema`)}}je.getSchemaRefs=dm;Object.defineProperty(at,"__esModule",{value:!0});at.getData=at.KeywordCxt=at.validateFunctionCode=void 0;const cu=Rr,ea=Pe,gi=Pt,xn=Pe,hm=Qn,Qr=Nt,Ns=Ht,Z=te,ee=tt,mm=je,Ct=q,Kr=dn;function pm(e){if(lu(e)&&(du(e),fu(e))){vm(e);return}uu(e,()=>(0,cu.topBoolOrEmptySchema)(e))}at.validateFunctionCode=pm;function uu({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},i){s.code.es5?e.func(t,(0,Z._)`${ee.default.data}, ${ee.default.valCxt}`,n.$async,()=>{e.code((0,Z._)`"use strict"; ${ta(r,s)}`),$m(e,s),e.code(i)}):e.func(t,(0,Z._)`${ee.default.data}, ${ym(s)}`,n.$async,()=>e.code(ta(r,s)).code(i))}function ym(e){return(0,Z._)`{${ee.default.instancePath}="", ${ee.default.parentData}, ${ee.default.parentDataProperty}, ${ee.default.rootData}=${ee.default.data}${e.dynamicRef?(0,Z._)`, ${ee.default.dynamicAnchors}={}`:Z.nil}}={}`}function $m(e,t){e.if(ee.default.valCxt,()=>{e.var(ee.default.instancePath,(0,Z._)`${ee.default.valCxt}.${ee.default.instancePath}`),e.var(ee.default.parentData,(0,Z._)`${ee.default.valCxt}.${ee.default.parentData}`),e.var(ee.default.parentDataProperty,(0,Z._)`${ee.default.valCxt}.${ee.default.parentDataProperty}`),e.var(ee.default.rootData,(0,Z._)`${ee.default.valCxt}.${ee.default.rootData}`),t.dynamicRef&&e.var(ee.default.dynamicAnchors,(0,Z._)`${ee.default.valCxt}.${ee.default.dynamicAnchors}`)},()=>{e.var(ee.default.instancePath,(0,Z._)`""`),e.var(ee.default.parentData,(0,Z._)`undefined`),e.var(ee.default.parentDataProperty,(0,Z._)`undefined`),e.var(ee.default.rootData,ee.default.data),t.dynamicRef&&e.var(ee.default.dynamicAnchors,(0,Z._)`{}`)})}function vm(e){const{schema:t,opts:r,gen:n}=e;uu(e,()=>{r.$comment&&t.$comment&&mu(e),Sm(e),n.let(ee.default.vErrors,null),n.let(ee.default.errors,0),r.unevaluated&&gm(e),hu(e),bm(e)})}function gm(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,Z._)`${r}.evaluated`),t.if((0,Z._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,Z._)`${e.evaluated}.props`,(0,Z._)`undefined`)),t.if((0,Z._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,Z._)`${e.evaluated}.items`,(0,Z._)`undefined`))}function ta(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,Z._)`/*# sourceURL=${r} */`:Z.nil}function Em(e,t){if(lu(e)&&(du(e),fu(e))){_m(e,t);return}(0,cu.boolOrEmptySchema)(e,t)}function fu({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function lu(e){return typeof e.schema!="boolean"}function _m(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&mu(e),Nm(e),Im(e);const i=n.const("_errs",ee.default.errors);hu(e,i),n.var(t,(0,Z._)`${i} === ${ee.default.errors}`)}function du(e){(0,Ct.checkUnknownRules)(e),wm(e)}function hu(e,t){if(e.opts.jtd)return ra(e,[],!1,t);const r=(0,ea.getSchemaTypes)(e.schema),n=(0,ea.coerceAndCheckDataType)(e,r);ra(e,r,!n,t)}function wm(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Ct.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Sm(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Ct.checkStrictMode)(e,"default is ignored in the schema root")}function Nm(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,mm.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Im(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function mu({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const i=r.$comment;if(s.$comment===!0)e.code((0,Z._)`${ee.default.self}.logger.log(${i})`);else if(typeof s.$comment=="function"){const o=(0,Z.str)`${n}/$comment`,f=e.scopeValue("root",{ref:t.root});e.code((0,Z._)`${ee.default.self}.opts.$comment(${i}, ${o}, ${f}.schema)`)}}function bm(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:i}=e;r.$async?t.if((0,Z._)`${ee.default.errors} === 0`,()=>t.return(ee.default.data),()=>t.throw((0,Z._)`new ${s}(${ee.default.vErrors})`)):(t.assign((0,Z._)`${n}.errors`,ee.default.vErrors),i.unevaluated&&Om(e),t.return((0,Z._)`${ee.default.errors} === 0`))}function Om({gen:e,evaluated:t,props:r,items:n}){r instanceof Z.Name&&e.assign((0,Z._)`${t}.props`,r),n instanceof Z.Name&&e.assign((0,Z._)`${t}.items`,n)}function ra(e,t,r,n){const{gen:s,schema:i,data:o,allErrors:f,opts:c,self:h}=e,{RULES:a}=h;if(i.$ref&&(c.ignoreKeywordsWithRef||!(0,Ct.schemaHasRulesButRef)(i,a))){s.block(()=>$u(e,"$ref",a.all.$ref.definition));return}c.jtd||Rm(e,t),s.block(()=>{for(const v of a.rules)l(v);l(a.post)});function l(v){(0,gi.shouldUseGroup)(i,v)&&(v.type?(s.if((0,xn.checkDataType)(v.type,o,c.strictNumbers)),na(e,v),t.length===1&&t[0]===v.type&&r&&(s.else(),(0,xn.reportTypeError)(e)),s.endIf()):na(e,v),f||s.if((0,Z._)`${ee.default.errors} === ${n||0}`))}}function na(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,hm.assignDefaults)(e,t.type),r.block(()=>{for(const i of t.rules)(0,gi.shouldUseRule)(n,i)&&$u(e,i.keyword,i.definition,t.type)})}function Rm(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Pm(e,t),e.opts.allowUnionTypes||Cm(e,t),Tm(e,e.dataTypes))}function Pm(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{pu(e.dataTypes,r)||Ei(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),Am(e,t)}}function Cm(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Ei(e,"use allowUnionTypes to allow union type keyword")}function Tm(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,gi.shouldUseRule)(e.schema,s)){const{type:i}=s.definition;i.length&&!i.some(o=>Dm(t,o))&&Ei(e,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function Dm(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function pu(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Am(e,t){const r=[];for(const n of e.dataTypes)pu(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function Ei(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Ct.checkStrictMode)(e,t,e.opts.strictTypes)}class yu{constructor(t,r,n){if((0,Qr.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Ct.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",vu(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Qr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",ee.default.errors))}result(t,r,n){this.failResult((0,Z.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,Z.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,Z._)`${r} !== undefined && (${(0,Z.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Kr.reportExtraError:Kr.reportError)(this,this.def.error,r)}$dataError(){(0,Kr.reportError)(this,this.def.$dataError||Kr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Kr.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=Z.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=Z.nil,r=Z.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:i,def:o}=this;n.if((0,Z.or)((0,Z._)`${s} === undefined`,r)),t!==Z.nil&&n.assign(t,!0),(i.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==Z.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:i}=this;return(0,Z.or)(o(),f());function o(){if(n.length){if(!(r instanceof Z.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,Z._)`${(0,xn.checkDataTypes)(c,r,i.opts.strictNumbers,xn.DataType.Wrong)}`}return Z.nil}function f(){if(s.validateSchema){const c=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,Z._)`!${c}(${r})`}return Z.nil}}subschema(t,r){const n=(0,Ns.getSubschema)(this.it,t);(0,Ns.extendSubschemaData)(n,this.it,t),(0,Ns.extendSubschemaMode)(n,t);const s={...this.it,...n,items:void 0,props:void 0};return Em(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Ct.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Ct.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,Z.Name)),!0}}at.KeywordCxt=yu;function $u(e,t,r,n){const s=new yu(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,Qr.funcKeywordCode)(s,r):"macro"in r?(0,Qr.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,Qr.funcKeywordCode)(s,r)}const Lm=/^\/(?:[^~]|~0|~1)*$/,jm=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function vu(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,i;if(e==="")return ee.default.rootData;if(e[0]==="/"){if(!Lm.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,i=ee.default.rootData}else{const h=jm.exec(e);if(!h)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+h[1];if(s=h[2],s==="#"){if(a>=t)throw new Error(c("property/index",a));return n[t-a]}if(a>t)throw new Error(c("data",a));if(i=r[t-a],!s)return i}let o=i;const f=s.split("/");for(const h of f)h&&(i=(0,Z._)`${i}${(0,Z.getProperty)((0,Ct.unescapeJsonPointer)(h))}`,o=(0,Z._)`${o} && ${i}`);return o;function c(h,a){return`Cannot access ${h} ${a} levels up, current level is ${t}`}}at.getData=vu;var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});class Fm extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Tr.default=Fm;var or={};Object.defineProperty(or,"__esModule",{value:!0});const Is=je;class km extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Is.resolveUrl)(t,r,n),this.missingSchema=(0,Is.normalizeId)((0,Is.getFullPath)(t,this.missingRef))}}or.default=km;var He={};Object.defineProperty(He,"__esModule",{value:!0});He.resolveSchema=He.getCompilingSchema=He.resolveRef=He.compileSchema=He.SchemaEnv=void 0;const ct=te,Mm=Tr,Wt=tt,ft=je,sa=q,Um=at;class es{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,ft.normalizeId)(n?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n?.$async,this.refs={}}}He.SchemaEnv=es;function _i(e){const t=gu.call(this,e);if(t)return t;const r=(0,ft.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,o=new ct.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i});let f;e.$async&&(f=o.scopeValue("Error",{ref:Mm.default,code:(0,ct._)`require("ajv/dist/runtime/validation_error").default`}));const c=o.scopeName("validate");e.validateName=c;const h={gen:o,allErrors:this.opts.allErrors,data:Wt.default.data,parentData:Wt.default.parentData,parentDataProperty:Wt.default.parentDataProperty,dataNames:[Wt.default.data],dataPathArr:[ct.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,ct.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:f,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:ct.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ct._)`""`,opts:this.opts,self:this};let a;try{this._compilations.add(e),(0,Um.validateFunctionCode)(h),o.optimize(this.opts.code.optimize);const l=o.toString();a=`${o.scopeRefs(Wt.default.scope)}return ${l}`,this.opts.code.process&&(a=this.opts.code.process(a,e));const m=new Function(`${Wt.default.self}`,`${Wt.default.scope}`,a)(this,this.scope.get());if(this.scope.value(c,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:c,validateCode:l,scopeValues:o._values}),this.opts.unevaluated){const{props:u,items:y}=h;m.evaluated={props:u instanceof ct.Name?void 0:u,items:y instanceof ct.Name?void 0:y,dynamicProps:u instanceof ct.Name,dynamicItems:y instanceof ct.Name},m.source&&(m.source.evaluated=(0,ct.stringify)(m.evaluated))}return e.validate=m,e}catch(l){throw delete e.validate,delete e.validateName,a&&this.logger.error("Error compiling schema, function code:",a),l}finally{this._compilations.delete(e)}}He.compileSchema=_i;function Vm(e,t,r){var n;r=(0,ft.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let i=qm.call(this,e,r);if(i===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:f}=this.opts;o&&(i=new es({schema:o,schemaId:f,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=zm.call(this,i)}He.resolveRef=Vm;function zm(e){return(0,ft.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:_i.call(this,e)}function gu(e){for(const t of this._compilations)if(xm(t,e))return t}He.getCompilingSchema=gu;function xm(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function qm(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||ts.call(this,e,t)}function ts(e,t){const r=this.opts.uriResolver.parse(t),n=(0,ft._getFullPath)(this.opts.uriResolver,r);let s=(0,ft.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return bs.call(this,r,e);const i=(0,ft.normalizeId)(n),o=this.refs[i]||this.schemas[i];if(typeof o=="string"){const f=ts.call(this,e,o);return typeof f?.schema!="object"?void 0:bs.call(this,r,f)}if(typeof o?.schema=="object"){if(o.validate||_i.call(this,o),i===(0,ft.normalizeId)(t)){const{schema:f}=o,{schemaId:c}=this.opts,h=f[c];return h&&(s=(0,ft.resolveUrl)(this.opts.uriResolver,s,h)),new es({schema:f,schemaId:c,root:e,baseId:s})}return bs.call(this,r,o)}}He.resolveSchema=ts;const Hm=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function bs(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const f of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,sa.unescapeFragment)(f)];if(c===void 0)return;r=c;const h=typeof r=="object"&&r[this.opts.schemaId];!Hm.has(f)&&h&&(t=(0,ft.resolveUrl)(this.opts.uriResolver,t,h))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,sa.schemaHasRulesButRef)(r,this.RULES)){const f=(0,ft.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=ts.call(this,n,f)}const{schemaId:o}=this.opts;if(i=i||new es({schema:r,schemaId:o,root:n,baseId:t}),i.schema!==i.root.schema)return i}const Gm="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Bm="Meta-schema for $data reference (JSON AnySchema extension proposal)",Km="object",Zm=["$data"],Wm={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Xm=!1,Jm={$id:Gm,description:Bm,type:Km,required:Zm,properties:Wm,additionalProperties:Xm};var wi={},Bs={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(Vn,function(r){function n(){for(var _=arguments.length,g=Array(_),S=0;S<_;S++)g[S]=arguments[S];if(g.length>1){g[0]=g[0].slice(0,-1);for(var R=g.length-1,O=1;O<R;++O)g[O]=g[O].slice(1,-1);return g[R]=g[R].slice(1),g.join("")}else return g[0]}function s(_){return"(?:"+_+")"}function i(_){return _===void 0?"undefined":_===null?"null":Object.prototype.toString.call(_).split(" ").pop().split("]").shift().toLowerCase()}function o(_){return _.toUpperCase()}function f(_){return _!=null?_ instanceof Array?_:typeof _.length!="number"||_.split||_.setInterval||_.call?[_]:Array.prototype.slice.call(_):[]}function c(_,g){var S=_;if(g)for(var R in g)S[R]=g[R];return S}function h(_){var g="[A-Za-z]",S="[0-9]",R=n(S,"[A-Fa-f]"),O=s(s("%[EFef]"+R+"%"+R+R+"%"+R+R)+"|"+s("%[89A-Fa-f]"+R+"%"+R+R)+"|"+s("%"+R+R)),X="[\\:\\/\\?\\#\\[\\]\\@]",J="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",le=n(X,J),pe=_?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Se=_?"[\\uE000-\\uF8FF]":"[]",ce=n(g,S,"[\\-\\.\\_\\~]",pe);s(g+n(g,S,"[\\+\\-\\.]")+"*"),s(s(O+"|"+n(ce,J,"[\\:]"))+"*");var me=s(s("25[0-5]")+"|"+s("2[0-4]"+S)+"|"+s("1"+S+S)+"|"+s("0?[1-9]"+S)+"|0?0?"+S),Ne=s(me+"\\."+me+"\\."+me+"\\."+me),re=s(R+"{1,4}"),$e=s(s(re+"\\:"+re)+"|"+Ne),be=s(s(re+"\\:")+"{6}"+$e),ve=s("\\:\\:"+s(re+"\\:")+"{5}"+$e),Dt=s(s(re)+"?\\:\\:"+s(re+"\\:")+"{4}"+$e),$t=s(s(s(re+"\\:")+"{0,1}"+re)+"?\\:\\:"+s(re+"\\:")+"{3}"+$e),vt=s(s(s(re+"\\:")+"{0,2}"+re)+"?\\:\\:"+s(re+"\\:")+"{2}"+$e),hr=s(s(s(re+"\\:")+"{0,3}"+re)+"?\\:\\:"+re+"\\:"+$e),Kt=s(s(s(re+"\\:")+"{0,4}"+re)+"?\\:\\:"+$e),nt=s(s(s(re+"\\:")+"{0,5}"+re)+"?\\:\\:"+re),gt=s(s(s(re+"\\:")+"{0,6}"+re)+"?\\:\\:"),Zt=s([be,ve,Dt,$t,vt,hr,Kt,nt,gt].join("|")),bt=s(s(ce+"|"+O)+"+");s("[vV]"+R+"+\\."+n(ce,J,"[\\:]")+"+"),s(s(O+"|"+n(ce,J))+"*");var Hr=s(O+"|"+n(ce,J,"[\\:\\@]"));return s(s(O+"|"+n(ce,J,"[\\@]"))+"+"),s(s(Hr+"|"+n("[\\/\\?]",Se))+"*"),{NOT_SCHEME:new RegExp(n("[^]",g,S,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",ce,J),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",ce,J),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",ce,J),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",ce,J),"g"),NOT_QUERY:new RegExp(n("[^\\%]",ce,J,"[\\:\\@\\/\\?]",Se),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",ce,J,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",ce,J),"g"),UNRESERVED:new RegExp(ce,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",ce,le),"g"),PCT_ENCODED:new RegExp(O,"g"),IPV4ADDRESS:new RegExp("^("+Ne+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Zt+")"+s(s("\\%25|\\%(?!"+R+"{2})")+"("+bt+")")+"?\\]?$")}}var a=h(!1),l=h(!0),v=function(){function _(g,S){var R=[],O=!0,X=!1,J=void 0;try{for(var le=g[Symbol.iterator](),pe;!(O=(pe=le.next()).done)&&(R.push(pe.value),!(S&&R.length===S));O=!0);}catch(Se){X=!0,J=Se}finally{try{!O&&le.return&&le.return()}finally{if(X)throw J}}return R}return function(g,S){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return _(g,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(_){if(Array.isArray(_)){for(var g=0,S=Array(_.length);g<_.length;g++)S[g]=_[g];return S}else return Array.from(_)},u=2147483647,y=36,$=1,d=26,E=38,I=700,D=72,M=128,W="-",Y=/^xn--/,fe=/[^\0-\x7E]/,H=/[\x2E\u3002\uFF0E\uFF61]/g,Q={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},j=y-$,x=Math.floor,L=String.fromCharCode;function P(_){throw new RangeError(Q[_])}function F(_,g){for(var S=[],R=_.length;R--;)S[R]=g(_[R]);return S}function U(_,g){var S=_.split("@"),R="";S.length>1&&(R=S[0]+"@",_=S[1]),_=_.replace(H,".");var O=_.split("."),X=F(O,g).join(".");return R+X}function k(_){for(var g=[],S=0,R=_.length;S<R;){var O=_.charCodeAt(S++);if(O>=55296&&O<=56319&&S<R){var X=_.charCodeAt(S++);(X&64512)==56320?g.push(((O&1023)<<10)+(X&1023)+65536):(g.push(O),S--)}else g.push(O)}return g}var V=function(g){return String.fromCodePoint.apply(String,m(g))},z=function(g){return g-48<10?g-22:g-65<26?g-65:g-97<26?g-97:y},A=function(g,S){return g+22+75*(g<26)-((S!=0)<<5)},N=function(g,S,R){var O=0;for(g=R?x(g/I):g>>1,g+=x(g/S);g>j*d>>1;O+=y)g=x(g/j);return x(O+(j+1)*g/(g+E))},C=function(g){var S=[],R=g.length,O=0,X=M,J=D,le=g.lastIndexOf(W);le<0&&(le=0);for(var pe=0;pe<le;++pe)g.charCodeAt(pe)>=128&&P("not-basic"),S.push(g.charCodeAt(pe));for(var Se=le>0?le+1:0;Se<R;){for(var ce=O,me=1,Ne=y;;Ne+=y){Se>=R&&P("invalid-input");var re=z(g.charCodeAt(Se++));(re>=y||re>x((u-O)/me))&&P("overflow"),O+=re*me;var $e=Ne<=J?$:Ne>=J+d?d:Ne-J;if(re<$e)break;var be=y-$e;me>x(u/be)&&P("overflow"),me*=be}var ve=S.length+1;J=N(O-ce,ve,ce==0),x(O/ve)>u-X&&P("overflow"),X+=x(O/ve),O%=ve,S.splice(O++,0,X)}return String.fromCodePoint.apply(String,S)},b=function(g){var S=[];g=k(g);var R=g.length,O=M,X=0,J=D,le=!0,pe=!1,Se=void 0;try{for(var ce=g[Symbol.iterator](),me;!(le=(me=ce.next()).done);le=!0){var Ne=me.value;Ne<128&&S.push(L(Ne))}}catch(Gr){pe=!0,Se=Gr}finally{try{!le&&ce.return&&ce.return()}finally{if(pe)throw Se}}var re=S.length,$e=re;for(re&&S.push(W);$e<R;){var be=u,ve=!0,Dt=!1,$t=void 0;try{for(var vt=g[Symbol.iterator](),hr;!(ve=(hr=vt.next()).done);ve=!0){var Kt=hr.value;Kt>=O&&Kt<be&&(be=Kt)}}catch(Gr){Dt=!0,$t=Gr}finally{try{!ve&&vt.return&&vt.return()}finally{if(Dt)throw $t}}var nt=$e+1;be-O>x((u-X)/nt)&&P("overflow"),X+=(be-O)*nt,O=be;var gt=!0,Zt=!1,bt=void 0;try{for(var Hr=g[Symbol.iterator](),bo;!(gt=(bo=Hr.next()).done);gt=!0){var Oo=bo.value;if(Oo<O&&++X>u&&P("overflow"),Oo==O){for(var vn=X,gn=y;;gn+=y){var En=gn<=J?$:gn>=J+d?d:gn-J;if(vn<En)break;var Ro=vn-En,Po=y-En;S.push(L(A(En+Ro%Po,0))),vn=x(Ro/Po)}S.push(L(A(vn,0))),J=N(X,nt,$e==re),X=0,++$e}}}catch(Gr){Zt=!0,bt=Gr}finally{try{!gt&&Hr.return&&Hr.return()}finally{if(Zt)throw bt}}++X,++O}return S.join("")},p=function(g){return U(g,function(S){return Y.test(S)?C(S.slice(4).toLowerCase()):S})},w=function(g){return U(g,function(S){return fe.test(S)?"xn--"+b(S):S})},T={version:"2.1.0",ucs2:{decode:k,encode:V},decode:C,encode:b,toASCII:w,toUnicode:p},G={};function B(_){var g=_.charCodeAt(0),S=void 0;return g<16?S="%0"+g.toString(16).toUpperCase():g<128?S="%"+g.toString(16).toUpperCase():g<2048?S="%"+(g>>6|192).toString(16).toUpperCase()+"%"+(g&63|128).toString(16).toUpperCase():S="%"+(g>>12|224).toString(16).toUpperCase()+"%"+(g>>6&63|128).toString(16).toUpperCase()+"%"+(g&63|128).toString(16).toUpperCase(),S}function ae(_){for(var g="",S=0,R=_.length;S<R;){var O=parseInt(_.substr(S+1,2),16);if(O<128)g+=String.fromCharCode(O),S+=3;else if(O>=194&&O<224){if(R-S>=6){var X=parseInt(_.substr(S+4,2),16);g+=String.fromCharCode((O&31)<<6|X&63)}else g+=_.substr(S,6);S+=6}else if(O>=224){if(R-S>=9){var J=parseInt(_.substr(S+4,2),16),le=parseInt(_.substr(S+7,2),16);g+=String.fromCharCode((O&15)<<12|(J&63)<<6|le&63)}else g+=_.substr(S,9);S+=9}else g+=_.substr(S,3),S+=3}return g}function ue(_,g){function S(R){var O=ae(R);return O.match(g.UNRESERVED)?O:R}return _.scheme&&(_.scheme=String(_.scheme).replace(g.PCT_ENCODED,S).toLowerCase().replace(g.NOT_SCHEME,"")),_.userinfo!==void 0&&(_.userinfo=String(_.userinfo).replace(g.PCT_ENCODED,S).replace(g.NOT_USERINFO,B).replace(g.PCT_ENCODED,o)),_.host!==void 0&&(_.host=String(_.host).replace(g.PCT_ENCODED,S).toLowerCase().replace(g.NOT_HOST,B).replace(g.PCT_ENCODED,o)),_.path!==void 0&&(_.path=String(_.path).replace(g.PCT_ENCODED,S).replace(_.scheme?g.NOT_PATH:g.NOT_PATH_NOSCHEME,B).replace(g.PCT_ENCODED,o)),_.query!==void 0&&(_.query=String(_.query).replace(g.PCT_ENCODED,S).replace(g.NOT_QUERY,B).replace(g.PCT_ENCODED,o)),_.fragment!==void 0&&(_.fragment=String(_.fragment).replace(g.PCT_ENCODED,S).replace(g.NOT_FRAGMENT,B).replace(g.PCT_ENCODED,o)),_}function we(_){return _.replace(/^0*(.*)/,"$1")||"0"}function mt(_,g){var S=_.match(g.IPV4ADDRESS)||[],R=v(S,2),O=R[1];return O?O.split(".").map(we).join("."):_}function ar(_,g){var S=_.match(g.IPV6ADDRESS)||[],R=v(S,3),O=R[1],X=R[2];if(O){for(var J=O.toLowerCase().split("::").reverse(),le=v(J,2),pe=le[0],Se=le[1],ce=Se?Se.split(":").map(we):[],me=pe.split(":").map(we),Ne=g.IPV4ADDRESS.test(me[me.length-1]),re=Ne?7:8,$e=me.length-re,be=Array(re),ve=0;ve<re;++ve)be[ve]=ce[ve]||me[$e+ve]||"";Ne&&(be[re-1]=mt(be[re-1],g));var Dt=be.reduce(function(nt,gt,Zt){if(!gt||gt==="0"){var bt=nt[nt.length-1];bt&&bt.index+bt.length===Zt?bt.length++:nt.push({index:Zt,length:1})}return nt},[]),$t=Dt.sort(function(nt,gt){return gt.length-nt.length})[0],vt=void 0;if($t&&$t.length>1){var hr=be.slice(0,$t.index),Kt=be.slice($t.index+$t.length);vt=hr.join(":")+"::"+Kt.join(":")}else vt=be.join(":");return X&&(vt+="%"+X),vt}else return _}var kr=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Mr="".match(/(){0}/)[1]===void 0;function Ye(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S={},R=g.iri!==!1?l:a;g.reference==="suffix"&&(_=(g.scheme?g.scheme+":":"")+"//"+_);var O=_.match(kr);if(O){Mr?(S.scheme=O[1],S.userinfo=O[3],S.host=O[4],S.port=parseInt(O[5],10),S.path=O[6]||"",S.query=O[7],S.fragment=O[8],isNaN(S.port)&&(S.port=O[5])):(S.scheme=O[1]||void 0,S.userinfo=_.indexOf("@")!==-1?O[3]:void 0,S.host=_.indexOf("//")!==-1?O[4]:void 0,S.port=parseInt(O[5],10),S.path=O[6]||"",S.query=_.indexOf("?")!==-1?O[7]:void 0,S.fragment=_.indexOf("#")!==-1?O[8]:void 0,isNaN(S.port)&&(S.port=_.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?O[4]:void 0)),S.host&&(S.host=ar(mt(S.host,R),R)),S.scheme===void 0&&S.userinfo===void 0&&S.host===void 0&&S.port===void 0&&!S.path&&S.query===void 0?S.reference="same-document":S.scheme===void 0?S.reference="relative":S.fragment===void 0?S.reference="absolute":S.reference="uri",g.reference&&g.reference!=="suffix"&&g.reference!==S.reference&&(S.error=S.error||"URI is not a "+g.reference+" reference.");var X=G[(g.scheme||S.scheme||"").toLowerCase()];if(!g.unicodeSupport&&(!X||!X.unicodeSupport)){if(S.host&&(g.domainHost||X&&X.domainHost))try{S.host=T.toASCII(S.host.replace(R.PCT_ENCODED,ae).toLowerCase())}catch(J){S.error=S.error||"Host's domain name can not be converted to ASCII via punycode: "+J}ue(S,a)}else ue(S,R);X&&X.parse&&X.parse(S,g)}else S.error=S.error||"URI can not be parsed.";return S}function Ur(_,g){var S=g.iri!==!1?l:a,R=[];return _.userinfo!==void 0&&(R.push(_.userinfo),R.push("@")),_.host!==void 0&&R.push(ar(mt(String(_.host),S),S).replace(S.IPV6ADDRESS,function(O,X,J){return"["+X+(J?"%25"+J:"")+"]"})),(typeof _.port=="number"||typeof _.port=="string")&&(R.push(":"),R.push(String(_.port))),R.length?R.join(""):void 0}var cr=/^\.\.?\//,ur=/^\/\.(\/|$)/,fr=/^\/\.\.(\/|$)/,Vr=/^\/?(?:.|\n)*?(?=\/|$)/;function pt(_){for(var g=[];_.length;)if(_.match(cr))_=_.replace(cr,"");else if(_.match(ur))_=_.replace(ur,"/");else if(_.match(fr))_=_.replace(fr,"/"),g.pop();else if(_==="."||_==="..")_="";else{var S=_.match(Vr);if(S){var R=S[0];_=_.slice(R.length),g.push(R)}else throw new Error("Unexpected dot segment condition")}return g.join("")}function Xe(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=g.iri?l:a,R=[],O=G[(g.scheme||_.scheme||"").toLowerCase()];if(O&&O.serialize&&O.serialize(_,g),_.host&&!S.IPV6ADDRESS.test(_.host)){if(g.domainHost||O&&O.domainHost)try{_.host=g.iri?T.toUnicode(_.host):T.toASCII(_.host.replace(S.PCT_ENCODED,ae).toLowerCase())}catch(le){_.error=_.error||"Host's domain name can not be converted to "+(g.iri?"Unicode":"ASCII")+" via punycode: "+le}}ue(_,S),g.reference!=="suffix"&&_.scheme&&(R.push(_.scheme),R.push(":"));var X=Ur(_,g);if(X!==void 0&&(g.reference!=="suffix"&&R.push("//"),R.push(X),_.path&&_.path.charAt(0)!=="/"&&R.push("/")),_.path!==void 0){var J=_.path;!g.absolutePath&&(!O||!O.absolutePath)&&(J=pt(J)),X===void 0&&(J=J.replace(/^\/\//,"/%2F")),R.push(J)}return _.query!==void 0&&(R.push("?"),R.push(_.query)),_.fragment!==void 0&&(R.push("#"),R.push(_.fragment)),R.join("")}function lr(_,g){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=arguments[3],O={};return R||(_=Ye(Xe(_,S),S),g=Ye(Xe(g,S),S)),S=S||{},!S.tolerant&&g.scheme?(O.scheme=g.scheme,O.userinfo=g.userinfo,O.host=g.host,O.port=g.port,O.path=pt(g.path||""),O.query=g.query):(g.userinfo!==void 0||g.host!==void 0||g.port!==void 0?(O.userinfo=g.userinfo,O.host=g.host,O.port=g.port,O.path=pt(g.path||""),O.query=g.query):(g.path?(g.path.charAt(0)==="/"?O.path=pt(g.path):((_.userinfo!==void 0||_.host!==void 0||_.port!==void 0)&&!_.path?O.path="/"+g.path:_.path?O.path=_.path.slice(0,_.path.lastIndexOf("/")+1)+g.path:O.path=g.path,O.path=pt(O.path)),O.query=g.query):(O.path=_.path,g.query!==void 0?O.query=g.query:O.query=_.query),O.userinfo=_.userinfo,O.host=_.host,O.port=_.port),O.scheme=_.scheme),O.fragment=g.fragment,O}function zr(_,g,S){var R=c({scheme:"null"},S);return Xe(lr(Ye(_,R),Ye(g,R),R,!0),R)}function Gt(_,g){return typeof _=="string"?_=Xe(Ye(_,g),g):i(_)==="object"&&(_=Ye(Xe(_,g),g)),_}function xr(_,g,S){return typeof _=="string"?_=Xe(Ye(_,S),S):i(_)==="object"&&(_=Xe(_,S)),typeof g=="string"?g=Xe(Ye(g,S),S):i(g)==="object"&&(g=Xe(g,S)),_===g}function $n(_,g){return _&&_.toString().replace(!g||!g.iri?a.ESCAPE:l.ESCAPE,B)}function rt(_,g){return _&&_.toString().replace(!g||!g.iri?a.PCT_ENCODED:l.PCT_ENCODED,ae)}var Bt={scheme:"http",domainHost:!0,parse:function(g,S){return g.host||(g.error=g.error||"HTTP URIs must have a host."),g},serialize:function(g,S){var R=String(g.scheme).toLowerCase()==="https";return(g.port===(R?443:80)||g.port==="")&&(g.port=void 0),g.path||(g.path="/"),g}},vo={scheme:"https",domainHost:Bt.domainHost,parse:Bt.parse,serialize:Bt.serialize};function go(_){return typeof _.secure=="boolean"?_.secure:String(_.scheme).toLowerCase()==="wss"}var qr={scheme:"ws",domainHost:!0,parse:function(g,S){var R=g;return R.secure=go(R),R.resourceName=(R.path||"/")+(R.query?"?"+R.query:""),R.path=void 0,R.query=void 0,R},serialize:function(g,S){if((g.port===(go(g)?443:80)||g.port==="")&&(g.port=void 0),typeof g.secure=="boolean"&&(g.scheme=g.secure?"wss":"ws",g.secure=void 0),g.resourceName){var R=g.resourceName.split("?"),O=v(R,2),X=O[0],J=O[1];g.path=X&&X!=="/"?X:void 0,g.query=J,g.resourceName=void 0}return g.fragment=void 0,g}},Eo={scheme:"wss",domainHost:qr.domainHost,parse:qr.parse,serialize:qr.serialize},Gu={},_o="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",yt="[0-9A-Fa-f]",Bu=s(s("%[EFef]"+yt+"%"+yt+yt+"%"+yt+yt)+"|"+s("%[89A-Fa-f]"+yt+"%"+yt+yt)+"|"+s("%"+yt+yt)),Ku="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Zu="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Wu=n(Zu,'[\\"\\\\]'),Xu="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Ju=new RegExp(_o,"g"),dr=new RegExp(Bu,"g"),Yu=new RegExp(n("[^]",Ku,"[\\.]",'[\\"]',Wu),"g"),wo=new RegExp(n("[^]",_o,Xu),"g"),Qu=wo;function vs(_){var g=ae(_);return g.match(Ju)?g:_}var So={scheme:"mailto",parse:function(g,S){var R=g,O=R.to=R.path?R.path.split(","):[];if(R.path=void 0,R.query){for(var X=!1,J={},le=R.query.split("&"),pe=0,Se=le.length;pe<Se;++pe){var ce=le[pe].split("=");switch(ce[0]){case"to":for(var me=ce[1].split(","),Ne=0,re=me.length;Ne<re;++Ne)O.push(me[Ne]);break;case"subject":R.subject=rt(ce[1],S);break;case"body":R.body=rt(ce[1],S);break;default:X=!0,J[rt(ce[0],S)]=rt(ce[1],S);break}}X&&(R.headers=J)}R.query=void 0;for(var $e=0,be=O.length;$e<be;++$e){var ve=O[$e].split("@");if(ve[0]=rt(ve[0]),S.unicodeSupport)ve[1]=rt(ve[1],S).toLowerCase();else try{ve[1]=T.toASCII(rt(ve[1],S).toLowerCase())}catch(Dt){R.error=R.error||"Email address's domain name can not be converted to ASCII via punycode: "+Dt}O[$e]=ve.join("@")}return R},serialize:function(g,S){var R=g,O=f(g.to);if(O){for(var X=0,J=O.length;X<J;++X){var le=String(O[X]),pe=le.lastIndexOf("@"),Se=le.slice(0,pe).replace(dr,vs).replace(dr,o).replace(Yu,B),ce=le.slice(pe+1);try{ce=S.iri?T.toUnicode(ce):T.toASCII(rt(ce,S).toLowerCase())}catch($e){R.error=R.error||"Email address's domain name can not be converted to "+(S.iri?"Unicode":"ASCII")+" via punycode: "+$e}O[X]=Se+"@"+ce}R.path=O.join(",")}var me=g.headers=g.headers||{};g.subject&&(me.subject=g.subject),g.body&&(me.body=g.body);var Ne=[];for(var re in me)me[re]!==Gu[re]&&Ne.push(re.replace(dr,vs).replace(dr,o).replace(wo,B)+"="+me[re].replace(dr,vs).replace(dr,o).replace(Qu,B));return Ne.length&&(R.query=Ne.join("&")),R}},ef=/^([^\:]+)\:(.*)/,No={scheme:"urn",parse:function(g,S){var R=g.path&&g.path.match(ef),O=g;if(R){var X=S.scheme||O.scheme||"urn",J=R[1].toLowerCase(),le=R[2],pe=X+":"+(S.nid||J),Se=G[pe];O.nid=J,O.nss=le,O.path=void 0,Se&&(O=Se.parse(O,S))}else O.error=O.error||"URN can not be parsed.";return O},serialize:function(g,S){var R=S.scheme||g.scheme||"urn",O=g.nid,X=R+":"+(S.nid||O),J=G[X];J&&(g=J.serialize(g,S));var le=g,pe=g.nss;return le.path=(O||S.nid)+":"+pe,le}},tf=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Io={scheme:"urn:uuid",parse:function(g,S){var R=g;return R.uuid=R.nss,R.nss=void 0,!S.tolerant&&(!R.uuid||!R.uuid.match(tf))&&(R.error=R.error||"UUID is not valid."),R},serialize:function(g,S){var R=g;return R.nss=(g.uuid||"").toLowerCase(),R}};G[Bt.scheme]=Bt,G[vo.scheme]=vo,G[qr.scheme]=qr,G[Eo.scheme]=Eo,G[So.scheme]=So,G[No.scheme]=No,G[Io.scheme]=Io,r.SCHEMES=G,r.pctEncChar=B,r.pctDecChars=ae,r.parse=Ye,r.removeDotSegments=pt,r.serialize=Xe,r.resolveComponents=lr,r.resolve=zr,r.normalize=Gt,r.equal=xr,r.escapeComponent=$n,r.unescapeComponent=rt,Object.defineProperty(r,"__esModule",{value:!0})})})(Bs,Bs.exports);var Ym=Bs.exports;Object.defineProperty(wi,"__esModule",{value:!0});const Eu=Ym;Eu.code='require("ajv/dist/runtime/uri").default';wi.default=Eu;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=at;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=te;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Tr,s=or,i=nr,o=He,f=te,c=je,h=Pe,a=q,l=Jm,v=wi,m=(A,N)=>new RegExp(A,N);m.code="new RegExp";const u=["removeAdditional","useDefaults","coerceTypes"],y=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),$={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},d={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function I(A){var N,C,b,p,w,T,G,B,ae,ue,we,mt,ar,kr,Mr,Ye,Ur,cr,ur,fr,Vr,pt,Xe,lr,zr;const Gt=A.strict,xr=(N=A.code)===null||N===void 0?void 0:N.optimize,$n=xr===!0||xr===void 0?1:xr||0,rt=(b=(C=A.code)===null||C===void 0?void 0:C.regExp)!==null&&b!==void 0?b:m,Bt=(p=A.uriResolver)!==null&&p!==void 0?p:v.default;return{strictSchema:(T=(w=A.strictSchema)!==null&&w!==void 0?w:Gt)!==null&&T!==void 0?T:!0,strictNumbers:(B=(G=A.strictNumbers)!==null&&G!==void 0?G:Gt)!==null&&B!==void 0?B:!0,strictTypes:(ue=(ae=A.strictTypes)!==null&&ae!==void 0?ae:Gt)!==null&&ue!==void 0?ue:"log",strictTuples:(mt=(we=A.strictTuples)!==null&&we!==void 0?we:Gt)!==null&&mt!==void 0?mt:"log",strictRequired:(kr=(ar=A.strictRequired)!==null&&ar!==void 0?ar:Gt)!==null&&kr!==void 0?kr:!1,code:A.code?{...A.code,optimize:$n,regExp:rt}:{optimize:$n,regExp:rt},loopRequired:(Mr=A.loopRequired)!==null&&Mr!==void 0?Mr:E,loopEnum:(Ye=A.loopEnum)!==null&&Ye!==void 0?Ye:E,meta:(Ur=A.meta)!==null&&Ur!==void 0?Ur:!0,messages:(cr=A.messages)!==null&&cr!==void 0?cr:!0,inlineRefs:(ur=A.inlineRefs)!==null&&ur!==void 0?ur:!0,schemaId:(fr=A.schemaId)!==null&&fr!==void 0?fr:"$id",addUsedSchema:(Vr=A.addUsedSchema)!==null&&Vr!==void 0?Vr:!0,validateSchema:(pt=A.validateSchema)!==null&&pt!==void 0?pt:!0,validateFormats:(Xe=A.validateFormats)!==null&&Xe!==void 0?Xe:!0,unicodeRegExp:(lr=A.unicodeRegExp)!==null&&lr!==void 0?lr:!0,int32range:(zr=A.int32range)!==null&&zr!==void 0?zr:!0,uriResolver:Bt}}class D{constructor(N={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,N=this.opts={...N,...I(N)};const{es5:C,lines:b}=this.opts.code;this.scope=new f.ValueScope({scope:{},prefixes:y,es5:C,lines:b}),this.logger=x(N.logger);const p=N.validateFormats;N.validateFormats=!1,this.RULES=(0,i.getRules)(),M.call(this,$,N,"NOT SUPPORTED"),M.call(this,d,N,"DEPRECATED","warn"),this._metaOpts=Q.call(this),N.formats&&fe.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),N.keywords&&H.call(this,N.keywords),typeof N.meta=="object"&&this.addMetaSchema(N.meta),Y.call(this),N.validateFormats=p}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:N,meta:C,schemaId:b}=this.opts;let p=l;b==="id"&&(p={...l},p.id=p.$id,delete p.$id),C&&N&&this.addMetaSchema(p,p[b],!1)}defaultMeta(){const{meta:N,schemaId:C}=this.opts;return this.opts.defaultMeta=typeof N=="object"?N[C]||N:void 0}validate(N,C){let b;if(typeof N=="string"){if(b=this.getSchema(N),!b)throw new Error(`no schema with key or ref "${N}"`)}else b=this.compile(N);const p=b(C);return"$async"in b||(this.errors=b.errors),p}compile(N,C){const b=this._addSchema(N,C);return b.validate||this._compileSchemaEnv(b)}compileAsync(N,C){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:b}=this.opts;return p.call(this,N,C);async function p(ue,we){await w.call(this,ue.$schema);const mt=this._addSchema(ue,we);return mt.validate||T.call(this,mt)}async function w(ue){ue&&!this.getSchema(ue)&&await p.call(this,{$ref:ue},!0)}async function T(ue){try{return this._compileSchemaEnv(ue)}catch(we){if(!(we instanceof s.default))throw we;return G.call(this,we),await B.call(this,we.missingSchema),T.call(this,ue)}}function G({missingSchema:ue,missingRef:we}){if(this.refs[ue])throw new Error(`AnySchema ${ue} is loaded but ${we} cannot be resolved`)}async function B(ue){const we=await ae.call(this,ue);this.refs[ue]||await w.call(this,we.$schema),this.refs[ue]||this.addSchema(we,ue,C)}async function ae(ue){const we=this._loading[ue];if(we)return we;try{return await(this._loading[ue]=b(ue))}finally{delete this._loading[ue]}}}addSchema(N,C,b,p=this.opts.validateSchema){if(Array.isArray(N)){for(const T of N)this.addSchema(T,void 0,b,p);return this}let w;if(typeof N=="object"){const{schemaId:T}=this.opts;if(w=N[T],w!==void 0&&typeof w!="string")throw new Error(`schema ${T} must be string`)}return C=(0,c.normalizeId)(C||w),this._checkUnique(C),this.schemas[C]=this._addSchema(N,b,C,p,!0),this}addMetaSchema(N,C,b=this.opts.validateSchema){return this.addSchema(N,C,!0,b),this}validateSchema(N,C){if(typeof N=="boolean")return!0;let b;if(b=N.$schema,b!==void 0&&typeof b!="string")throw new Error("$schema must be a string");if(b=b||this.opts.defaultMeta||this.defaultMeta(),!b)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const p=this.validate(b,N);if(!p&&C){const w="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(w);else throw new Error(w)}return p}getSchema(N){let C;for(;typeof(C=W.call(this,N))=="string";)N=C;if(C===void 0){const{schemaId:b}=this.opts,p=new o.SchemaEnv({schema:{},schemaId:b});if(C=o.resolveSchema.call(this,p,N),!C)return;this.refs[N]=C}return C.validate||this._compileSchemaEnv(C)}removeSchema(N){if(N instanceof RegExp)return this._removeAllSchemas(this.schemas,N),this._removeAllSchemas(this.refs,N),this;switch(typeof N){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const C=W.call(this,N);return typeof C=="object"&&this._cache.delete(C.schema),delete this.schemas[N],delete this.refs[N],this}case"object":{const C=N;this._cache.delete(C);let b=N[this.opts.schemaId];return b&&(b=(0,c.normalizeId)(b),delete this.schemas[b],delete this.refs[b]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(N){for(const C of N)this.addKeyword(C);return this}addKeyword(N,C){let b;if(typeof N=="string")b=N,typeof C=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),C.keyword=b);else if(typeof N=="object"&&C===void 0){if(C=N,b=C.keyword,Array.isArray(b)&&!b.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(P.call(this,b,C),!C)return(0,a.eachItem)(b,w=>F.call(this,w)),this;k.call(this,C);const p={...C,type:(0,h.getJSONTypes)(C.type),schemaType:(0,h.getJSONTypes)(C.schemaType)};return(0,a.eachItem)(b,p.type.length===0?w=>F.call(this,w,p):w=>p.type.forEach(T=>F.call(this,w,p,T))),this}getKeyword(N){const C=this.RULES.all[N];return typeof C=="object"?C.definition:!!C}removeKeyword(N){const{RULES:C}=this;delete C.keywords[N],delete C.all[N];for(const b of C.rules){const p=b.rules.findIndex(w=>w.keyword===N);p>=0&&b.rules.splice(p,1)}return this}addFormat(N,C){return typeof C=="string"&&(C=new RegExp(C)),this.formats[N]=C,this}errorsText(N=this.errors,{separator:C=", ",dataVar:b="data"}={}){return!N||N.length===0?"No errors":N.map(p=>`${b}${p.instancePath} ${p.message}`).reduce((p,w)=>p+C+w)}$dataMetaSchema(N,C){const b=this.RULES.all;N=JSON.parse(JSON.stringify(N));for(const p of C){const w=p.split("/").slice(1);let T=N;for(const G of w)T=T[G];for(const G in b){const B=b[G];if(typeof B!="object")continue;const{$data:ae}=B.definition,ue=T[G];ae&&ue&&(T[G]=z(ue))}}return N}_removeAllSchemas(N,C){for(const b in N){const p=N[b];(!C||C.test(b))&&(typeof p=="string"?delete N[b]:p&&!p.meta&&(this._cache.delete(p.schema),delete N[b]))}}_addSchema(N,C,b,p=this.opts.validateSchema,w=this.opts.addUsedSchema){let T;const{schemaId:G}=this.opts;if(typeof N=="object")T=N[G];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof N!="boolean")throw new Error("schema must be object or boolean")}let B=this._cache.get(N);if(B!==void 0)return B;b=(0,c.normalizeId)(T||b);const ae=c.getSchemaRefs.call(this,N,b);return B=new o.SchemaEnv({schema:N,schemaId:G,meta:C,baseId:b,localRefs:ae}),this._cache.set(B.schema,B),w&&!b.startsWith("#")&&(b&&this._checkUnique(b),this.refs[b]=B),p&&this.validateSchema(N,!0),B}_checkUnique(N){if(this.schemas[N]||this.refs[N])throw new Error(`schema with key or id "${N}" already exists`)}_compileSchemaEnv(N){if(N.meta?this._compileMetaSchema(N):o.compileSchema.call(this,N),!N.validate)throw new Error("ajv implementation error");return N.validate}_compileMetaSchema(N){const C=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,N)}finally{this.opts=C}}}D.ValidationError=n.default,D.MissingRefError=s.default,e.default=D;function M(A,N,C,b="error"){for(const p in A){const w=p;w in N&&this.logger[b](`${C}: option ${p}. ${A[w]}`)}}function W(A){return A=(0,c.normalizeId)(A),this.schemas[A]||this.refs[A]}function Y(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const N in A)this.addSchema(A[N],N)}function fe(){for(const A in this.opts.formats){const N=this.opts.formats[A];N&&this.addFormat(A,N)}}function H(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const N in A){const C=A[N];C.keyword||(C.keyword=N),this.addKeyword(C)}}function Q(){const A={...this.opts};for(const N of u)delete A[N];return A}const j={log(){},warn(){},error(){}};function x(A){if(A===!1)return j;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const L=/^[a-z_$][a-z0-9_$:-]*$/i;function P(A,N){const{RULES:C}=this;if((0,a.eachItem)(A,b=>{if(C.keywords[b])throw new Error(`Keyword ${b} is already defined`);if(!L.test(b))throw new Error(`Keyword ${b} has invalid name`)}),!!N&&N.$data&&!("code"in N||"validate"in N))throw new Error('$data keyword must have "code" or "validate" function')}function F(A,N,C){var b;const p=N?.post;if(C&&p)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:w}=this;let T=p?w.post:w.rules.find(({type:B})=>B===C);if(T||(T={type:C,rules:[]},w.rules.push(T)),w.keywords[A]=!0,!N)return;const G={keyword:A,definition:{...N,type:(0,h.getJSONTypes)(N.type),schemaType:(0,h.getJSONTypes)(N.schemaType)}};N.before?U.call(this,T,G,N.before):T.rules.push(G),w.all[A]=G,(b=N.implements)===null||b===void 0||b.forEach(B=>this.addKeyword(B))}function U(A,N,C){const b=A.rules.findIndex(p=>p.keyword===C);b>=0?A.rules.splice(b,0,N):(A.rules.push(N),this.logger.warn(`rule ${C} is not defined`))}function k(A){let{metaSchema:N}=A;N!==void 0&&(A.$data&&this.opts.$data&&(N=z(N)),A.validateSchema=this.compile(N,!0))}const V={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function z(A){return{anyOf:[A,V]}}})(li);var Si={},rs={},Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});const Qm={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Ni.default=Qm;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.callRef=Tt.getValidate=void 0;const ep=or,ia=oe,Je=te,yr=tt,oa=He,Nn=q,tp={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:i,validateName:o,opts:f,self:c}=n,{root:h}=i;if((r==="#"||r==="#/")&&s===h.baseId)return l();const a=oa.resolveRef.call(c,h,s,r);if(a===void 0)throw new ep.default(n.opts.uriResolver,s,r);if(a instanceof oa.SchemaEnv)return v(a);return m(a);function l(){if(i===h)return jn(e,o,i,i.$async);const u=t.scopeValue("root",{ref:h});return jn(e,(0,Je._)`${u}.validate`,h,h.$async)}function v(u){const y=_u(e,u);jn(e,y,u,u.$async)}function m(u){const y=t.scopeValue("schema",f.code.source===!0?{ref:u,code:(0,Je.stringify)(u)}:{ref:u}),$=t.name("valid"),d=e.subschema({schema:u,dataTypes:[],schemaPath:Je.nil,topSchemaRef:y,errSchemaPath:r},$);e.mergeEvaluated(d),e.ok($)}}};function _u(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Je._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Tt.getValidate=_u;function jn(e,t,r,n){const{gen:s,it:i}=e,{allErrors:o,schemaEnv:f,opts:c}=i,h=c.passContext?yr.default.this:Je.nil;n?a():l();function a(){if(!f.$async)throw new Error("async schema referenced by sync schema");const u=s.let("valid");s.try(()=>{s.code((0,Je._)`await ${(0,ia.callValidateCode)(e,t,h)}`),m(t),o||s.assign(u,!0)},y=>{s.if((0,Je._)`!(${y} instanceof ${i.ValidationError})`,()=>s.throw(y)),v(y),o||s.assign(u,!1)}),e.ok(u)}function l(){e.result((0,ia.callValidateCode)(e,t,h),()=>m(t),()=>v(t))}function v(u){const y=(0,Je._)`${u}.errors`;s.assign(yr.default.vErrors,(0,Je._)`${yr.default.vErrors} === null ? ${y} : ${yr.default.vErrors}.concat(${y})`),s.assign(yr.default.errors,(0,Je._)`${yr.default.vErrors}.length`)}function m(u){var y;if(!i.opts.unevaluated)return;const $=(y=r?.validate)===null||y===void 0?void 0:y.evaluated;if(i.props!==!0)if($&&!$.dynamicProps)$.props!==void 0&&(i.props=Nn.mergeEvaluated.props(s,$.props,i.props));else{const d=s.var("props",(0,Je._)`${u}.evaluated.props`);i.props=Nn.mergeEvaluated.props(s,d,i.props,Je.Name)}if(i.items!==!0)if($&&!$.dynamicItems)$.items!==void 0&&(i.items=Nn.mergeEvaluated.items(s,$.items,i.items));else{const d=s.var("items",(0,Je._)`${u}.evaluated.items`);i.items=Nn.mergeEvaluated.items(s,d,i.items,Je.Name)}}}Tt.callRef=jn;Tt.default=tp;Object.defineProperty(rs,"__esModule",{value:!0});const rp=Ni,np=Tt,sp=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",rp.default,np.default];rs.default=sp;var ns={},Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});const qn=te,Mt=qn.operators,Hn={maximum:{okStr:"<=",ok:Mt.LTE,fail:Mt.GT},minimum:{okStr:">=",ok:Mt.GTE,fail:Mt.LT},exclusiveMaximum:{okStr:"<",ok:Mt.LT,fail:Mt.GTE},exclusiveMinimum:{okStr:">",ok:Mt.GT,fail:Mt.LTE}},ip={message:({keyword:e,schemaCode:t})=>(0,qn.str)`must be ${Hn[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,qn._)`{comparison: ${Hn[e].okStr}, limit: ${t}}`},op={keyword:Object.keys(Hn),type:"number",schemaType:"number",$data:!0,error:ip,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,qn._)`${r} ${Hn[t].fail} ${n} || isNaN(${r})`)}};Ii.default=op;var bi={};Object.defineProperty(bi,"__esModule",{value:!0});const en=te,ap={message:({schemaCode:e})=>(0,en.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,en._)`{multipleOf: ${e}}`},cp={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:ap,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,i=s.opts.multipleOfPrecision,o=t.let("res"),f=i?(0,en._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${i}`:(0,en._)`${o} !== parseInt(${o})`;e.fail$data((0,en._)`(${n} === 0 || (${o} = ${r}/${n}, ${f}))`)}};bi.default=cp;var Oi={},Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});function wu(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}Ri.default=wu;wu.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Oi,"__esModule",{value:!0});const Yt=te,up=q,fp=Ri,lp={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Yt.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Yt._)`{limit: ${e}}`},dp={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:lp,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,i=t==="maxLength"?Yt.operators.GT:Yt.operators.LT,o=s.opts.unicode===!1?(0,Yt._)`${r}.length`:(0,Yt._)`${(0,up.useFunc)(e.gen,fp.default)}(${r})`;e.fail$data((0,Yt._)`${o} ${i} ${n}`)}};Oi.default=dp;var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});const hp=oe,Gn=te,mp={message:({schemaCode:e})=>(0,Gn.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Gn._)`{pattern: ${e}}`},pp={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:mp,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:i}=e,o=i.opts.unicodeRegExp?"u":"",f=r?(0,Gn._)`(new RegExp(${s}, ${o}))`:(0,hp.usePattern)(e,n);e.fail$data((0,Gn._)`!${f}.test(${t})`)}};Pi.default=pp;var Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});const tn=te,yp={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,tn.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,tn._)`{limit: ${e}}`},$p={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:yp,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?tn.operators.GT:tn.operators.LT;e.fail$data((0,tn._)`Object.keys(${r}).length ${s} ${n}`)}};Ci.default=$p;var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});const Zr=oe,rn=te,vp=q,gp={message:({params:{missingProperty:e}})=>(0,rn.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,rn._)`{missingProperty: ${e}}`},Ep={keyword:"required",type:"object",schemaType:"array",$data:!0,error:gp,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:i,it:o}=e,{opts:f}=o;if(!i&&r.length===0)return;const c=r.length>=f.loopRequired;if(o.allErrors?h():a(),f.strictRequired){const m=e.parentSchema.properties,{definedProperties:u}=e.it;for(const y of r)if(m?.[y]===void 0&&!u.has(y)){const $=o.schemaEnv.baseId+o.errSchemaPath,d=`required property "${y}" is not defined at "${$}" (strictRequired)`;(0,vp.checkStrictMode)(o,d,o.opts.strictRequired)}}function h(){if(c||i)e.block$data(rn.nil,l);else for(const m of r)(0,Zr.checkReportMissingProp)(e,m)}function a(){const m=t.let("missing");if(c||i){const u=t.let("valid",!0);e.block$data(u,()=>v(m,u)),e.ok(u)}else t.if((0,Zr.checkMissingProp)(e,r,m)),(0,Zr.reportMissingProp)(e,m),t.else()}function l(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,Zr.noPropertyInData)(t,s,m,f.ownProperties),()=>e.error())})}function v(m,u){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(u,(0,Zr.propertyInData)(t,s,m,f.ownProperties)),t.if((0,rn.not)(u),()=>{e.error(),t.break()})},rn.nil)}}};Ti.default=Ep;var Di={};Object.defineProperty(Di,"__esModule",{value:!0});const nn=te,_p={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,nn.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,nn._)`{limit: ${e}}`},wp={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:_p,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?nn.operators.GT:nn.operators.LT;e.fail$data((0,nn._)`${r}.length ${s} ${n}`)}};Di.default=wp;var Ai={},hn={};Object.defineProperty(hn,"__esModule",{value:!0});const Su=nu;Su.code='require("ajv/dist/runtime/equal").default';hn.default=Su;Object.defineProperty(Ai,"__esModule",{value:!0});const Os=Pe,Le=te,Sp=q,Np=hn,Ip={message:({params:{i:e,j:t}})=>(0,Le.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Le._)`{i: ${e}, j: ${t}}`},bp={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Ip,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:i,schemaCode:o,it:f}=e;if(!n&&!s)return;const c=t.let("valid"),h=i.items?(0,Os.getSchemaTypes)(i.items):[];e.block$data(c,a,(0,Le._)`${o} === false`),e.ok(c);function a(){const u=t.let("i",(0,Le._)`${r}.length`),y=t.let("j");e.setParams({i:u,j:y}),t.assign(c,!0),t.if((0,Le._)`${u} > 1`,()=>(l()?v:m)(u,y))}function l(){return h.length>0&&!h.some(u=>u==="object"||u==="array")}function v(u,y){const $=t.name("item"),d=(0,Os.checkDataTypes)(h,$,f.opts.strictNumbers,Os.DataType.Wrong),E=t.const("indices",(0,Le._)`{}`);t.for((0,Le._)`;${u}--;`,()=>{t.let($,(0,Le._)`${r}[${u}]`),t.if(d,(0,Le._)`continue`),h.length>1&&t.if((0,Le._)`typeof ${$} == "string"`,(0,Le._)`${$} += "_"`),t.if((0,Le._)`typeof ${E}[${$}] == "number"`,()=>{t.assign(y,(0,Le._)`${E}[${$}]`),e.error(),t.assign(c,!1).break()}).code((0,Le._)`${E}[${$}] = ${u}`)})}function m(u,y){const $=(0,Sp.useFunc)(t,Np.default),d=t.name("outer");t.label(d).for((0,Le._)`;${u}--;`,()=>t.for((0,Le._)`${y} = ${u}; ${y}--;`,()=>t.if((0,Le._)`${$}(${r}[${u}], ${r}[${y}])`,()=>{e.error(),t.assign(c,!1).break(d)})))}}};Ai.default=bp;var Li={};Object.defineProperty(Li,"__esModule",{value:!0});const Ks=te,Op=q,Rp=hn,Pp={message:"must be equal to constant",params:({schemaCode:e})=>(0,Ks._)`{allowedValue: ${e}}`},Cp={keyword:"const",$data:!0,error:Pp,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:i}=e;n||i&&typeof i=="object"?e.fail$data((0,Ks._)`!${(0,Op.useFunc)(t,Rp.default)}(${r}, ${s})`):e.fail((0,Ks._)`${i} !== ${r}`)}};Li.default=Cp;var ji={};Object.defineProperty(ji,"__esModule",{value:!0});const Xr=te,Tp=q,Dp=hn,Ap={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Xr._)`{allowedValues: ${e}}`},Lp={keyword:"enum",schemaType:"array",$data:!0,error:Ap,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:i,it:o}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const f=s.length>=o.opts.loopEnum;let c;const h=()=>c??(c=(0,Tp.useFunc)(t,Dp.default));let a;if(f||n)a=t.let("valid"),e.block$data(a,l);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const m=t.const("vSchema",i);a=(0,Xr.or)(...s.map((u,y)=>v(m,y)))}e.pass(a);function l(){t.assign(a,!1),t.forOf("v",i,m=>t.if((0,Xr._)`${h()}(${r}, ${m})`,()=>t.assign(a,!0).break()))}function v(m,u){const y=s[u];return typeof y=="object"&&y!==null?(0,Xr._)`${h()}(${r}, ${m}[${u}])`:(0,Xr._)`${r} === ${y}`}}};ji.default=Lp;Object.defineProperty(ns,"__esModule",{value:!0});const jp=Ii,Fp=bi,kp=Oi,Mp=Pi,Up=Ci,Vp=Ti,zp=Di,xp=Ai,qp=Li,Hp=ji,Gp=[jp.default,Fp.default,kp.default,Mp.default,Up.default,Vp.default,zp.default,xp.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},qp.default,Hp.default];ns.default=Gp;var ss={},Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.validateAdditionalItems=void 0;const Qt=te,Zs=q,Bp={message:({params:{len:e}})=>(0,Qt.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Qt._)`{limit: ${e}}`},Kp={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Bp,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Zs.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Nu(e,n)}};function Nu(e,t){const{gen:r,schema:n,data:s,keyword:i,it:o}=e;o.items=!0;const f=r.const("len",(0,Qt._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Qt._)`${f} <= ${t.length}`);else if(typeof n=="object"&&!(0,Zs.alwaysValidSchema)(o,n)){const h=r.var("valid",(0,Qt._)`${f} <= ${t.length}`);r.if((0,Qt.not)(h),()=>c(h)),e.ok(h)}function c(h){r.forRange("i",t.length,f,a=>{e.subschema({keyword:i,dataProp:a,dataPropType:Zs.Type.Num},h),o.allErrors||r.if((0,Qt.not)(h),()=>r.break())})}}Dr.validateAdditionalItems=Nu;Dr.default=Kp;var Fi={},Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.validateTuple=void 0;const aa=te,Fn=q,Zp=oe,Wp={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Iu(e,"additionalItems",t);r.items=!0,!(0,Fn.alwaysValidSchema)(r,t)&&e.ok((0,Zp.validateArray)(e))}};function Iu(e,t,r=e.schema){const{gen:n,parentSchema:s,data:i,keyword:o,it:f}=e;a(s),f.opts.unevaluated&&r.length&&f.items!==!0&&(f.items=Fn.mergeEvaluated.items(n,r.length,f.items));const c=n.name("valid"),h=n.const("len",(0,aa._)`${i}.length`);r.forEach((l,v)=>{(0,Fn.alwaysValidSchema)(f,l)||(n.if((0,aa._)`${h} > ${v}`,()=>e.subschema({keyword:o,schemaProp:v,dataProp:v},c)),e.ok(c))});function a(l){const{opts:v,errSchemaPath:m}=f,u=r.length,y=u===l.minItems&&(u===l.maxItems||l[t]===!1);if(v.strictTuples&&!y){const $=`"${o}" is ${u}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,Fn.checkStrictMode)(f,$,v.strictTuples)}}}Ar.validateTuple=Iu;Ar.default=Wp;Object.defineProperty(Fi,"__esModule",{value:!0});const Xp=Ar,Jp={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Xp.validateTuple)(e,"items")};Fi.default=Jp;var ki={};Object.defineProperty(ki,"__esModule",{value:!0});const ca=te,Yp=q,Qp=oe,ey=Dr,ty={message:({params:{len:e}})=>(0,ca.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ca._)`{limit: ${e}}`},ry={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:ty,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,Yp.alwaysValidSchema)(n,t)&&(s?(0,ey.validateAdditionalItems)(e,s):e.ok((0,Qp.validateArray)(e)))}};ki.default=ry;var Mi={};Object.defineProperty(Mi,"__esModule",{value:!0});const ot=te,In=q,ny={message:({params:{min:e,max:t}})=>t===void 0?(0,ot.str)`must contain at least ${e} valid item(s)`:(0,ot.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ot._)`{minContains: ${e}}`:(0,ot._)`{minContains: ${e}, maxContains: ${t}}`},sy={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:ny,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:i}=e;let o,f;const{minContains:c,maxContains:h}=n;i.opts.next?(o=c===void 0?1:c,f=h):o=1;const a=t.const("len",(0,ot._)`${s}.length`);if(e.setParams({min:o,max:f}),f===void 0&&o===0){(0,In.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(f!==void 0&&o>f){(0,In.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,In.alwaysValidSchema)(i,r)){let y=(0,ot._)`${a} >= ${o}`;f!==void 0&&(y=(0,ot._)`${y} && ${a} <= ${f}`),e.pass(y);return}i.items=!0;const l=t.name("valid");f===void 0&&o===1?m(l,()=>t.if(l,()=>t.break())):o===0?(t.let(l,!0),f!==void 0&&t.if((0,ot._)`${s}.length > 0`,v)):(t.let(l,!1),v()),e.result(l,()=>e.reset());function v(){const y=t.name("_valid"),$=t.let("count",0);m(y,()=>t.if(y,()=>u($)))}function m(y,$){t.forRange("i",0,a,d=>{e.subschema({keyword:"contains",dataProp:d,dataPropType:In.Type.Num,compositeRule:!0},y),$()})}function u(y){t.code((0,ot._)`${y}++`),f===void 0?t.if((0,ot._)`${y} >= ${o}`,()=>t.assign(l,!0).break()):(t.if((0,ot._)`${y} > ${f}`,()=>t.assign(l,!1).break()),o===1?t.assign(l,!0):t.if((0,ot._)`${y} >= ${o}`,()=>t.assign(l,!0)))}}};Mi.default=sy;var is={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=te,r=q,n=oe;e.error={message:({params:{property:c,depsCount:h,deps:a}})=>{const l=h===1?"property":"properties";return(0,t.str)`must have ${l} ${a} when property ${c} is present`},params:({params:{property:c,depsCount:h,deps:a,missingProperty:l}})=>(0,t._)`{property: ${c},
    missingProperty: ${l},
    depsCount: ${h},
    deps: ${a}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[h,a]=i(c);o(c,h),f(c,a)}};function i({schema:c}){const h={},a={};for(const l in c){if(l==="__proto__")continue;const v=Array.isArray(c[l])?h:a;v[l]=c[l]}return[h,a]}function o(c,h=c.schema){const{gen:a,data:l,it:v}=c;if(Object.keys(h).length===0)return;const m=a.let("missing");for(const u in h){const y=h[u];if(y.length===0)continue;const $=(0,n.propertyInData)(a,l,u,v.opts.ownProperties);c.setParams({property:u,depsCount:y.length,deps:y.join(", ")}),v.allErrors?a.if($,()=>{for(const d of y)(0,n.checkReportMissingProp)(c,d)}):(a.if((0,t._)`${$} && (${(0,n.checkMissingProp)(c,y,m)})`),(0,n.reportMissingProp)(c,m),a.else())}}e.validatePropertyDeps=o;function f(c,h=c.schema){const{gen:a,data:l,keyword:v,it:m}=c,u=a.name("valid");for(const y in h)(0,r.alwaysValidSchema)(m,h[y])||(a.if((0,n.propertyInData)(a,l,y,m.opts.ownProperties),()=>{const $=c.subschema({keyword:v,schemaProp:y},u);c.mergeValidEvaluated($,u)},()=>a.var(u,!0)),c.ok(u))}e.validateSchemaDeps=f,e.default=s})(is);var Ui={};Object.defineProperty(Ui,"__esModule",{value:!0});const bu=te,iy=q,oy={message:"property name must be valid",params:({params:e})=>(0,bu._)`{propertyName: ${e.propertyName}}`},ay={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:oy,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,iy.alwaysValidSchema)(s,r))return;const i=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},i),t.if((0,bu.not)(i),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(i)}};Ui.default=ay;var os={};Object.defineProperty(os,"__esModule",{value:!0});const bn=oe,ut=te,cy=tt,On=q,uy={message:"must NOT have additional properties",params:({params:e})=>(0,ut._)`{additionalProperty: ${e.additionalProperty}}`},fy={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:uy,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:i,it:o}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:f,opts:c}=o;if(o.props=!0,c.removeAdditional!=="all"&&(0,On.alwaysValidSchema)(o,r))return;const h=(0,bn.allSchemaProperties)(n.properties),a=(0,bn.allSchemaProperties)(n.patternProperties);l(),e.ok((0,ut._)`${i} === ${cy.default.errors}`);function l(){t.forIn("key",s,$=>{!h.length&&!a.length?u($):t.if(v($),()=>u($))})}function v($){let d;if(h.length>8){const E=(0,On.schemaRefOrVal)(o,n.properties,"properties");d=(0,bn.isOwnProperty)(t,E,$)}else h.length?d=(0,ut.or)(...h.map(E=>(0,ut._)`${$} === ${E}`)):d=ut.nil;return a.length&&(d=(0,ut.or)(d,...a.map(E=>(0,ut._)`${(0,bn.usePattern)(e,E)}.test(${$})`))),(0,ut.not)(d)}function m($){t.code((0,ut._)`delete ${s}[${$}]`)}function u($){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){m($);return}if(r===!1){e.setParams({additionalProperty:$}),e.error(),f||t.break();return}if(typeof r=="object"&&!(0,On.alwaysValidSchema)(o,r)){const d=t.name("valid");c.removeAdditional==="failing"?(y($,d,!1),t.if((0,ut.not)(d),()=>{e.reset(),m($)})):(y($,d),f||t.if((0,ut.not)(d),()=>t.break()))}}function y($,d,E){const I={keyword:"additionalProperties",dataProp:$,dataPropType:On.Type.Str};E===!1&&Object.assign(I,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(I,d)}}};os.default=fy;var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});const ly=at,ua=oe,Rs=q,fa=os,dy={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:i}=e;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&fa.default.code(new ly.KeywordCxt(i,fa.default,"additionalProperties"));const o=(0,ua.allSchemaProperties)(r);for(const l of o)i.definedProperties.add(l);i.opts.unevaluated&&o.length&&i.props!==!0&&(i.props=Rs.mergeEvaluated.props(t,(0,Rs.toHash)(o),i.props));const f=o.filter(l=>!(0,Rs.alwaysValidSchema)(i,r[l]));if(f.length===0)return;const c=t.name("valid");for(const l of f)h(l)?a(l):(t.if((0,ua.propertyInData)(t,s,l,i.opts.ownProperties)),a(l),i.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(l),e.ok(c);function h(l){return i.opts.useDefaults&&!i.compositeRule&&r[l].default!==void 0}function a(l){e.subschema({keyword:"properties",schemaProp:l,dataProp:l},c)}}};Vi.default=dy;var zi={};Object.defineProperty(zi,"__esModule",{value:!0});const la=oe,Rn=te,da=q,ha=q,hy={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:i}=e,{opts:o}=i,f=(0,la.allSchemaProperties)(r),c=f.filter(y=>(0,da.alwaysValidSchema)(i,r[y]));if(f.length===0||c.length===f.length&&(!i.opts.unevaluated||i.props===!0))return;const h=o.strictSchema&&!o.allowMatchingProperties&&s.properties,a=t.name("valid");i.props!==!0&&!(i.props instanceof Rn.Name)&&(i.props=(0,ha.evaluatedPropsToName)(t,i.props));const{props:l}=i;v();function v(){for(const y of f)h&&m(y),i.allErrors?u(y):(t.var(a,!0),u(y),t.if(a))}function m(y){for(const $ in h)new RegExp(y).test($)&&(0,da.checkStrictMode)(i,`property ${$} matches pattern ${y} (use allowMatchingProperties)`)}function u(y){t.forIn("key",n,$=>{t.if((0,Rn._)`${(0,la.usePattern)(e,y)}.test(${$})`,()=>{const d=c.includes(y);d||e.subschema({keyword:"patternProperties",schemaProp:y,dataProp:$,dataPropType:ha.Type.Str},a),i.opts.unevaluated&&l!==!0?t.assign((0,Rn._)`${l}[${$}]`,!0):!d&&!i.allErrors&&t.if((0,Rn.not)(a),()=>t.break())})})}}};zi.default=hy;var xi={};Object.defineProperty(xi,"__esModule",{value:!0});const my=q,py={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,my.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};xi.default=py;var qi={};Object.defineProperty(qi,"__esModule",{value:!0});const yy=oe,$y={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:yy.validateUnion,error:{message:"must match a schema in anyOf"}};qi.default=$y;var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});const kn=te,vy=q,gy={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,kn._)`{passingSchemas: ${e.passing}}`},Ey={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:gy,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const i=r,o=t.let("valid",!1),f=t.let("passing",null),c=t.name("_valid");e.setParams({passing:f}),t.block(h),e.result(o,()=>e.reset(),()=>e.error(!0));function h(){i.forEach((a,l)=>{let v;(0,vy.alwaysValidSchema)(s,a)?t.var(c,!0):v=e.subschema({keyword:"oneOf",schemaProp:l,compositeRule:!0},c),l>0&&t.if((0,kn._)`${c} && ${o}`).assign(o,!1).assign(f,(0,kn._)`[${f}, ${l}]`).else(),t.if(c,()=>{t.assign(o,!0),t.assign(f,l),v&&e.mergeEvaluated(v,kn.Name)})})}}};Hi.default=Ey;var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});const _y=q,wy={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((i,o)=>{if((0,_y.alwaysValidSchema)(n,i))return;const f=e.subschema({keyword:"allOf",schemaProp:o},s);e.ok(s),e.mergeEvaluated(f)})}};Gi.default=wy;var Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});const Bn=te,Ou=q,Sy={message:({params:e})=>(0,Bn.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Bn._)`{failingKeyword: ${e.ifClause}}`},Ny={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Sy,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Ou.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=ma(n,"then"),i=ma(n,"else");if(!s&&!i)return;const o=t.let("valid",!0),f=t.name("_valid");if(c(),e.reset(),s&&i){const a=t.let("ifClause");e.setParams({ifClause:a}),t.if(f,h("then",a),h("else",a))}else s?t.if(f,h("then")):t.if((0,Bn.not)(f),h("else"));e.pass(o,()=>e.error(!0));function c(){const a=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},f);e.mergeEvaluated(a)}function h(a,l){return()=>{const v=e.subschema({keyword:a},f);t.assign(o,f),e.mergeValidEvaluated(v,o),l?t.assign(l,(0,Bn._)`${a}`):e.setParams({ifClause:a})}}}};function ma(e,t){const r=e.schema[t];return r!==void 0&&!(0,Ou.alwaysValidSchema)(e,r)}Bi.default=Ny;var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});const Iy=q,by={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Iy.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Ki.default=by;Object.defineProperty(ss,"__esModule",{value:!0});const Oy=Dr,Ry=Fi,Py=Ar,Cy=ki,Ty=Mi,Dy=is,Ay=Ui,Ly=os,jy=Vi,Fy=zi,ky=xi,My=qi,Uy=Hi,Vy=Gi,zy=Bi,xy=Ki;function qy(e=!1){const t=[ky.default,My.default,Uy.default,Vy.default,zy.default,xy.default,Ay.default,Ly.default,Dy.default,jy.default,Fy.default];return e?t.push(Ry.default,Cy.default):t.push(Oy.default,Py.default),t.push(Ty.default),t}ss.default=qy;var Zi={},Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.dynamicAnchor=void 0;const Ps=te,Hy=tt,pa=He,Gy=Tt,By={keyword:"$dynamicAnchor",schemaType:"string",code:e=>Ru(e,e.schema)};function Ru(e,t){const{gen:r,it:n}=e;n.schemaEnv.root.dynamicAnchors[t]=!0;const s=(0,Ps._)`${Hy.default.dynamicAnchors}${(0,Ps.getProperty)(t)}`,i=n.errSchemaPath==="#"?n.validateName:Ky(e);r.if((0,Ps._)`!${s}`,()=>r.assign(s,i))}Lr.dynamicAnchor=Ru;function Ky(e){const{schemaEnv:t,schema:r,self:n}=e.it,{root:s,baseId:i,localRefs:o,meta:f}=t.root,{schemaId:c}=n.opts,h=new pa.SchemaEnv({schema:r,schemaId:c,root:s,baseId:i,localRefs:o,meta:f});return pa.compileSchema.call(n,h),(0,Gy.getValidate)(e,h)}Lr.default=By;var jr={};Object.defineProperty(jr,"__esModule",{value:!0});jr.dynamicRef=void 0;const ya=te,Zy=tt,$a=Tt,Wy={keyword:"$dynamicRef",schemaType:"string",code:e=>Pu(e,e.schema)};function Pu(e,t){const{gen:r,keyword:n,it:s}=e;if(t[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);const i=t.slice(1);if(s.allErrors)o();else{const c=r.let("valid",!1);o(c),e.ok(c)}function o(c){if(s.schemaEnv.root.dynamicAnchors[i]){const h=r.let("_v",(0,ya._)`${Zy.default.dynamicAnchors}${(0,ya.getProperty)(i)}`);r.if(h,f(h,c),f(s.validateName,c))}else f(s.validateName,c)()}function f(c,h){return h?()=>r.block(()=>{(0,$a.callRef)(e,c),r.let(h,!0)}):()=>(0,$a.callRef)(e,c)}}jr.dynamicRef=Pu;jr.default=Wy;var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});const Xy=Lr,Jy=q,Yy={keyword:"$recursiveAnchor",schemaType:"boolean",code(e){e.schema?(0,Xy.dynamicAnchor)(e,""):(0,Jy.checkStrictMode)(e.it,"$recursiveAnchor: false is ignored")}};Wi.default=Yy;var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});const Qy=jr,e0={keyword:"$recursiveRef",schemaType:"string",code:e=>(0,Qy.dynamicRef)(e,e.schema)};Xi.default=e0;Object.defineProperty(Zi,"__esModule",{value:!0});const t0=Lr,r0=jr,n0=Wi,s0=Xi,i0=[t0.default,r0.default,n0.default,s0.default];Zi.default=i0;var Ji={},Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});const va=is,o0={keyword:"dependentRequired",type:"object",schemaType:"object",error:va.error,code:e=>(0,va.validatePropertyDeps)(e)};Yi.default=o0;var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});const a0=is,c0={keyword:"dependentSchemas",type:"object",schemaType:"object",code:e=>(0,a0.validateSchemaDeps)(e)};Qi.default=c0;var eo={};Object.defineProperty(eo,"__esModule",{value:!0});const u0=q,f0={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:e,parentSchema:t,it:r}){t.contains===void 0&&(0,u0.checkStrictMode)(r,`"${e}" without "contains" is ignored`)}};eo.default=f0;Object.defineProperty(Ji,"__esModule",{value:!0});const l0=Yi,d0=Qi,h0=eo,m0=[l0.default,d0.default,h0.default];Ji.default=m0;var to={},ro={};Object.defineProperty(ro,"__esModule",{value:!0});const Ut=te,ga=q,p0=tt,y0={message:"must NOT have unevaluated properties",params:({params:e})=>(0,Ut._)`{unevaluatedProperty: ${e.unevaluatedProperty}}`},$0={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:y0,code(e){const{gen:t,schema:r,data:n,errsCount:s,it:i}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:o,props:f}=i;f instanceof Ut.Name?t.if((0,Ut._)`${f} !== true`,()=>t.forIn("key",n,l=>t.if(h(f,l),()=>c(l)))):f!==!0&&t.forIn("key",n,l=>f===void 0?c(l):t.if(a(f,l),()=>c(l))),i.props=!0,e.ok((0,Ut._)`${s} === ${p0.default.errors}`);function c(l){if(r===!1){e.setParams({unevaluatedProperty:l}),e.error(),o||t.break();return}if(!(0,ga.alwaysValidSchema)(i,r)){const v=t.name("valid");e.subschema({keyword:"unevaluatedProperties",dataProp:l,dataPropType:ga.Type.Str},v),o||t.if((0,Ut.not)(v),()=>t.break())}}function h(l,v){return(0,Ut._)`!${l} || !${l}[${v}]`}function a(l,v){const m=[];for(const u in l)l[u]===!0&&m.push((0,Ut._)`${v} !== ${u}`);return(0,Ut.and)(...m)}}};ro.default=$0;var no={};Object.defineProperty(no,"__esModule",{value:!0});const er=te,Ea=q,v0={message:({params:{len:e}})=>(0,er.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,er._)`{limit: ${e}}`},g0={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:v0,code(e){const{gen:t,schema:r,data:n,it:s}=e,i=s.items||0;if(i===!0)return;const o=t.const("len",(0,er._)`${n}.length`);if(r===!1)e.setParams({len:i}),e.fail((0,er._)`${o} > ${i}`);else if(typeof r=="object"&&!(0,Ea.alwaysValidSchema)(s,r)){const c=t.var("valid",(0,er._)`${o} <= ${i}`);t.if((0,er.not)(c),()=>f(c,i)),e.ok(c)}s.items=!0;function f(c,h){t.forRange("i",h,o,a=>{e.subschema({keyword:"unevaluatedItems",dataProp:a,dataPropType:Ea.Type.Num},c),s.allErrors||t.if((0,er.not)(c),()=>t.break())})}}};no.default=g0;Object.defineProperty(to,"__esModule",{value:!0});const E0=ro,_0=no,w0=[E0.default,_0.default];to.default=w0;var as={},so={};Object.defineProperty(so,"__esModule",{value:!0});const Ie=te,S0={message:({schemaCode:e})=>(0,Ie.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Ie._)`{format: ${e}}`},N0={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:S0,code(e,t){const{gen:r,data:n,$data:s,schema:i,schemaCode:o,it:f}=e,{opts:c,errSchemaPath:h,schemaEnv:a,self:l}=f;if(!c.validateFormats)return;s?v():m();function v(){const u=r.scopeValue("formats",{ref:l.formats,code:c.code.formats}),y=r.const("fDef",(0,Ie._)`${u}[${o}]`),$=r.let("fType"),d=r.let("format");r.if((0,Ie._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>r.assign($,(0,Ie._)`${y}.type || "string"`).assign(d,(0,Ie._)`${y}.validate`),()=>r.assign($,(0,Ie._)`"string"`).assign(d,y)),e.fail$data((0,Ie.or)(E(),I()));function E(){return c.strictSchema===!1?Ie.nil:(0,Ie._)`${o} && !${d}`}function I(){const D=a.$async?(0,Ie._)`(${y}.async ? await ${d}(${n}) : ${d}(${n}))`:(0,Ie._)`${d}(${n})`,M=(0,Ie._)`(typeof ${d} == "function" ? ${D} : ${d}.test(${n}))`;return(0,Ie._)`${d} && ${d} !== true && ${$} === ${t} && !${M}`}}function m(){const u=l.formats[i];if(!u){E();return}if(u===!0)return;const[y,$,d]=I(u);y===t&&e.pass(D());function E(){if(c.strictSchema===!1){l.logger.warn(M());return}throw new Error(M());function M(){return`unknown format "${i}" ignored in schema at path "${h}"`}}function I(M){const W=M instanceof RegExp?(0,Ie.regexpCode)(M):c.code.formats?(0,Ie._)`${c.code.formats}${(0,Ie.getProperty)(i)}`:void 0,Y=r.scopeValue("formats",{key:i,ref:M,code:W});return typeof M=="object"&&!(M instanceof RegExp)?[M.type||"string",M.validate,(0,Ie._)`${Y}.validate`]:["string",M,Y]}function D(){if(typeof u=="object"&&!(u instanceof RegExp)&&u.async){if(!a.$async)throw new Error("async format in sync schema");return(0,Ie._)`await ${d}(${n})`}return typeof $=="function"?(0,Ie._)`${d}(${n})`:(0,Ie._)`${d}.test(${n})`}}}};so.default=N0;Object.defineProperty(as,"__esModule",{value:!0});const I0=so,b0=[I0.default];as.default=b0;var sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.contentVocabulary=sr.metadataVocabulary=void 0;sr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];sr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Si,"__esModule",{value:!0});const O0=rs,R0=ns,P0=ss,C0=Zi,T0=Ji,D0=to,A0=as,_a=sr,L0=[C0.default,O0.default,R0.default,(0,P0.default)(!0),A0.default,_a.metadataVocabulary,_a.contentVocabulary,T0.default,D0.default];Si.default=L0;var cs={},us={};Object.defineProperty(us,"__esModule",{value:!0});us.DiscrError=void 0;var wa;(function(e){e.Tag="tag",e.Mapping="mapping"})(wa||(us.DiscrError=wa={}));Object.defineProperty(cs,"__esModule",{value:!0});const Er=te,Ws=us,Sa=He,j0=or,F0=q,k0={message:({params:{discrError:e,tagName:t}})=>e===Ws.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Er._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},M0={keyword:"discriminator",type:"object",schemaType:"object",error:k0,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:i}=e,{oneOf:o}=s;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const f=n.propertyName;if(typeof f!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),h=t.const("tag",(0,Er._)`${r}${(0,Er.getProperty)(f)}`);t.if((0,Er._)`typeof ${h} == "string"`,()=>a(),()=>e.error(!1,{discrError:Ws.DiscrError.Tag,tag:h,tagName:f})),e.ok(c);function a(){const m=v();t.if(!1);for(const u in m)t.elseIf((0,Er._)`${h} === ${u}`),t.assign(c,l(m[u]));t.else(),e.error(!1,{discrError:Ws.DiscrError.Mapping,tag:h,tagName:f}),t.endIf()}function l(m){const u=t.name("valid"),y=e.subschema({keyword:"oneOf",schemaProp:m},u);return e.mergeEvaluated(y,Er.Name),u}function v(){var m;const u={},y=d(s);let $=!0;for(let D=0;D<o.length;D++){let M=o[D];if(M?.$ref&&!(0,F0.schemaHasRulesButRef)(M,i.self.RULES)){const Y=M.$ref;if(M=Sa.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,Y),M instanceof Sa.SchemaEnv&&(M=M.schema),M===void 0)throw new j0.default(i.opts.uriResolver,i.baseId,Y)}const W=(m=M?.properties)===null||m===void 0?void 0:m[f];if(typeof W!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${f}"`);$=$&&(y||d(M)),E(W,D)}if(!$)throw new Error(`discriminator: "${f}" must be required`);return u;function d({required:D}){return Array.isArray(D)&&D.includes(f)}function E(D,M){if(D.const)I(D.const,M);else if(D.enum)for(const W of D.enum)I(W,M);else throw new Error(`discriminator: "properties/${f}" must have "const" or "enum"`)}function I(D,M){if(typeof D!="string"||D in u)throw new Error(`discriminator: "${f}" values must be unique strings`);u[D]=M}}}};cs.default=M0;var io={};const U0="https://json-schema.org/draft/2020-12/schema",V0="https://json-schema.org/draft/2020-12/schema",z0={"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},x0="meta",q0="Core and Validation specifications meta-schema",H0=[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],G0=["object","boolean"],B0="This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",K0={definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}},Z0={$schema:U0,$id:V0,$vocabulary:z0,$dynamicAnchor:x0,title:q0,allOf:H0,type:G0,$comment:B0,properties:K0},W0="https://json-schema.org/draft/2020-12/schema",X0="https://json-schema.org/draft/2020-12/meta/applicator",J0={"https://json-schema.org/draft/2020-12/vocab/applicator":!0},Y0="meta",Q0="Applicator vocabulary meta-schema",e$=["object","boolean"],t$={prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},r$={schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}},n$={$schema:W0,$id:X0,$vocabulary:J0,$dynamicAnchor:Y0,title:Q0,type:e$,properties:t$,$defs:r$},s$="https://json-schema.org/draft/2020-12/schema",i$="https://json-schema.org/draft/2020-12/meta/unevaluated",o$={"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},a$="meta",c$="Unevaluated applicator vocabulary meta-schema",u$=["object","boolean"],f$={unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}},l$={$schema:s$,$id:i$,$vocabulary:o$,$dynamicAnchor:a$,title:c$,type:u$,properties:f$},d$="https://json-schema.org/draft/2020-12/schema",h$="https://json-schema.org/draft/2020-12/meta/content",m$={"https://json-schema.org/draft/2020-12/vocab/content":!0},p$="meta",y$="Content vocabulary meta-schema",$$=["object","boolean"],v$={contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}},g$={$schema:d$,$id:h$,$vocabulary:m$,$dynamicAnchor:p$,title:y$,type:$$,properties:v$},E$="https://json-schema.org/draft/2020-12/schema",_$="https://json-schema.org/draft/2020-12/meta/core",w$={"https://json-schema.org/draft/2020-12/vocab/core":!0},S$="meta",N$="Core vocabulary meta-schema",I$=["object","boolean"],b$={$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},O$={anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}},R$={$schema:E$,$id:_$,$vocabulary:w$,$dynamicAnchor:S$,title:N$,type:I$,properties:b$,$defs:O$},P$="https://json-schema.org/draft/2020-12/schema",C$="https://json-schema.org/draft/2020-12/meta/format-annotation",T$={"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},D$="meta",A$="Format vocabulary meta-schema for annotation results",L$=["object","boolean"],j$={format:{type:"string"}},F$={$schema:P$,$id:C$,$vocabulary:T$,$dynamicAnchor:D$,title:A$,type:L$,properties:j$},k$="https://json-schema.org/draft/2020-12/schema",M$="https://json-schema.org/draft/2020-12/meta/meta-data",U$={"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},V$="meta",z$="Meta-data vocabulary meta-schema",x$=["object","boolean"],q$={title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}},H$={$schema:k$,$id:M$,$vocabulary:U$,$dynamicAnchor:V$,title:z$,type:x$,properties:q$},G$="https://json-schema.org/draft/2020-12/schema",B$="https://json-schema.org/draft/2020-12/meta/validation",K$={"https://json-schema.org/draft/2020-12/vocab/validation":!0},Z$="meta",W$="Validation vocabulary meta-schema",X$=["object","boolean"],J$={type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},Y$={nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Q$={$schema:G$,$id:B$,$vocabulary:K$,$dynamicAnchor:Z$,title:W$,type:X$,properties:J$,$defs:Y$};Object.defineProperty(io,"__esModule",{value:!0});const ev=Z0,tv=n$,rv=l$,nv=g$,sv=R$,iv=F$,ov=H$,av=Q$,cv=["/properties"];function uv(e){return[ev,tv,rv,nv,sv,t(this,iv),ov,t(this,av)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function t(r,n){return e?r.$dataMetaSchema(n,cv):n}}io.default=uv;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv2020=void 0;const r=li,n=Si,s=cs,i=io,o="https://json-schema.org/draft/2020-12/schema";class f extends r.default{constructor(m={}){super({...m,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:m,meta:u}=this.opts;u&&(i.default.call(this,m),this.refs["http://json-schema.org/schema"]=o)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.Ajv2020=f,e.exports=t=f,e.exports.Ajv2020=f,Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var c=at;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var h=te;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var a=Tr;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return a.default}});var l=or;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return l.default}})})(zs,zs.exports);var fv=zs.exports,Xs={exports:{}},Cu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(j,x){return{validate:j,compare:x}}e.fullFormats={date:t(i,o),time:t(c(!0),h),"date-time":t(v(!0),m),"iso-time":t(c(),a),"iso-date-time":t(v(),u),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:d,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:Q,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:I,int32:{type:"number",validate:W},int64:{type:"number",validate:Y},float:{type:"number",validate:fe},double:{type:"number",validate:fe},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,h),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,m),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,a),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(j){return j%4===0&&(j%100!==0||j%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function i(j){const x=n.exec(j);if(!x)return!1;const L=+x[1],P=+x[2],F=+x[3];return P>=1&&P<=12&&F>=1&&F<=(P===2&&r(L)?29:s[P])}function o(j,x){if(j&&x)return j>x?1:j<x?-1:0}const f=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function c(j){return function(L){const P=f.exec(L);if(!P)return!1;const F=+P[1],U=+P[2],k=+P[3],V=P[4],z=P[5]==="-"?-1:1,A=+(P[6]||0),N=+(P[7]||0);if(A>23||N>59||j&&!V)return!1;if(F<=23&&U<=59&&k<60)return!0;const C=U-N*z,b=F-A*z-(C<0?1:0);return(b===23||b===-1)&&(C===59||C===-1)&&k<61}}function h(j,x){if(!(j&&x))return;const L=new Date("2020-01-01T"+j).valueOf(),P=new Date("2020-01-01T"+x).valueOf();if(L&&P)return L-P}function a(j,x){if(!(j&&x))return;const L=f.exec(j),P=f.exec(x);if(L&&P)return j=L[1]+L[2]+L[3],x=P[1]+P[2]+P[3],j>x?1:j<x?-1:0}const l=/t|\s/i;function v(j){const x=c(j);return function(P){const F=P.split(l);return F.length===2&&i(F[0])&&x(F[1])}}function m(j,x){if(!(j&&x))return;const L=new Date(j).valueOf(),P=new Date(x).valueOf();if(L&&P)return L-P}function u(j,x){if(!(j&&x))return;const[L,P]=j.split(l),[F,U]=x.split(l),k=o(L,F);if(k!==void 0)return k||h(P,U)}const y=/\/|:/,$=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function d(j){return y.test(j)&&$.test(j)}const E=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function I(j){return E.lastIndex=0,E.test(j)}const D=-(2**31),M=2**31-1;function W(j){return Number.isInteger(j)&&j<=M&&j>=D}function Y(j){return Number.isInteger(j)}function fe(){return!0}const H=/[^\\]\\Z/;function Q(j){if(H.test(j))return!1;try{return new RegExp(j),!0}catch{return!1}}})(Cu);var Tu={},Js={exports:{}},oo={};Object.defineProperty(oo,"__esModule",{value:!0});const lv=rs,dv=ns,hv=ss,mv=as,Na=sr,pv=[lv.default,dv.default,(0,hv.default)(),mv.default,Na.metadataVocabulary,Na.contentVocabulary];oo.default=pv;const yv="http://json-schema.org/draft-07/schema#",$v="http://json-schema.org/draft-07/schema#",vv="Core schema meta-schema",gv={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Ev=["object","boolean"],_v={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},wv={$schema:yv,$id:$v,title:vv,definitions:gv,type:Ev,properties:_v,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=li,n=oo,s=cs,i=wv,o=["/properties"],f="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(u=>this.addVocabulary(u)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const u=this.opts.$data?this.$dataMetaSchema(i,o):i;this.addMetaSchema(u,f,!1),this.refs["http://json-schema.org/schema"]=f}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(f)?f:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var h=at;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return h.KeywordCxt}});var a=te;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return a._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return a.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return a.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return a.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return a.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return a.CodeGen}});var l=Tr;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return l.default}});var v=or;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return v.default}})})(Js,Js.exports);var Sv=Js.exports;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=Sv,r=te,n=r.operators,s={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},i={message:({keyword:f,schemaCode:c})=>(0,r.str)`should be ${s[f].okStr} ${c}`,params:({keyword:f,schemaCode:c})=>(0,r._)`{comparison: ${s[f].okStr}, limit: ${c}}`};e.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:i,code(f){const{gen:c,data:h,schemaCode:a,keyword:l,it:v}=f,{opts:m,self:u}=v;if(!m.validateFormats)return;const y=new t.KeywordCxt(v,u.RULES.all.format.definition,"format");y.$data?$():d();function $(){const I=c.scopeValue("formats",{ref:u.formats,code:m.code.formats}),D=c.const("fmt",(0,r._)`${I}[${y.schemaCode}]`);f.fail$data((0,r.or)((0,r._)`typeof ${D} != "object"`,(0,r._)`${D} instanceof RegExp`,(0,r._)`typeof ${D}.compare != "function"`,E(D)))}function d(){const I=y.schema,D=u.formats[I];if(!D||D===!0)return;if(typeof D!="object"||D instanceof RegExp||typeof D.compare!="function")throw new Error(`"${l}": format "${I}" does not define "compare" function`);const M=c.scopeValue("formats",{key:I,ref:D,code:m.code.formats?(0,r._)`${m.code.formats}${(0,r.getProperty)(I)}`:void 0});f.fail$data(E(M))}function E(I){return(0,r._)`${I}.compare(${h}, ${a}) ${s[l].fail} 0`}},dependencies:["format"]};const o=f=>(f.addKeyword(e.formatLimitDefinition),f);e.default=o})(Tu);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Cu,n=Tu,s=te,i=new s.Name("fullFormats"),o=new s.Name("fastFormats"),f=(h,a={keywords:!0})=>{if(Array.isArray(a))return c(h,a,r.fullFormats,i),h;const[l,v]=a.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,i],m=a.formats||r.formatNames;return c(h,m,l,v),a.keywords&&(0,n.default)(h),h};f.get=(h,a="full")=>{const v=(a==="fast"?r.fastFormats:r.fullFormats)[h];if(!v)throw new Error(`Unknown format "${h}"`);return v};function c(h,a,l,v){var m,u;(m=(u=h.opts.code).formats)!==null&&m!==void 0||(u.formats=(0,s._)`require("ajv-formats/dist/formats").${v}`);for(const y of a)h.addFormat(y,l[y])}e.exports=t=f,Object.defineProperty(t,"__esModule",{value:!0}),t.default=f})(Xs,Xs.exports);var Nv=Xs.exports;const Iv=ei(Nv),bv=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const s=Object.getOwnPropertyDescriptor(e,r),i=Object.getOwnPropertyDescriptor(t,r);!Ov(s,i)&&n||Object.defineProperty(e,r,i)},Ov=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},Rv=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},Pv=(e,t)=>`/* Wrapped ${e}*/
${t}`,Cv=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Tv=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Dv=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,s=Pv.bind(null,n,t.toString());Object.defineProperty(s,"name",Tv);const{writable:i,enumerable:o,configurable:f}=Cv;Object.defineProperty(e,"toString",{value:s,writable:i,enumerable:o,configurable:f})};function Av(e,t,{ignoreNonConfigurable:r=!1}={}){const{name:n}=e;for(const s of Reflect.ownKeys(t))bv(e,t,s,r);return Rv(e,t),Dv(e,t,n),e}const Ia=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,maxWait:n=Number.POSITIVE_INFINITY,before:s=!1,after:i=!0}=t;if(r<0||n<0)throw new RangeError("`wait` and `maxWait` must not be negative.");if(!s&&!i)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let o,f,c;const h=function(...a){const l=this,v=()=>{o=void 0,f&&(clearTimeout(f),f=void 0),i&&(c=e.apply(l,a))},m=()=>{f=void 0,o&&(clearTimeout(o),o=void 0),i&&(c=e.apply(l,a))},u=s&&!o;return clearTimeout(o),o=setTimeout(v,r),n>0&&n!==Number.POSITIVE_INFINITY&&!f&&(f=setTimeout(m,n)),u&&(c=e.apply(l,a)),c};return Av(h,e),h.cancel=()=>{o&&(clearTimeout(o),o=void 0),f&&(clearTimeout(f),f=void 0)},h};var Ys={exports:{}};const Lv="2.0.0",Du=256,jv=Number.MAX_SAFE_INTEGER||9007199254740991,Fv=16,kv=Du-6,Mv=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var fs={MAX_LENGTH:Du,MAX_SAFE_COMPONENT_LENGTH:Fv,MAX_SAFE_BUILD_LENGTH:kv,MAX_SAFE_INTEGER:jv,RELEASE_TYPES:Mv,SEMVER_SPEC_VERSION:Lv,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Uv=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var ls=Uv;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=fs,i=ls;t=e.exports={};const o=t.re=[],f=t.safeRe=[],c=t.src=[],h=t.t={};let a=0;const l="[a-zA-Z0-9-]",v=[["\\s",1],["\\d",s],[l,n]],m=y=>{for(const[$,d]of v)y=y.split(`${$}*`).join(`${$}{0,${d}}`).split(`${$}+`).join(`${$}{1,${d}}`);return y},u=(y,$,d)=>{const E=m($),I=a++;i(y,I,$),h[y]=I,c[I]=$,o[I]=new RegExp($,d?"g":void 0),f[I]=new RegExp(E,d?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","\\d+"),u("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${l}*`),u("MAINVERSION",`(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${c[h.NUMERICIDENTIFIER]}|${c[h.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${c[h.NUMERICIDENTIFIERLOOSE]}|${c[h.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${c[h.PRERELEASEIDENTIFIER]}(?:\\.${c[h.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${c[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[h.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER",`${l}+`),u("BUILD",`(?:\\+(${c[h.BUILDIDENTIFIER]}(?:\\.${c[h.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${c[h.MAINVERSION]}${c[h.PRERELEASE]}?${c[h.BUILD]}?`),u("FULL",`^${c[h.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${c[h.MAINVERSIONLOOSE]}${c[h.PRERELEASELOOSE]}?${c[h.BUILD]}?`),u("LOOSE",`^${c[h.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${c[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${c[h.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:${c[h.PRERELEASE]})?${c[h.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:${c[h.PRERELEASELOOSE]})?${c[h.BUILD]}?)?)?`),u("XRANGE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAINLOOSE]}$`),u("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),u("COERCE",`${c[h.COERCEPLAIN]}(?:$|[^\\d])`),u("COERCEFULL",c[h.COERCEPLAIN]+`(?:${c[h.PRERELEASE]})?(?:${c[h.BUILD]})?(?:$|[^\\d])`),u("COERCERTL",c[h.COERCE],!0),u("COERCERTLFULL",c[h.COERCEFULL],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${c[h.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${c[h.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${c[h.LONECARET]}${c[h.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${c[h.LONECARET]}${c[h.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${c[h.GTLT]}\\s*(${c[h.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]}|${c[h.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${c[h.XRANGEPLAIN]})\\s+-\\s+(${c[h.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${c[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[h.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Ys,Ys.exports);var mn=Ys.exports;const Vv=Object.freeze({loose:!0}),zv=Object.freeze({}),xv=e=>e?typeof e!="object"?Vv:e:zv;var ao=xv;const ba=/^[0-9]+$/,Au=(e,t)=>{const r=ba.test(e),n=ba.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},qv=(e,t)=>Au(t,e);var Lu={compareIdentifiers:Au,rcompareIdentifiers:qv};const Pn=ls,{MAX_LENGTH:Oa,MAX_SAFE_INTEGER:Cn}=fs,{safeRe:Ra,t:Pa}=mn,Hv=ao,{compareIdentifiers:$r}=Lu;let Gv=class _t{constructor(t,r){if(r=Hv(r),t instanceof _t){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Oa)throw new TypeError(`version is longer than ${Oa} characters`);Pn("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?Ra[Pa.LOOSE]:Ra[Pa.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Cn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Cn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Cn||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<Cn)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Pn("SemVer.compare",this.version,this.options,t),!(t instanceof _t)){if(typeof t=="string"&&t===this.version)return 0;t=new _t(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof _t||(t=new _t(t,this.options)),$r(this.major,t.major)||$r(this.minor,t.minor)||$r(this.patch,t.patch)}comparePre(t){if(t instanceof _t||(t=new _t(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=t.prerelease[r];if(Pn("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return $r(n,s)}while(++r)}compareBuild(t){t instanceof _t||(t=new _t(t,this.options));let r=0;do{const n=this.build[r],s=t.build[r];if(Pn("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return $r(n,s)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),$r(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var We=Gv;const Ca=We,Bv=(e,t,r=!1)=>{if(e instanceof Ca)return e;try{return new Ca(e,t)}catch(n){if(!r)return null;throw n}};var Fr=Bv;const Kv=Fr,Zv=(e,t)=>{const r=Kv(e,t);return r?r.version:null};var Wv=Zv;const Xv=Fr,Jv=(e,t)=>{const r=Xv(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var Yv=Jv;const Ta=We,Qv=(e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new Ta(e instanceof Ta?e.version:e,r).inc(t,n,s).version}catch{return null}};var eg=Qv;const Da=Fr,tg=(e,t)=>{const r=Da(e,null,!0),n=Da(t,null,!0),s=r.compare(n);if(s===0)return null;const i=s>0,o=i?r:n,f=i?n:r,c=!!o.prerelease.length;if(!!f.prerelease.length&&!c)return!f.patch&&!f.minor?"major":o.patch?"patch":o.minor?"minor":"major";const a=c?"pre":"";return r.major!==n.major?a+"major":r.minor!==n.minor?a+"minor":r.patch!==n.patch?a+"patch":"prerelease"};var rg=tg;const ng=We,sg=(e,t)=>new ng(e,t).major;var ig=sg;const og=We,ag=(e,t)=>new og(e,t).minor;var cg=ag;const ug=We,fg=(e,t)=>new ug(e,t).patch;var lg=fg;const dg=Fr,hg=(e,t)=>{const r=dg(e,t);return r&&r.prerelease.length?r.prerelease:null};var mg=hg;const Aa=We,pg=(e,t,r)=>new Aa(e,r).compare(new Aa(t,r));var dt=pg;const yg=dt,$g=(e,t,r)=>yg(t,e,r);var vg=$g;const gg=dt,Eg=(e,t)=>gg(e,t,!0);var _g=Eg;const La=We,wg=(e,t,r)=>{const n=new La(e,r),s=new La(t,r);return n.compare(s)||n.compareBuild(s)};var co=wg;const Sg=co,Ng=(e,t)=>e.sort((r,n)=>Sg(r,n,t));var Ig=Ng;const bg=co,Og=(e,t)=>e.sort((r,n)=>bg(n,r,t));var Rg=Og;const Pg=dt,Cg=(e,t,r)=>Pg(e,t,r)>0;var ds=Cg;const Tg=dt,Dg=(e,t,r)=>Tg(e,t,r)<0;var uo=Dg;const Ag=dt,Lg=(e,t,r)=>Ag(e,t,r)===0;var ju=Lg;const jg=dt,Fg=(e,t,r)=>jg(e,t,r)!==0;var Fu=Fg;const kg=dt,Mg=(e,t,r)=>kg(e,t,r)>=0;var fo=Mg;const Ug=dt,Vg=(e,t,r)=>Ug(e,t,r)<=0;var lo=Vg;const zg=ju,xg=Fu,qg=ds,Hg=fo,Gg=uo,Bg=lo,Kg=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return zg(e,r,n);case"!=":return xg(e,r,n);case">":return qg(e,r,n);case">=":return Hg(e,r,n);case"<":return Gg(e,r,n);case"<=":return Bg(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var ku=Kg;const Zg=We,Wg=Fr,{safeRe:Tn,t:Dn}=mn,Xg=(e,t)=>{if(e instanceof Zg)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?Tn[Dn.COERCEFULL]:Tn[Dn.COERCE]);else{const c=t.includePrerelease?Tn[Dn.COERCERTLFULL]:Tn[Dn.COERCERTL];let h;for(;(h=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||h.index+h[0].length!==r.index+r[0].length)&&(r=h),c.lastIndex=h.index+h[1].length+h[2].length;c.lastIndex=-1}if(r===null)return null;const n=r[2],s=r[3]||"0",i=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",f=t.includePrerelease&&r[6]?`+${r[6]}`:"";return Wg(`${n}.${s}.${i}${o}${f}`,t)};var Jg=Xg;class Yg{constructor(){this.max=1e3,this.map=new Map}get(t){const r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(t,r)}return this}}var Qg=Yg,Cs,ja;function ht(){if(ja)return Cs;ja=1;class e{constructor(P,F){if(F=n(F),P instanceof e)return P.loose===!!F.loose&&P.includePrerelease===!!F.includePrerelease?P:new e(P.raw,F);if(P instanceof s)return this.raw=P.value,this.set=[[P]],this.format(),this;if(this.options=F,this.loose=!!F.loose,this.includePrerelease=!!F.includePrerelease,this.raw=P.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(U=>this.parseRange(U.trim())).filter(U=>U.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const U=this.set[0];if(this.set=this.set.filter(k=>!u(k[0])),this.set.length===0)this.set=[U];else if(this.set.length>1){for(const k of this.set)if(k.length===1&&y(k[0])){this.set=[k];break}}}this.format()}format(){return this.range=this.set.map(P=>P.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(P){const U=((this.options.includePrerelease&&v)|(this.options.loose&&m))+":"+P,k=r.get(U);if(k)return k;const V=this.options.loose,z=V?f[c.HYPHENRANGELOOSE]:f[c.HYPHENRANGE];P=P.replace(z,j(this.options.includePrerelease)),i("hyphen replace",P),P=P.replace(f[c.COMPARATORTRIM],h),i("comparator trim",P),P=P.replace(f[c.TILDETRIM],a),i("tilde trim",P),P=P.replace(f[c.CARETTRIM],l),i("caret trim",P);let A=P.split(" ").map(p=>d(p,this.options)).join(" ").split(/\s+/).map(p=>Q(p,this.options));V&&(A=A.filter(p=>(i("loose invalid filter",p,this.options),!!p.match(f[c.COMPARATORLOOSE])))),i("range list",A);const N=new Map,C=A.map(p=>new s(p,this.options));for(const p of C){if(u(p))return[p];N.set(p.value,p)}N.size>1&&N.has("")&&N.delete("");const b=[...N.values()];return r.set(U,b),b}intersects(P,F){if(!(P instanceof e))throw new TypeError("a Range is required");return this.set.some(U=>$(U,F)&&P.set.some(k=>$(k,F)&&U.every(V=>k.every(z=>V.intersects(z,F)))))}test(P){if(!P)return!1;if(typeof P=="string")try{P=new o(P,this.options)}catch{return!1}for(let F=0;F<this.set.length;F++)if(x(this.set[F],P,this.options))return!0;return!1}}Cs=e;const t=Qg,r=new t,n=ao,s=hs(),i=ls,o=We,{safeRe:f,t:c,comparatorTrimReplace:h,tildeTrimReplace:a,caretTrimReplace:l}=mn,{FLAG_INCLUDE_PRERELEASE:v,FLAG_LOOSE:m}=fs,u=L=>L.value==="<0.0.0-0",y=L=>L.value==="",$=(L,P)=>{let F=!0;const U=L.slice();let k=U.pop();for(;F&&U.length;)F=U.every(V=>k.intersects(V,P)),k=U.pop();return F},d=(L,P)=>(i("comp",L,P),L=M(L,P),i("caret",L),L=I(L,P),i("tildes",L),L=Y(L,P),i("xrange",L),L=H(L,P),i("stars",L),L),E=L=>!L||L.toLowerCase()==="x"||L==="*",I=(L,P)=>L.trim().split(/\s+/).map(F=>D(F,P)).join(" "),D=(L,P)=>{const F=P.loose?f[c.TILDELOOSE]:f[c.TILDE];return L.replace(F,(U,k,V,z,A)=>{i("tilde",L,U,k,V,z,A);let N;return E(k)?N="":E(V)?N=`>=${k}.0.0 <${+k+1}.0.0-0`:E(z)?N=`>=${k}.${V}.0 <${k}.${+V+1}.0-0`:A?(i("replaceTilde pr",A),N=`>=${k}.${V}.${z}-${A} <${k}.${+V+1}.0-0`):N=`>=${k}.${V}.${z} <${k}.${+V+1}.0-0`,i("tilde return",N),N})},M=(L,P)=>L.trim().split(/\s+/).map(F=>W(F,P)).join(" "),W=(L,P)=>{i("caret",L,P);const F=P.loose?f[c.CARETLOOSE]:f[c.CARET],U=P.includePrerelease?"-0":"";return L.replace(F,(k,V,z,A,N)=>{i("caret",L,k,V,z,A,N);let C;return E(V)?C="":E(z)?C=`>=${V}.0.0${U} <${+V+1}.0.0-0`:E(A)?V==="0"?C=`>=${V}.${z}.0${U} <${V}.${+z+1}.0-0`:C=`>=${V}.${z}.0${U} <${+V+1}.0.0-0`:N?(i("replaceCaret pr",N),V==="0"?z==="0"?C=`>=${V}.${z}.${A}-${N} <${V}.${z}.${+A+1}-0`:C=`>=${V}.${z}.${A}-${N} <${V}.${+z+1}.0-0`:C=`>=${V}.${z}.${A}-${N} <${+V+1}.0.0-0`):(i("no pr"),V==="0"?z==="0"?C=`>=${V}.${z}.${A}${U} <${V}.${z}.${+A+1}-0`:C=`>=${V}.${z}.${A}${U} <${V}.${+z+1}.0-0`:C=`>=${V}.${z}.${A} <${+V+1}.0.0-0`),i("caret return",C),C})},Y=(L,P)=>(i("replaceXRanges",L,P),L.split(/\s+/).map(F=>fe(F,P)).join(" ")),fe=(L,P)=>{L=L.trim();const F=P.loose?f[c.XRANGELOOSE]:f[c.XRANGE];return L.replace(F,(U,k,V,z,A,N)=>{i("xRange",L,U,k,V,z,A,N);const C=E(V),b=C||E(z),p=b||E(A),w=p;return k==="="&&w&&(k=""),N=P.includePrerelease?"-0":"",C?k===">"||k==="<"?U="<0.0.0-0":U="*":k&&w?(b&&(z=0),A=0,k===">"?(k=">=",b?(V=+V+1,z=0,A=0):(z=+z+1,A=0)):k==="<="&&(k="<",b?V=+V+1:z=+z+1),k==="<"&&(N="-0"),U=`${k+V}.${z}.${A}${N}`):b?U=`>=${V}.0.0${N} <${+V+1}.0.0-0`:p&&(U=`>=${V}.${z}.0${N} <${V}.${+z+1}.0-0`),i("xRange return",U),U})},H=(L,P)=>(i("replaceStars",L,P),L.trim().replace(f[c.STAR],"")),Q=(L,P)=>(i("replaceGTE0",L,P),L.trim().replace(f[P.includePrerelease?c.GTE0PRE:c.GTE0],"")),j=L=>(P,F,U,k,V,z,A,N,C,b,p,w)=>(E(U)?F="":E(k)?F=`>=${U}.0.0${L?"-0":""}`:E(V)?F=`>=${U}.${k}.0${L?"-0":""}`:z?F=`>=${F}`:F=`>=${F}${L?"-0":""}`,E(C)?N="":E(b)?N=`<${+C+1}.0.0-0`:E(p)?N=`<${C}.${+b+1}.0-0`:w?N=`<=${C}.${b}.${p}-${w}`:L?N=`<${C}.${b}.${+p+1}-0`:N=`<=${N}`,`${F} ${N}`.trim()),x=(L,P,F)=>{for(let U=0;U<L.length;U++)if(!L[U].test(P))return!1;if(P.prerelease.length&&!F.includePrerelease){for(let U=0;U<L.length;U++)if(i(L[U].semver),L[U].semver!==s.ANY&&L[U].semver.prerelease.length>0){const k=L[U].semver;if(k.major===P.major&&k.minor===P.minor&&k.patch===P.patch)return!0}return!1}return!0};return Cs}var Ts,Fa;function hs(){if(Fa)return Ts;Fa=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(a,l){if(l=r(l),a instanceof t){if(a.loose===!!l.loose)return a;a=a.value}a=a.trim().split(/\s+/).join(" "),o("comparator",a,l),this.options=l,this.loose=!!l.loose,this.parse(a),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(a){const l=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],v=a.match(l);if(!v)throw new TypeError(`Invalid comparator: ${a}`);this.operator=v[1]!==void 0?v[1]:"",this.operator==="="&&(this.operator=""),v[2]?this.semver=new f(v[2],this.options.loose):this.semver=e}toString(){return this.value}test(a){if(o("Comparator.test",a,this.options.loose),this.semver===e||a===e)return!0;if(typeof a=="string")try{a=new f(a,this.options)}catch{return!1}return i(a,this.operator,this.semver,this.options)}intersects(a,l){if(!(a instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(a.value,l).test(this.value):a.operator===""?a.value===""?!0:new c(this.value,l).test(a.semver):(l=r(l),l.includePrerelease&&(this.value==="<0.0.0-0"||a.value==="<0.0.0-0")||!l.includePrerelease&&(this.value.startsWith("<0.0.0")||a.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&a.operator.startsWith(">")||this.operator.startsWith("<")&&a.operator.startsWith("<")||this.semver.version===a.semver.version&&this.operator.includes("=")&&a.operator.includes("=")||i(this.semver,"<",a.semver,l)&&this.operator.startsWith(">")&&a.operator.startsWith("<")||i(this.semver,">",a.semver,l)&&this.operator.startsWith("<")&&a.operator.startsWith(">")))}}Ts=t;const r=ao,{safeRe:n,t:s}=mn,i=ku,o=ls,f=We,c=ht();return Ts}const eE=ht(),tE=(e,t,r)=>{try{t=new eE(t,r)}catch{return!1}return t.test(e)};var ms=tE;const rE=ht(),nE=(e,t)=>new rE(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var sE=nE;const iE=We,oE=ht(),aE=(e,t,r)=>{let n=null,s=null,i=null;try{i=new oE(t,r)}catch{return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new iE(n,r))}),n};var cE=aE;const uE=We,fE=ht(),lE=(e,t,r)=>{let n=null,s=null,i=null;try{i=new fE(t,r)}catch{return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new uE(n,r))}),n};var dE=lE;const Ds=We,hE=ht(),ka=ds,mE=(e,t)=>{e=new hE(e,t);let r=new Ds("0.0.0");if(e.test(r)||(r=new Ds("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const s=e.set[n];let i=null;s.forEach(o=>{const f=new Ds(o.semver.version);switch(o.operator){case">":f.prerelease.length===0?f.patch++:f.prerelease.push(0),f.raw=f.format();case"":case">=":(!i||ka(f,i))&&(i=f);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!r||ka(r,i))&&(r=i)}return r&&e.test(r)?r:null};var pE=mE;const yE=ht(),$E=(e,t)=>{try{return new yE(e,t).range||"*"}catch{return null}};var vE=$E;const gE=We,Mu=hs(),{ANY:EE}=Mu,_E=ht(),wE=ms,Ma=ds,Ua=uo,SE=lo,NE=fo,IE=(e,t,r,n)=>{e=new gE(e,n),t=new _E(t,n);let s,i,o,f,c;switch(r){case">":s=Ma,i=SE,o=Ua,f=">",c=">=";break;case"<":s=Ua,i=NE,o=Ma,f="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(wE(e,t,n))return!1;for(let h=0;h<t.set.length;++h){const a=t.set[h];let l=null,v=null;if(a.forEach(m=>{m.semver===EE&&(m=new Mu(">=0.0.0")),l=l||m,v=v||m,s(m.semver,l.semver,n)?l=m:o(m.semver,v.semver,n)&&(v=m)}),l.operator===f||l.operator===c||(!v.operator||v.operator===f)&&i(e,v.semver))return!1;if(v.operator===c&&o(e,v.semver))return!1}return!0};var ho=IE;const bE=ho,OE=(e,t,r)=>bE(e,t,">",r);var RE=OE;const PE=ho,CE=(e,t,r)=>PE(e,t,"<",r);var TE=CE;const Va=ht(),DE=(e,t,r)=>(e=new Va(e,r),t=new Va(t,r),e.intersects(t,r));var AE=DE;const LE=ms,jE=dt;var FE=(e,t,r)=>{const n=[];let s=null,i=null;const o=e.sort((a,l)=>jE(a,l,r));for(const a of o)LE(a,t,r)?(i=a,s||(s=a)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);const f=[];for(const[a,l]of n)a===l?f.push(a):!l&&a===o[0]?f.push("*"):l?a===o[0]?f.push(`<=${l}`):f.push(`${a} - ${l}`):f.push(`>=${a}`);const c=f.join(" || "),h=typeof t.raw=="string"?t.raw:String(t);return c.length<h.length?c:t};const za=ht(),mo=hs(),{ANY:As}=mo,Wr=ms,po=dt,kE=(e,t,r={})=>{if(e===t)return!0;e=new za(e,r),t=new za(t,r);let n=!1;e:for(const s of e.set){for(const i of t.set){const o=UE(s,i,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},ME=[new mo(">=0.0.0-0")],xa=[new mo(">=0.0.0")],UE=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===As){if(t.length===1&&t[0].semver===As)return!0;r.includePrerelease?e=ME:e=xa}if(t.length===1&&t[0].semver===As){if(r.includePrerelease)return!0;t=xa}const n=new Set;let s,i;for(const m of e)m.operator===">"||m.operator===">="?s=qa(s,m,r):m.operator==="<"||m.operator==="<="?i=Ha(i,m,r):n.add(m.semver);if(n.size>1)return null;let o;if(s&&i){if(o=po(s.semver,i.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(const m of n){if(s&&!Wr(m,String(s),r)||i&&!Wr(m,String(i),r))return null;for(const u of t)if(!Wr(m,String(u),r))return!1;return!0}let f,c,h,a,l=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,v=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;l&&l.prerelease.length===1&&i.operator==="<"&&l.prerelease[0]===0&&(l=!1);for(const m of t){if(a=a||m.operator===">"||m.operator===">=",h=h||m.operator==="<"||m.operator==="<=",s){if(v&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===v.major&&m.semver.minor===v.minor&&m.semver.patch===v.patch&&(v=!1),m.operator===">"||m.operator===">="){if(f=qa(s,m,r),f===m&&f!==s)return!1}else if(s.operator===">="&&!Wr(s.semver,String(m),r))return!1}if(i){if(l&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===l.major&&m.semver.minor===l.minor&&m.semver.patch===l.patch&&(l=!1),m.operator==="<"||m.operator==="<="){if(c=Ha(i,m,r),c===m&&c!==i)return!1}else if(i.operator==="<="&&!Wr(i.semver,String(m),r))return!1}if(!m.operator&&(i||s)&&o!==0)return!1}return!(s&&h&&!i&&o!==0||i&&a&&!s&&o!==0||v||l)},qa=(e,t,r)=>{if(!e)return t;const n=po(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Ha=(e,t,r)=>{if(!e)return t;const n=po(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var VE=kE;const Ls=mn,Ga=fs,zE=We,Ba=Lu,xE=Fr,qE=Wv,HE=Yv,GE=eg,BE=rg,KE=ig,ZE=cg,WE=lg,XE=mg,JE=dt,YE=vg,QE=_g,e_=co,t_=Ig,r_=Rg,n_=ds,s_=uo,i_=ju,o_=Fu,a_=fo,c_=lo,u_=ku,f_=Jg,l_=hs(),d_=ht(),h_=ms,m_=sE,p_=cE,y_=dE,$_=pE,v_=vE,g_=ho,E_=RE,__=TE,w_=AE,S_=FE,N_=VE;var I_={parse:xE,valid:qE,clean:HE,inc:GE,diff:BE,major:KE,minor:ZE,patch:WE,prerelease:XE,compare:JE,rcompare:YE,compareLoose:QE,compareBuild:e_,sort:t_,rsort:r_,gt:n_,lt:s_,eq:i_,neq:o_,gte:a_,lte:c_,cmp:u_,coerce:f_,Comparator:l_,Range:d_,satisfies:h_,toComparators:m_,maxSatisfying:p_,minSatisfying:y_,minVersion:$_,validRange:v_,outside:g_,gtr:E_,ltr:__,intersects:w_,simplifyRange:S_,subset:N_,SemVer:zE,re:Ls.re,src:Ls.src,tokens:Ls.t,SEMVER_SPEC_VERSION:Ga.SEMVER_SPEC_VERSION,RELEASE_TYPES:Ga.RELEASE_TYPES,compareIdentifiers:Ba.compareIdentifiers,rcompareIdentifiers:Ba.rcompareIdentifiers};const vr=ei(I_),b_=Object.prototype.toString,O_="[object Uint8Array]";function R_(e){return e?e.constructor===Uint8Array?!0:b_.call(e)===O_:!1}function Uu(e){if(!R_(e))throw new TypeError(`Expected \`Uint8Array\`, got \`${typeof e}\``)}function Ka(e,t){if(e.length===0)return new Uint8Array(0);t??=e.reduce((s,i)=>s+i.length,0);const r=new Uint8Array(t);let n=0;for(const s of e)Uu(s),r.set(s,n),n+=s.length;return r}const P_=new globalThis.TextDecoder;function Za(e){return Uu(e),P_.decode(e)}function C_(e){if(typeof e!="string")throw new TypeError(`Expected \`string\`, got \`${typeof e}\``)}const T_=new globalThis.TextEncoder;function js(e){return C_(e),T_.encode(e)}Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));const D_=Iv.default,Wa="aes-256-cbc",gr=()=>Object.create(null),A_=e=>e!=null,L_=(e,t)=>{const r=new Set(["undefined","symbol","function"]),n=typeof t;if(r.has(n))throw new TypeError(`Setting a value of type \`${n}\` for key \`${e}\` is not allowed as it's not supported by JSON`)},Mn="__internal__",Fs=`${Mn}.migrations.version`;class j_{path;events;#n;#t;#e;#r={};constructor(t={}){const r={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...t};if(!r.cwd){if(!r.projectName)throw new Error("Please specify the `projectName` option.");r.cwd=kd(r.projectName,{suffix:r.projectSuffix}).config}if(this.#e=r,r.schema){if(typeof r.schema!="object")throw new TypeError("The `schema` option must be an object.");const o=new fv.Ajv2020({allErrors:!0,useDefaults:!0});D_(o);const f={type:"object",properties:r.schema};this.#n=o.compile(f);for(const[c,h]of Object.entries(r.schema))h?.default&&(this.#r[c]=h.default)}r.defaults&&(this.#r={...this.#r,...r.defaults}),r.serialize&&(this._serialize=r.serialize),r.deserialize&&(this._deserialize=r.deserialize),this.events=new EventTarget,this.#t=r.encryptionKey;const n=r.fileExtension?`.${r.fileExtension}`:"";this.path=de.resolve(r.cwd,`${r.configName??"config"}${n}`);const s=this.store,i=Object.assign(gr(),r.defaults,s);this._validate(i);try{af.deepEqual(s,i)}catch{this.store=i}if(r.watch&&this._watch(),r.migrations){if(!r.projectVersion)throw new Error("Please specify the `projectVersion` option.");this._migrate(r.migrations,r.projectVersion,r.beforeEachMigration)}}get(t,r){if(this.#e.accessPropertiesByDotNotation)return this._get(t,r);const{store:n}=this;return t in n?n[t]:r}set(t,r){if(typeof t!="string"&&typeof t!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof t}`);if(typeof t!="object"&&r===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(t))throw new TypeError(`Please don't use the ${Mn} key, as it's used to manage this module internal operations.`);const{store:n}=this,s=(i,o)=>{L_(i,o),this.#e.accessPropertiesByDotNotation?Bo(n,i,o):n[i]=o};if(typeof t=="object"){const i=t;for(const[o,f]of Object.entries(i))s(o,f)}else s(t,r);this.store=n}has(t){return this.#e.accessPropertiesByDotNotation?Ad(this.store,t):t in this.store}reset(...t){for(const r of t)A_(this.#r[r])&&this.set(r,this.#r[r])}delete(t){const{store:r}=this;this.#e.accessPropertiesByDotNotation?Dd(r,t):delete r[t],this.store=r}clear(){this.store=gr();for(const t of Object.keys(this.#r))this.reset(t)}onDidChange(t,r){if(typeof t!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof t}`);if(typeof r!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof r}`);return this._handleChange(()=>this.get(t),r)}onDidAnyChange(t){if(typeof t!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof t}`);return this._handleChange(()=>this.store,t)}get size(){return Object.keys(this.store).length}get store(){try{const t=ie.readFileSync(this.path,this.#t?null:"utf8"),r=this._encryptData(t),n=this._deserialize(r);return this._validate(n),Object.assign(gr(),n)}catch(t){if(t?.code==="ENOENT")return this._ensureDirectory(),gr();if(this.#e.clearInvalidConfig&&t.name==="SyntaxError")return gr();throw t}}set store(t){this._ensureDirectory(),this._validate(t),this._write(t),this.events.dispatchEvent(new Event("change"))}*[Symbol.iterator](){for(const[t,r]of Object.entries(this.store))yield[t,r]}_encryptData(t){if(!this.#t)return typeof t=="string"?t:Za(t);try{const r=t.slice(0,16),n=Br.pbkdf2Sync(this.#t,r.toString(),1e4,32,"sha512"),s=Br.createDecipheriv(Wa,n,r),i=t.slice(17),o=typeof i=="string"?js(i):i;return Za(Ka([s.update(o),s.final()]))}catch{}return t.toString()}_handleChange(t,r){let n=t();const s=()=>{const i=n,o=t();Ae.isDeepStrictEqual(o,i)||(n=o,r.call(this,o,i))};return this.events.addEventListener("change",s),()=>{this.events.removeEventListener("change",s)}}_deserialize=t=>JSON.parse(t);_serialize=t=>JSON.stringify(t,void 0,"	");_validate(t){if(!this.#n||this.#n(t)||!this.#n.errors)return;const n=this.#n.errors.map(({instancePath:s,message:i=""})=>`\`${s.slice(1)}\` ${i}`);throw new Error("Config schema violation: "+n.join("; "))}_ensureDirectory(){ie.mkdirSync(de.dirname(this.path),{recursive:!0})}_write(t){let r=this._serialize(t);if(this.#t){const n=Br.randomBytes(16),s=Br.pbkdf2Sync(this.#t,n.toString(),1e4,32,"sha512"),i=Br.createCipheriv(Wa,s,n);r=Ka([n,js(":"),i.update(js(r)),i.final()])}if(lt.env.SNAP)ie.writeFileSync(this.path,r,{mode:this.#e.configFileMode});else try{zc(this.path,r,{mode:this.#e.configFileMode})}catch(n){if(n?.code==="EXDEV"){ie.writeFileSync(this.path,r,{mode:this.#e.configFileMode});return}throw n}}_watch(){this._ensureDirectory(),ie.existsSync(this.path)||this._write(gr()),lt.platform==="win32"?ie.watch(this.path,{persistent:!1},Ia(()=>{this.events.dispatchEvent(new Event("change"))},{wait:100})):ie.watchFile(this.path,{persistent:!1},Ia(()=>{this.events.dispatchEvent(new Event("change"))},{wait:5e3}))}_migrate(t,r,n){let s=this._get(Fs,"0.0.0");const i=Object.keys(t).filter(f=>this._shouldPerformMigration(f,s,r));let o={...this.store};for(const f of i)try{n&&n(this,{fromVersion:s,toVersion:f,finalVersion:r,versions:i});const c=t[f];c?.(this),this._set(Fs,f),s=f,o={...this.store}}catch(c){throw this.store=o,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${c}`)}(this._isVersionInRangeFormat(s)||!vr.eq(s,r))&&this._set(Fs,r)}_containsReservedKey(t){return typeof t=="object"&&Object.keys(t)[0]===Mn?!0:typeof t!="string"?!1:this.#e.accessPropertiesByDotNotation?!!t.startsWith(`${Mn}.`):!1}_isVersionInRangeFormat(t){return vr.clean(t)===null}_shouldPerformMigration(t,r,n){return this._isVersionInRangeFormat(t)?r!=="0.0.0"&&vr.satisfies(r,t)?!1:vr.satisfies(n,t):!(vr.lte(t,r)||vr.gt(t,n))}_get(t,r){return Td(this.store,t,r)}_set(t,r){const{store:n}=this;Bo(n,t,r),this.store=n}}let Xa=!1;const Ja=()=>{if(!ne.ipcMain||!ne.app)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:ne.app.getPath("userData"),appVersion:ne.app.getVersion()};return Xa||(ne.ipcMain.on("electron-store-get-data",t=>{t.returnValue=e}),Xa=!0),e};class Ya extends j_{constructor(t){let r,n;if(lt.type==="renderer"){const s=ne.ipcRenderer.sendSync("electron-store-get-data");if(!s)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=s)}else ne.ipcMain&&ne.app&&({defaultCwd:r,appVersion:n}=Ja());t={name:"config",...t},t.projectVersion||=n,t.cwd?t.cwd=de.isAbsolute(t.cwd)?t.cwd:de.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){Ja()}async openInEditor(){const t=await ne.shell.openPath(this.path);if(t)throw new Error(t)}}var pn={exports:{}},yo={},F_=yo.require=function(){if(typeof process=="object"&&process.versions&&process.versions.electron)try{const e=F_("original-fs");if(Object.keys(e).length>0)return e}catch{}return Qs},Vu={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24},zu={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed",FILE_IN_THE_WAY:"There is a file in the way: %s",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",DISK_ENTRY_TOO_LARGE:"Number of disk entries is too large",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:"File not found: %s",NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found"};const k_=yo.require(),qe=Ke,Qa=Vu,M_=zu,U_=typeof process=="object"&&process.platform==="win32",ec=e=>e&&typeof e=="object",$o=new Uint32Array(256).map((e,t)=>{for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t>>>=1;return t>>>0});function ke(e){this.sep=qe.sep,this.fs=k_,ec(e)&&ec(e.fs)&&typeof e.fs.statSync=="function"&&(this.fs=e.fs)}var V_=ke;ke.prototype.makeDir=function(e){const t=this;function r(n){let s=n.split(t.sep)[0];n.split(t.sep).forEach(function(i){if(!(!i||i.substr(-1,1)===":")){s+=t.sep+i;var o;try{o=t.fs.statSync(s)}catch{t.fs.mkdirSync(s)}if(o&&o.isFile())throw M_.FILE_IN_THE_WAY.replace("%s",s)}})}r(e)};ke.prototype.writeFileTo=function(e,t,r,n){const s=this;if(s.fs.existsSync(e)){if(!r)return!1;var i=s.fs.statSync(e);if(i.isDirectory())return!1}var o=qe.dirname(e);s.fs.existsSync(o)||s.makeDir(o);var f;try{f=s.fs.openSync(e,"w",438)}catch{s.fs.chmodSync(e,438),f=s.fs.openSync(e,"w",438)}if(f)try{s.fs.writeSync(f,t,0,t.length,0)}finally{s.fs.closeSync(f)}return s.fs.chmodSync(e,n||438),!0};ke.prototype.writeFileToAsync=function(e,t,r,n,s){typeof n=="function"&&(s=n,n=void 0);const i=this;i.fs.exists(e,function(o){if(o&&!r)return s(!1);i.fs.stat(e,function(f,c){if(o&&c.isDirectory())return s(!1);var h=qe.dirname(e);i.fs.exists(h,function(a){a||i.makeDir(h),i.fs.open(e,"w",438,function(l,v){l?i.fs.chmod(e,438,function(){i.fs.open(e,"w",438,function(m,u){i.fs.write(u,t,0,t.length,0,function(){i.fs.close(u,function(){i.fs.chmod(e,n||438,function(){s(!0)})})})})}):v?i.fs.write(v,t,0,t.length,0,function(){i.fs.close(v,function(){i.fs.chmod(e,n||438,function(){s(!0)})})}):i.fs.chmod(e,n||438,function(){s(!0)})})})})})};ke.prototype.findFiles=function(e){const t=this;function r(n,s,i){let o=[];return t.fs.readdirSync(n).forEach(function(f){var c=qe.join(n,f);t.fs.statSync(c).isDirectory()&&i&&(o=o.concat(r(c,s,i))),o.push(qe.normalize(c)+(t.fs.statSync(c).isDirectory()?t.sep:""))}),o}return r(e,void 0,!0)};ke.prototype.getAttributes=function(){};ke.prototype.setAttributes=function(){};ke.crc32update=function(e,t){return $o[(e^t)&255]^e>>>8};ke.crc32=function(e){typeof e=="string"&&(e=Buffer.from(e,"utf8")),$o.length||genCRCTable();let t=e.length,r=-1;for(let n=0;n<t;)r=ke.crc32update(r,e[n++]);return~r>>>0};ke.methodToString=function(e){switch(e){case Qa.STORED:return"STORED ("+e+")";case Qa.DEFLATED:return"DEFLATED ("+e+")";default:return"UNSUPPORTED ("+e+")"}};ke.canonical=function(e){if(!e)return"";var t=qe.posix.normalize("/"+e.split("\\").join("/"));return qe.join(".",t)};ke.sanitize=function(e,t){e=qe.resolve(qe.normalize(e));for(var r=t.split("/"),n=0,s=r.length;n<s;n++){var i=qe.normalize(qe.join(e,r.slice(n,s).join(qe.sep)));if(i.indexOf(e)===0)return i}return qe.normalize(qe.join(e,qe.basename(t)))};ke.toBuffer=function(t){return Buffer.isBuffer(t)?t:t instanceof Uint8Array?Buffer.from(t):typeof t=="string"?Buffer.from(t,"utf8"):Buffer.alloc(0)};ke.readBigUInt64LE=function(e,t){var r=Buffer.from(e.slice(t,t+8));return r.swap64(),parseInt(`0x${r.toString("hex")}`)};ke.isWin=U_;ke.crcTable=$o;const Kn=yo.require(),xu=Ke;Kn.existsSync=Kn.existsSync||xu.existsSync;var z_=function(e){var t=e||"",r=s(),n=null;function s(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return t&&Kn.existsSync(t)?(n=Kn.statSync(t),r.directory=n.isDirectory(),r.mtime=n.mtime,r.atime=n.atime,r.executable=(73&n.mode)!==0,r.readonly=(128&n.mode)===0,r.hidden=xu.basename(t)[0]==="."):console.warn("Invalid path: "+t),{get directory(){return r.directory},get readOnly(){return r.readonly},get hidden(){return r.hidden},get mtime(){return r.mtime},get atime(){return r.atime},get executable(){return r.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:t,isDirectory:r.directory,isReadOnly:r.readonly,isHidden:r.hidden,isExecutable:r.executable,mTime:r.mtime,aTime:r.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}};pn.exports=V_;pn.exports.Constants=Vu;pn.exports.Errors=zu;pn.exports.FileAttr=z_;var yn=pn.exports,ps={},Jr=yn,K=Jr.Constants,x_=function(){var e=20,t=10,r=0,n=0,s=0,i=0,o=0,f=0,c=0,h=0,a=0,l=0,v=0,m=0,u=0;e|=Jr.isWin?2560:768,r|=K.FLG_EFS;var y={};function $(d){d=new Date(d),s=(d.getFullYear()-1980&127)<<25|d.getMonth()+1<<21|d.getDate()<<16|d.getHours()<<11|d.getMinutes()<<5|d.getSeconds()>>1}return $(+new Date),{get made(){return e},set made(d){e=d},get version(){return t},set version(d){t=d},get flags(){return r},set flags(d){r=d},get method(){return n},set method(d){switch(d){case K.STORED:this.version=10;case K.DEFLATED:default:this.version=20}n=d},get time(){return new Date((s>>25&127)+1980,(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(s&31)<<1)},set time(d){$(d)},get timeHighByte(){return s>>>8&255},get crc(){return i},set crc(d){i=Math.max(0,d)>>>0},get compressedSize(){return o},set compressedSize(d){o=Math.max(0,d)>>>0},get size(){return f},set size(d){f=Math.max(0,d)>>>0},get fileNameLength(){return c},set fileNameLength(d){c=d},get extraLength(){return h},set extraLength(d){h=d},get commentLength(){return a},set commentLength(d){a=d},get diskNumStart(){return l},set diskNumStart(d){l=Math.max(0,d)>>>0},get inAttr(){return v},set inAttr(d){v=Math.max(0,d)>>>0},get attr(){return m},set attr(d){m=Math.max(0,d)>>>0},get fileAttr(){return m?(m>>>0|0)>>16&4095:0},get offset(){return u},set offset(d){u=Math.max(0,d)>>>0},get encrypted(){return(r&1)===1},get centralHeaderSize(){return K.CENHDR+c+h+a},get realDataOffset(){return u+K.LOCHDR+y.fnameLen+y.extraLen},get localHeader(){return y},loadLocalHeaderFromBinary:function(d){var E=d.slice(u,u+K.LOCHDR);if(E.readUInt32LE(0)!==K.LOCSIG)throw new Error(Jr.Errors.INVALID_LOC);y={version:E.readUInt16LE(K.LOCVER),flags:E.readUInt16LE(K.LOCFLG),method:E.readUInt16LE(K.LOCHOW),time:E.readUInt32LE(K.LOCTIM),crc:E.readUInt32LE(K.LOCCRC),compressedSize:E.readUInt32LE(K.LOCSIZ),size:E.readUInt32LE(K.LOCLEN),fnameLen:E.readUInt16LE(K.LOCNAM),extraLen:E.readUInt16LE(K.LOCEXT)}},loadFromBinary:function(d){if(d.length!==K.CENHDR||d.readUInt32LE(0)!==K.CENSIG)throw new Error(Jr.Errors.INVALID_CEN);e=d.readUInt16LE(K.CENVEM),t=d.readUInt16LE(K.CENVER),r=d.readUInt16LE(K.CENFLG),n=d.readUInt16LE(K.CENHOW),s=d.readUInt32LE(K.CENTIM),i=d.readUInt32LE(K.CENCRC),o=d.readUInt32LE(K.CENSIZ),f=d.readUInt32LE(K.CENLEN),c=d.readUInt16LE(K.CENNAM),h=d.readUInt16LE(K.CENEXT),a=d.readUInt16LE(K.CENCOM),l=d.readUInt16LE(K.CENDSK),v=d.readUInt16LE(K.CENATT),m=d.readUInt32LE(K.CENATX),u=d.readUInt32LE(K.CENOFF)},localHeaderToBinary:function(){var d=Buffer.alloc(K.LOCHDR);return d.writeUInt32LE(K.LOCSIG,0),d.writeUInt16LE(t,K.LOCVER),d.writeUInt16LE(r,K.LOCFLG),d.writeUInt16LE(n,K.LOCHOW),d.writeUInt32LE(s,K.LOCTIM),d.writeUInt32LE(i,K.LOCCRC),d.writeUInt32LE(o,K.LOCSIZ),d.writeUInt32LE(f,K.LOCLEN),d.writeUInt16LE(c,K.LOCNAM),d.writeUInt16LE(h,K.LOCEXT),d},centralHeaderToBinary:function(){var d=Buffer.alloc(K.CENHDR+c+h+a);return d.writeUInt32LE(K.CENSIG,0),d.writeUInt16LE(e,K.CENVEM),d.writeUInt16LE(t,K.CENVER),d.writeUInt16LE(r,K.CENFLG),d.writeUInt16LE(n,K.CENHOW),d.writeUInt32LE(s,K.CENTIM),d.writeUInt32LE(i,K.CENCRC),d.writeUInt32LE(o,K.CENSIZ),d.writeUInt32LE(f,K.CENLEN),d.writeUInt16LE(c,K.CENNAM),d.writeUInt16LE(h,K.CENEXT),d.writeUInt16LE(a,K.CENCOM),d.writeUInt16LE(l,K.CENDSK),d.writeUInt16LE(v,K.CENATT),d.writeUInt32LE(m,K.CENATX),d.writeUInt32LE(u,K.CENOFF),d.fill(0,K.CENHDR),d},toJSON:function(){const d=function(E){return E+" bytes"};return{made:e,version:t,flags:r,method:Jr.methodToString(n),time:this.time,crc:"0x"+i.toString(16).toUpperCase(),compressedSize:d(o),size:d(f),fileNameLength:d(c),extraLength:d(h),commentLength:d(a),diskNumStart:l,inAttr:v,attr:m,offset:u,centralHeaderSize:d(K.CENHDR+c+h+a)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}},_r=yn,Ee=_r.Constants,q_=function(){var e=0,t=0,r=0,n=0,s=0;return{get diskEntries(){return e},set diskEntries(i){e=t=i},get totalEntries(){return t},set totalEntries(i){t=e=i},get size(){return r},set size(i){r=i},get offset(){return n},set offset(i){n=i},get commentLength(){return s},set commentLength(i){s=i},get mainHeaderSize(){return Ee.ENDHDR+s},loadFromBinary:function(i){if((i.length!==Ee.ENDHDR||i.readUInt32LE(0)!==Ee.ENDSIG)&&(i.length<Ee.ZIP64HDR||i.readUInt32LE(0)!==Ee.ZIP64SIG))throw new Error(_r.Errors.INVALID_END);i.readUInt32LE(0)===Ee.ENDSIG?(e=i.readUInt16LE(Ee.ENDSUB),t=i.readUInt16LE(Ee.ENDTOT),r=i.readUInt32LE(Ee.ENDSIZ),n=i.readUInt32LE(Ee.ENDOFF),s=i.readUInt16LE(Ee.ENDCOM)):(e=_r.readBigUInt64LE(i,Ee.ZIP64SUB),t=_r.readBigUInt64LE(i,Ee.ZIP64TOT),r=_r.readBigUInt64LE(i,Ee.ZIP64SIZE),n=_r.readBigUInt64LE(i,Ee.ZIP64OFF),s=0)},toBinary:function(){var i=Buffer.alloc(Ee.ENDHDR+s);return i.writeUInt32LE(Ee.ENDSIG,0),i.writeUInt32LE(0,4),i.writeUInt16LE(e,Ee.ENDSUB),i.writeUInt16LE(t,Ee.ENDTOT),i.writeUInt32LE(r,Ee.ENDSIZ),i.writeUInt32LE(n,Ee.ENDOFF),i.writeUInt16LE(s,Ee.ENDCOM),i.fill(" ",Ee.ENDHDR),i},toJSON:function(){const i=function(o,f){let c=o.toString(16).toUpperCase();for(;c.length<f;)c="0"+c;return"0x"+c};return{diskEntries:e,totalEntries:t,size:r+" bytes",offset:i(n,4),commentLength:s}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}};ps.EntryHeader=x_;ps.MainHeader=q_;var ys={},H_=function(e){var t=ic,r={chunkSize:(parseInt(e.length/1024)+1)*1024};return{deflate:function(){return t.deflateRawSync(e,r)},deflateAsync:function(n){var s=t.createDeflateRaw(r),i=[],o=0;s.on("data",function(f){i.push(f),o+=f.length}),s.on("end",function(){var f=Buffer.alloc(o),c=0;f.fill(0);for(var h=0;h<i.length;h++){var a=i[h];a.copy(f,c),c+=a.length}n&&n(f)}),s.end(e)}}};const G_=+(process.versions?process.versions.node:"").split(".")[0]||0;var B_=function(e,t){var r=ic;const n=G_>=15&&t>0?{maxOutputLength:t}:{};return{inflate:function(){return r.inflateRawSync(e,n)},inflateAsync:function(s){var i=r.createInflateRaw(n),o=[],f=0;i.on("data",function(c){o.push(c),f+=c.length}),i.on("end",function(){var c=Buffer.alloc(f),h=0;c.fill(0);for(var a=0;a<o.length;a++){var l=o[a];l.copy(c,h),h+=l.length}s&&s(c)}),i.end(e)}}};const{randomFillSync:tc}=cf,K_=new Uint32Array(256).map((e,t)=>{for(let r=0;r<8;r++)t&1?t=t>>>1^3988292384:t>>>=1;return t>>>0}),qu=(e,t)=>Math.imul(e,t)>>>0,rc=(e,t)=>K_[(e^t)&255]^e>>>8,fn=()=>typeof tc=="function"?tc(Buffer.alloc(12)):fn.node();fn.node=()=>{const e=Buffer.alloc(12),t=e.length;for(let r=0;r<t;r++)e[r]=Math.random()*256&255;return e};const Un={genSalt:fn};function $s(e){const t=Buffer.isBuffer(e)?e:Buffer.from(e);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let r=0;r<t.length;r++)this.updateKeys(t[r])}$s.prototype.updateKeys=function(e){const t=this.keys;return t[0]=rc(t[0],e),t[1]+=t[0]&255,t[1]=qu(t[1],134775813)+1,t[2]=rc(t[2],t[1]>>>24),e};$s.prototype.next=function(){const e=(this.keys[2]|2)>>>0;return qu(e,e^1)>>8&255};function Z_(e){const t=new $s(e);return function(r){const n=Buffer.alloc(r.length);let s=0;for(let i of r)n[s++]=t.updateKeys(i^t.next());return n}}function W_(e){const t=new $s(e);return function(r,n,s=0){n||(n=Buffer.alloc(r.length));for(let i of r){const o=t.next();n[s++]=i^o,t.updateKeys(i)}return n}}function X_(e,t,r){if(!e||!Buffer.isBuffer(e)||e.length<12)return Buffer.alloc(0);const n=Z_(r),s=n(e.slice(0,12)),i=(t.flags&8)===8?t.timeHighByte:t.crc>>>24;if(s[11]!==i)throw"ADM-ZIP: Wrong Password";return n(e.slice(12))}function J_(e){Buffer.isBuffer(e)&&e.length>=12?Un.genSalt=function(){return e.slice(0,12)}:e==="node"?Un.genSalt=fn.node:Un.genSalt=fn}function Y_(e,t,r,n=!1){e==null&&(e=Buffer.alloc(0)),Buffer.isBuffer(e)||(e=Buffer.from(e.toString()));const s=W_(r),i=Un.genSalt();i[11]=t.crc>>>24&255,n&&(i[10]=t.crc>>>16&255);const o=Buffer.alloc(e.length+12);return s(i,o),s(e,o,12)}var Q_={decrypt:X_,encrypt:Y_,_salter:J_};ys.Deflater=H_;ys.Inflater=B_;ys.ZipCrypto=Q_;var Oe=yn,ew=ps,et=Oe.Constants,ks=ys,Hu=function(e){var t=new ew.EntryHeader,r=Buffer.alloc(0),n=Buffer.alloc(0),s=!1,i=null,o=Buffer.alloc(0);function f(){return!e||!(e instanceof Uint8Array)?Buffer.alloc(0):(t.loadLocalHeaderFromBinary(e),e.slice(t.realDataOffset,t.realDataOffset+t.compressedSize))}function c(u){return!((t.flags&8)!==8&&Oe.crc32(u)!==t.localHeader.crc)}function h(u,y,$){if(typeof y>"u"&&typeof u=="string"&&($=u,u=void 0),s)return u&&y&&y(Buffer.alloc(0),Oe.Errors.DIRECTORY_CONTENT_ERROR),Buffer.alloc(0);var d=f();if(d.length===0)return u&&y&&y(d),d;if(t.encrypted){if(typeof $!="string"&&!Buffer.isBuffer($))throw new Error("ADM-ZIP: Incompatible password parameter");d=ks.ZipCrypto.decrypt(d,t,$)}var E=Buffer.alloc(t.size);switch(t.method){case Oe.Constants.STORED:if(d.copy(E),c(E))return u&&y&&y(E),E;throw u&&y&&y(E,Oe.Errors.BAD_CRC),new Error(Oe.Errors.BAD_CRC);case Oe.Constants.DEFLATED:var I=new ks.Inflater(d,t.size);if(u)I.inflateAsync(function(D){D.copy(D,0),y&&(c(D)?y(D):y(D,Oe.Errors.BAD_CRC))});else{if(I.inflate(E).copy(E,0),!c(E))throw new Error(Oe.Errors.BAD_CRC+" "+r.toString());return E}break;default:throw u&&y&&y(Buffer.alloc(0),Oe.Errors.UNKNOWN_METHOD),new Error(Oe.Errors.UNKNOWN_METHOD)}}function a(u,y){if((!i||!i.length)&&Buffer.isBuffer(e))return u&&y&&y(f()),f();if(i.length&&!s){var $;switch(t.method){case Oe.Constants.STORED:return t.compressedSize=t.size,$=Buffer.alloc(i.length),i.copy($),u&&y&&y($),$;default:case Oe.Constants.DEFLATED:var d=new ks.Deflater(i);if(u)d.deflateAsync(function(I){$=Buffer.alloc(I.length),t.compressedSize=I.length,I.copy($),y&&y($)});else{var E=d.deflate();return t.compressedSize=E.length,E}d=null;break}}else if(u&&y)y(Buffer.alloc(0));else return Buffer.alloc(0)}function l(u,y){return(u.readUInt32LE(y+4)<<4)+u.readUInt32LE(y)}function v(u){for(var y=0,$,d,E;y<u.length;)$=u.readUInt16LE(y),y+=2,d=u.readUInt16LE(y),y+=2,E=u.slice(y,y+d),y+=d,et.ID_ZIP64===$&&m(E)}function m(u){var y,$,d,E;u.length>=et.EF_ZIP64_SCOMP&&(y=l(u,et.EF_ZIP64_SUNCOMP),t.size===et.EF_ZIP64_OR_32&&(t.size=y)),u.length>=et.EF_ZIP64_RHO&&($=l(u,et.EF_ZIP64_SCOMP),t.compressedSize===et.EF_ZIP64_OR_32&&(t.compressedSize=$)),u.length>=et.EF_ZIP64_DSN&&(d=l(u,et.EF_ZIP64_RHO),t.offset===et.EF_ZIP64_OR_32&&(t.offset=d)),u.length>=et.EF_ZIP64_DSN+4&&(E=u.readUInt32LE(et.EF_ZIP64_DSN),t.diskNumStart===et.EF_ZIP64_OR_16&&(t.diskNumStart=E))}return{get entryName(){return r.toString()},get rawEntryName(){return r},set entryName(u){r=Oe.toBuffer(u);var y=r[r.length-1];s=y===47||y===92,t.fileNameLength=r.length},get extra(){return o},set extra(u){o=u,t.extraLength=u.length,v(u)},get comment(){return n.toString()},set comment(u){n=Oe.toBuffer(u),t.commentLength=n.length},get name(){var u=r.toString();return s?u.substr(u.length-1).split("/").pop():u.split("/").pop()},get isDirectory(){return s},getCompressedData:function(){return a(!1,null)},getCompressedDataAsync:function(u){a(!0,u)},setData:function(u){i=Oe.toBuffer(u),!s&&i.length?(t.size=i.length,t.method=Oe.Constants.DEFLATED,t.crc=Oe.crc32(u),t.changed=!0):t.method=Oe.Constants.STORED},getData:function(u){return t.changed?i:h(!1,null,u)},getDataAsync:function(u,y){t.changed?u(i):h(!0,u,y)},set attr(u){t.attr=u},get attr(){return t.attr},set header(u){t.loadFromBinary(u)},get header(){return t},packCentralHeader:function(){var u=t.centralHeaderToBinary(),y=Oe.Constants.CENHDR;return r.copy(u,y),y+=r.length,t.extraLength&&(o.copy(u,y),y+=t.extraLength),t.commentLength&&n.copy(u,y),u},packLocalHeader:function(){let u=0;const y=t.localHeaderToBinary(),$=Buffer.alloc(y.length+r.length+o.length);return y.copy($,u),u+=y.length,r.copy($,u),u+=r.length,o.copy($,u),u+=o.length,$},toJSON:function(){const u=function(y){return"<"+(y&&y.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:t.toJSON(),compressedData:u(e),data:u(i)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}};const nc=Hu,tw=ps,Te=yn;var rw=function(e,t){var r=[],n={},s=Buffer.alloc(0),i=new tw.MainHeader,o=!1;const f=Object.assign(Object.create(null),t),{noSort:c}=f;e?l(f.readEntries):o=!0;function h(m){const u=i.diskEntries;let y=i.offset;for(let $=0;$<u;$++){let d=y;const E=new nc(e);E.header=e.slice(d,d+=Te.Constants.CENHDR),E.entryName=e.slice(d,d+=E.header.fileNameLength),y+=E.header.centralHeaderSize,m(E)}}function a(){if(o=!0,n={},i.diskEntries>(e.length-i.offset)/Te.Constants.CENHDR)throw new Error(Te.Errors.DISK_ENTRY_TOO_LARGE);r=new Array(i.diskEntries);for(var m=i.offset,u=0;u<r.length;u++){var y=m,$=new nc(e);$.header=e.slice(y,y+=Te.Constants.CENHDR),$.entryName=e.slice(y,y+=$.header.fileNameLength),$.header.extraLength&&($.extra=e.slice(y,y+=$.header.extraLength)),$.header.commentLength&&($.comment=e.slice(y,y+$.header.commentLength)),m+=$.header.centralHeaderSize,r[u]=$,n[$.entryName]=$}}function l(m){var u=e.length-Te.Constants.ENDHDR,y=Math.max(0,u-65535),$=y,d=e.length,E=-1,I=0;for(u;u>=$;u--)if(e[u]===80){if(e.readUInt32LE(u)===Te.Constants.ENDSIG){E=u,I=u,d=u+Te.Constants.ENDHDR,$=u-Te.Constants.END64HDR;continue}if(e.readUInt32LE(u)===Te.Constants.END64SIG){$=y;continue}if(e.readUInt32LE(u)===Te.Constants.ZIP64SIG){E=u,d=u+Te.readBigUInt64LE(e,u+Te.Constants.ZIP64SIZE)+Te.Constants.ZIP64LEAD;break}}if(!~E)throw new Error(Te.Errors.INVALID_FORMAT);i.loadFromBinary(e.slice(E,d)),i.commentLength&&(s=e.slice(I+Te.Constants.ENDHDR)),m&&a()}function v(){r.length>1&&!c&&r.sort((m,u)=>m.entryName.toLowerCase().localeCompare(u.entryName.toLowerCase()))}return{get entries(){return o||a(),r},get comment(){return s.toString()},set comment(m){s=Te.toBuffer(m),i.commentLength=s.length},getEntryCount:function(){return o?r.length:i.diskEntries},forEach:function(m){if(!o){h(m);return}r.forEach(m)},getEntry:function(m){return o||a(),n[m]||null},setEntry:function(m){o||a(),r.push(m),n[m.entryName]=m,i.totalEntries=r.length},deleteEntry:function(m){o||a();var u=n[m];if(u&&u.isDirectory){var y=this;this.getEntryChildren(u).forEach(function($){$.entryName!==m&&y.deleteEntry($.entryName)})}r.splice(r.indexOf(u),1),delete n[m],i.totalEntries=r.length},getEntryChildren:function(m){if(o||a(),m&&m.isDirectory){const u=[],y=m.entryName,$=y.length;return r.forEach(function(d){d.entryName.substr(0,$)===y&&u.push(d)}),u}return[]},compressToBuffer:function(){o||a(),v();const m=[],u=[];let y=0,$=0;i.size=0,i.offset=0;for(const I of r){const D=I.getCompressedData();I.header.offset=$;const M=I.packLocalHeader(),W=M.length+D.length;$+=W,m.push(M),m.push(D);const Y=I.packCentralHeader();u.push(Y),i.size+=Y.length,y+=W+Y.length}y+=i.mainHeaderSize,i.offset=$,$=0;const d=Buffer.alloc(y);for(const I of m)I.copy(d,$),$+=I.length;for(const I of u)I.copy(d,$),$+=I.length;const E=i.toBinary();return s&&s.copy(E,Te.Constants.ENDHDR),E.copy(d,$),d},toAsyncBuffer:function(m,u,y,$){try{o||a(),v();const d=[],E=[];let I=0,D=0;i.size=0,i.offset=0;const M=function(W){if(W.length>0){const Y=W.shift(),fe=Y.entryName+Y.extra.toString();y&&y(fe),Y.getCompressedDataAsync(function(H){$&&$(fe),Y.header.offset=D;const Q=Y.packLocalHeader(),j=Q.length+H.length;D+=j,d.push(Q),d.push(H);const x=Y.packCentralHeader();E.push(x),i.size+=x.length,I+=j+x.length,M(W)})}else{I+=i.mainHeaderSize,i.offset=D,D=0;const Y=Buffer.alloc(I);d.forEach(function(H){H.copy(Y,D),D+=H.length}),E.forEach(function(H){H.copy(Y,D),D+=H.length});const fe=i.toBinary();s&&s.copy(fe,Te.Constants.ENDHDR),fe.copy(Y,D),m(Y)}};M(Array.from(r))}catch(d){u(d)}}}};const Re=yn,Et=Ke,nw=Hu,sw=rw,Xt=(e,t)=>typeof e=="boolean"?e:t,Ms=(e,t)=>typeof e=="string"?e:t,iw={noSort:!1,readEntries:!1,method:Re.Constants.NONE,fs:null};var ow=function(e,t){let r=null;const n=Object.assign(Object.create(null),iw);e&&typeof e=="object"&&(e instanceof Uint8Array||(Object.assign(n,e),e=n.input?n.input:void 0,n.input&&delete n.input),Buffer.isBuffer(e)&&(r=e,n.method=Re.Constants.BUFFER,e=void 0)),Object.assign(n,t);const s=new Re(n);if(e&&typeof e=="string")if(s.fs.existsSync(e))n.method=Re.Constants.FILE,n.filename=e,r=s.fs.readFileSync(e);else throw new Error(Re.Errors.INVALID_FILENAME);const i=new sw(r,n),{canonical:o,sanitize:f}=Re;function c(a){if(a&&i){var l;if(typeof a=="string"&&(l=i.getEntry(a)),typeof a=="object"&&typeof a.entryName<"u"&&typeof a.header<"u"&&(l=i.getEntry(a.entryName)),l)return l}return null}function h(a){const{join:l,normalize:v,sep:m}=Et.posix;return l(".",v(m+a.split("\\").join(m)+m))}return{readFile:function(a,l){var v=c(a);return v&&v.getData(l)||null},readFileAsync:function(a,l){var v=c(a);v?v.getDataAsync(l):l(null,"getEntry failed for:"+a)},readAsText:function(a,l){var v=c(a);if(v){var m=v.getData();if(m&&m.length)return m.toString(l||"utf8")}return""},readAsTextAsync:function(a,l,v){var m=c(a);m?m.getDataAsync(function(u,y){if(y){l(u,y);return}u&&u.length?l(u.toString(v||"utf8")):l("")}):l("")},deleteFile:function(a){var l=c(a);l&&i.deleteEntry(l.entryName)},addZipComment:function(a){i.comment=a},getZipComment:function(){return i.comment||""},addZipEntryComment:function(a,l){var v=c(a);v&&(v.comment=l)},getZipEntryComment:function(a){var l=c(a);return l&&l.comment||""},updateFile:function(a,l){var v=c(a);v&&v.setData(l)},addLocalFile:function(a,l,v,m){if(s.fs.existsSync(a)){l=l?h(l):"";var u=a.split("\\").join("/").split("/").pop();l+=v||u;const y=s.fs.statSync(a);this.addFile(l,s.fs.readFileSync(a),m,y)}else throw new Error(Re.Errors.FILE_NOT_FOUND.replace("%s",a))},addLocalFolder:function(a,l,v,m){if(v instanceof RegExp?v=function(u){return function(y){return u.test(y)}}(v):typeof v!="function"&&(v=function(){return!0}),l=l?h(l):"",a=Et.normalize(a),s.fs.existsSync(a)){const u=s.findFiles(a),y=this;u.length&&u.forEach(function($){var d=Et.relative(a,$).split("\\").join("/");if(v(d)){var E=s.fs.statSync($);E.isFile()?y.addFile(l+d,s.fs.readFileSync($),"",m||E):y.addFile(l+d+"/",Buffer.alloc(0),"",m||E)}})}else throw new Error(Re.Errors.FILE_NOT_FOUND.replace("%s",a))},addLocalFolderAsync:function(a,l,v,m){m instanceof RegExp?m=function(y){return function($){return y.test($)}}(m):typeof m!="function"&&(m=function(){return!0}),v=v?h(v):"",a=Et.normalize(a);var u=this;s.fs.open(a,"r",function(y){if(y&&y.code==="ENOENT")l(void 0,Re.Errors.FILE_NOT_FOUND.replace("%s",a));else if(y)l(void 0,y);else{var $=s.findFiles(a),d=-1,E=function(){if(d+=1,d<$.length){var I=$[d],D=Et.relative(a,I).split("\\").join("/");D=D.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),m(D)?s.fs.stat(I,function(M,W){M&&l(void 0,M),W.isFile()?s.fs.readFile(I,function(Y,fe){Y?l(void 0,Y):(u.addFile(v+D,fe,"",W),E())}):(u.addFile(v+D+"/",Buffer.alloc(0),"",W),E())}):process.nextTick(()=>{E()})}else l(!0,void 0)};E()}})},addLocalFolderPromise:function(a,l){return new Promise((v,m)=>{const{filter:u,zipPath:y}=Object.assign({},l);this.addLocalFolderAsync(a,($,d)=>{d&&m(d),$&&v(this)},y,u)})},addFile:function(a,l,v,m){let u=c(a);const y=u!=null;y||(u=new nw,u.entryName=Re.canonical(a)),u.comment=v||"";const $=typeof m=="object"&&m instanceof s.fs.Stats;$&&(u.header.time=m.mtime);var d=u.isDirectory?16:0;let E=u.isDirectory?16384:32768;return $?E|=4095&m.mode:typeof m=="number"?E|=4095&m:E|=u.isDirectory?493:420,d=(d|E<<16)>>>0,u.attr=d,u.setData(l),y||i.setEntry(u),u},getEntries:function(a){return i.password=a,i?i.entries:[]},getEntry:function(a){return c(a)},getEntryCount:function(){return i.getEntryCount()},forEach:function(a){return i.forEach(a)},extractEntryTo:function(a,l,v,m,u,y){m=Xt(m,!1),u=Xt(u,!1),v=Xt(v,!0),y=Ms(y,Ms(u,void 0));var $=c(a);if(!$)throw new Error(Re.Errors.NO_ENTRY);var d=o($.entryName),E=f(l,y&&!$.isDirectory?y:v?d:Et.basename(d));if($.isDirectory){var I=i.getEntryChildren($);return I.forEach(function(W){if(W.isDirectory)return;var Y=W.getData();if(!Y)throw new Error(Re.Errors.CANT_EXTRACT_FILE);var fe=o(W.entryName),H=f(l,v?fe:Et.basename(fe));const Q=u?W.header.fileAttr:void 0;s.writeFileTo(H,Y,m,Q)}),!0}var D=$.getData(i.password);if(!D)throw new Error(Re.Errors.CANT_EXTRACT_FILE);if(s.fs.existsSync(E)&&!m)throw new Error(Re.Errors.CANT_OVERRIDE);const M=u?a.header.fileAttr:void 0;return s.writeFileTo(E,D,m,M),!0},test:function(a){if(!i)return!1;for(var l in i.entries)try{if(l.isDirectory)continue;var v=i.entries[l].getData(a);if(!v)return!1}catch{return!1}return!0},extractAllTo:function(a,l,v,m){if(l=Xt(l,!1),m=Ms(v,m),v=Xt(v,!1),!i)throw new Error(Re.Errors.NO_ZIP);i.entries.forEach(function(u){var y=f(a,o(u.entryName.toString()));if(u.isDirectory){s.makeDir(y);return}var $=u.getData(m);if(!$)throw new Error(Re.Errors.CANT_EXTRACT_FILE);const d=v?u.header.fileAttr:void 0;s.writeFileTo(y,$,l,d);try{s.fs.utimesSync(y,u.header.time,u.header.time)}catch{throw new Error(Re.Errors.CANT_EXTRACT_FILE)}})},extractAllToAsync:function(a,l,v,m){if(typeof l=="function"&&!m&&(m=l),l=Xt(l,!1),typeof v=="function"&&!m&&(m=v),v=Xt(v,!1),!m)return new Promise((E,I)=>{this.extractAllToAsync(a,l,v,function(D){D?I(D):E(this)})});if(!i){m(new Error(Re.Errors.NO_ZIP));return}a=Et.resolve(a);const u=E=>f(a,Et.normalize(o(E.entryName.toString()))),y=(E,I)=>new Error(E+': "'+I+'"'),$=[],d=[];i.entries.forEach(E=>{E.isDirectory?$.push(E):d.push(E)});for(const E of $){const I=u(E),D=v?E.header.fileAttr:void 0;try{s.makeDir(I),D&&s.fs.chmodSync(I,D),s.fs.utimesSync(I,E.header.time,E.header.time)}catch{m(y("Unable to create folder",I))}}d.reverse().reduce(function(E,I){return function(D){if(D)E(D);else{const M=Et.normalize(o(I.entryName.toString())),W=f(a,M);I.getDataAsync(function(Y,fe){if(fe)E(new Error(fe));else if(!Y)E(new Error(Re.Errors.CANT_EXTRACT_FILE));else{const H=v?I.header.fileAttr:void 0;s.writeFileToAsync(W,Y,l,H,function(Q){Q||E(y("Unable to write file",W)),s.fs.utimes(W,I.header.time,I.header.time,function(j){j?E(y("Unable to set times",W)):E()})})}})}}},m)()},writeZip:function(a,l){if(arguments.length===1&&typeof a=="function"&&(l=a,a=""),!a&&n.filename&&(a=n.filename),!!a){var v=i.compressToBuffer();if(v){var m=s.writeFileTo(a,v,!0);typeof l=="function"&&l(m?null:new Error("failed"),"")}}},writeZipPromise:function(a,l){const{overwrite:v,perm:m}=Object.assign({overwrite:!0},l);return new Promise((u,y)=>{!a&&n.filename&&(a=n.filename),a||y("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then($=>{const d=E=>E?u(E):y("ADM-ZIP: Wasn't able to write zip file");s.writeFileToAsync(a,$,v,m,d)},y)})},toBufferPromise:function(){return new Promise((a,l)=>{i.toAsyncBuffer(a,l)})},toBuffer:function(a,l,v,m){return this.valueOf=2,typeof a=="function"?(i.toAsyncBuffer(a,l,v,m),null):i.compressToBuffer()}}};const sc=ei(ow);class it{constructor(t,r){this.bw=t,this.#r.getVersion=r,ne.ipcMain.handle("getInfo",()=>this.#r),ne.ipcMain.handle("existsSync",(s,i)=>st.existsSync(i)),ne.ipcMain.handle("copySync",(s,i,o)=>st.copySync(i,o)),ne.ipcMain.handle("removeSync",(s,i)=>st.removeSync(i)),ne.ipcMain.handle("ensureFileSync",(s,i)=>st.ensureFileSync(i)),ne.ipcMain.handle("readFileSync",(s,i)=>st.readFileSync(i,{encoding:"utf8"})),ne.ipcMain.handle("readFile",(s,i,o)=>st.readFile(i,o)),ne.ipcMain.handle("writeFileSync",(s,i,o,f)=>st.writeFileSync(i,o,f)),ne.ipcMain.handle("appendFile",(s,i,o,f)=>st.appendFile(i,o).catch(c=>f(c))),ne.ipcMain.handle("win_close",()=>t.close()),ne.ipcMain.handle("win_setTitle",(s,i)=>t.setTitle(i)),ne.ipcMain.handle("showMessageBox",(s,i)=>ne.dialog.showMessageBox(i)),ne.ipcMain.handle("capturePage",(s,i,o,f)=>t.webContents.capturePage().then(c=>{st.ensureFileSync(i);const h=c.resize({width:o,height:f,quality:"best"}),a=i.slice(-4)===".png"?h.toPNG():h.toJPEG(80);st.writeFileSync(i,a)})),ne.ipcMain.handle("navigate_to",(s,i)=>ne.shell.openExternal(i)),ne.ipcMain.handle("openDevTools",()=>t.webContents.openDevTools()),ne.ipcMain.handle("win_ev_devtools_opened",(s,i)=>t.webContents.on("devtools-opened",i));let n;ne.ipcMain.handle("Store",(s,i)=>{n=new Ya(i)}),ne.ipcMain.handle("flush",(s,i)=>{n.store=i}),ne.ipcMain.handle("Store_isEmpty",()=>n.size===0),ne.ipcMain.handle("Store_get",()=>n.store),ne.ipcMain.handle("zip",(s,i,o)=>{const f=new sc;f.addLocalFolder(i),f.writeZip(o)}),ne.ipcMain.handle("unzip",(s,i,o)=>{st.removeSync(o),st.ensureDirSync(o),new sc(i).extractAllTo(o,!0)}),ne.ipcMain.handle("isSimpleFullScreen",()=>t.simpleFullScreen),this.#p?(ne.ipcMain.handle("setSimpleFullScreen",(s,i)=>{this.#s=!0,t.setSimpleFullScreen(i),i||(t.setPosition(this.#c,this.#u),t.setContentSize(this.#o,this.#a+it.#i)),this.#s=!1}),t.on("enter-full-screen",()=>{t.setContentSize(this.#t,this.#e-it.#i)}),t.on("leave-full-screen",()=>{this.#l(!1,this.#c,this.#u,this.#o,this.#a+it.#i)})):ne.ipcMain.handle("setSimpleFullScreen",(s,i)=>{t.setSimpleFullScreen(i),i||t.setContentSize(this.#o,this.#a+it.#i)}),ne.ipcMain.handle("window",(s,i,o,f,c,h)=>this.#l(i,o,f,c,h)),t.on("move",()=>this.#d())}#n=ne.screen.getPrimaryDisplay().size;#t=this.#n.width;#e=this.#n.height;#r={getAppPath:ne.app.getAppPath(),isPackaged:ne.app.isPackaged,downloads:ne.app.getPath("downloads"),userData:ne.app.getPath("userData"),getVersion:"",env:{...process.env},platform:process.platform,arch:process.arch};#c=0;#u=0;#o=0;#a=0;#p=process.platform==="win32";#f=void 0;#d(){if(this.#f||this.#s)return;this.#s=!0;const{x:t,y:r}=this.bw.getBounds();this.#f=setTimeout(()=>{if(this.#f=void 0,this.#h){this.#h=!1;return}this.#s=!1;const n=this.bw.getBounds();if(t!==n.x||r!==n.y){this.#d();return}this.#l(!1,n.x,n.y,this.#o,this.#a)},1e3/60*10)}#h=!1;#s=!1;#l(t,r,n,s,i){this.#s||(this.#s=!0,!this.bw.simpleFullScreen&&(t?(r=(this.#t-s)*.5,n=(this.#e-i)*.5):((r<0||r>this.#t)&&(r=0),(n<0||n>this.#e)&&(n=0)),(this.#c!==r||this.#u!==n)&&(this.#c=r,this.#u=n,this.bw.webContents.send("save_win_pos",r,n),this.bw.setPosition(r,n)),this.#o=s,this.#a=i,this.bw.setContentSize(s,i+it.#i),this.#s=!1))}openDevTools(){this.bw.webContents.openDevTools()}static#m;static initRenderer(t,r,n){let s=()=>{},i;try{Ya.initRenderer(),process.env.ELECTRON_DISABLE_SECURITY_WARNINGS="true",i=new ne.BrowserWindow({...n,fullscreenable:!0,maximizable:!1,webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:`${__dirname}/preload.js`}}),i.setMenuBarVisibility(!1);const o=i.getContentSize()[1];i.setMenuBarVisibility(!0);const f=i.getContentSize()[1];it.#i=o-f,it.#m=new it(i,r),s=()=>it.#m.openDevTools(),i.loadFile(t),i.once("ready-to-show",()=>i.show())}catch(o){throw console.error(`ealy err:${o}`),s(),"initRenderer error"}return i}static#i=0}module.exports=it;exports.appMain=it;
//# sourceMappingURL=appMain.js.map
