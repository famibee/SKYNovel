"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const Z=require("electron"),ls=require("fs"),Bc=require("constants"),Kc=require("stream"),Zc=require("util"),Wc=require("assert"),Re=require("path"),He=require("node:process"),re=require("node:path"),ye=require("node:util"),X=require("node:fs"),Xt=require("node:crypto"),Xc=require("node:assert"),Xr=require("node:os"),Jc=require("node:url"),Wo=require("zlib"),Yc=require("crypto");var Xn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Te={},de={};de.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,n)=>{t.push((s,i)=>s!=null?n(s):r(i)),e.apply(this,t)})},"name",{value:e.name})};de.fromPromise=function(e){return Object.defineProperty(function(...t){const r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);t.pop(),e.apply(this,t).then(n=>r(null,n),r)},"name",{value:e.name})};var it=Bc,Qc=process.cwd,kr=null,eu=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return kr||(kr=Qc.call(process)),kr};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var Si=process.chdir;process.chdir=function(e){kr=null,Si.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Si)}var tu=ru;function ru(e){it.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=i(e.chown),e.fchown=i(e.fchown),e.lchown=i(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=s(e.chmodSync),e.fchmodSync=s(e.fchmodSync),e.lchmodSync=s(e.lchmodSync),e.stat=c(e.stat),e.fstat=c(e.fstat),e.lstat=c(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(a,h,E){E&&process.nextTick(E)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(a,h,E,m){m&&process.nextTick(m)},e.lchownSync=function(){}),eu==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(a){function h(E,m,u){var y=Date.now(),$=0;a(E,m,function f(g){if(g&&(g.code==="EACCES"||g.code==="EPERM"||g.code==="EBUSY")&&Date.now()-y<6e4){setTimeout(function(){e.stat(m,function(w,I){w&&w.code==="ENOENT"?a(E,m,f):u(g)})},$),$<100&&($+=10);return}u&&u(g)})}return Object.setPrototypeOf&&Object.setPrototypeOf(h,a),h}(e.rename)),e.read=typeof e.read!="function"?e.read:function(a){function h(E,m,u,y,$,f){var g;if(f&&typeof f=="function"){var w=0;g=function(I,C,H){if(I&&I.code==="EAGAIN"&&w<10)return w++,a.call(e,E,m,u,y,$,g);f.apply(this,arguments)}}return a.call(e,E,m,u,y,$,g)}return Object.setPrototypeOf&&Object.setPrototypeOf(h,a),h}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(a){return function(h,E,m,u,y){for(var $=0;;)try{return a.call(e,h,E,m,u,y)}catch(f){if(f.code==="EAGAIN"&&$<10){$++;continue}throw f}}}(e.readSync);function t(a){a.lchmod=function(h,E,m){a.open(h,it.O_WRONLY|it.O_SYMLINK,E,function(u,y){if(u){m&&m(u);return}a.fchmod(y,E,function($){a.close(y,function(f){m&&m($||f)})})})},a.lchmodSync=function(h,E){var m=a.openSync(h,it.O_WRONLY|it.O_SYMLINK,E),u=!0,y;try{y=a.fchmodSync(m,E),u=!1}finally{if(u)try{a.closeSync(m)}catch{}else a.closeSync(m)}return y}}function r(a){it.hasOwnProperty("O_SYMLINK")&&a.futimes?(a.lutimes=function(h,E,m,u){a.open(h,it.O_SYMLINK,function(y,$){if(y){u&&u(y);return}a.futimes($,E,m,function(f){a.close($,function(g){u&&u(f||g)})})})},a.lutimesSync=function(h,E,m){var u=a.openSync(h,it.O_SYMLINK),y,$=!0;try{y=a.futimesSync(u,E,m),$=!1}finally{if($)try{a.closeSync(u)}catch{}else a.closeSync(u)}return y}):a.futimes&&(a.lutimes=function(h,E,m,u){u&&process.nextTick(u)},a.lutimesSync=function(){})}function n(a){return a&&function(h,E,m){return a.call(e,h,E,function(u){d(u)&&(u=null),m&&m.apply(this,arguments)})}}function s(a){return a&&function(h,E){try{return a.call(e,h,E)}catch(m){if(!d(m))throw m}}}function i(a){return a&&function(h,E,m,u){return a.call(e,h,E,m,function(y){d(y)&&(y=null),u&&u.apply(this,arguments)})}}function o(a){return a&&function(h,E,m){try{return a.call(e,h,E,m)}catch(u){if(!d(u))throw u}}}function c(a){return a&&function(h,E,m){typeof E=="function"&&(m=E,E=null);function u(y,$){$&&($.uid<0&&($.uid+=4294967296),$.gid<0&&($.gid+=4294967296)),m&&m.apply(this,arguments)}return E?a.call(e,h,E,u):a.call(e,h,u)}}function l(a){return a&&function(h,E){var m=E?a.call(e,h,E):a.call(e,h);return m&&(m.uid<0&&(m.uid+=4294967296),m.gid<0&&(m.gid+=4294967296)),m}}function d(a){if(!a||a.code==="ENOSYS")return!0;var h=!process.getuid||process.getuid()!==0;return!!(h&&(a.code==="EINVAL"||a.code==="EPERM"))}}var Ni=Kc.Stream,nu=su;function su(e){return{ReadStream:t,WriteStream:r};function t(n,s){if(!(this instanceof t))return new t(n,s);Ni.call(this);var i=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,s=s||{};for(var o=Object.keys(s),c=0,l=o.length;c<l;c++){var d=o[c];this[d]=s[d]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){i._read()});return}e.open(this.path,this.flags,this.mode,function(a,h){if(a){i.emit("error",a),i.readable=!1;return}i.fd=h,i.emit("open",h),i._read()})}function r(n,s){if(!(this instanceof r))return new r(n,s);Ni.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,s=s||{};for(var i=Object.keys(s),o=0,c=i.length;o<c;o++){var l=i[o];this[l]=s[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var iu=au,ou=Object.getPrototypeOf||function(e){return e.__proto__};function au(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:ou(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}var ae=ls,cu=tu,uu=nu,lu=iu,wr=Zc,ge,Hr;typeof Symbol=="function"&&typeof Symbol.for=="function"?(ge=Symbol.for("graceful-fs.queue"),Hr=Symbol.for("graceful-fs.previous")):(ge="___graceful-fs.queue",Hr="___graceful-fs.previous");function fu(){}function Xo(e,t){Object.defineProperty(e,ge,{get:function(){return t}})}var _t=fu;wr.debuglog?_t=wr.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(_t=function(){var e=wr.format.apply(wr,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});if(!ae[ge]){var du=Xn[ge]||[];Xo(ae,du),ae.close=function(e){function t(r,n){return e.call(ae,r,function(s){s||Ii(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,Hr,{value:e}),t}(ae.close),ae.closeSync=function(e){function t(r){e.apply(ae,arguments),Ii()}return Object.defineProperty(t,Hr,{value:e}),t}(ae.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){_t(ae[ge]),Wc.equal(ae[ge].length,0)})}Xn[ge]||Xo(Xn,ae[ge]);var Ht=fs(lu(ae));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!ae.__patched&&(Ht=fs(ae),ae.__patched=!0);function fs(e){cu(e),e.gracefulify=fs,e.createReadStream=C,e.createWriteStream=H;var t=e.readFile;e.readFile=r;function r(b,F,z){return typeof F=="function"&&(z=F,F=null),B(b,F,z);function B(T,R,D,A){return t(T,R,function(L){L&&(L.code==="EMFILE"||L.code==="ENFILE")?bt([B,[T,R,D],L,A||Date.now(),Date.now()]):typeof D=="function"&&D.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=s;function s(b,F,z,B){return typeof z=="function"&&(B=z,z=null),T(b,F,z,B);function T(R,D,A,L,k){return n(R,D,A,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?bt([T,[R,D,A,L],j,k||Date.now(),Date.now()]):typeof L=="function"&&L.apply(this,arguments)})}}var i=e.appendFile;i&&(e.appendFile=o);function o(b,F,z,B){return typeof z=="function"&&(B=z,z=null),T(b,F,z,B);function T(R,D,A,L,k){return i(R,D,A,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?bt([T,[R,D,A,L],j,k||Date.now(),Date.now()]):typeof L=="function"&&L.apply(this,arguments)})}}var c=e.copyFile;c&&(e.copyFile=l);function l(b,F,z,B){return typeof z=="function"&&(B=z,z=0),T(b,F,z,B);function T(R,D,A,L,k){return c(R,D,A,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?bt([T,[R,D,A,L],j,k||Date.now(),Date.now()]):typeof L=="function"&&L.apply(this,arguments)})}}var d=e.readdir;e.readdir=h;var a=/^v[0-5]\./;function h(b,F,z){typeof F=="function"&&(z=F,F=null);var B=a.test(process.version)?function(D,A,L,k){return d(D,T(D,A,L,k))}:function(D,A,L,k){return d(D,A,T(D,A,L,k))};return B(b,F,z);function T(R,D,A,L){return function(k,j){k&&(k.code==="EMFILE"||k.code==="ENFILE")?bt([B,[R,D,A],k,L||Date.now(),Date.now()]):(j&&j.sort&&j.sort(),typeof A=="function"&&A.call(this,k,j))}}}if(process.version.substr(0,4)==="v0.8"){var E=uu(e);f=E.ReadStream,w=E.WriteStream}var m=e.ReadStream;m&&(f.prototype=Object.create(m.prototype),f.prototype.open=g);var u=e.WriteStream;u&&(w.prototype=Object.create(u.prototype),w.prototype.open=I),Object.defineProperty(e,"ReadStream",{get:function(){return f},set:function(b){f=b},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return w},set:function(b){w=b},enumerable:!0,configurable:!0});var y=f;Object.defineProperty(e,"FileReadStream",{get:function(){return y},set:function(b){y=b},enumerable:!0,configurable:!0});var $=w;Object.defineProperty(e,"FileWriteStream",{get:function(){return $},set:function(b){$=b},enumerable:!0,configurable:!0});function f(b,F){return this instanceof f?(m.apply(this,arguments),this):f.apply(Object.create(f.prototype),arguments)}function g(){var b=this;Q(b.path,b.flags,b.mode,function(F,z){F?(b.autoClose&&b.destroy(),b.emit("error",F)):(b.fd=z,b.emit("open",z),b.read())})}function w(b,F){return this instanceof w?(u.apply(this,arguments),this):w.apply(Object.create(w.prototype),arguments)}function I(){var b=this;Q(b.path,b.flags,b.mode,function(F,z){F?(b.destroy(),b.emit("error",F)):(b.fd=z,b.emit("open",z))})}function C(b,F){return new e.ReadStream(b,F)}function H(b,F){return new e.WriteStream(b,F)}var G=e.open;e.open=Q;function Q(b,F,z,B){return typeof z=="function"&&(B=z,z=null),T(b,F,z,B);function T(R,D,A,L,k){return G(R,D,A,function(j,P){j&&(j.code==="EMFILE"||j.code==="ENFILE")?bt([T,[R,D,A,L],j,k||Date.now(),Date.now()]):typeof L=="function"&&L.apply(this,arguments)})}}return e}function bt(e){_t("ENQUEUE",e[0].name,e[1]),ae[ge].push(e),ds()}var Sr;function Ii(){for(var e=Date.now(),t=0;t<ae[ge].length;++t)ae[ge][t].length>2&&(ae[ge][t][3]=e,ae[ge][t][4]=e);ds()}function ds(){if(clearTimeout(Sr),Sr=void 0,ae[ge].length!==0){var e=ae[ge].shift(),t=e[0],r=e[1],n=e[2],s=e[3],i=e[4];if(s===void 0)_t("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-s>=6e4){_t("TIMEOUT",t.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var c=Date.now()-i,l=Math.max(i-s,1),d=Math.min(l*1.2,100);c>=d?(_t("RETRY",t.name,r),t.apply(null,r.concat([s]))):ae[ge].push(e)}Sr===void 0&&(Sr=setTimeout(ds,0))}}(function(e){const t=de.fromCallback,r=Ht,n=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(s=>typeof r[s]=="function");Object.assign(e,r),n.forEach(s=>{e[s]=t(r[s])}),e.exists=function(s,i){return typeof i=="function"?r.exists(s,i):new Promise(o=>r.exists(s,o))},e.read=function(s,i,o,c,l,d){return typeof d=="function"?r.read(s,i,o,c,l,d):new Promise((a,h)=>{r.read(s,i,o,c,l,(E,m,u)=>{if(E)return h(E);a({bytesRead:m,buffer:u})})})},e.write=function(s,i,...o){return typeof o[o.length-1]=="function"?r.write(s,i,...o):new Promise((c,l)=>{r.write(s,i,...o,(d,a,h)=>{if(d)return l(d);c({bytesWritten:a,buffer:h})})})},e.readv=function(s,i,...o){return typeof o[o.length-1]=="function"?r.readv(s,i,...o):new Promise((c,l)=>{r.readv(s,i,...o,(d,a,h)=>{if(d)return l(d);c({bytesRead:a,buffers:h})})})},e.writev=function(s,i,...o){return typeof o[o.length-1]=="function"?r.writev(s,i,...o):new Promise((c,l)=>{r.writev(s,i,...o,(d,a,h)=>{if(d)return l(d);c({bytesWritten:a,buffers:h})})})},typeof r.realpath.native=="function"?e.realpath.native=t(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")})(Te);var hs={},Jo={};const hu=Re;Jo.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(hu.parse(t).root,""))){const n=new Error(`Path contains invalid characters: ${t}`);throw n.code="EINVAL",n}};const Yo=Te,{checkPath:Qo}=Jo,ea=e=>{const t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};hs.makeDir=async(e,t)=>(Qo(e),Yo.mkdir(e,{mode:ea(t),recursive:!0}));hs.makeDirSync=(e,t)=>(Qo(e),Yo.mkdirSync(e,{mode:ea(t),recursive:!0}));const mu=de.fromPromise,{makeDir:pu,makeDirSync:Cn}=hs,Dn=mu(pu);var Ye={mkdirs:Dn,mkdirsSync:Cn,mkdirp:Dn,mkdirpSync:Cn,ensureDir:Dn,ensureDirSync:Cn};const yu=de.fromPromise,ta=Te;function $u(e){return ta.access(e).then(()=>!0).catch(()=>!1)}var It={pathExists:yu($u),pathExistsSync:ta.existsSync};const Ft=Te,Eu=de.fromPromise;async function gu(e,t,r){const n=await Ft.open(e,"r+");let s=null;try{await Ft.futimes(n,t,r)}finally{try{await Ft.close(n)}catch(i){s=i}}if(s)throw s}function vu(e,t,r){const n=Ft.openSync(e,"r+");return Ft.futimesSync(n,t,r),Ft.closeSync(n)}var ra={utimesMillis:Eu(gu),utimesMillisSync:vu};const Ut=Te,pe=Re,Oi=de.fromPromise;function _u(e,t,r){const n=r.dereference?s=>Ut.stat(s,{bigint:!0}):s=>Ut.lstat(s,{bigint:!0});return Promise.all([n(e),n(t).catch(s=>{if(s.code==="ENOENT")return null;throw s})]).then(([s,i])=>({srcStat:s,destStat:i}))}function wu(e,t,r){let n;const s=r.dereference?o=>Ut.statSync(o,{bigint:!0}):o=>Ut.lstatSync(o,{bigint:!0}),i=s(e);try{n=s(t)}catch(o){if(o.code==="ENOENT")return{srcStat:i,destStat:null};throw o}return{srcStat:i,destStat:n}}async function Su(e,t,r,n){const{srcStat:s,destStat:i}=await _u(e,t,n);if(i){if(pr(s,i)){const o=pe.basename(e),c=pe.basename(t);if(r==="move"&&o!==c&&o.toLowerCase()===c.toLowerCase())return{srcStat:s,destStat:i,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!i.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!s.isDirectory()&&i.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(s.isDirectory()&&ms(e,t))throw new Error(Yr(e,t,r));return{srcStat:s,destStat:i}}function Nu(e,t,r,n){const{srcStat:s,destStat:i}=wu(e,t,n);if(i){if(pr(s,i)){const o=pe.basename(e),c=pe.basename(t);if(r==="move"&&o!==c&&o.toLowerCase()===c.toLowerCase())return{srcStat:s,destStat:i,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!i.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!s.isDirectory()&&i.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(s.isDirectory()&&ms(e,t))throw new Error(Yr(e,t,r));return{srcStat:s,destStat:i}}async function na(e,t,r,n){const s=pe.resolve(pe.dirname(e)),i=pe.resolve(pe.dirname(r));if(i===s||i===pe.parse(i).root)return;let o;try{o=await Ut.stat(i,{bigint:!0})}catch(c){if(c.code==="ENOENT")return;throw c}if(pr(t,o))throw new Error(Yr(e,r,n));return na(e,t,i,n)}function sa(e,t,r,n){const s=pe.resolve(pe.dirname(e)),i=pe.resolve(pe.dirname(r));if(i===s||i===pe.parse(i).root)return;let o;try{o=Ut.statSync(i,{bigint:!0})}catch(c){if(c.code==="ENOENT")return;throw c}if(pr(t,o))throw new Error(Yr(e,r,n));return sa(e,t,i,n)}function pr(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function ms(e,t){const r=pe.resolve(e).split(pe.sep).filter(s=>s),n=pe.resolve(t).split(pe.sep).filter(s=>s);return r.every((s,i)=>n[i]===s)}function Yr(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}var qt={checkPaths:Oi(Su),checkPathsSync:Nu,checkParentPaths:Oi(na),checkParentPathsSync:sa,isSrcSubdir:ms,areIdentical:pr};const Ne=Te,ur=Re,{mkdirs:Iu}=Ye,{pathExists:Ou}=It,{utimesMillis:bu}=ra,lr=qt;async function Pu(e,t,r={}){typeof r=="function"&&(r={filter:r}),r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001");const{srcStat:n,destStat:s}=await lr.checkPaths(e,t,"copy",r);if(await lr.checkParentPaths(e,n,t,"copy"),!await ia(e,t,r))return;const o=ur.dirname(t);await Ou(o)||await Iu(o),await oa(s,e,t,r)}async function ia(e,t,r){return r.filter?r.filter(e,t):!0}async function oa(e,t,r,n){const i=await(n.dereference?Ne.stat:Ne.lstat)(t);if(i.isDirectory())return Du(i,e,t,r,n);if(i.isFile()||i.isCharacterDevice()||i.isBlockDevice())return Ru(i,e,t,r,n);if(i.isSymbolicLink())return Lu(e,t,r,n);throw i.isSocket()?new Error(`Cannot copy a socket file: ${t}`):i.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}async function Ru(e,t,r,n,s){if(!t)return bi(e,r,n,s);if(s.overwrite)return await Ne.unlink(n),bi(e,r,n,s);if(s.errorOnExist)throw new Error(`'${n}' already exists`)}async function bi(e,t,r,n){if(await Ne.copyFile(t,r),n.preserveTimestamps){Tu(e.mode)&&await Cu(r,e.mode);const s=await Ne.stat(t);await bu(r,s.atime,s.mtime)}return Ne.chmod(r,e.mode)}function Tu(e){return(e&128)===0}function Cu(e,t){return Ne.chmod(e,t|128)}async function Du(e,t,r,n,s){t||await Ne.mkdir(n);const i=await Ne.readdir(r);await Promise.all(i.map(async o=>{const c=ur.join(r,o),l=ur.join(n,o);if(!await ia(c,l,s))return;const{destStat:a}=await lr.checkPaths(c,l,"copy",s);return oa(a,c,l,s)})),t||await Ne.chmod(n,e.mode)}async function Lu(e,t,r,n){let s=await Ne.readlink(t);if(n.dereference&&(s=ur.resolve(process.cwd(),s)),!e)return Ne.symlink(s,r);let i=null;try{i=await Ne.readlink(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return Ne.symlink(s,r);throw o}if(n.dereference&&(i=ur.resolve(process.cwd(),i)),lr.isSrcSubdir(s,i))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${i}'.`);if(lr.isSrcSubdir(i,s))throw new Error(`Cannot overwrite '${i}' with '${s}'.`);return await Ne.unlink(r),Ne.symlink(s,r)}var Au=Pu;const be=Ht,fr=Re,ku=Ye.mkdirsSync,Fu=ra.utimesMillisSync,dr=qt;function ju(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:n,destStat:s}=dr.checkPathsSync(e,t,"copy",r);if(dr.checkParentPathsSync(e,n,t,"copy"),r.filter&&!r.filter(e,t))return;const i=fr.dirname(t);return be.existsSync(i)||ku(i),aa(s,e,t,r)}function aa(e,t,r,n){const i=(n.dereference?be.statSync:be.lstatSync)(t);if(i.isDirectory())return qu(i,e,t,r,n);if(i.isFile()||i.isCharacterDevice()||i.isBlockDevice())return Mu(i,e,t,r,n);if(i.isSymbolicLink())return Ku(e,t,r,n);throw i.isSocket()?new Error(`Cannot copy a socket file: ${t}`):i.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function Mu(e,t,r,n,s){return t?Uu(e,r,n,s):ca(e,r,n,s)}function Uu(e,t,r,n){if(n.overwrite)return be.unlinkSync(r),ca(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function ca(e,t,r,n){return be.copyFileSync(t,r),n.preserveTimestamps&&zu(e.mode,t,r),ps(r,e.mode)}function zu(e,t,r){return Vu(e)&&xu(r,e),Hu(t,r)}function Vu(e){return(e&128)===0}function xu(e,t){return ps(e,t|128)}function ps(e,t){return be.chmodSync(e,t)}function Hu(e,t){const r=be.statSync(e);return Fu(t,r.atime,r.mtime)}function qu(e,t,r,n,s){return t?ua(r,n,s):Gu(e.mode,r,n,s)}function Gu(e,t,r,n){return be.mkdirSync(r),ua(t,r,n),ps(r,e)}function ua(e,t,r){be.readdirSync(e).forEach(n=>Bu(n,e,t,r))}function Bu(e,t,r,n){const s=fr.join(t,e),i=fr.join(r,e);if(n.filter&&!n.filter(s,i))return;const{destStat:o}=dr.checkPathsSync(s,i,"copy",n);return aa(o,s,i,n)}function Ku(e,t,r,n){let s=be.readlinkSync(t);if(n.dereference&&(s=fr.resolve(process.cwd(),s)),e){let i;try{i=be.readlinkSync(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return be.symlinkSync(s,r);throw o}if(n.dereference&&(i=fr.resolve(process.cwd(),i)),dr.isSrcSubdir(s,i))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${i}'.`);if(dr.isSrcSubdir(i,s))throw new Error(`Cannot overwrite '${i}' with '${s}'.`);return Zu(s,r)}else return be.symlinkSync(s,r)}function Zu(e,t){return be.unlinkSync(t),be.symlinkSync(e,t)}var Wu=ju;const Xu=de.fromPromise;var ys={copy:Xu(Au),copySync:Wu};const la=Ht,Ju=de.fromCallback;function Yu(e,t){la.rm(e,{recursive:!0,force:!0},t)}function Qu(e){la.rmSync(e,{recursive:!0,force:!0})}var Qr={remove:Ju(Yu),removeSync:Qu};const el=de.fromPromise,fa=Te,da=Re,ha=Ye,ma=Qr,Pi=el(async function(t){let r;try{r=await fa.readdir(t)}catch{return ha.mkdirs(t)}return Promise.all(r.map(n=>ma.remove(da.join(t,n))))});function Ri(e){let t;try{t=fa.readdirSync(e)}catch{return ha.mkdirsSync(e)}t.forEach(r=>{r=da.join(e,r),ma.removeSync(r)})}var tl={emptyDirSync:Ri,emptydirSync:Ri,emptyDir:Pi,emptydir:Pi};const rl=de.fromPromise,pa=Re,tt=Te,ya=Ye;async function nl(e){let t;try{t=await tt.stat(e)}catch{}if(t&&t.isFile())return;const r=pa.dirname(e);let n=null;try{n=await tt.stat(r)}catch(s){if(s.code==="ENOENT"){await ya.mkdirs(r),await tt.writeFile(e,"");return}else throw s}n.isDirectory()?await tt.writeFile(e,""):await tt.readdir(r)}function sl(e){let t;try{t=tt.statSync(e)}catch{}if(t&&t.isFile())return;const r=pa.dirname(e);try{tt.statSync(r).isDirectory()||tt.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")ya.mkdirsSync(r);else throw n}tt.writeFileSync(e,"")}var il={createFile:rl(nl),createFileSync:sl};const ol=de.fromPromise,$a=Re,ft=Te,Ea=Ye,{pathExists:al}=It,{areIdentical:ga}=qt;async function cl(e,t){let r;try{r=await ft.lstat(t)}catch{}let n;try{n=await ft.lstat(e)}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}if(r&&ga(n,r))return;const s=$a.dirname(t);await al(s)||await Ea.mkdirs(s),await ft.link(e,t)}function ul(e,t){let r;try{r=ft.lstatSync(t)}catch{}try{const i=ft.lstatSync(e);if(r&&ga(i,r))return}catch(i){throw i.message=i.message.replace("lstat","ensureLink"),i}const n=$a.dirname(t);return ft.existsSync(n)||Ea.mkdirsSync(n),ft.linkSync(e,t)}var ll={createLink:ol(cl),createLinkSync:ul};const ht=Re,nr=Te,{pathExists:fl}=It,dl=de.fromPromise;async function hl(e,t){if(ht.isAbsolute(e)){try{await nr.lstat(e)}catch(i){throw i.message=i.message.replace("lstat","ensureSymlink"),i}return{toCwd:e,toDst:e}}const r=ht.dirname(t),n=ht.join(r,e);if(await fl(n))return{toCwd:n,toDst:e};try{await nr.lstat(e)}catch(i){throw i.message=i.message.replace("lstat","ensureSymlink"),i}return{toCwd:e,toDst:ht.relative(r,e)}}function ml(e,t){if(ht.isAbsolute(e)){if(!nr.existsSync(e))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}const r=ht.dirname(t),n=ht.join(r,e);if(nr.existsSync(n))return{toCwd:n,toDst:e};if(!nr.existsSync(e))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:ht.relative(r,e)}}var pl={symlinkPaths:dl(hl),symlinkPathsSync:ml};const va=Te,yl=de.fromPromise;async function $l(e,t){if(t)return t;let r;try{r=await va.lstat(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}function El(e,t){if(t)return t;let r;try{r=va.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}var gl={symlinkType:yl($l),symlinkTypeSync:El};const vl=de.fromPromise,_a=Re,Ze=Te,{mkdirs:_l,mkdirsSync:wl}=Ye,{symlinkPaths:Sl,symlinkPathsSync:Nl}=pl,{symlinkType:Il,symlinkTypeSync:Ol}=gl,{pathExists:bl}=It,{areIdentical:wa}=qt;async function Pl(e,t,r){let n;try{n=await Ze.lstat(t)}catch{}if(n&&n.isSymbolicLink()){const[c,l]=await Promise.all([Ze.stat(e),Ze.stat(t)]);if(wa(c,l))return}const s=await Sl(e,t);e=s.toDst;const i=await Il(s.toCwd,r),o=_a.dirname(t);return await bl(o)||await _l(o),Ze.symlink(e,t,i)}function Rl(e,t,r){let n;try{n=Ze.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){const c=Ze.statSync(e),l=Ze.statSync(t);if(wa(c,l))return}const s=Nl(e,t);e=s.toDst,r=Ol(s.toCwd,r);const i=_a.dirname(t);return Ze.existsSync(i)||wl(i),Ze.symlinkSync(e,t,r)}var Tl={createSymlink:vl(Pl),createSymlinkSync:Rl};const{createFile:Ti,createFileSync:Ci}=il,{createLink:Di,createLinkSync:Li}=ll,{createSymlink:Ai,createSymlinkSync:ki}=Tl;var Cl={createFile:Ti,createFileSync:Ci,ensureFile:Ti,ensureFileSync:Ci,createLink:Di,createLinkSync:Li,ensureLink:Di,ensureLinkSync:Li,createSymlink:Ai,createSymlinkSync:ki,ensureSymlink:Ai,ensureSymlinkSync:ki};function Dl(e,{EOL:t=`
`,finalEOL:r=!0,replacer:n=null,spaces:s}={}){const i=r?t:"";return JSON.stringify(e,n,s).replace(/\n/g,t)+i}function Ll(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}var $s={stringify:Dl,stripBom:Ll};let zt;try{zt=Ht}catch{zt=ls}const en=de,{stringify:Sa,stripBom:Na}=$s;async function Al(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||zt,n="throws"in t?t.throws:!0;let s=await en.fromCallback(r.readFile)(e,t);s=Na(s);let i;try{i=JSON.parse(s,t?t.reviver:null)}catch(o){if(n)throw o.message=`${e}: ${o.message}`,o;return null}return i}const kl=en.fromPromise(Al);function Fl(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||zt,n="throws"in t?t.throws:!0;try{let s=r.readFileSync(e,t);return s=Na(s),JSON.parse(s,t.reviver)}catch(s){if(n)throw s.message=`${e}: ${s.message}`,s;return null}}async function jl(e,t,r={}){const n=r.fs||zt,s=Sa(t,r);await en.fromCallback(n.writeFile)(e,s,r)}const Ml=en.fromPromise(jl);function Ul(e,t,r={}){const n=r.fs||zt,s=Sa(t,r);return n.writeFileSync(e,s,r)}const zl={readFile:kl,readFileSync:Fl,writeFile:Ml,writeFileSync:Ul};var Vl=zl;const Nr=Vl;var xl={readJson:Nr.readFile,readJsonSync:Nr.readFileSync,writeJson:Nr.writeFile,writeJsonSync:Nr.writeFileSync};const Hl=de.fromPromise,Jn=Te,Ia=Re,Oa=Ye,ql=It.pathExists;async function Gl(e,t,r="utf-8"){const n=Ia.dirname(e);return await ql(n)||await Oa.mkdirs(n),Jn.writeFile(e,t,r)}function Bl(e,...t){const r=Ia.dirname(e);Jn.existsSync(r)||Oa.mkdirsSync(r),Jn.writeFileSync(e,...t)}var Es={outputFile:Hl(Gl),outputFileSync:Bl};const{stringify:Kl}=$s,{outputFile:Zl}=Es;async function Wl(e,t,r={}){const n=Kl(t,r);await Zl(e,n,r)}var Xl=Wl;const{stringify:Jl}=$s,{outputFileSync:Yl}=Es;function Ql(e,t,r){const n=Jl(t,r);Yl(e,n,r)}var ef=Ql;const tf=de.fromPromise,Pe=xl;Pe.outputJson=tf(Xl);Pe.outputJsonSync=ef;Pe.outputJSON=Pe.outputJson;Pe.outputJSONSync=Pe.outputJsonSync;Pe.writeJSON=Pe.writeJson;Pe.writeJSONSync=Pe.writeJsonSync;Pe.readJSON=Pe.readJson;Pe.readJSONSync=Pe.readJsonSync;var rf=Pe;const nf=Te,Fi=Re,{copy:sf}=ys,{remove:ba}=Qr,{mkdirp:of}=Ye,{pathExists:af}=It,ji=qt;async function cf(e,t,r={}){const n=r.overwrite||r.clobber||!1,{srcStat:s,isChangingCase:i=!1}=await ji.checkPaths(e,t,"move",r);await ji.checkParentPaths(e,s,t,"move");const o=Fi.dirname(t);return Fi.parse(o).root!==o&&await of(o),uf(e,t,n,i)}async function uf(e,t,r,n){if(!n){if(r)await ba(t);else if(await af(t))throw new Error("dest already exists.")}try{await nf.rename(e,t)}catch(s){if(s.code!=="EXDEV")throw s;await lf(e,t,r)}}async function lf(e,t,r){return await sf(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),ba(e)}var ff=cf;const Pa=Ht,Yn=Re,df=ys.copySync,Ra=Qr.removeSync,hf=Ye.mkdirpSync,Mi=qt;function mf(e,t,r){r=r||{};const n=r.overwrite||r.clobber||!1,{srcStat:s,isChangingCase:i=!1}=Mi.checkPathsSync(e,t,"move",r);return Mi.checkParentPathsSync(e,s,t,"move"),pf(t)||hf(Yn.dirname(t)),yf(e,t,n,i)}function pf(e){const t=Yn.dirname(e);return Yn.parse(t).root===t}function yf(e,t,r,n){if(n)return Ln(e,t,r);if(r)return Ra(t),Ln(e,t,r);if(Pa.existsSync(t))throw new Error("dest already exists.");return Ln(e,t,r)}function Ln(e,t,r){try{Pa.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return $f(e,t,r)}}function $f(e,t,r){return df(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),Ra(e)}var Ef=mf;const gf=de.fromPromise;var vf={move:gf(ff),moveSync:Ef},Fe={...Te,...ys,...tl,...Cl,...rf,...Ye,...vf,...Es,...It,...Qr};const wt=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")},An=new Set(["__proto__","prototype","constructor"]),_f=new Set("0123456789");function tn(e){const t=[];let r="",n="start",s=!1;for(const i of e)switch(i){case"\\":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");s&&(r+=i),n="property",s=!s;break}case".":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="property";break}if(s){s=!1,r+=i;break}if(An.has(r))return[];t.push(r),r="",n="property";break}case"[":{if(n==="index")throw new Error("Invalid character in an index");if(n==="indexEnd"){n="index";break}if(s){s=!1,r+=i;break}if(n==="property"){if(An.has(r))return[];t.push(r),r=""}n="index";break}case"]":{if(n==="index"){t.push(Number.parseInt(r,10)),r="",n="indexEnd";break}if(n==="indexEnd")throw new Error("Invalid character after an index")}default:{if(n==="index"&&!_f.has(i))throw new Error("Invalid character in an index");if(n==="indexEnd")throw new Error("Invalid character after an index");n==="start"&&(n="property"),s&&(s=!1,r+="\\"),r+=i}}switch(s&&(r+="\\"),n){case"property":{if(An.has(r))return[];t.push(r);break}case"index":throw new Error("Index was not closed");case"start":{t.push("");break}}return t}function gs(e,t){if(typeof t!="number"&&Array.isArray(e)){const r=Number.parseInt(t,10);return Number.isInteger(r)&&e[r]===e[t]}return!1}function Ta(e,t){if(gs(e,t))throw new Error("Cannot use string index")}function wf(e,t,r){if(!wt(e)||typeof t!="string")return r===void 0?e:r;const n=tn(t);if(n.length===0)return r;for(let s=0;s<n.length;s++){const i=n[s];if(gs(e,i)?e=s===n.length-1?void 0:null:e=e[i],e==null){if(s!==n.length-1)return r;break}}return e===void 0?r:e}function Ui(e,t,r){if(!wt(e)||typeof t!="string")return e;const n=e,s=tn(t);for(let i=0;i<s.length;i++){const o=s[i];Ta(e,o),i===s.length-1?e[o]=r:wt(e[o])||(e[o]=typeof s[i+1]=="number"?[]:{}),e=e[o]}return n}function Sf(e,t){if(!wt(e)||typeof t!="string")return!1;const r=tn(t);for(let n=0;n<r.length;n++){const s=r[n];if(Ta(e,s),n===r.length-1)return delete e[s],!0;if(e=e[s],!wt(e))return!1}}function Nf(e,t){if(!wt(e)||typeof t!="string")return!1;const r=tn(t);if(r.length===0)return!1;for(const n of r){if(!wt(e)||!(n in e)||gs(e,n))return!1;e=e[n]}return!0}const dt=Xr.homedir(),vs=Xr.tmpdir(),{env:kt}=He,If=e=>{const t=re.join(dt,"Library");return{data:re.join(t,"Application Support",e),config:re.join(t,"Preferences",e),cache:re.join(t,"Caches",e),log:re.join(t,"Logs",e),temp:re.join(vs,e)}},Of=e=>{const t=kt.APPDATA||re.join(dt,"AppData","Roaming"),r=kt.LOCALAPPDATA||re.join(dt,"AppData","Local");return{data:re.join(r,e,"Data"),config:re.join(t,e,"Config"),cache:re.join(r,e,"Cache"),log:re.join(r,e,"Log"),temp:re.join(vs,e)}},bf=e=>{const t=re.basename(dt);return{data:re.join(kt.XDG_DATA_HOME||re.join(dt,".local","share"),e),config:re.join(kt.XDG_CONFIG_HOME||re.join(dt,".config"),e),cache:re.join(kt.XDG_CACHE_HOME||re.join(dt,".cache"),e),log:re.join(kt.XDG_STATE_HOME||re.join(dt,".local","state"),e),temp:re.join(vs,t,e)}};function Pf(e,{suffix:t="nodejs"}={}){if(typeof e!="string")throw new TypeError(`Expected a string, got ${typeof e}`);return t&&(e+=`-${t}`),He.platform==="darwin"?If(e):He.platform==="win32"?Of(e):bf(e)}const ot=(e,t)=>function(...n){return e.apply(void 0,n).catch(t)},et=(e,t)=>function(...n){try{return e.apply(void 0,n)}catch(s){return t(s)}},Rf=He.getuid?!He.getuid():!1,Tf=1e4,Ae=()=>{},ie={isChangeErrorOk:e=>{if(!ie.isNodeError(e))return!1;const{code:t}=e;return t==="ENOSYS"||!Rf&&(t==="EINVAL"||t==="EPERM")},isNodeError:e=>e instanceof Error,isRetriableError:e=>{if(!ie.isNodeError(e))return!1;const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCES"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!ie.isNodeError(e))throw e;if(!ie.isChangeErrorOk(e))throw e}};class Cf{constructor(){this.interval=25,this.intervalId=void 0,this.limit=Tf,this.queueActive=new Set,this.queueWaiting=new Set,this.init=()=>{this.intervalId||(this.intervalId=setInterval(this.tick,this.interval))},this.reset=()=>{this.intervalId&&(clearInterval(this.intervalId),delete this.intervalId)},this.add=t=>{this.queueWaiting.add(t),this.queueActive.size<this.limit/2?this.tick():this.init()},this.remove=t=>{this.queueWaiting.delete(t),this.queueActive.delete(t)},this.schedule=()=>new Promise(t=>{const r=()=>this.remove(n),n=()=>t(r);this.add(n)}),this.tick=()=>{if(!(this.queueActive.size>=this.limit)){if(!this.queueWaiting.size)return this.reset();for(const t of this.queueWaiting){if(this.queueActive.size>=this.limit)break;this.queueWaiting.delete(t),this.queueActive.add(t),t()}}}}}const Df=new Cf,at=(e,t)=>function(n){return function s(...i){return Df.schedule().then(o=>{const c=d=>(o(),d),l=d=>{if(o(),Date.now()>=n)throw d;if(t(d)){const a=Math.round(100*Math.random());return new Promise(E=>setTimeout(E,a)).then(()=>s.apply(void 0,i))}throw d};return e.apply(void 0,i).then(c,l)})}},ct=(e,t)=>function(n){return function s(...i){try{return e.apply(void 0,i)}catch(o){if(Date.now()>n)throw o;if(t(o))return s.apply(void 0,i);throw o}}},we={attempt:{chmod:ot(ye.promisify(X.chmod),ie.onChangeError),chown:ot(ye.promisify(X.chown),ie.onChangeError),close:ot(ye.promisify(X.close),Ae),fsync:ot(ye.promisify(X.fsync),Ae),mkdir:ot(ye.promisify(X.mkdir),Ae),realpath:ot(ye.promisify(X.realpath),Ae),stat:ot(ye.promisify(X.stat),Ae),unlink:ot(ye.promisify(X.unlink),Ae),chmodSync:et(X.chmodSync,ie.onChangeError),chownSync:et(X.chownSync,ie.onChangeError),closeSync:et(X.closeSync,Ae),existsSync:et(X.existsSync,Ae),fsyncSync:et(X.fsync,Ae),mkdirSync:et(X.mkdirSync,Ae),realpathSync:et(X.realpathSync,Ae),statSync:et(X.statSync,Ae),unlinkSync:et(X.unlinkSync,Ae)},retry:{close:at(ye.promisify(X.close),ie.isRetriableError),fsync:at(ye.promisify(X.fsync),ie.isRetriableError),open:at(ye.promisify(X.open),ie.isRetriableError),readFile:at(ye.promisify(X.readFile),ie.isRetriableError),rename:at(ye.promisify(X.rename),ie.isRetriableError),stat:at(ye.promisify(X.stat),ie.isRetriableError),write:at(ye.promisify(X.write),ie.isRetriableError),writeFile:at(ye.promisify(X.writeFile),ie.isRetriableError),closeSync:ct(X.closeSync,ie.isRetriableError),fsyncSync:ct(X.fsyncSync,ie.isRetriableError),openSync:ct(X.openSync,ie.isRetriableError),readFileSync:ct(X.readFileSync,ie.isRetriableError),renameSync:ct(X.renameSync,ie.isRetriableError),statSync:ct(X.statSync,ie.isRetriableError),writeSync:ct(X.writeSync,ie.isRetriableError),writeFileSync:ct(X.writeFileSync,ie.isRetriableError)}},Lf="utf8",zi=438,Af=511,kf={},Ff=Xr.userInfo().uid,jf=Xr.userInfo().gid,Mf=1e3,Uf=!!He.getuid;He.getuid&&He.getuid();const Vi=128,zf=e=>e instanceof Error&&"code"in e,xi=e=>typeof e=="string",kn=e=>e===void 0;class Vf{constructor(){this.callbacks=new Set,this.exit=()=>{for(const t of this.callbacks)t()},this.hook=()=>{window.addEventListener("beforeunload",this.exit)},this.register=t=>(this.callbacks.add(t),()=>{this.callbacks.delete(t)}),this.hook()}}const xf=new Vf,Hf=xf.register,Se={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),s=`.tmp-${Date.now().toString().slice(-10)}${t}`;return`${e}${s}`},get:(e,t,r=!0)=>{const n=Se.truncate(t(e));return n in Se.store?Se.get(e,t,r):(Se.store[n]=r,[n,()=>delete Se.store[n]])},purge:e=>{Se.store[e]&&(delete Se.store[e],we.attempt.unlink(e))},purgeSync:e=>{Se.store[e]&&(delete Se.store[e],we.attempt.unlinkSync(e))},purgeSyncAll:()=>{for(const e in Se.store)Se.purgeSync(e)},truncate:e=>{const t=re.basename(e);if(t.length<=Vi)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-Vi;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};Hf(Se.purgeSyncAll);function Ca(e,t,r=kf){if(xi(r))return Ca(e,t,{encoding:r});const n=Date.now()+((r.timeout??Mf)||-1);let s=null,i=null,o=null;try{const c=we.attempt.realpathSync(e),l=!!c;e=c||e,[i,s]=Se.get(e,r.tmpCreate||Se.create,r.tmpPurge!==!1);const d=Uf&&kn(r.chown),a=kn(r.mode);if(l&&(d||a)){const h=we.attempt.statSync(e);h&&(r={...r},d&&(r.chown={uid:h.uid,gid:h.gid}),a&&(r.mode=h.mode))}if(!l){const h=re.dirname(e);we.attempt.mkdirSync(h,{mode:Af,recursive:!0})}o=we.retry.openSync(n)(i,"w",r.mode||zi),r.tmpCreated&&r.tmpCreated(i),xi(t)?we.retry.writeSync(n)(o,t,0,r.encoding||Lf):kn(t)||we.retry.writeSync(n)(o,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?we.retry.fsyncSync(n)(o):we.attempt.fsync(o)),we.retry.closeSync(n)(o),o=null,r.chown&&(r.chown.uid!==Ff||r.chown.gid!==jf)&&we.attempt.chownSync(i,r.chown.uid,r.chown.gid),r.mode&&r.mode!==zi&&we.attempt.chmodSync(i,r.mode);try{we.retry.renameSync(n)(i,e)}catch(h){if(!zf(h)||h.code!=="ENAMETOOLONG")throw h;we.retry.renameSync(n)(i,Se.truncate(e))}s(),i=null}finally{o&&we.attempt.closeSync(o),i&&Se.purge(i)}}var Qn={exports:{}},Da={},xe={},Vt={},yr={},J={},hr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(g){if(super(),!e.IDENTIFIER.test(g))throw new Error("CodeGen: name must be a valid identifier");this.str=g}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(g){super(),this._items=typeof g=="string"?[g]:g}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const g=this._items[0];return g===""||g==='""'}get str(){var g;return(g=this._str)!==null&&g!==void 0?g:this._str=this._items.reduce((w,I)=>`${w}${I}`,"")}get names(){var g;return(g=this._names)!==null&&g!==void 0?g:this._names=this._items.reduce((w,I)=>(I instanceof r&&(w[I.str]=(w[I.str]||0)+1),w),{})}}e._Code=n,e.nil=new n("");function s(f,...g){const w=[f[0]];let I=0;for(;I<g.length;)c(w,g[I]),w.push(f[++I]);return new n(w)}e._=s;const i=new n("+");function o(f,...g){const w=[m(f[0])];let I=0;for(;I<g.length;)w.push(i),c(w,g[I]),w.push(i,m(f[++I]));return l(w),new n(w)}e.str=o;function c(f,g){g instanceof n?f.push(...g._items):g instanceof r?f.push(g):f.push(h(g))}e.addCodeArg=c;function l(f){let g=1;for(;g<f.length-1;){if(f[g]===i){const w=d(f[g-1],f[g+1]);if(w!==void 0){f.splice(g-1,3,w);continue}f[g++]="+"}g++}}function d(f,g){if(g==='""')return f;if(f==='""')return g;if(typeof f=="string")return g instanceof r||f[f.length-1]!=='"'?void 0:typeof g!="string"?`${f.slice(0,-1)}${g}"`:g[0]==='"'?f.slice(0,-1)+g.slice(1):void 0;if(typeof g=="string"&&g[0]==='"'&&!(f instanceof r))return`"${f}${g.slice(1)}`}function a(f,g){return g.emptyStr()?f:f.emptyStr()?g:o`${f}${g}`}e.strConcat=a;function h(f){return typeof f=="number"||typeof f=="boolean"||f===null?f:m(Array.isArray(f)?f.join(","):f)}function E(f){return new n(m(f))}e.stringify=E;function m(f){return JSON.stringify(f).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=m;function u(f){return typeof f=="string"&&e.IDENTIFIER.test(f)?new n(`.${f}`):s`[${f}]`}e.getProperty=u;function y(f){if(typeof f=="string"&&e.IDENTIFIER.test(f))return new n(`${f}`);throw new Error(`CodeGen: invalid export name: ${f}, use explicit $id name mapping`)}e.getEsmExportName=y;function $(f){return new n(f.toString())}e.regexpCode=$})(hr);var es={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=hr;class r extends Error{constructor(d){super(`CodeGen: "code" for ${d} not defined`),this.value=d.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:d,parent:a}={}){this._names={},this._prefixes=d,this._parent=a}toName(d){return d instanceof t.Name?d:this.name(d)}name(d){return new t.Name(this._newName(d))}_newName(d){const a=this._names[d]||this._nameGroup(d);return`${d}${a.index++}`}_nameGroup(d){var a,h;if(!((h=(a=this._parent)===null||a===void 0?void 0:a._prefixes)===null||h===void 0)&&h.has(d)||this._prefixes&&!this._prefixes.has(d))throw new Error(`CodeGen: prefix "${d}" is not allowed in this scope`);return this._names[d]={prefix:d,index:0}}}e.Scope=s;class i extends t.Name{constructor(d,a){super(a),this.prefix=d}setValue(d,{property:a,itemIndex:h}){this.value=d,this.scopePath=(0,t._)`.${new t.Name(a)}[${h}]`}}e.ValueScopeName=i;const o=(0,t._)`\n`;class c extends s{constructor(d){super(d),this._values={},this._scope=d.scope,this.opts={...d,_n:d.lines?o:t.nil}}get(){return this._scope}name(d){return new i(d,this._newName(d))}value(d,a){var h;if(a.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const E=this.toName(d),{prefix:m}=E,u=(h=a.key)!==null&&h!==void 0?h:a.ref;let y=this._values[m];if(y){const g=y.get(u);if(g)return g}else y=this._values[m]=new Map;y.set(u,E);const $=this._scope[m]||(this._scope[m]=[]),f=$.length;return $[f]=a.ref,E.setValue(a,{property:m,itemIndex:f}),E}getValue(d,a){const h=this._values[d];if(h)return h.get(a)}scopeRefs(d,a=this._values){return this._reduceValues(a,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,t._)`${d}${h.scopePath}`})}scopeCode(d=this._values,a,h){return this._reduceValues(d,E=>{if(E.value===void 0)throw new Error(`CodeGen: name "${E}" has no value`);return E.value.code},a,h)}_reduceValues(d,a,h={},E){let m=t.nil;for(const u in d){const y=d[u];if(!y)continue;const $=h[u]=h[u]||new Map;y.forEach(f=>{if($.has(f))return;$.set(f,n.Started);let g=a(f);if(g){const w=this.opts.es5?e.varKinds.var:e.varKinds.const;m=(0,t._)`${m}${w} ${f} = ${g};${this.opts._n}`}else if(g=E?.(f))m=(0,t._)`${m}${g}${this.opts._n}`;else throw new r(f);$.set(f,n.Completed)})}return m}}e.ValueScope=c})(es);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=hr,r=es;var n=hr;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=es;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames(p,v){return this}}class o extends i{constructor(p,v,O){super(),this.varKind=p,this.name=v,this.rhs=O}render({es5:p,_n:v}){const O=p?r.varKinds.var:this.varKind,x=this.rhs===void 0?"":` = ${this.rhs}`;return`${O} ${this.name}${x};`+v}optimizeNames(p,v){if(p[this.name.str])return this.rhs&&(this.rhs=R(this.rhs,p,v)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class c extends i{constructor(p,v,O){super(),this.lhs=p,this.rhs=v,this.sideEffects=O}render({_n:p}){return`${this.lhs} = ${this.rhs};`+p}optimizeNames(p,v){if(!(this.lhs instanceof t.Name&&!p[this.lhs.str]&&!this.sideEffects))return this.rhs=R(this.rhs,p,v),this}get names(){const p=this.lhs instanceof t.Name?{}:{...this.lhs.names};return T(p,this.rhs)}}class l extends c{constructor(p,v,O,x){super(p,O,x),this.op=v}render({_n:p}){return`${this.lhs} ${this.op}= ${this.rhs};`+p}}class d extends i{constructor(p){super(),this.label=p,this.names={}}render({_n:p}){return`${this.label}:`+p}}class a extends i{constructor(p){super(),this.label=p,this.names={}}render({_n:p}){return`break${this.label?` ${this.label}`:""};`+p}}class h extends i{constructor(p){super(),this.error=p}render({_n:p}){return`throw ${this.error};`+p}get names(){return this.error.names}}class E extends i{constructor(p){super(),this.code=p}render({_n:p}){return`${this.code};`+p}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(p,v){return this.code=R(this.code,p,v),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class m extends i{constructor(p=[]){super(),this.nodes=p}render(p){return this.nodes.reduce((v,O)=>v+O.render(p),"")}optimizeNodes(){const{nodes:p}=this;let v=p.length;for(;v--;){const O=p[v].optimizeNodes();Array.isArray(O)?p.splice(v,1,...O):O?p[v]=O:p.splice(v,1)}return p.length>0?this:void 0}optimizeNames(p,v){const{nodes:O}=this;let x=O.length;for(;x--;){const q=O[x];q.optimizeNames(p,v)||(D(p,q.names),O.splice(x,1))}return O.length>0?this:void 0}get names(){return this.nodes.reduce((p,v)=>B(p,v.names),{})}}class u extends m{render(p){return"{"+p._n+super.render(p)+"}"+p._n}}class y extends m{}class $ extends u{}$.kind="else";class f extends u{constructor(p,v){super(v),this.condition=p}render(p){let v=`if(${this.condition})`+super.render(p);return this.else&&(v+="else "+this.else.render(p)),v}optimizeNodes(){super.optimizeNodes();const p=this.condition;if(p===!0)return this.nodes;let v=this.else;if(v){const O=v.optimizeNodes();v=this.else=Array.isArray(O)?new $(O):O}if(v)return p===!1?v instanceof f?v:v.nodes:this.nodes.length?this:new f(A(p),v instanceof f?[v]:v.nodes);if(!(p===!1||!this.nodes.length))return this}optimizeNames(p,v){var O;if(this.else=(O=this.else)===null||O===void 0?void 0:O.optimizeNames(p,v),!!(super.optimizeNames(p,v)||this.else))return this.condition=R(this.condition,p,v),this}get names(){const p=super.names;return T(p,this.condition),this.else&&B(p,this.else.names),p}}f.kind="if";class g extends u{}g.kind="for";class w extends g{constructor(p){super(),this.iteration=p}render(p){return`for(${this.iteration})`+super.render(p)}optimizeNames(p,v){if(super.optimizeNames(p,v))return this.iteration=R(this.iteration,p,v),this}get names(){return B(super.names,this.iteration.names)}}class I extends g{constructor(p,v,O,x){super(),this.varKind=p,this.name=v,this.from=O,this.to=x}render(p){const v=p.es5?r.varKinds.var:this.varKind,{name:O,from:x,to:q}=this;return`for(${v} ${O}=${x}; ${O}<${q}; ${O}++)`+super.render(p)}get names(){const p=T(super.names,this.from);return T(p,this.to)}}class C extends g{constructor(p,v,O,x){super(),this.loop=p,this.varKind=v,this.name=O,this.iterable=x}render(p){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(p)}optimizeNames(p,v){if(super.optimizeNames(p,v))return this.iterable=R(this.iterable,p,v),this}get names(){return B(super.names,this.iterable.names)}}class H extends u{constructor(p,v,O){super(),this.name=p,this.args=v,this.async=O}render(p){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(p)}}H.kind="func";class G extends m{render(p){return"return "+super.render(p)}}G.kind="return";class Q extends u{render(p){let v="try"+super.render(p);return this.catch&&(v+=this.catch.render(p)),this.finally&&(v+=this.finally.render(p)),v}optimizeNodes(){var p,v;return super.optimizeNodes(),(p=this.catch)===null||p===void 0||p.optimizeNodes(),(v=this.finally)===null||v===void 0||v.optimizeNodes(),this}optimizeNames(p,v){var O,x;return super.optimizeNames(p,v),(O=this.catch)===null||O===void 0||O.optimizeNames(p,v),(x=this.finally)===null||x===void 0||x.optimizeNames(p,v),this}get names(){const p=super.names;return this.catch&&B(p,this.catch.names),this.finally&&B(p,this.finally.names),p}}class b extends u{constructor(p){super(),this.error=p}render(p){return`catch(${this.error})`+super.render(p)}}b.kind="catch";class F extends u{render(p){return"finally"+super.render(p)}}F.kind="finally";class z{constructor(p,v={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...v,_n:v.lines?`
`:""},this._extScope=p,this._scope=new r.Scope({parent:p}),this._nodes=[new y]}toString(){return this._root.render(this.opts)}name(p){return this._scope.name(p)}scopeName(p){return this._extScope.name(p)}scopeValue(p,v){const O=this._extScope.value(p,v);return(this._values[O.prefix]||(this._values[O.prefix]=new Set)).add(O),O}getScopeValue(p,v){return this._extScope.getValue(p,v)}scopeRefs(p){return this._extScope.scopeRefs(p,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(p,v,O,x){const q=this._scope.toName(v);return O!==void 0&&x&&(this._constants[q.str]=O),this._leafNode(new o(p,q,O)),q}const(p,v,O){return this._def(r.varKinds.const,p,v,O)}let(p,v,O){return this._def(r.varKinds.let,p,v,O)}var(p,v,O){return this._def(r.varKinds.var,p,v,O)}assign(p,v,O){return this._leafNode(new c(p,v,O))}add(p,v){return this._leafNode(new l(p,e.operators.ADD,v))}code(p){return typeof p=="function"?p():p!==t.nil&&this._leafNode(new E(p)),this}object(...p){const v=["{"];for(const[O,x]of p)v.length>1&&v.push(","),v.push(O),(O!==x||this.opts.es5)&&(v.push(":"),(0,t.addCodeArg)(v,x));return v.push("}"),new t._Code(v)}if(p,v,O){if(this._blockNode(new f(p)),v&&O)this.code(v).else().code(O).endIf();else if(v)this.code(v).endIf();else if(O)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(p){return this._elseNode(new f(p))}else(){return this._elseNode(new $)}endIf(){return this._endBlockNode(f,$)}_for(p,v){return this._blockNode(p),v&&this.code(v).endFor(),this}for(p,v){return this._for(new w(p),v)}forRange(p,v,O,x,q=this.opts.es5?r.varKinds.var:r.varKinds.let){const te=this._scope.toName(p);return this._for(new I(q,te,v,O),()=>x(te))}forOf(p,v,O,x=r.varKinds.const){const q=this._scope.toName(p);if(this.opts.es5){const te=v instanceof t.Name?v:this.var("_arr",v);return this.forRange("_i",0,(0,t._)`${te}.length`,ee=>{this.var(q,(0,t._)`${te}[${ee}]`),O(q)})}return this._for(new C("of",x,q,v),()=>O(q))}forIn(p,v,O,x=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(p,(0,t._)`Object.keys(${v})`,O);const q=this._scope.toName(p);return this._for(new C("in",x,q,v),()=>O(q))}endFor(){return this._endBlockNode(g)}label(p){return this._leafNode(new d(p))}break(p){return this._leafNode(new a(p))}return(p){const v=new G;if(this._blockNode(v),this.code(p),v.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(G)}try(p,v,O){if(!v&&!O)throw new Error('CodeGen: "try" without "catch" and "finally"');const x=new Q;if(this._blockNode(x),this.code(p),v){const q=this.name("e");this._currNode=x.catch=new b(q),v(q)}return O&&(this._currNode=x.finally=new F,this.code(O)),this._endBlockNode(b,F)}throw(p){return this._leafNode(new h(p))}block(p,v){return this._blockStarts.push(this._nodes.length),p&&this.code(p).endBlock(v),this}endBlock(p){const v=this._blockStarts.pop();if(v===void 0)throw new Error("CodeGen: not in self-balancing block");const O=this._nodes.length-v;if(O<0||p!==void 0&&O!==p)throw new Error(`CodeGen: wrong number of nodes: ${O} vs ${p} expected`);return this._nodes.length=v,this}func(p,v=t.nil,O,x){return this._blockNode(new H(p,v,O)),x&&this.code(x).endFunc(),this}endFunc(){return this._endBlockNode(H)}optimize(p=1){for(;p-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(p){return this._currNode.nodes.push(p),this}_blockNode(p){this._currNode.nodes.push(p),this._nodes.push(p)}_endBlockNode(p,v){const O=this._currNode;if(O instanceof p||v&&O instanceof v)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${v?`${p.kind}/${v.kind}`:p.kind}"`)}_elseNode(p){const v=this._currNode;if(!(v instanceof f))throw new Error('CodeGen: "else" without "if"');return this._currNode=v.else=p,this}get _root(){return this._nodes[0]}get _currNode(){const p=this._nodes;return p[p.length-1]}set _currNode(p){const v=this._nodes;v[v.length-1]=p}}e.CodeGen=z;function B(S,p){for(const v in p)S[v]=(S[v]||0)+(p[v]||0);return S}function T(S,p){return p instanceof t._CodeOrName?B(S,p.names):S}function R(S,p,v){if(S instanceof t.Name)return O(S);if(!x(S))return S;return new t._Code(S._items.reduce((q,te)=>(te instanceof t.Name&&(te=O(te)),te instanceof t._Code?q.push(...te._items):q.push(te),q),[]));function O(q){const te=v[q.str];return te===void 0||p[q.str]!==1?q:(delete p[q.str],te)}function x(q){return q instanceof t._Code&&q._items.some(te=>te instanceof t.Name&&p[te.str]===1&&v[te.str]!==void 0)}}function D(S,p){for(const v in p)S[v]=(S[v]||0)-(p[v]||0)}function A(S){return typeof S=="boolean"||typeof S=="number"||S===null?!S:(0,t._)`!${N(S)}`}e.not=A;const L=_(e.operators.AND);function k(...S){return S.reduce(L)}e.and=k;const j=_(e.operators.OR);function P(...S){return S.reduce(j)}e.or=P;function _(S){return(p,v)=>p===t.nil?v:v===t.nil?p:(0,t._)`${N(p)} ${S} ${N(v)}`}function N(S){return S instanceof t.Name?S:(0,t._)`(${S})`}})(J);var M={};Object.defineProperty(M,"__esModule",{value:!0});M.checkStrictMode=M.getErrorPath=M.Type=M.useFunc=M.setEvaluated=M.evaluatedPropsToName=M.mergeEvaluated=M.eachItem=M.unescapeJsonPointer=M.escapeJsonPointer=M.escapeFragment=M.unescapeFragment=M.schemaRefOrVal=M.schemaHasRulesButRef=M.schemaHasRules=M.checkUnknownRules=M.alwaysValidSchema=M.toHash=void 0;const ne=J,qf=hr;function Gf(e){const t={};for(const r of e)t[r]=!0;return t}M.toHash=Gf;function Bf(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(La(e,t),!Aa(t,e.self.RULES.all))}M.alwaysValidSchema=Bf;function La(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const s=n.RULES.keywords;for(const i in t)s[i]||ja(e,`unknown keyword: "${i}"`)}M.checkUnknownRules=La;function Aa(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}M.schemaHasRules=Aa;function Kf(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}M.schemaHasRulesButRef=Kf;function Zf({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,ne._)`${r}`}return(0,ne._)`${e}${t}${(0,ne.getProperty)(n)}`}M.schemaRefOrVal=Zf;function Wf(e){return ka(decodeURIComponent(e))}M.unescapeFragment=Wf;function Xf(e){return encodeURIComponent(_s(e))}M.escapeFragment=Xf;function _s(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}M.escapeJsonPointer=_s;function ka(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}M.unescapeJsonPointer=ka;function Jf(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}M.eachItem=Jf;function Hi({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,i,o,c)=>{const l=o===void 0?i:o instanceof ne.Name?(i instanceof ne.Name?e(s,i,o):t(s,i,o),o):i instanceof ne.Name?(t(s,o,i),i):r(i,o);return c===ne.Name&&!(l instanceof ne.Name)?n(s,l):l}}M.mergeEvaluated={props:Hi({mergeNames:(e,t,r)=>e.if((0,ne._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,ne._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,ne._)`${r} || {}`).code((0,ne._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,ne._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,ne._)`${r} || {}`),ws(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:Fa}),items:Hi({mergeNames:(e,t,r)=>e.if((0,ne._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,ne._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,ne._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,ne._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function Fa(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,ne._)`{}`);return t!==void 0&&ws(e,r,t),r}M.evaluatedPropsToName=Fa;function ws(e,t,r){Object.keys(r).forEach(n=>e.assign((0,ne._)`${t}${(0,ne.getProperty)(n)}`,!0))}M.setEvaluated=ws;const qi={};function Yf(e,t){return e.scopeValue("func",{ref:t,code:qi[t.code]||(qi[t.code]=new qf._Code(t.code))})}M.useFunc=Yf;var ts;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(ts||(M.Type=ts={}));function Qf(e,t,r){if(e instanceof ne.Name){const n=t===ts.Num;return r?n?(0,ne._)`"[" + ${e} + "]"`:(0,ne._)`"['" + ${e} + "']"`:n?(0,ne._)`"/" + ${e}`:(0,ne._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,ne.getProperty)(e).toString():"/"+_s(e)}M.getErrorPath=Qf;function ja(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}M.checkStrictMode=ja;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});const _e=J,ed={data:new _e.Name("data"),valCxt:new _e.Name("valCxt"),instancePath:new _e.Name("instancePath"),parentData:new _e.Name("parentData"),parentDataProperty:new _e.Name("parentDataProperty"),rootData:new _e.Name("rootData"),dynamicAnchors:new _e.Name("dynamicAnchors"),vErrors:new _e.Name("vErrors"),errors:new _e.Name("errors"),this:new _e.Name("this"),self:new _e.Name("self"),scope:new _e.Name("scope"),json:new _e.Name("json"),jsonPos:new _e.Name("jsonPos"),jsonLen:new _e.Name("jsonLen"),jsonPart:new _e.Name("jsonPart")};Qe.default=ed;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=J,r=M,n=Qe;e.keywordError={message:({keyword:$})=>(0,t.str)`must pass "${$}" keyword validation`},e.keyword$DataError={message:({keyword:$,schemaType:f})=>f?(0,t.str)`"${$}" keyword must be ${f} ($data)`:(0,t.str)`"${$}" keyword is invalid ($data)`};function s($,f=e.keywordError,g,w){const{it:I}=$,{gen:C,compositeRule:H,allErrors:G}=I,Q=h($,f,g);w??(H||G)?l(C,Q):d(I,(0,t._)`[${Q}]`)}e.reportError=s;function i($,f=e.keywordError,g){const{it:w}=$,{gen:I,compositeRule:C,allErrors:H}=w,G=h($,f,g);l(I,G),C||H||d(w,n.default.vErrors)}e.reportExtraError=i;function o($,f){$.assign(n.default.errors,f),$.if((0,t._)`${n.default.vErrors} !== null`,()=>$.if(f,()=>$.assign((0,t._)`${n.default.vErrors}.length`,f),()=>$.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function c({gen:$,keyword:f,schemaValue:g,data:w,errsCount:I,it:C}){if(I===void 0)throw new Error("ajv implementation error");const H=$.name("err");$.forRange("i",I,n.default.errors,G=>{$.const(H,(0,t._)`${n.default.vErrors}[${G}]`),$.if((0,t._)`${H}.instancePath === undefined`,()=>$.assign((0,t._)`${H}.instancePath`,(0,t.strConcat)(n.default.instancePath,C.errorPath))),$.assign((0,t._)`${H}.schemaPath`,(0,t.str)`${C.errSchemaPath}/${f}`),C.opts.verbose&&($.assign((0,t._)`${H}.schema`,g),$.assign((0,t._)`${H}.data`,w))})}e.extendErrors=c;function l($,f){const g=$.const("err",f);$.if((0,t._)`${n.default.vErrors} === null`,()=>$.assign(n.default.vErrors,(0,t._)`[${g}]`),(0,t._)`${n.default.vErrors}.push(${g})`),$.code((0,t._)`${n.default.errors}++`)}function d($,f){const{gen:g,validateName:w,schemaEnv:I}=$;I.$async?g.throw((0,t._)`new ${$.ValidationError}(${f})`):(g.assign((0,t._)`${w}.errors`,f),g.return(!1))}const a={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function h($,f,g){const{createErrors:w}=$.it;return w===!1?(0,t._)`{}`:E($,f,g)}function E($,f,g={}){const{gen:w,it:I}=$,C=[m(I,g),u($,g)];return y($,f,C),w.object(...C)}function m({errorPath:$},{instancePath:f}){const g=f?(0,t.str)`${$}${(0,r.getErrorPath)(f,r.Type.Str)}`:$;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,g)]}function u({keyword:$,it:{errSchemaPath:f}},{schemaPath:g,parentSchema:w}){let I=w?f:(0,t.str)`${f}/${$}`;return g&&(I=(0,t.str)`${I}${(0,r.getErrorPath)(g,r.Type.Str)}`),[a.schemaPath,I]}function y($,{params:f,message:g},w){const{keyword:I,data:C,schemaValue:H,it:G}=$,{opts:Q,propertyName:b,topSchemaRef:F,schemaPath:z}=G;w.push([a.keyword,I],[a.params,typeof f=="function"?f($):f||(0,t._)`{}`]),Q.messages&&w.push([a.message,typeof g=="function"?g($):g]),Q.verbose&&w.push([a.schema,H],[a.parentSchema,(0,t._)`${F}${z}`],[n.default.data,C]),b&&w.push([a.propertyName,b])}})(yr);Object.defineProperty(Vt,"__esModule",{value:!0});Vt.boolOrEmptySchema=Vt.topBoolOrEmptySchema=void 0;const td=yr,rd=J,nd=Qe,sd={message:"boolean schema is false"};function id(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Ma(e,!1):typeof r=="object"&&r.$async===!0?t.return(nd.default.data):(t.assign((0,rd._)`${n}.errors`,null),t.return(!0))}Vt.topBoolOrEmptySchema=id;function od(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Ma(e)):r.var(t,!0)}Vt.boolOrEmptySchema=od;function Ma(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,td.reportError)(s,sd,void 0,t)}var fe={},St={};Object.defineProperty(St,"__esModule",{value:!0});St.getRules=St.isJSONType=void 0;const ad=["string","number","integer","boolean","null","object","array"],cd=new Set(ad);function ud(e){return typeof e=="string"&&cd.has(e)}St.isJSONType=ud;function ld(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}St.getRules=ld;var rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.shouldUseRule=rt.shouldUseGroup=rt.schemaHasRulesForType=void 0;function fd({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Ua(e,n)}rt.schemaHasRulesForType=fd;function Ua(e,t){return t.rules.some(r=>za(e,r))}rt.shouldUseGroup=Ua;function za(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}rt.shouldUseRule=za;Object.defineProperty(fe,"__esModule",{value:!0});fe.reportTypeError=fe.checkDataTypes=fe.checkDataType=fe.coerceAndCheckDataType=fe.getJSONTypes=fe.getSchemaTypes=fe.DataType=void 0;const dd=St,hd=rt,md=yr,W=J,Va=M;var jt;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(jt||(fe.DataType=jt={}));function pd(e){const t=xa(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}fe.getSchemaTypes=pd;function xa(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(dd.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}fe.getJSONTypes=xa;function yd(e,t){const{gen:r,data:n,opts:s}=e,i=$d(t,s.coerceTypes),o=t.length>0&&!(i.length===0&&t.length===1&&(0,hd.schemaHasRulesForType)(e,t[0]));if(o){const c=Ss(t,n,s.strictNumbers,jt.Wrong);r.if(c,()=>{i.length?Ed(e,t,i):Ns(e)})}return o}fe.coerceAndCheckDataType=yd;const Ha=new Set(["string","number","integer","boolean","null"]);function $d(e,t){return t?e.filter(r=>Ha.has(r)||t==="array"&&r==="array"):[]}function Ed(e,t,r){const{gen:n,data:s,opts:i}=e,o=n.let("dataType",(0,W._)`typeof ${s}`),c=n.let("coerced",(0,W._)`undefined`);i.coerceTypes==="array"&&n.if((0,W._)`${o} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,W._)`${s}[0]`).assign(o,(0,W._)`typeof ${s}`).if(Ss(t,s,i.strictNumbers),()=>n.assign(c,s))),n.if((0,W._)`${c} !== undefined`);for(const d of r)(Ha.has(d)||d==="array"&&i.coerceTypes==="array")&&l(d);n.else(),Ns(e),n.endIf(),n.if((0,W._)`${c} !== undefined`,()=>{n.assign(s,c),gd(e,c)});function l(d){switch(d){case"string":n.elseIf((0,W._)`${o} == "number" || ${o} == "boolean"`).assign(c,(0,W._)`"" + ${s}`).elseIf((0,W._)`${s} === null`).assign(c,(0,W._)`""`);return;case"number":n.elseIf((0,W._)`${o} == "boolean" || ${s} === null
              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(c,(0,W._)`+${s}`);return;case"integer":n.elseIf((0,W._)`${o} === "boolean" || ${s} === null
              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(c,(0,W._)`+${s}`);return;case"boolean":n.elseIf((0,W._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(c,!1).elseIf((0,W._)`${s} === "true" || ${s} === 1`).assign(c,!0);return;case"null":n.elseIf((0,W._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(c,null);return;case"array":n.elseIf((0,W._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${s} === null`).assign(c,(0,W._)`[${s}]`)}}}function gd({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,W._)`${t} !== undefined`,()=>e.assign((0,W._)`${t}[${r}]`,n))}function rs(e,t,r,n=jt.Correct){const s=n===jt.Correct?W.operators.EQ:W.operators.NEQ;let i;switch(e){case"null":return(0,W._)`${t} ${s} null`;case"array":i=(0,W._)`Array.isArray(${t})`;break;case"object":i=(0,W._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=o((0,W._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=o();break;default:return(0,W._)`typeof ${t} ${s} ${e}`}return n===jt.Correct?i:(0,W.not)(i);function o(c=W.nil){return(0,W.and)((0,W._)`typeof ${t} == "number"`,c,r?(0,W._)`isFinite(${t})`:W.nil)}}fe.checkDataType=rs;function Ss(e,t,r,n){if(e.length===1)return rs(e[0],t,r,n);let s;const i=(0,Va.toHash)(e);if(i.array&&i.object){const o=(0,W._)`typeof ${t} != "object"`;s=i.null?o:(0,W._)`!${t} || ${o}`,delete i.null,delete i.array,delete i.object}else s=W.nil;i.number&&delete i.integer;for(const o in i)s=(0,W.and)(s,rs(o,t,r,n));return s}fe.checkDataTypes=Ss;const vd={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,W._)`{type: ${e}}`:(0,W._)`{type: ${t}}`};function Ns(e){const t=_d(e);(0,md.reportError)(t,vd)}fe.reportTypeError=Ns;function _d(e){const{gen:t,data:r,schema:n}=e,s=(0,Va.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}var rn={};Object.defineProperty(rn,"__esModule",{value:!0});rn.assignDefaults=void 0;const Pt=J,wd=M;function Sd(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)Gi(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,i)=>Gi(e,i,s.default))}rn.assignDefaults=Sd;function Gi(e,t,r){const{gen:n,compositeRule:s,data:i,opts:o}=e;if(r===void 0)return;const c=(0,Pt._)`${i}${(0,Pt.getProperty)(t)}`;if(s){(0,wd.checkStrictMode)(e,`default is ignored for: ${c}`);return}let l=(0,Pt._)`${c} === undefined`;o.useDefaults==="empty"&&(l=(0,Pt._)`${l} || ${c} === null || ${c} === ""`),n.if(l,(0,Pt._)`${c} = ${(0,Pt.stringify)(r)}`)}var Xe={},Y={};Object.defineProperty(Y,"__esModule",{value:!0});Y.validateUnion=Y.validateArray=Y.usePattern=Y.callValidateCode=Y.schemaProperties=Y.allSchemaProperties=Y.noPropertyInData=Y.propertyInData=Y.isOwnProperty=Y.hasPropFunc=Y.reportMissingProp=Y.checkMissingProp=Y.checkReportMissingProp=void 0;const se=J,Is=M,ut=Qe,Nd=M;function Id(e,t){const{gen:r,data:n,it:s}=e;r.if(bs(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,se._)`${t}`},!0),e.error()})}Y.checkReportMissingProp=Id;function Od({gen:e,data:t,it:{opts:r}},n,s){return(0,se.or)(...n.map(i=>(0,se.and)(bs(e,t,i,r.ownProperties),(0,se._)`${s} = ${i}`)))}Y.checkMissingProp=Od;function bd(e,t){e.setParams({missingProperty:t},!0),e.error()}Y.reportMissingProp=bd;function qa(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,se._)`Object.prototype.hasOwnProperty`})}Y.hasPropFunc=qa;function Os(e,t,r){return(0,se._)`${qa(e)}.call(${t}, ${r})`}Y.isOwnProperty=Os;function Pd(e,t,r,n){const s=(0,se._)`${t}${(0,se.getProperty)(r)} !== undefined`;return n?(0,se._)`${s} && ${Os(e,t,r)}`:s}Y.propertyInData=Pd;function bs(e,t,r,n){const s=(0,se._)`${t}${(0,se.getProperty)(r)} === undefined`;return n?(0,se.or)(s,(0,se.not)(Os(e,t,r))):s}Y.noPropertyInData=bs;function Ga(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Y.allSchemaProperties=Ga;function Rd(e,t){return Ga(t).filter(r=>!(0,Is.alwaysValidSchema)(e,t[r]))}Y.schemaProperties=Rd;function Td({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:i},it:o},c,l,d){const a=d?(0,se._)`${e}, ${t}, ${n}${s}`:t,h=[[ut.default.instancePath,(0,se.strConcat)(ut.default.instancePath,i)],[ut.default.parentData,o.parentData],[ut.default.parentDataProperty,o.parentDataProperty],[ut.default.rootData,ut.default.rootData]];o.opts.dynamicRef&&h.push([ut.default.dynamicAnchors,ut.default.dynamicAnchors]);const E=(0,se._)`${a}, ${r.object(...h)}`;return l!==se.nil?(0,se._)`${c}.call(${l}, ${E})`:(0,se._)`${c}(${E})`}Y.callValidateCode=Td;const Cd=(0,se._)`new RegExp`;function Dd({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,i=s(r,n);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,se._)`${s.code==="new RegExp"?Cd:(0,Nd.useFunc)(e,s)}(${r}, ${n})`})}Y.usePattern=Dd;function Ld(e){const{gen:t,data:r,keyword:n,it:s}=e,i=t.name("valid");if(s.allErrors){const c=t.let("valid",!0);return o(()=>t.assign(c,!1)),c}return t.var(i,!0),o(()=>t.break()),i;function o(c){const l=t.const("len",(0,se._)`${r}.length`);t.forRange("i",0,l,d=>{e.subschema({keyword:n,dataProp:d,dataPropType:Is.Type.Num},i),t.if((0,se.not)(i),c)})}}Y.validateArray=Ld;function Ad(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,Is.alwaysValidSchema)(s,l))&&!s.opts.unevaluated)return;const o=t.let("valid",!1),c=t.name("_valid");t.block(()=>r.forEach((l,d)=>{const a=e.subschema({keyword:n,schemaProp:d,compositeRule:!0},c);t.assign(o,(0,se._)`${o} || ${c}`),e.mergeValidEvaluated(a,c)||t.if((0,se.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}Y.validateUnion=Ad;Object.defineProperty(Xe,"__esModule",{value:!0});Xe.validateKeywordUsage=Xe.validSchemaType=Xe.funcKeywordCode=Xe.macroKeywordCode=void 0;const Ie=J,Et=Qe,kd=Y,Fd=yr;function jd(e,t){const{gen:r,keyword:n,schema:s,parentSchema:i,it:o}=e,c=t.macro.call(o.self,s,i,o),l=Ba(r,n,c);o.opts.validateSchema!==!1&&o.self.validateSchema(c,!0);const d=r.name("valid");e.subschema({schema:c,schemaPath:Ie.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},d),e.pass(d,()=>e.error(!0))}Xe.macroKeywordCode=jd;function Md(e,t){var r;const{gen:n,keyword:s,schema:i,parentSchema:o,$data:c,it:l}=e;zd(l,t);const d=!c&&t.compile?t.compile.call(l.self,i,o,l):t.validate,a=Ba(n,s,d),h=n.let("valid");e.block$data(h,E),e.ok((r=t.valid)!==null&&r!==void 0?r:h);function E(){if(t.errors===!1)y(),t.modifying&&Bi(e),$(()=>e.error());else{const f=t.async?m():u();t.modifying&&Bi(e),$(()=>Ud(e,f))}}function m(){const f=n.let("ruleErrs",null);return n.try(()=>y((0,Ie._)`await `),g=>n.assign(h,!1).if((0,Ie._)`${g} instanceof ${l.ValidationError}`,()=>n.assign(f,(0,Ie._)`${g}.errors`),()=>n.throw(g))),f}function u(){const f=(0,Ie._)`${a}.errors`;return n.assign(f,null),y(Ie.nil),f}function y(f=t.async?(0,Ie._)`await `:Ie.nil){const g=l.opts.passContext?Et.default.this:Et.default.self,w=!("compile"in t&&!c||t.schema===!1);n.assign(h,(0,Ie._)`${f}${(0,kd.callValidateCode)(e,a,g,w)}`,t.modifying)}function $(f){var g;n.if((0,Ie.not)((g=t.valid)!==null&&g!==void 0?g:h),f)}}Xe.funcKeywordCode=Md;function Bi(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Ie._)`${n.parentData}[${n.parentDataProperty}]`))}function Ud(e,t){const{gen:r}=e;r.if((0,Ie._)`Array.isArray(${t})`,()=>{r.assign(Et.default.vErrors,(0,Ie._)`${Et.default.vErrors} === null ? ${t} : ${Et.default.vErrors}.concat(${t})`).assign(Et.default.errors,(0,Ie._)`${Et.default.vErrors}.length`),(0,Fd.extendErrors)(e)},()=>e.error())}function zd({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Ba(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Ie.stringify)(r)})}function Vd(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Xe.validSchemaType=Vd;function xd({schema:e,opts:t,self:r,errSchemaPath:n},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw new Error("ajv implementation error");const o=s.dependencies;if(o?.some(c=>!Object.prototype.hasOwnProperty.call(e,c)))throw new Error(`parent schema must have dependencies of ${i}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[i])){const l=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}Xe.validateKeywordUsage=xd;var pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.extendSubschemaMode=pt.extendSubschemaData=pt.getSubschema=void 0;const We=J,Ka=M;function Hd(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:i,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const c=e.schema[t];return r===void 0?{schema:c,schemaPath:(0,We._)`${e.schemaPath}${(0,We.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:c[r],schemaPath:(0,We._)`${e.schemaPath}${(0,We.getProperty)(t)}${(0,We.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Ka.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||i===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:o,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}pt.getSubschema=Hd;function qd(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:i,propertyName:o}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:c}=t;if(r!==void 0){const{errorPath:d,dataPathArr:a,opts:h}=t,E=c.let("data",(0,We._)`${t.data}${(0,We.getProperty)(r)}`,!0);l(E),e.errorPath=(0,We.str)`${d}${(0,Ka.getErrorPath)(r,n,h.jsPropertySyntax)}`,e.parentDataProperty=(0,We._)`${r}`,e.dataPathArr=[...a,e.parentDataProperty]}if(s!==void 0){const d=s instanceof We.Name?s:c.let("data",s,!0);l(d),o!==void 0&&(e.propertyName=o)}i&&(e.dataTypes=i);function l(d){e.data=d,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,d]}}pt.extendSubschemaData=qd;function Gd(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:i}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}pt.extendSubschemaMode=Gd;var Ee={},Za=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r},Wa={exports:{}},mt=Wa.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Fr(t,n,s,e,"",e)};mt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};mt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};mt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};mt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Fr(e,t,r,n,s,i,o,c,l,d){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,i,o,c,l,d);for(var a in n){var h=n[a];if(Array.isArray(h)){if(a in mt.arrayKeywords)for(var E=0;E<h.length;E++)Fr(e,t,r,h[E],s+"/"+a+"/"+E,i,s,a,n,E)}else if(a in mt.propsKeywords){if(h&&typeof h=="object")for(var m in h)Fr(e,t,r,h[m],s+"/"+a+"/"+Bd(m),i,s,a,n,m)}else(a in mt.keywords||e.allKeys&&!(a in mt.skipKeywords))&&Fr(e,t,r,h,s+"/"+a,i,s,a,n)}r(n,s,i,o,c,l,d)}}function Bd(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Kd=Wa.exports;Object.defineProperty(Ee,"__esModule",{value:!0});Ee.getSchemaRefs=Ee.resolveUrl=Ee.normalizeId=Ee._getFullPath=Ee.getFullPath=Ee.inlineRef=void 0;const Zd=M,Wd=Za,Xd=Kd,Jd=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Yd(e,t=!0){return typeof e=="boolean"?!0:t===!0?!ns(e):t?Xa(e)<=t:!1}Ee.inlineRef=Yd;const Qd=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function ns(e){for(const t in e){if(Qd.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(ns)||typeof r=="object"&&ns(r))return!0}return!1}function Xa(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Jd.has(r)&&(typeof e[r]=="object"&&(0,Zd.eachItem)(e[r],n=>t+=Xa(n)),t===1/0))return 1/0}return t}function Ja(e,t="",r){r!==!1&&(t=Mt(t));const n=e.parse(t);return Ya(e,n)}Ee.getFullPath=Ja;function Ya(e,t){return e.serialize(t).split("#")[0]+"#"}Ee._getFullPath=Ya;const eh=/#\/?$/;function Mt(e){return e?e.replace(eh,""):""}Ee.normalizeId=Mt;function th(e,t,r){return r=Mt(r),e.resolve(t,r)}Ee.resolveUrl=th;const rh=/^[a-z_][-a-z0-9._]*$/i;function nh(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=Mt(e[r]||t),i={"":s},o=Ja(n,s,!1),c={},l=new Set;return Xd(e,{allKeys:!0},(h,E,m,u)=>{if(u===void 0)return;const y=o+E;let $=i[u];typeof h[r]=="string"&&($=f.call(this,h[r])),g.call(this,h.$anchor),g.call(this,h.$dynamicAnchor),i[E]=$;function f(w){const I=this.opts.uriResolver.resolve;if(w=Mt($?I($,w):w),l.has(w))throw a(w);l.add(w);let C=this.refs[w];return typeof C=="string"&&(C=this.refs[C]),typeof C=="object"?d(h,C.schema,w):w!==Mt(y)&&(w[0]==="#"?(d(h,c[w],w),c[w]=h):this.refs[w]=y),w}function g(w){if(typeof w=="string"){if(!rh.test(w))throw new Error(`invalid anchor "${w}"`);f.call(this,`#${w}`)}}}),c;function d(h,E,m){if(E!==void 0&&!Wd(h,E))throw a(m)}function a(h){return new Error(`reference "${h}" resolves to more than one schema`)}}Ee.getSchemaRefs=nh;Object.defineProperty(xe,"__esModule",{value:!0});xe.getData=xe.KeywordCxt=xe.validateFunctionCode=void 0;const Qa=Vt,Ki=fe,Ps=rt,qr=fe,sh=rn,sr=Xe,Fn=pt,V=J,K=Qe,ih=Ee,nt=M,Jt=yr;function oh(e){if(rc(e)&&(nc(e),tc(e))){uh(e);return}ec(e,()=>(0,Qa.topBoolOrEmptySchema)(e))}xe.validateFunctionCode=oh;function ec({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},i){s.code.es5?e.func(t,(0,V._)`${K.default.data}, ${K.default.valCxt}`,n.$async,()=>{e.code((0,V._)`"use strict"; ${Zi(r,s)}`),ch(e,s),e.code(i)}):e.func(t,(0,V._)`${K.default.data}, ${ah(s)}`,n.$async,()=>e.code(Zi(r,s)).code(i))}function ah(e){return(0,V._)`{${K.default.instancePath}="", ${K.default.parentData}, ${K.default.parentDataProperty}, ${K.default.rootData}=${K.default.data}${e.dynamicRef?(0,V._)`, ${K.default.dynamicAnchors}={}`:V.nil}}={}`}function ch(e,t){e.if(K.default.valCxt,()=>{e.var(K.default.instancePath,(0,V._)`${K.default.valCxt}.${K.default.instancePath}`),e.var(K.default.parentData,(0,V._)`${K.default.valCxt}.${K.default.parentData}`),e.var(K.default.parentDataProperty,(0,V._)`${K.default.valCxt}.${K.default.parentDataProperty}`),e.var(K.default.rootData,(0,V._)`${K.default.valCxt}.${K.default.rootData}`),t.dynamicRef&&e.var(K.default.dynamicAnchors,(0,V._)`${K.default.valCxt}.${K.default.dynamicAnchors}`)},()=>{e.var(K.default.instancePath,(0,V._)`""`),e.var(K.default.parentData,(0,V._)`undefined`),e.var(K.default.parentDataProperty,(0,V._)`undefined`),e.var(K.default.rootData,K.default.data),t.dynamicRef&&e.var(K.default.dynamicAnchors,(0,V._)`{}`)})}function uh(e){const{schema:t,opts:r,gen:n}=e;ec(e,()=>{r.$comment&&t.$comment&&ic(e),mh(e),n.let(K.default.vErrors,null),n.let(K.default.errors,0),r.unevaluated&&lh(e),sc(e),$h(e)})}function lh(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,V._)`${r}.evaluated`),t.if((0,V._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,V._)`${e.evaluated}.props`,(0,V._)`undefined`)),t.if((0,V._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,V._)`${e.evaluated}.items`,(0,V._)`undefined`))}function Zi(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,V._)`/*# sourceURL=${r} */`:V.nil}function fh(e,t){if(rc(e)&&(nc(e),tc(e))){dh(e,t);return}(0,Qa.boolOrEmptySchema)(e,t)}function tc({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function rc(e){return typeof e.schema!="boolean"}function dh(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&ic(e),ph(e),yh(e);const i=n.const("_errs",K.default.errors);sc(e,i),n.var(t,(0,V._)`${i} === ${K.default.errors}`)}function nc(e){(0,nt.checkUnknownRules)(e),hh(e)}function sc(e,t){if(e.opts.jtd)return Wi(e,[],!1,t);const r=(0,Ki.getSchemaTypes)(e.schema),n=(0,Ki.coerceAndCheckDataType)(e,r);Wi(e,r,!n,t)}function hh(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,nt.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function mh(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,nt.checkStrictMode)(e,"default is ignored in the schema root")}function ph(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,ih.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function yh(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function ic({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const i=r.$comment;if(s.$comment===!0)e.code((0,V._)`${K.default.self}.logger.log(${i})`);else if(typeof s.$comment=="function"){const o=(0,V.str)`${n}/$comment`,c=e.scopeValue("root",{ref:t.root});e.code((0,V._)`${K.default.self}.opts.$comment(${i}, ${o}, ${c}.schema)`)}}function $h(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:i}=e;r.$async?t.if((0,V._)`${K.default.errors} === 0`,()=>t.return(K.default.data),()=>t.throw((0,V._)`new ${s}(${K.default.vErrors})`)):(t.assign((0,V._)`${n}.errors`,K.default.vErrors),i.unevaluated&&Eh(e),t.return((0,V._)`${K.default.errors} === 0`))}function Eh({gen:e,evaluated:t,props:r,items:n}){r instanceof V.Name&&e.assign((0,V._)`${t}.props`,r),n instanceof V.Name&&e.assign((0,V._)`${t}.items`,n)}function Wi(e,t,r,n){const{gen:s,schema:i,data:o,allErrors:c,opts:l,self:d}=e,{RULES:a}=d;if(i.$ref&&(l.ignoreKeywordsWithRef||!(0,nt.schemaHasRulesButRef)(i,a))){s.block(()=>cc(e,"$ref",a.all.$ref.definition));return}l.jtd||gh(e,t),s.block(()=>{for(const E of a.rules)h(E);h(a.post)});function h(E){(0,Ps.shouldUseGroup)(i,E)&&(E.type?(s.if((0,qr.checkDataType)(E.type,o,l.strictNumbers)),Xi(e,E),t.length===1&&t[0]===E.type&&r&&(s.else(),(0,qr.reportTypeError)(e)),s.endIf()):Xi(e,E),c||s.if((0,V._)`${K.default.errors} === ${n||0}`))}}function Xi(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,sh.assignDefaults)(e,t.type),r.block(()=>{for(const i of t.rules)(0,Ps.shouldUseRule)(n,i)&&cc(e,i.keyword,i.definition,t.type)})}function gh(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(vh(e,t),e.opts.allowUnionTypes||_h(e,t),wh(e,e.dataTypes))}function vh(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{oc(e.dataTypes,r)||Rs(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),Nh(e,t)}}function _h(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Rs(e,"use allowUnionTypes to allow union type keyword")}function wh(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,Ps.shouldUseRule)(e.schema,s)){const{type:i}=s.definition;i.length&&!i.some(o=>Sh(t,o))&&Rs(e,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function Sh(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function oc(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Nh(e,t){const r=[];for(const n of e.dataTypes)oc(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function Rs(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,nt.checkStrictMode)(e,t,e.opts.strictTypes)}class ac{constructor(t,r,n){if((0,sr.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,nt.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",uc(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,sr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",K.default.errors))}result(t,r,n){this.failResult((0,V.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,V.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,V._)`${r} !== undefined && (${(0,V.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Jt.reportExtraError:Jt.reportError)(this,this.def.error,r)}$dataError(){(0,Jt.reportError)(this,this.def.$dataError||Jt.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Jt.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=V.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=V.nil,r=V.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:i,def:o}=this;n.if((0,V.or)((0,V._)`${s} === undefined`,r)),t!==V.nil&&n.assign(t,!0),(i.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==V.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:i}=this;return(0,V.or)(o(),c());function o(){if(n.length){if(!(r instanceof V.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,V._)`${(0,qr.checkDataTypes)(l,r,i.opts.strictNumbers,qr.DataType.Wrong)}`}return V.nil}function c(){if(s.validateSchema){const l=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,V._)`!${l}(${r})`}return V.nil}}subschema(t,r){const n=(0,Fn.getSubschema)(this.it,t);(0,Fn.extendSubschemaData)(n,this.it,t),(0,Fn.extendSubschemaMode)(n,t);const s={...this.it,...n,items:void 0,props:void 0};return fh(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=nt.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=nt.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,V.Name)),!0}}xe.KeywordCxt=ac;function cc(e,t,r,n){const s=new ac(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,sr.funcKeywordCode)(s,r):"macro"in r?(0,sr.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,sr.funcKeywordCode)(s,r)}const Ih=/^\/(?:[^~]|~0|~1)*$/,Oh=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function uc(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,i;if(e==="")return K.default.rootData;if(e[0]==="/"){if(!Ih.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,i=K.default.rootData}else{const d=Oh.exec(e);if(!d)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+d[1];if(s=d[2],s==="#"){if(a>=t)throw new Error(l("property/index",a));return n[t-a]}if(a>t)throw new Error(l("data",a));if(i=r[t-a],!s)return i}let o=i;const c=s.split("/");for(const d of c)d&&(i=(0,V._)`${i}${(0,V.getProperty)((0,nt.unescapeJsonPointer)(d))}`,o=(0,V._)`${o} && ${i}`);return o;function l(d,a){return`Cannot access ${d} ${a} levels up, current level is ${t}`}}xe.getData=uc;var $r={};Object.defineProperty($r,"__esModule",{value:!0});class bh extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}$r.default=bh;var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});const jn=Ee;class Ph extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,jn.resolveUrl)(t,r,n),this.missingSchema=(0,jn.normalizeId)((0,jn.getFullPath)(t,this.missingRef))}}Gt.default=Ph;var Le={};Object.defineProperty(Le,"__esModule",{value:!0});Le.resolveSchema=Le.getCompilingSchema=Le.resolveRef=Le.compileSchema=Le.SchemaEnv=void 0;const Ue=J,Rh=$r,yt=Qe,Ve=Ee,Ji=M,Th=xe;class nn{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Ve.normalizeId)(n?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n?.$async,this.refs={}}}Le.SchemaEnv=nn;function Ts(e){const t=lc.call(this,e);if(t)return t;const r=(0,Ve.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,o=new Ue.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i});let c;e.$async&&(c=o.scopeValue("Error",{ref:Rh.default,code:(0,Ue._)`require("ajv/dist/runtime/validation_error").default`}));const l=o.scopeName("validate");e.validateName=l;const d={gen:o,allErrors:this.opts.allErrors,data:yt.default.data,parentData:yt.default.parentData,parentDataProperty:yt.default.parentDataProperty,dataNames:[yt.default.data],dataPathArr:[Ue.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Ue.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:c,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Ue.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ue._)`""`,opts:this.opts,self:this};let a;try{this._compilations.add(e),(0,Th.validateFunctionCode)(d),o.optimize(this.opts.code.optimize);const h=o.toString();a=`${o.scopeRefs(yt.default.scope)}return ${h}`,this.opts.code.process&&(a=this.opts.code.process(a,e));const m=new Function(`${yt.default.self}`,`${yt.default.scope}`,a)(this,this.scope.get());if(this.scope.value(l,{ref:m}),m.errors=null,m.schema=e.schema,m.schemaEnv=e,e.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:l,validateCode:h,scopeValues:o._values}),this.opts.unevaluated){const{props:u,items:y}=d;m.evaluated={props:u instanceof Ue.Name?void 0:u,items:y instanceof Ue.Name?void 0:y,dynamicProps:u instanceof Ue.Name,dynamicItems:y instanceof Ue.Name},m.source&&(m.source.evaluated=(0,Ue.stringify)(m.evaluated))}return e.validate=m,e}catch(h){throw delete e.validate,delete e.validateName,a&&this.logger.error("Error compiling schema, function code:",a),h}finally{this._compilations.delete(e)}}Le.compileSchema=Ts;function Ch(e,t,r){var n;r=(0,Ve.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let i=Ah.call(this,e,r);if(i===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:c}=this.opts;o&&(i=new nn({schema:o,schemaId:c,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=Dh.call(this,i)}Le.resolveRef=Ch;function Dh(e){return(0,Ve.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Ts.call(this,e)}function lc(e){for(const t of this._compilations)if(Lh(t,e))return t}Le.getCompilingSchema=lc;function Lh(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Ah(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||sn.call(this,e,t)}function sn(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Ve._getFullPath)(this.opts.uriResolver,r);let s=(0,Ve.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return Mn.call(this,r,e);const i=(0,Ve.normalizeId)(n),o=this.refs[i]||this.schemas[i];if(typeof o=="string"){const c=sn.call(this,e,o);return typeof c?.schema!="object"?void 0:Mn.call(this,r,c)}if(typeof o?.schema=="object"){if(o.validate||Ts.call(this,o),i===(0,Ve.normalizeId)(t)){const{schema:c}=o,{schemaId:l}=this.opts,d=c[l];return d&&(s=(0,Ve.resolveUrl)(this.opts.uriResolver,s,d)),new nn({schema:c,schemaId:l,root:e,baseId:s})}return Mn.call(this,r,o)}}Le.resolveSchema=sn;const kh=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Mn(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const c of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,Ji.unescapeFragment)(c)];if(l===void 0)return;r=l;const d=typeof r=="object"&&r[this.opts.schemaId];!kh.has(c)&&d&&(t=(0,Ve.resolveUrl)(this.opts.uriResolver,t,d))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,Ji.schemaHasRulesButRef)(r,this.RULES)){const c=(0,Ve.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=sn.call(this,n,c)}const{schemaId:o}=this.opts;if(i=i||new nn({schema:r,schemaId:o,root:n,baseId:t}),i.schema!==i.root.schema)return i}const Fh="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",jh="Meta-schema for $data reference (JSON AnySchema extension proposal)",Mh="object",Uh=["$data"],zh={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Vh=!1,xh={$id:Fh,description:jh,type:Mh,required:Uh,properties:zh,additionalProperties:Vh};var Cs={},on={exports:{}};const Hh={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};var qh={HEX:Hh};const{HEX:Gh}=qh;function fc(e){if(hc(e,".")<3)return{host:e,isIPV4:!1};const t=e.match(/^(\b[01]?\d{1,2}|\b2[0-4]\d|\b25[0-5])(\.([01]?\d{1,2}|2[0-4]\d|25[0-5])){3}$/u)||[],[r]=t;return r?{host:Kh(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function ss(e){let t="",r=!0;for(const n of e){if(n!=="0"&&r===!0&&(r=!1),Gh[n]===void 0)return;r||(t+=n)}return t}function Bh(e){let t=0;const r={error:!1,address:"",zone:""},n=[],s=[];let i=!1,o=!1,c=!1;function l(){if(s.length){if(i===!1){const d=ss(s.join(""));if(d!==void 0)n.push(d);else return r.error=!0,!1}s.length=0}return!0}for(let d=0;d<e.length;d++){const a=e[d];if(!(a==="["||a==="]"))if(a===":"){if(o===!0&&(c=!0),!l())break;if(t++,n.push(":"),t>7){r.error=!0;break}d-1>=0&&e[d-1]===":"&&(o=!0);continue}else if(a==="%"){if(!l())break;i=!0}else{s.push(a);continue}}return s.length&&(i?r.zone=s.join(""):c?n.push(s.join("")):n.push(ss(s.join("")))),r.address=n.join(""),r}function dc(e,t={}){if(hc(e,":")<2)return{host:e,isIPV6:!1};const r=Bh(e);if(r.error)return{host:e,isIPV6:!1};{let n=r.address,s=r.address;return r.zone&&(n+="%"+r.zone,s+="%25"+r.zone),{host:n,escapedHost:s,isIPV6:!0}}}function Kh(e,t){let r="",n=!0;const s=e.length;for(let i=0;i<s;i++){const o=e[i];o==="0"&&n?(i+1<=s&&e[i+1]===t||i+1===s)&&(r+=o,n=!1):(o===t?n=!0:n=!1,r+=o)}return r}function hc(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}const Yi=/^\.\.?\//u,Qi=/^\/\.(?:\/|$)/u,eo=/^\/\.\.(?:\/|$)/u,Zh=/^\/?(?:.|\n)*?(?=\/|$)/u;function Wh(e){const t=[];for(;e.length;)if(e.match(Yi))e=e.replace(Yi,"");else if(e.match(Qi))e=e.replace(Qi,"/");else if(e.match(eo))e=e.replace(eo,"/"),t.pop();else if(e==="."||e==="..")e="";else{const r=e.match(Zh);if(r){const n=r[0];e=e.slice(n.length),t.push(n)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function Xh(e,t){const r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function Jh(e,t){const r=[];if(e.userinfo!==void 0&&(r.push(e.userinfo),r.push("@")),e.host!==void 0){let n=unescape(e.host);const s=fc(n);if(s.isIPV4)n=s.host;else{const i=dc(s.host,{isIPV4:!1});i.isIPV6===!0?n=`[${i.escapedHost}]`:n=e.host}r.push(n)}return(typeof e.port=="number"||typeof e.port=="string")&&(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}var Yh={recomposeAuthority:Jh,normalizeComponentEncoding:Xh,removeDotSegments:Wh,normalizeIPv4:fc,normalizeIPv6:dc,stringToHexStripped:ss};const Qh=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,em=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function mc(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function pc(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function yc(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function tm(e){return e.secure=mc(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function rm(e){if((e.port===(mc(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function nm(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(em);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const s=`${n}:${t.nid||e.nid}`,i=Ds[s];e.path=void 0,i&&(e=i.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function sm(e,t){const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),s=`${r}:${t.nid||n}`,i=Ds[s];i&&(e=i.serialize(e,t));const o=e,c=e.nss;return o.path=`${n||t.nid}:${c}`,t.skipEscape=!0,o}function im(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!Qh.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function om(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const $c={scheme:"http",domainHost:!0,parse:pc,serialize:yc},am={scheme:"https",domainHost:$c.domainHost,parse:pc,serialize:yc},jr={scheme:"ws",domainHost:!0,parse:tm,serialize:rm},cm={scheme:"wss",domainHost:jr.domainHost,parse:jr.parse,serialize:jr.serialize},um={scheme:"urn",parse:nm,serialize:sm,skipNormalize:!0},lm={scheme:"urn:uuid",parse:im,serialize:om,skipNormalize:!0},Ds={http:$c,https:am,ws:jr,wss:cm,urn:um,"urn:uuid":lm};var fm=Ds;const dm=Jc,{normalizeIPv6:hm,normalizeIPv4:mm,removeDotSegments:er,recomposeAuthority:pm,normalizeComponentEncoding:Ir}=Yh,Ec=fm;function ym(e,t){return typeof e=="string"?e=Je(st(e,t),t):typeof e=="object"&&(e=st(Je(e,t),t)),e}function $m(e,t,r){const n=Object.assign({scheme:"null"},r),s=gc(st(e,n),st(t,n),n,!0);return Je(s,{...n,skipEscape:!0})}function gc(e,t,r,n){const s={};return n||(e=st(Je(e,r),r),t=st(Je(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=er(t.path||""),s.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=er(t.path||""),s.query=t.query):(t.path?(t.path.charAt(0)==="/"?s.path=er(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?s.path="/"+t.path:e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path,s.path=er(s.path)),s.query=t.query):(s.path=e.path,t.query!==void 0?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function Em(e,t,r){return typeof e=="string"?(e=unescape(e),e=Je(Ir(st(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Je(Ir(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=Je(Ir(st(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Je(Ir(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function Je(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],i=Ec[(n.scheme||r.scheme||"").toLowerCase()];i&&i.serialize&&i.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&(s.push(r.scheme),s.push(":"));const o=pm(r,n);if(o!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(o),r.path&&r.path.charAt(0)!=="/"&&s.push("/")),r.path!==void 0){let c=r.path;!n.absolutePath&&(!i||!i.absolutePath)&&(c=er(c)),o===void 0&&(c=c.replace(/^\/\//u,"/%2F")),s.push(c)}return r.query!==void 0&&(s.push("?"),s.push(r.query)),r.fragment!==void 0&&(s.push("#"),s.push(r.fragment)),s.join("")}const gm=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function vm(e){let t=0;for(let r=0,n=e.length;r<n;++r)if(t=e.charCodeAt(r),t>126||gm[t])return!0;return!1}const _m=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function st(e,t){const r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},s=e.indexOf("%")!==-1;r.reference==="suffix"&&(e=(r.scheme?r.scheme+":":"")+"//"+e);const i=e.match(_m);if(i){if(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5]),n.host){const c=mm(n.host);c.isIPV4===!1?n.host=hm(c.host,{isIPV4:!1}).host.toLowerCase():n.host=c.host}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&!n.path&&n.query===void 0?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const o=Ec[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!o||!o.unicodeSupport)&&n.host&&(r.domainHost||o&&o.domainHost)&&vm(n.host))try{n.host=dm.domainToASCII(n.host.toLowerCase())}catch(c){n.error=n.error||"Host's domain name can not be converted to ASCII: "+c}(!o||o&&!o.skipNormalize)&&(s&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),s&&n.userinfo!==void 0&&(n.userinfo=unescape(n.userinfo)),s&&n.host!==void 0&&(n.host=unescape(n.host)),n.path!==void 0&&n.path.length&&(n.path=encodeURI(n.path)),n.fragment!==void 0&&n.fragment.length&&(n.fragment=encodeURI(decodeURI(n.fragment)))),o&&o.parse&&o.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const Ls={normalize:ym,resolve:$m,resolveComponents:gc,equal:Em,serialize:Je,parse:st};on.exports=Ls;on.exports.default=Ls;on.exports.fastUri=Ls;var wm=on.exports;Object.defineProperty(Cs,"__esModule",{value:!0});const vc=wm;vc.code='require("ajv/dist/runtime/uri").default';Cs.default=vc;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=xe;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=J;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=$r,s=Gt,i=St,o=Le,c=J,l=Ee,d=fe,a=M,h=xh,E=Cs,m=(P,_)=>new RegExp(P,_);m.code="new RegExp";const u=["removeAdditional","useDefaults","coerceTypes"],y=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),$={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},f={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},g=200;function w(P){var _,N,S,p,v,O,x,q,te,ee,he,Ot,$n,En,gn,vn,_n,wn,Sn,Nn,In,On,bn,Pn,Rn;const Wt=P.strict,Tn=(_=P.code)===null||_===void 0?void 0:_.optimize,_i=Tn===!0||Tn===void 0?1:Tn||0,wi=(S=(N=P.code)===null||N===void 0?void 0:N.regExp)!==null&&S!==void 0?S:m,Gc=(p=P.uriResolver)!==null&&p!==void 0?p:E.default;return{strictSchema:(O=(v=P.strictSchema)!==null&&v!==void 0?v:Wt)!==null&&O!==void 0?O:!0,strictNumbers:(q=(x=P.strictNumbers)!==null&&x!==void 0?x:Wt)!==null&&q!==void 0?q:!0,strictTypes:(ee=(te=P.strictTypes)!==null&&te!==void 0?te:Wt)!==null&&ee!==void 0?ee:"log",strictTuples:(Ot=(he=P.strictTuples)!==null&&he!==void 0?he:Wt)!==null&&Ot!==void 0?Ot:"log",strictRequired:(En=($n=P.strictRequired)!==null&&$n!==void 0?$n:Wt)!==null&&En!==void 0?En:!1,code:P.code?{...P.code,optimize:_i,regExp:wi}:{optimize:_i,regExp:wi},loopRequired:(gn=P.loopRequired)!==null&&gn!==void 0?gn:g,loopEnum:(vn=P.loopEnum)!==null&&vn!==void 0?vn:g,meta:(_n=P.meta)!==null&&_n!==void 0?_n:!0,messages:(wn=P.messages)!==null&&wn!==void 0?wn:!0,inlineRefs:(Sn=P.inlineRefs)!==null&&Sn!==void 0?Sn:!0,schemaId:(Nn=P.schemaId)!==null&&Nn!==void 0?Nn:"$id",addUsedSchema:(In=P.addUsedSchema)!==null&&In!==void 0?In:!0,validateSchema:(On=P.validateSchema)!==null&&On!==void 0?On:!0,validateFormats:(bn=P.validateFormats)!==null&&bn!==void 0?bn:!0,unicodeRegExp:(Pn=P.unicodeRegExp)!==null&&Pn!==void 0?Pn:!0,int32range:(Rn=P.int32range)!==null&&Rn!==void 0?Rn:!0,uriResolver:Gc}}class I{constructor(_={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,_=this.opts={..._,...w(_)};const{es5:N,lines:S}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:y,es5:N,lines:S}),this.logger=B(_.logger);const p=_.validateFormats;_.validateFormats=!1,this.RULES=(0,i.getRules)(),C.call(this,$,_,"NOT SUPPORTED"),C.call(this,f,_,"DEPRECATED","warn"),this._metaOpts=F.call(this),_.formats&&Q.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),_.keywords&&b.call(this,_.keywords),typeof _.meta=="object"&&this.addMetaSchema(_.meta),G.call(this),_.validateFormats=p}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:_,meta:N,schemaId:S}=this.opts;let p=h;S==="id"&&(p={...h},p.id=p.$id,delete p.$id),N&&_&&this.addMetaSchema(p,p[S],!1)}defaultMeta(){const{meta:_,schemaId:N}=this.opts;return this.opts.defaultMeta=typeof _=="object"?_[N]||_:void 0}validate(_,N){let S;if(typeof _=="string"){if(S=this.getSchema(_),!S)throw new Error(`no schema with key or ref "${_}"`)}else S=this.compile(_);const p=S(N);return"$async"in S||(this.errors=S.errors),p}compile(_,N){const S=this._addSchema(_,N);return S.validate||this._compileSchemaEnv(S)}compileAsync(_,N){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:S}=this.opts;return p.call(this,_,N);async function p(ee,he){await v.call(this,ee.$schema);const Ot=this._addSchema(ee,he);return Ot.validate||O.call(this,Ot)}async function v(ee){ee&&!this.getSchema(ee)&&await p.call(this,{$ref:ee},!0)}async function O(ee){try{return this._compileSchemaEnv(ee)}catch(he){if(!(he instanceof s.default))throw he;return x.call(this,he),await q.call(this,he.missingSchema),O.call(this,ee)}}function x({missingSchema:ee,missingRef:he}){if(this.refs[ee])throw new Error(`AnySchema ${ee} is loaded but ${he} cannot be resolved`)}async function q(ee){const he=await te.call(this,ee);this.refs[ee]||await v.call(this,he.$schema),this.refs[ee]||this.addSchema(he,ee,N)}async function te(ee){const he=this._loading[ee];if(he)return he;try{return await(this._loading[ee]=S(ee))}finally{delete this._loading[ee]}}}addSchema(_,N,S,p=this.opts.validateSchema){if(Array.isArray(_)){for(const O of _)this.addSchema(O,void 0,S,p);return this}let v;if(typeof _=="object"){const{schemaId:O}=this.opts;if(v=_[O],v!==void 0&&typeof v!="string")throw new Error(`schema ${O} must be string`)}return N=(0,l.normalizeId)(N||v),this._checkUnique(N),this.schemas[N]=this._addSchema(_,S,N,p,!0),this}addMetaSchema(_,N,S=this.opts.validateSchema){return this.addSchema(_,N,!0,S),this}validateSchema(_,N){if(typeof _=="boolean")return!0;let S;if(S=_.$schema,S!==void 0&&typeof S!="string")throw new Error("$schema must be a string");if(S=S||this.opts.defaultMeta||this.defaultMeta(),!S)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const p=this.validate(S,_);if(!p&&N){const v="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(v);else throw new Error(v)}return p}getSchema(_){let N;for(;typeof(N=H.call(this,_))=="string";)_=N;if(N===void 0){const{schemaId:S}=this.opts,p=new o.SchemaEnv({schema:{},schemaId:S});if(N=o.resolveSchema.call(this,p,_),!N)return;this.refs[_]=N}return N.validate||this._compileSchemaEnv(N)}removeSchema(_){if(_ instanceof RegExp)return this._removeAllSchemas(this.schemas,_),this._removeAllSchemas(this.refs,_),this;switch(typeof _){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const N=H.call(this,_);return typeof N=="object"&&this._cache.delete(N.schema),delete this.schemas[_],delete this.refs[_],this}case"object":{const N=_;this._cache.delete(N);let S=_[this.opts.schemaId];return S&&(S=(0,l.normalizeId)(S),delete this.schemas[S],delete this.refs[S]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(_){for(const N of _)this.addKeyword(N);return this}addKeyword(_,N){let S;if(typeof _=="string")S=_,typeof N=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),N.keyword=S);else if(typeof _=="object"&&N===void 0){if(N=_,S=N.keyword,Array.isArray(S)&&!S.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(R.call(this,S,N),!N)return(0,a.eachItem)(S,v=>D.call(this,v)),this;L.call(this,N);const p={...N,type:(0,d.getJSONTypes)(N.type),schemaType:(0,d.getJSONTypes)(N.schemaType)};return(0,a.eachItem)(S,p.type.length===0?v=>D.call(this,v,p):v=>p.type.forEach(O=>D.call(this,v,p,O))),this}getKeyword(_){const N=this.RULES.all[_];return typeof N=="object"?N.definition:!!N}removeKeyword(_){const{RULES:N}=this;delete N.keywords[_],delete N.all[_];for(const S of N.rules){const p=S.rules.findIndex(v=>v.keyword===_);p>=0&&S.rules.splice(p,1)}return this}addFormat(_,N){return typeof N=="string"&&(N=new RegExp(N)),this.formats[_]=N,this}errorsText(_=this.errors,{separator:N=", ",dataVar:S="data"}={}){return!_||_.length===0?"No errors":_.map(p=>`${S}${p.instancePath} ${p.message}`).reduce((p,v)=>p+N+v)}$dataMetaSchema(_,N){const S=this.RULES.all;_=JSON.parse(JSON.stringify(_));for(const p of N){const v=p.split("/").slice(1);let O=_;for(const x of v)O=O[x];for(const x in S){const q=S[x];if(typeof q!="object")continue;const{$data:te}=q.definition,ee=O[x];te&&ee&&(O[x]=j(ee))}}return _}_removeAllSchemas(_,N){for(const S in _){const p=_[S];(!N||N.test(S))&&(typeof p=="string"?delete _[S]:p&&!p.meta&&(this._cache.delete(p.schema),delete _[S]))}}_addSchema(_,N,S,p=this.opts.validateSchema,v=this.opts.addUsedSchema){let O;const{schemaId:x}=this.opts;if(typeof _=="object")O=_[x];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof _!="boolean")throw new Error("schema must be object or boolean")}let q=this._cache.get(_);if(q!==void 0)return q;S=(0,l.normalizeId)(O||S);const te=l.getSchemaRefs.call(this,_,S);return q=new o.SchemaEnv({schema:_,schemaId:x,meta:N,baseId:S,localRefs:te}),this._cache.set(q.schema,q),v&&!S.startsWith("#")&&(S&&this._checkUnique(S),this.refs[S]=q),p&&this.validateSchema(_,!0),q}_checkUnique(_){if(this.schemas[_]||this.refs[_])throw new Error(`schema with key or id "${_}" already exists`)}_compileSchemaEnv(_){if(_.meta?this._compileMetaSchema(_):o.compileSchema.call(this,_),!_.validate)throw new Error("ajv implementation error");return _.validate}_compileMetaSchema(_){const N=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,_)}finally{this.opts=N}}}I.ValidationError=n.default,I.MissingRefError=s.default,e.default=I;function C(P,_,N,S="error"){for(const p in P){const v=p;v in _&&this.logger[S](`${N}: option ${p}. ${P[v]}`)}}function H(P){return P=(0,l.normalizeId)(P),this.schemas[P]||this.refs[P]}function G(){const P=this.opts.schemas;if(P)if(Array.isArray(P))this.addSchema(P);else for(const _ in P)this.addSchema(P[_],_)}function Q(){for(const P in this.opts.formats){const _=this.opts.formats[P];_&&this.addFormat(P,_)}}function b(P){if(Array.isArray(P)){this.addVocabulary(P);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const _ in P){const N=P[_];N.keyword||(N.keyword=_),this.addKeyword(N)}}function F(){const P={...this.opts};for(const _ of u)delete P[_];return P}const z={log(){},warn(){},error(){}};function B(P){if(P===!1)return z;if(P===void 0)return console;if(P.log&&P.warn&&P.error)return P;throw new Error("logger must implement log, warn and error methods")}const T=/^[a-z_$][a-z0-9_$:-]*$/i;function R(P,_){const{RULES:N}=this;if((0,a.eachItem)(P,S=>{if(N.keywords[S])throw new Error(`Keyword ${S} is already defined`);if(!T.test(S))throw new Error(`Keyword ${S} has invalid name`)}),!!_&&_.$data&&!("code"in _||"validate"in _))throw new Error('$data keyword must have "code" or "validate" function')}function D(P,_,N){var S;const p=_?.post;if(N&&p)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:v}=this;let O=p?v.post:v.rules.find(({type:q})=>q===N);if(O||(O={type:N,rules:[]},v.rules.push(O)),v.keywords[P]=!0,!_)return;const x={keyword:P,definition:{..._,type:(0,d.getJSONTypes)(_.type),schemaType:(0,d.getJSONTypes)(_.schemaType)}};_.before?A.call(this,O,x,_.before):O.rules.push(x),v.all[P]=x,(S=_.implements)===null||S===void 0||S.forEach(q=>this.addKeyword(q))}function A(P,_,N){const S=P.rules.findIndex(p=>p.keyword===N);S>=0?P.rules.splice(S,0,_):(P.rules.push(_),this.logger.warn(`rule ${N} is not defined`))}function L(P){let{metaSchema:_}=P;_!==void 0&&(P.$data&&this.opts.$data&&(_=j(_)),P.validateSchema=this.compile(_,!0))}const k={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function j(P){return{anyOf:[P,k]}}})(Da);var As={},ks={},Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});const Sm={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Fs.default=Sm;var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.callRef=Nt.getValidate=void 0;const Nm=Gt,to=Y,De=J,Rt=Qe,ro=Le,Or=M,Im={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:i,validateName:o,opts:c,self:l}=n,{root:d}=i;if((r==="#"||r==="#/")&&s===d.baseId)return h();const a=ro.resolveRef.call(l,d,s,r);if(a===void 0)throw new Nm.default(n.opts.uriResolver,s,r);if(a instanceof ro.SchemaEnv)return E(a);return m(a);function h(){if(i===d)return Mr(e,o,i,i.$async);const u=t.scopeValue("root",{ref:d});return Mr(e,(0,De._)`${u}.validate`,d,d.$async)}function E(u){const y=_c(e,u);Mr(e,y,u,u.$async)}function m(u){const y=t.scopeValue("schema",c.code.source===!0?{ref:u,code:(0,De.stringify)(u)}:{ref:u}),$=t.name("valid"),f=e.subschema({schema:u,dataTypes:[],schemaPath:De.nil,topSchemaRef:y,errSchemaPath:r},$);e.mergeEvaluated(f),e.ok($)}}};function _c(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,De._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Nt.getValidate=_c;function Mr(e,t,r,n){const{gen:s,it:i}=e,{allErrors:o,schemaEnv:c,opts:l}=i,d=l.passContext?Rt.default.this:De.nil;n?a():h();function a(){if(!c.$async)throw new Error("async schema referenced by sync schema");const u=s.let("valid");s.try(()=>{s.code((0,De._)`await ${(0,to.callValidateCode)(e,t,d)}`),m(t),o||s.assign(u,!0)},y=>{s.if((0,De._)`!(${y} instanceof ${i.ValidationError})`,()=>s.throw(y)),E(y),o||s.assign(u,!1)}),e.ok(u)}function h(){e.result((0,to.callValidateCode)(e,t,d),()=>m(t),()=>E(t))}function E(u){const y=(0,De._)`${u}.errors`;s.assign(Rt.default.vErrors,(0,De._)`${Rt.default.vErrors} === null ? ${y} : ${Rt.default.vErrors}.concat(${y})`),s.assign(Rt.default.errors,(0,De._)`${Rt.default.vErrors}.length`)}function m(u){var y;if(!i.opts.unevaluated)return;const $=(y=r?.validate)===null||y===void 0?void 0:y.evaluated;if(i.props!==!0)if($&&!$.dynamicProps)$.props!==void 0&&(i.props=Or.mergeEvaluated.props(s,$.props,i.props));else{const f=s.var("props",(0,De._)`${u}.evaluated.props`);i.props=Or.mergeEvaluated.props(s,f,i.props,De.Name)}if(i.items!==!0)if($&&!$.dynamicItems)$.items!==void 0&&(i.items=Or.mergeEvaluated.items(s,$.items,i.items));else{const f=s.var("items",(0,De._)`${u}.evaluated.items`);i.items=Or.mergeEvaluated.items(s,f,i.items,De.Name)}}}Nt.callRef=Mr;Nt.default=Im;Object.defineProperty(ks,"__esModule",{value:!0});const Om=Fs,bm=Nt,Pm=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Om.default,bm.default];ks.default=Pm;var js={},Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});const Gr=J,lt=Gr.operators,Br={maximum:{okStr:"<=",ok:lt.LTE,fail:lt.GT},minimum:{okStr:">=",ok:lt.GTE,fail:lt.LT},exclusiveMaximum:{okStr:"<",ok:lt.LT,fail:lt.GTE},exclusiveMinimum:{okStr:">",ok:lt.GT,fail:lt.LTE}},Rm={message:({keyword:e,schemaCode:t})=>(0,Gr.str)`must be ${Br[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Gr._)`{comparison: ${Br[e].okStr}, limit: ${t}}`},Tm={keyword:Object.keys(Br),type:"number",schemaType:"number",$data:!0,error:Rm,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Gr._)`${r} ${Br[t].fail} ${n} || isNaN(${r})`)}};Ms.default=Tm;var Us={};Object.defineProperty(Us,"__esModule",{value:!0});const ir=J,Cm={message:({schemaCode:e})=>(0,ir.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,ir._)`{multipleOf: ${e}}`},Dm={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Cm,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,i=s.opts.multipleOfPrecision,o=t.let("res"),c=i?(0,ir._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${i}`:(0,ir._)`${o} !== parseInt(${o})`;e.fail$data((0,ir._)`(${n} === 0 || (${o} = ${r}/${n}, ${c}))`)}};Us.default=Dm;var zs={},Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});function wc(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}Vs.default=wc;wc.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(zs,"__esModule",{value:!0});const gt=J,Lm=M,Am=Vs,km={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,gt.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,gt._)`{limit: ${e}}`},Fm={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:km,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,i=t==="maxLength"?gt.operators.GT:gt.operators.LT,o=s.opts.unicode===!1?(0,gt._)`${r}.length`:(0,gt._)`${(0,Lm.useFunc)(e.gen,Am.default)}(${r})`;e.fail$data((0,gt._)`${o} ${i} ${n}`)}};zs.default=Fm;var xs={};Object.defineProperty(xs,"__esModule",{value:!0});const jm=Y,Kr=J,Mm={message:({schemaCode:e})=>(0,Kr.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Kr._)`{pattern: ${e}}`},Um={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Mm,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:i}=e,o=i.opts.unicodeRegExp?"u":"",c=r?(0,Kr._)`(new RegExp(${s}, ${o}))`:(0,jm.usePattern)(e,n);e.fail$data((0,Kr._)`!${c}.test(${t})`)}};xs.default=Um;var Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});const or=J,zm={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,or.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,or._)`{limit: ${e}}`},Vm={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:zm,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?or.operators.GT:or.operators.LT;e.fail$data((0,or._)`Object.keys(${r}).length ${s} ${n}`)}};Hs.default=Vm;var qs={};Object.defineProperty(qs,"__esModule",{value:!0});const Yt=Y,ar=J,xm=M,Hm={message:({params:{missingProperty:e}})=>(0,ar.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,ar._)`{missingProperty: ${e}}`},qm={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Hm,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:i,it:o}=e,{opts:c}=o;if(!i&&r.length===0)return;const l=r.length>=c.loopRequired;if(o.allErrors?d():a(),c.strictRequired){const m=e.parentSchema.properties,{definedProperties:u}=e.it;for(const y of r)if(m?.[y]===void 0&&!u.has(y)){const $=o.schemaEnv.baseId+o.errSchemaPath,f=`required property "${y}" is not defined at "${$}" (strictRequired)`;(0,xm.checkStrictMode)(o,f,o.opts.strictRequired)}}function d(){if(l||i)e.block$data(ar.nil,h);else for(const m of r)(0,Yt.checkReportMissingProp)(e,m)}function a(){const m=t.let("missing");if(l||i){const u=t.let("valid",!0);e.block$data(u,()=>E(m,u)),e.ok(u)}else t.if((0,Yt.checkMissingProp)(e,r,m)),(0,Yt.reportMissingProp)(e,m),t.else()}function h(){t.forOf("prop",n,m=>{e.setParams({missingProperty:m}),t.if((0,Yt.noPropertyInData)(t,s,m,c.ownProperties),()=>e.error())})}function E(m,u){e.setParams({missingProperty:m}),t.forOf(m,n,()=>{t.assign(u,(0,Yt.propertyInData)(t,s,m,c.ownProperties)),t.if((0,ar.not)(u),()=>{e.error(),t.break()})},ar.nil)}}};qs.default=qm;var Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});const cr=J,Gm={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,cr.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,cr._)`{limit: ${e}}`},Bm={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Gm,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?cr.operators.GT:cr.operators.LT;e.fail$data((0,cr._)`${r}.length ${s} ${n}`)}};Gs.default=Bm;var Bs={},Er={};Object.defineProperty(Er,"__esModule",{value:!0});const Sc=Za;Sc.code='require("ajv/dist/runtime/equal").default';Er.default=Sc;Object.defineProperty(Bs,"__esModule",{value:!0});const Un=fe,$e=J,Km=M,Zm=Er,Wm={message:({params:{i:e,j:t}})=>(0,$e.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,$e._)`{i: ${e}, j: ${t}}`},Xm={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Wm,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:i,schemaCode:o,it:c}=e;if(!n&&!s)return;const l=t.let("valid"),d=i.items?(0,Un.getSchemaTypes)(i.items):[];e.block$data(l,a,(0,$e._)`${o} === false`),e.ok(l);function a(){const u=t.let("i",(0,$e._)`${r}.length`),y=t.let("j");e.setParams({i:u,j:y}),t.assign(l,!0),t.if((0,$e._)`${u} > 1`,()=>(h()?E:m)(u,y))}function h(){return d.length>0&&!d.some(u=>u==="object"||u==="array")}function E(u,y){const $=t.name("item"),f=(0,Un.checkDataTypes)(d,$,c.opts.strictNumbers,Un.DataType.Wrong),g=t.const("indices",(0,$e._)`{}`);t.for((0,$e._)`;${u}--;`,()=>{t.let($,(0,$e._)`${r}[${u}]`),t.if(f,(0,$e._)`continue`),d.length>1&&t.if((0,$e._)`typeof ${$} == "string"`,(0,$e._)`${$} += "_"`),t.if((0,$e._)`typeof ${g}[${$}] == "number"`,()=>{t.assign(y,(0,$e._)`${g}[${$}]`),e.error(),t.assign(l,!1).break()}).code((0,$e._)`${g}[${$}] = ${u}`)})}function m(u,y){const $=(0,Km.useFunc)(t,Zm.default),f=t.name("outer");t.label(f).for((0,$e._)`;${u}--;`,()=>t.for((0,$e._)`${y} = ${u}; ${y}--;`,()=>t.if((0,$e._)`${$}(${r}[${u}], ${r}[${y}])`,()=>{e.error(),t.assign(l,!1).break(f)})))}}};Bs.default=Xm;var Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});const is=J,Jm=M,Ym=Er,Qm={message:"must be equal to constant",params:({schemaCode:e})=>(0,is._)`{allowedValue: ${e}}`},ep={keyword:"const",$data:!0,error:Qm,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:i}=e;n||i&&typeof i=="object"?e.fail$data((0,is._)`!${(0,Jm.useFunc)(t,Ym.default)}(${r}, ${s})`):e.fail((0,is._)`${i} !== ${r}`)}};Ks.default=ep;var Zs={};Object.defineProperty(Zs,"__esModule",{value:!0});const tr=J,tp=M,rp=Er,np={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,tr._)`{allowedValues: ${e}}`},sp={keyword:"enum",schemaType:"array",$data:!0,error:np,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:i,it:o}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const c=s.length>=o.opts.loopEnum;let l;const d=()=>l??(l=(0,tp.useFunc)(t,rp.default));let a;if(c||n)a=t.let("valid"),e.block$data(a,h);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const m=t.const("vSchema",i);a=(0,tr.or)(...s.map((u,y)=>E(m,y)))}e.pass(a);function h(){t.assign(a,!1),t.forOf("v",i,m=>t.if((0,tr._)`${d()}(${r}, ${m})`,()=>t.assign(a,!0).break()))}function E(m,u){const y=s[u];return typeof y=="object"&&y!==null?(0,tr._)`${d()}(${r}, ${m}[${u}])`:(0,tr._)`${r} === ${y}`}}};Zs.default=sp;Object.defineProperty(js,"__esModule",{value:!0});const ip=Ms,op=Us,ap=zs,cp=xs,up=Hs,lp=qs,fp=Gs,dp=Bs,hp=Ks,mp=Zs,pp=[ip.default,op.default,ap.default,cp.default,up.default,lp.default,fp.default,dp.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},hp.default,mp.default];js.default=pp;var Ws={},Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.validateAdditionalItems=void 0;const vt=J,os=M,yp={message:({params:{len:e}})=>(0,vt.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,vt._)`{limit: ${e}}`},$p={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:yp,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,os.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Nc(e,n)}};function Nc(e,t){const{gen:r,schema:n,data:s,keyword:i,it:o}=e;o.items=!0;const c=r.const("len",(0,vt._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,vt._)`${c} <= ${t.length}`);else if(typeof n=="object"&&!(0,os.alwaysValidSchema)(o,n)){const d=r.var("valid",(0,vt._)`${c} <= ${t.length}`);r.if((0,vt.not)(d),()=>l(d)),e.ok(d)}function l(d){r.forRange("i",t.length,c,a=>{e.subschema({keyword:i,dataProp:a,dataPropType:os.Type.Num},d),o.allErrors||r.if((0,vt.not)(d),()=>r.break())})}}Bt.validateAdditionalItems=Nc;Bt.default=$p;var Xs={},Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.validateTuple=void 0;const no=J,Ur=M,Ep=Y,gp={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Ic(e,"additionalItems",t);r.items=!0,!(0,Ur.alwaysValidSchema)(r,t)&&e.ok((0,Ep.validateArray)(e))}};function Ic(e,t,r=e.schema){const{gen:n,parentSchema:s,data:i,keyword:o,it:c}=e;a(s),c.opts.unevaluated&&r.length&&c.items!==!0&&(c.items=Ur.mergeEvaluated.items(n,r.length,c.items));const l=n.name("valid"),d=n.const("len",(0,no._)`${i}.length`);r.forEach((h,E)=>{(0,Ur.alwaysValidSchema)(c,h)||(n.if((0,no._)`${d} > ${E}`,()=>e.subschema({keyword:o,schemaProp:E,dataProp:E},l)),e.ok(l))});function a(h){const{opts:E,errSchemaPath:m}=c,u=r.length,y=u===h.minItems&&(u===h.maxItems||h[t]===!1);if(E.strictTuples&&!y){const $=`"${o}" is ${u}-tuple, but minItems or maxItems/${t} are not specified or different at path "${m}"`;(0,Ur.checkStrictMode)(c,$,E.strictTuples)}}}Kt.validateTuple=Ic;Kt.default=gp;Object.defineProperty(Xs,"__esModule",{value:!0});const vp=Kt,_p={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,vp.validateTuple)(e,"items")};Xs.default=_p;var Js={};Object.defineProperty(Js,"__esModule",{value:!0});const so=J,wp=M,Sp=Y,Np=Bt,Ip={message:({params:{len:e}})=>(0,so.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,so._)`{limit: ${e}}`},Op={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Ip,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,wp.alwaysValidSchema)(n,t)&&(s?(0,Np.validateAdditionalItems)(e,s):e.ok((0,Sp.validateArray)(e)))}};Js.default=Op;var Ys={};Object.defineProperty(Ys,"__esModule",{value:!0});const Me=J,br=M,bp={message:({params:{min:e,max:t}})=>t===void 0?(0,Me.str)`must contain at least ${e} valid item(s)`:(0,Me.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Me._)`{minContains: ${e}}`:(0,Me._)`{minContains: ${e}, maxContains: ${t}}`},Pp={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:bp,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:i}=e;let o,c;const{minContains:l,maxContains:d}=n;i.opts.next?(o=l===void 0?1:l,c=d):o=1;const a=t.const("len",(0,Me._)`${s}.length`);if(e.setParams({min:o,max:c}),c===void 0&&o===0){(0,br.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(c!==void 0&&o>c){(0,br.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,br.alwaysValidSchema)(i,r)){let y=(0,Me._)`${a} >= ${o}`;c!==void 0&&(y=(0,Me._)`${y} && ${a} <= ${c}`),e.pass(y);return}i.items=!0;const h=t.name("valid");c===void 0&&o===1?m(h,()=>t.if(h,()=>t.break())):o===0?(t.let(h,!0),c!==void 0&&t.if((0,Me._)`${s}.length > 0`,E)):(t.let(h,!1),E()),e.result(h,()=>e.reset());function E(){const y=t.name("_valid"),$=t.let("count",0);m(y,()=>t.if(y,()=>u($)))}function m(y,$){t.forRange("i",0,a,f=>{e.subschema({keyword:"contains",dataProp:f,dataPropType:br.Type.Num,compositeRule:!0},y),$()})}function u(y){t.code((0,Me._)`${y}++`),c===void 0?t.if((0,Me._)`${y} >= ${o}`,()=>t.assign(h,!0).break()):(t.if((0,Me._)`${y} > ${c}`,()=>t.assign(h,!1).break()),o===1?t.assign(h,!0):t.if((0,Me._)`${y} >= ${o}`,()=>t.assign(h,!0)))}}};Ys.default=Pp;var Oc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=J,r=M,n=Y;e.error={message:({params:{property:l,depsCount:d,deps:a}})=>{const h=d===1?"property":"properties";return(0,t.str)`must have ${h} ${a} when property ${l} is present`},params:({params:{property:l,depsCount:d,deps:a,missingProperty:h}})=>(0,t._)`{property: ${l},
    missingProperty: ${h},
    depsCount: ${d},
    deps: ${a}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[d,a]=i(l);o(l,d),c(l,a)}};function i({schema:l}){const d={},a={};for(const h in l){if(h==="__proto__")continue;const E=Array.isArray(l[h])?d:a;E[h]=l[h]}return[d,a]}function o(l,d=l.schema){const{gen:a,data:h,it:E}=l;if(Object.keys(d).length===0)return;const m=a.let("missing");for(const u in d){const y=d[u];if(y.length===0)continue;const $=(0,n.propertyInData)(a,h,u,E.opts.ownProperties);l.setParams({property:u,depsCount:y.length,deps:y.join(", ")}),E.allErrors?a.if($,()=>{for(const f of y)(0,n.checkReportMissingProp)(l,f)}):(a.if((0,t._)`${$} && (${(0,n.checkMissingProp)(l,y,m)})`),(0,n.reportMissingProp)(l,m),a.else())}}e.validatePropertyDeps=o;function c(l,d=l.schema){const{gen:a,data:h,keyword:E,it:m}=l,u=a.name("valid");for(const y in d)(0,r.alwaysValidSchema)(m,d[y])||(a.if((0,n.propertyInData)(a,h,y,m.opts.ownProperties),()=>{const $=l.subschema({keyword:E,schemaProp:y},u);l.mergeValidEvaluated($,u)},()=>a.var(u,!0)),l.ok(u))}e.validateSchemaDeps=c,e.default=s})(Oc);var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});const bc=J,Rp=M,Tp={message:"property name must be valid",params:({params:e})=>(0,bc._)`{propertyName: ${e.propertyName}}`},Cp={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Tp,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,Rp.alwaysValidSchema)(s,r))return;const i=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},i),t.if((0,bc.not)(i),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(i)}};Qs.default=Cp;var an={};Object.defineProperty(an,"__esModule",{value:!0});const Pr=Y,ze=J,Dp=Qe,Rr=M,Lp={message:"must NOT have additional properties",params:({params:e})=>(0,ze._)`{additionalProperty: ${e.additionalProperty}}`},Ap={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Lp,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:i,it:o}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:c,opts:l}=o;if(o.props=!0,l.removeAdditional!=="all"&&(0,Rr.alwaysValidSchema)(o,r))return;const d=(0,Pr.allSchemaProperties)(n.properties),a=(0,Pr.allSchemaProperties)(n.patternProperties);h(),e.ok((0,ze._)`${i} === ${Dp.default.errors}`);function h(){t.forIn("key",s,$=>{!d.length&&!a.length?u($):t.if(E($),()=>u($))})}function E($){let f;if(d.length>8){const g=(0,Rr.schemaRefOrVal)(o,n.properties,"properties");f=(0,Pr.isOwnProperty)(t,g,$)}else d.length?f=(0,ze.or)(...d.map(g=>(0,ze._)`${$} === ${g}`)):f=ze.nil;return a.length&&(f=(0,ze.or)(f,...a.map(g=>(0,ze._)`${(0,Pr.usePattern)(e,g)}.test(${$})`))),(0,ze.not)(f)}function m($){t.code((0,ze._)`delete ${s}[${$}]`)}function u($){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){m($);return}if(r===!1){e.setParams({additionalProperty:$}),e.error(),c||t.break();return}if(typeof r=="object"&&!(0,Rr.alwaysValidSchema)(o,r)){const f=t.name("valid");l.removeAdditional==="failing"?(y($,f,!1),t.if((0,ze.not)(f),()=>{e.reset(),m($)})):(y($,f),c||t.if((0,ze.not)(f),()=>t.break()))}}function y($,f,g){const w={keyword:"additionalProperties",dataProp:$,dataPropType:Rr.Type.Str};g===!1&&Object.assign(w,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(w,f)}}};an.default=Ap;var ei={};Object.defineProperty(ei,"__esModule",{value:!0});const kp=xe,io=Y,zn=M,oo=an,Fp={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:i}=e;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&oo.default.code(new kp.KeywordCxt(i,oo.default,"additionalProperties"));const o=(0,io.allSchemaProperties)(r);for(const h of o)i.definedProperties.add(h);i.opts.unevaluated&&o.length&&i.props!==!0&&(i.props=zn.mergeEvaluated.props(t,(0,zn.toHash)(o),i.props));const c=o.filter(h=>!(0,zn.alwaysValidSchema)(i,r[h]));if(c.length===0)return;const l=t.name("valid");for(const h of c)d(h)?a(h):(t.if((0,io.propertyInData)(t,s,h,i.opts.ownProperties)),a(h),i.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(h),e.ok(l);function d(h){return i.opts.useDefaults&&!i.compositeRule&&r[h].default!==void 0}function a(h){e.subschema({keyword:"properties",schemaProp:h,dataProp:h},l)}}};ei.default=Fp;var ti={};Object.defineProperty(ti,"__esModule",{value:!0});const ao=Y,Tr=J,co=M,uo=M,jp={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:i}=e,{opts:o}=i,c=(0,ao.allSchemaProperties)(r),l=c.filter(y=>(0,co.alwaysValidSchema)(i,r[y]));if(c.length===0||l.length===c.length&&(!i.opts.unevaluated||i.props===!0))return;const d=o.strictSchema&&!o.allowMatchingProperties&&s.properties,a=t.name("valid");i.props!==!0&&!(i.props instanceof Tr.Name)&&(i.props=(0,uo.evaluatedPropsToName)(t,i.props));const{props:h}=i;E();function E(){for(const y of c)d&&m(y),i.allErrors?u(y):(t.var(a,!0),u(y),t.if(a))}function m(y){for(const $ in d)new RegExp(y).test($)&&(0,co.checkStrictMode)(i,`property ${$} matches pattern ${y} (use allowMatchingProperties)`)}function u(y){t.forIn("key",n,$=>{t.if((0,Tr._)`${(0,ao.usePattern)(e,y)}.test(${$})`,()=>{const f=l.includes(y);f||e.subschema({keyword:"patternProperties",schemaProp:y,dataProp:$,dataPropType:uo.Type.Str},a),i.opts.unevaluated&&h!==!0?t.assign((0,Tr._)`${h}[${$}]`,!0):!f&&!i.allErrors&&t.if((0,Tr.not)(a),()=>t.break())})})}}};ti.default=jp;var ri={};Object.defineProperty(ri,"__esModule",{value:!0});const Mp=M,Up={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Mp.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};ri.default=Up;var ni={};Object.defineProperty(ni,"__esModule",{value:!0});const zp=Y,Vp={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:zp.validateUnion,error:{message:"must match a schema in anyOf"}};ni.default=Vp;var si={};Object.defineProperty(si,"__esModule",{value:!0});const zr=J,xp=M,Hp={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,zr._)`{passingSchemas: ${e.passing}}`},qp={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Hp,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const i=r,o=t.let("valid",!1),c=t.let("passing",null),l=t.name("_valid");e.setParams({passing:c}),t.block(d),e.result(o,()=>e.reset(),()=>e.error(!0));function d(){i.forEach((a,h)=>{let E;(0,xp.alwaysValidSchema)(s,a)?t.var(l,!0):E=e.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},l),h>0&&t.if((0,zr._)`${l} && ${o}`).assign(o,!1).assign(c,(0,zr._)`[${c}, ${h}]`).else(),t.if(l,()=>{t.assign(o,!0),t.assign(c,h),E&&e.mergeEvaluated(E,zr.Name)})})}}};si.default=qp;var ii={};Object.defineProperty(ii,"__esModule",{value:!0});const Gp=M,Bp={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((i,o)=>{if((0,Gp.alwaysValidSchema)(n,i))return;const c=e.subschema({keyword:"allOf",schemaProp:o},s);e.ok(s),e.mergeEvaluated(c)})}};ii.default=Bp;var oi={};Object.defineProperty(oi,"__esModule",{value:!0});const Zr=J,Pc=M,Kp={message:({params:e})=>(0,Zr.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Zr._)`{failingKeyword: ${e.ifClause}}`},Zp={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Kp,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Pc.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=lo(n,"then"),i=lo(n,"else");if(!s&&!i)return;const o=t.let("valid",!0),c=t.name("_valid");if(l(),e.reset(),s&&i){const a=t.let("ifClause");e.setParams({ifClause:a}),t.if(c,d("then",a),d("else",a))}else s?t.if(c,d("then")):t.if((0,Zr.not)(c),d("else"));e.pass(o,()=>e.error(!0));function l(){const a=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},c);e.mergeEvaluated(a)}function d(a,h){return()=>{const E=e.subschema({keyword:a},c);t.assign(o,c),e.mergeValidEvaluated(E,o),h?t.assign(h,(0,Zr._)`${a}`):e.setParams({ifClause:a})}}}};function lo(e,t){const r=e.schema[t];return r!==void 0&&!(0,Pc.alwaysValidSchema)(e,r)}oi.default=Zp;var ai={};Object.defineProperty(ai,"__esModule",{value:!0});const Wp=M,Xp={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Wp.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};ai.default=Xp;Object.defineProperty(Ws,"__esModule",{value:!0});const Jp=Bt,Yp=Xs,Qp=Kt,ey=Js,ty=Ys,ry=Oc,ny=Qs,sy=an,iy=ei,oy=ti,ay=ri,cy=ni,uy=si,ly=ii,fy=oi,dy=ai;function hy(e=!1){const t=[ay.default,cy.default,uy.default,ly.default,fy.default,dy.default,ny.default,sy.default,ry.default,iy.default,oy.default];return e?t.push(Yp.default,ey.default):t.push(Jp.default,Qp.default),t.push(ty.default),t}Ws.default=hy;var ci={},ui={};Object.defineProperty(ui,"__esModule",{value:!0});const ce=J,my={message:({schemaCode:e})=>(0,ce.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,ce._)`{format: ${e}}`},py={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:my,code(e,t){const{gen:r,data:n,$data:s,schema:i,schemaCode:o,it:c}=e,{opts:l,errSchemaPath:d,schemaEnv:a,self:h}=c;if(!l.validateFormats)return;s?E():m();function E(){const u=r.scopeValue("formats",{ref:h.formats,code:l.code.formats}),y=r.const("fDef",(0,ce._)`${u}[${o}]`),$=r.let("fType"),f=r.let("format");r.if((0,ce._)`typeof ${y} == "object" && !(${y} instanceof RegExp)`,()=>r.assign($,(0,ce._)`${y}.type || "string"`).assign(f,(0,ce._)`${y}.validate`),()=>r.assign($,(0,ce._)`"string"`).assign(f,y)),e.fail$data((0,ce.or)(g(),w()));function g(){return l.strictSchema===!1?ce.nil:(0,ce._)`${o} && !${f}`}function w(){const I=a.$async?(0,ce._)`(${y}.async ? await ${f}(${n}) : ${f}(${n}))`:(0,ce._)`${f}(${n})`,C=(0,ce._)`(typeof ${f} == "function" ? ${I} : ${f}.test(${n}))`;return(0,ce._)`${f} && ${f} !== true && ${$} === ${t} && !${C}`}}function m(){const u=h.formats[i];if(!u){g();return}if(u===!0)return;const[y,$,f]=w(u);y===t&&e.pass(I());function g(){if(l.strictSchema===!1){h.logger.warn(C());return}throw new Error(C());function C(){return`unknown format "${i}" ignored in schema at path "${d}"`}}function w(C){const H=C instanceof RegExp?(0,ce.regexpCode)(C):l.code.formats?(0,ce._)`${l.code.formats}${(0,ce.getProperty)(i)}`:void 0,G=r.scopeValue("formats",{key:i,ref:C,code:H});return typeof C=="object"&&!(C instanceof RegExp)?[C.type||"string",C.validate,(0,ce._)`${G}.validate`]:["string",C,G]}function I(){if(typeof u=="object"&&!(u instanceof RegExp)&&u.async){if(!a.$async)throw new Error("async format in sync schema");return(0,ce._)`await ${f}(${n})`}return typeof $=="function"?(0,ce._)`${f}(${n})`:(0,ce._)`${f}.test(${n})`}}}};ui.default=py;Object.defineProperty(ci,"__esModule",{value:!0});const yy=ui,$y=[yy.default];ci.default=$y;var xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.contentVocabulary=xt.metadataVocabulary=void 0;xt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];xt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(As,"__esModule",{value:!0});const Ey=ks,gy=js,vy=Ws,_y=ci,fo=xt,wy=[Ey.default,gy.default,(0,vy.default)(),_y.default,fo.metadataVocabulary,fo.contentVocabulary];As.default=wy;var li={},cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.DiscrError=void 0;var ho;(function(e){e.Tag="tag",e.Mapping="mapping"})(ho||(cn.DiscrError=ho={}));Object.defineProperty(li,"__esModule",{value:!0});const Lt=J,as=cn,mo=Le,Sy=Gt,Ny=M,Iy={message:({params:{discrError:e,tagName:t}})=>e===as.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Lt._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Oy={keyword:"discriminator",type:"object",schemaType:"object",error:Iy,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:i}=e,{oneOf:o}=s;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const c=n.propertyName;if(typeof c!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),d=t.const("tag",(0,Lt._)`${r}${(0,Lt.getProperty)(c)}`);t.if((0,Lt._)`typeof ${d} == "string"`,()=>a(),()=>e.error(!1,{discrError:as.DiscrError.Tag,tag:d,tagName:c})),e.ok(l);function a(){const m=E();t.if(!1);for(const u in m)t.elseIf((0,Lt._)`${d} === ${u}`),t.assign(l,h(m[u]));t.else(),e.error(!1,{discrError:as.DiscrError.Mapping,tag:d,tagName:c}),t.endIf()}function h(m){const u=t.name("valid"),y=e.subschema({keyword:"oneOf",schemaProp:m},u);return e.mergeEvaluated(y,Lt.Name),u}function E(){var m;const u={},y=f(s);let $=!0;for(let I=0;I<o.length;I++){let C=o[I];if(C?.$ref&&!(0,Ny.schemaHasRulesButRef)(C,i.self.RULES)){const G=C.$ref;if(C=mo.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,G),C instanceof mo.SchemaEnv&&(C=C.schema),C===void 0)throw new Sy.default(i.opts.uriResolver,i.baseId,G)}const H=(m=C?.properties)===null||m===void 0?void 0:m[c];if(typeof H!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${c}"`);$=$&&(y||f(C)),g(H,I)}if(!$)throw new Error(`discriminator: "${c}" must be required`);return u;function f({required:I}){return Array.isArray(I)&&I.includes(c)}function g(I,C){if(I.const)w(I.const,C);else if(I.enum)for(const H of I.enum)w(H,C);else throw new Error(`discriminator: "properties/${c}" must have "const" or "enum"`)}function w(I,C){if(typeof I!="string"||I in u)throw new Error(`discriminator: "${c}" values must be unique strings`);u[I]=C}}}};li.default=Oy;const by="http://json-schema.org/draft-07/schema#",Py="http://json-schema.org/draft-07/schema#",Ry="Core schema meta-schema",Ty={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Cy=["object","boolean"],Dy={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Ly={$schema:by,$id:Py,title:Ry,definitions:Ty,type:Cy,properties:Dy,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=Da,n=As,s=li,i=Ly,o=["/properties"],c="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(u=>this.addVocabulary(u)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const u=this.opts.$data?this.$dataMetaSchema(i,o):i;this.addMetaSchema(u,c,!1),this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var d=xe;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var a=J;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return a._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return a.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return a.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return a.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return a.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return a.CodeGen}});var h=$r;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var E=Gt;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return E.default}})})(Qn,Qn.exports);var Rc=Qn.exports;const Ay=Jr(Rc);var cs={exports:{}},Tc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(b,F){return{validate:b,compare:F}}e.fullFormats={date:t(i,o),time:t(l,d),"date-time":t(h,E),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:y,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:Q,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:f,int32:{type:"number",validate:I},int64:{type:"number",validate:C},float:{type:"number",validate:H},double:{type:"number",validate:H},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,d),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,E),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(b){return b%4===0&&(b%100!==0||b%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function i(b){const F=n.exec(b);if(!F)return!1;const z=+F[1],B=+F[2],T=+F[3];return B>=1&&B<=12&&T>=1&&T<=(B===2&&r(z)?29:s[B])}function o(b,F){if(b&&F)return b>F?1:b<F?-1:0}const c=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(b,F){const z=c.exec(b);if(!z)return!1;const B=+z[1],T=+z[2],R=+z[3],D=z[5];return(B<=23&&T<=59&&R<=59||B===23&&T===59&&R===60)&&(!F||D!=="")}function d(b,F){if(!(b&&F))return;const z=c.exec(b),B=c.exec(F);if(z&&B)return b=z[1]+z[2]+z[3]+(z[4]||""),F=B[1]+B[2]+B[3]+(B[4]||""),b>F?1:b<F?-1:0}const a=/t|\s/i;function h(b){const F=b.split(a);return F.length===2&&i(F[0])&&l(F[1],!0)}function E(b,F){if(!(b&&F))return;const[z,B]=b.split(a),[T,R]=F.split(a),D=o(z,T);if(D!==void 0)return D||d(B,R)}const m=/\/|:/,u=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function y(b){return m.test(b)&&u.test(b)}const $=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function f(b){return $.lastIndex=0,$.test(b)}const g=-(2**31),w=2**31-1;function I(b){return Number.isInteger(b)&&b<=w&&b>=g}function C(b){return Number.isInteger(b)}function H(){return!0}const G=/[^\\]\\Z/;function Q(b){if(G.test(b))return!1;try{return new RegExp(b),!0}catch{return!1}}})(Tc);var Cc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=Rc,r=J,n=r.operators,s={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},i={message:({keyword:c,schemaCode:l})=>r.str`should be ${s[c].okStr} ${l}`,params:({keyword:c,schemaCode:l})=>r._`{comparison: ${s[c].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:i,code(c){const{gen:l,data:d,schemaCode:a,keyword:h,it:E}=c,{opts:m,self:u}=E;if(!m.validateFormats)return;const y=new t.KeywordCxt(E,u.RULES.all.format.definition,"format");y.$data?$():f();function $(){const w=l.scopeValue("formats",{ref:u.formats,code:m.code.formats}),I=l.const("fmt",r._`${w}[${y.schemaCode}]`);c.fail$data(r.or(r._`typeof ${I} != "object"`,r._`${I} instanceof RegExp`,r._`typeof ${I}.compare != "function"`,g(I)))}function f(){const w=y.schema,I=u.formats[w];if(!I||I===!0)return;if(typeof I!="object"||I instanceof RegExp||typeof I.compare!="function")throw new Error(`"${h}": format "${w}" does not define "compare" function`);const C=l.scopeValue("formats",{key:w,ref:I,code:m.code.formats?r._`${m.code.formats}${r.getProperty(w)}`:void 0});c.fail$data(g(C))}function g(w){return r._`${w}.compare(${d}, ${a}) ${s[h].fail} 0`}},dependencies:["format"]};const o=c=>(c.addKeyword(e.formatLimitDefinition),c);e.default=o})(Cc);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Tc,n=Cc,s=J,i=new s.Name("fullFormats"),o=new s.Name("fastFormats"),c=(d,a={keywords:!0})=>{if(Array.isArray(a))return l(d,a,r.fullFormats,i),d;const[h,E]=a.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,i],m=a.formats||r.formatNames;return l(d,m,h,E),a.keywords&&n.default(d),d};c.get=(d,a="full")=>{const E=(a==="fast"?r.fastFormats:r.fullFormats)[d];if(!E)throw new Error(`Unknown format "${d}"`);return E};function l(d,a,h,E){var m,u;(m=(u=d.opts.code).formats)!==null&&m!==void 0||(u.formats=s._`require("ajv-formats/dist/formats").${E}`);for(const y of a)d.addFormat(y,h[y])}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c})(cs,cs.exports);var ky=cs.exports;const Fy=Jr(ky),jy=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const s=Object.getOwnPropertyDescriptor(e,r),i=Object.getOwnPropertyDescriptor(t,r);!My(s,i)&&n||Object.defineProperty(e,r,i)},My=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},Uy=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},zy=(e,t)=>`/* Wrapped ${e}*/
${t}`,Vy=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),xy=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Hy=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,s=zy.bind(null,n,t.toString());Object.defineProperty(s,"name",xy),Object.defineProperty(e,"toString",{...Vy,value:s})};function qy(e,t,{ignoreNonConfigurable:r=!1}={}){const{name:n}=e;for(const s of Reflect.ownKeys(t))jy(e,t,s,r);return Uy(e,t),Hy(e,t,n),e}const po=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,maxWait:n=Number.POSITIVE_INFINITY,before:s=!1,after:i=!0}=t;if(!s&&!i)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let o,c,l;const d=function(...a){const h=this,E=()=>{o=void 0,c&&(clearTimeout(c),c=void 0),i&&(l=e.apply(h,a))},m=()=>{c=void 0,o&&(clearTimeout(o),o=void 0),i&&(l=e.apply(h,a))},u=s&&!o;return clearTimeout(o),o=setTimeout(E,r),n>0&&n!==Number.POSITIVE_INFINITY&&!c&&(c=setTimeout(m,n)),u&&(l=e.apply(h,a)),l};return qy(d,e),d.cancel=()=>{o&&(clearTimeout(o),o=void 0),c&&(clearTimeout(c),c=void 0)},d};var us={exports:{}};const Gy="2.0.0",Dc=256,By=Number.MAX_SAFE_INTEGER||9007199254740991,Ky=16,Zy=Dc-6,Wy=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var un={MAX_LENGTH:Dc,MAX_SAFE_COMPONENT_LENGTH:Ky,MAX_SAFE_BUILD_LENGTH:Zy,MAX_SAFE_INTEGER:By,RELEASE_TYPES:Wy,SEMVER_SPEC_VERSION:Gy,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Xy=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var ln=Xy;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=un,i=ln;t=e.exports={};const o=t.re=[],c=t.safeRe=[],l=t.src=[],d=t.t={};let a=0;const h="[a-zA-Z0-9-]",E=[["\\s",1],["\\d",s],[h,n]],m=y=>{for(const[$,f]of E)y=y.split(`${$}*`).join(`${$}{0,${f}}`).split(`${$}+`).join(`${$}{1,${f}}`);return y},u=(y,$,f)=>{const g=m($),w=a++;i(y,w,$),d[y]=w,l[w]=$,o[w]=new RegExp($,f?"g":void 0),c[w]=new RegExp(g,f?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","\\d+"),u("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),u("MAINVERSION",`(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${l[d.NUMERICIDENTIFIER]}|${l[d.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${l[d.NUMERICIDENTIFIERLOOSE]}|${l[d.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${l[d.PRERELEASEIDENTIFIER]}(?:\\.${l[d.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${l[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[d.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER",`${h}+`),u("BUILD",`(?:\\+(${l[d.BUILDIDENTIFIER]}(?:\\.${l[d.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${l[d.MAINVERSION]}${l[d.PRERELEASE]}?${l[d.BUILD]}?`),u("FULL",`^${l[d.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${l[d.MAINVERSIONLOOSE]}${l[d.PRERELEASELOOSE]}?${l[d.BUILD]}?`),u("LOOSE",`^${l[d.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${l[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${l[d.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:${l[d.PRERELEASE]})?${l[d.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:${l[d.PRERELEASELOOSE]})?${l[d.BUILD]}?)?)?`),u("XRANGE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAINLOOSE]}$`),u("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),u("COERCE",`${l[d.COERCEPLAIN]}(?:$|[^\\d])`),u("COERCEFULL",l[d.COERCEPLAIN]+`(?:${l[d.PRERELEASE]})?(?:${l[d.BUILD]})?(?:$|[^\\d])`),u("COERCERTL",l[d.COERCE],!0),u("COERCERTLFULL",l[d.COERCEFULL],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${l[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${l[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${l[d.LONECARET]}${l[d.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${l[d.LONECARET]}${l[d.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${l[d.GTLT]}\\s*(${l[d.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]}|${l[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${l[d.XRANGEPLAIN]})\\s+-\\s+(${l[d.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${l[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[d.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(us,us.exports);var gr=us.exports;const Jy=Object.freeze({loose:!0}),Yy=Object.freeze({}),Qy=e=>e?typeof e!="object"?Jy:e:Yy;var fi=Qy;const yo=/^[0-9]+$/,Lc=(e,t)=>{const r=yo.test(e),n=yo.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},e0=(e,t)=>Lc(t,e);var Ac={compareIdentifiers:Lc,rcompareIdentifiers:e0};const Cr=ln,{MAX_LENGTH:$o,MAX_SAFE_INTEGER:Dr}=un,{safeRe:Eo,t:go}=gr,t0=fi,{compareIdentifiers:Tt}=Ac;let r0=class Ke{constructor(t,r){if(r=t0(r),t instanceof Ke){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>$o)throw new TypeError(`version is longer than ${$o} characters`);Cr("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?Eo[go.LOOSE]:Eo[go.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Dr||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Dr||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Dr||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<Dr)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Cr("SemVer.compare",this.version,this.options,t),!(t instanceof Ke)){if(typeof t=="string"&&t===this.version)return 0;t=new Ke(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Ke||(t=new Ke(t,this.options)),Tt(this.major,t.major)||Tt(this.minor,t.minor)||Tt(this.patch,t.patch)}comparePre(t){if(t instanceof Ke||(t=new Ke(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=t.prerelease[r];if(Cr("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Tt(n,s)}while(++r)}compareBuild(t){t instanceof Ke||(t=new Ke(t,this.options));let r=0;do{const n=this.build[r],s=t.build[r];if(Cr("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Tt(n,s)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),Tt(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Ce=r0;const vo=Ce,n0=(e,t,r=!1)=>{if(e instanceof vo)return e;try{return new vo(e,t)}catch(n){if(!r)return null;throw n}};var Zt=n0;const s0=Zt,i0=(e,t)=>{const r=s0(e,t);return r?r.version:null};var o0=i0;const a0=Zt,c0=(e,t)=>{const r=a0(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var u0=c0;const _o=Ce,l0=(e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new _o(e instanceof _o?e.version:e,r).inc(t,n,s).version}catch{return null}};var f0=l0;const wo=Zt,d0=(e,t)=>{const r=wo(e,null,!0),n=wo(t,null,!0),s=r.compare(n);if(s===0)return null;const i=s>0,o=i?r:n,c=i?n:r,l=!!o.prerelease.length;if(!!c.prerelease.length&&!l)return!c.patch&&!c.minor?"major":o.patch?"patch":o.minor?"minor":"major";const a=l?"pre":"";return r.major!==n.major?a+"major":r.minor!==n.minor?a+"minor":r.patch!==n.patch?a+"patch":"prerelease"};var h0=d0;const m0=Ce,p0=(e,t)=>new m0(e,t).major;var y0=p0;const $0=Ce,E0=(e,t)=>new $0(e,t).minor;var g0=E0;const v0=Ce,_0=(e,t)=>new v0(e,t).patch;var w0=_0;const S0=Zt,N0=(e,t)=>{const r=S0(e,t);return r&&r.prerelease.length?r.prerelease:null};var I0=N0;const So=Ce,O0=(e,t,r)=>new So(e,r).compare(new So(t,r));var qe=O0;const b0=qe,P0=(e,t,r)=>b0(t,e,r);var R0=P0;const T0=qe,C0=(e,t)=>T0(e,t,!0);var D0=C0;const No=Ce,L0=(e,t,r)=>{const n=new No(e,r),s=new No(t,r);return n.compare(s)||n.compareBuild(s)};var di=L0;const A0=di,k0=(e,t)=>e.sort((r,n)=>A0(r,n,t));var F0=k0;const j0=di,M0=(e,t)=>e.sort((r,n)=>j0(n,r,t));var U0=M0;const z0=qe,V0=(e,t,r)=>z0(e,t,r)>0;var fn=V0;const x0=qe,H0=(e,t,r)=>x0(e,t,r)<0;var hi=H0;const q0=qe,G0=(e,t,r)=>q0(e,t,r)===0;var kc=G0;const B0=qe,K0=(e,t,r)=>B0(e,t,r)!==0;var Fc=K0;const Z0=qe,W0=(e,t,r)=>Z0(e,t,r)>=0;var mi=W0;const X0=qe,J0=(e,t,r)=>X0(e,t,r)<=0;var pi=J0;const Y0=kc,Q0=Fc,e$=fn,t$=mi,r$=hi,n$=pi,s$=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Y0(e,r,n);case"!=":return Q0(e,r,n);case">":return e$(e,r,n);case">=":return t$(e,r,n);case"<":return r$(e,r,n);case"<=":return n$(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var jc=s$;const i$=Ce,o$=Zt,{safeRe:Lr,t:Ar}=gr,a$=(e,t)=>{if(e instanceof i$)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?Lr[Ar.COERCEFULL]:Lr[Ar.COERCE]);else{const l=t.includePrerelease?Lr[Ar.COERCERTLFULL]:Lr[Ar.COERCERTL];let d;for(;(d=l.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||d.index+d[0].length!==r.index+r[0].length)&&(r=d),l.lastIndex=d.index+d[1].length+d[2].length;l.lastIndex=-1}if(r===null)return null;const n=r[2],s=r[3]||"0",i=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",c=t.includePrerelease&&r[6]?`+${r[6]}`:"";return o$(`${n}.${s}.${i}${o}${c}`,t)};var c$=a$;class u${constructor(){this.max=1e3,this.map=new Map}get(t){const r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(t,r)}return this}}var l$=u$,Vn,Io;function Ge(){if(Io)return Vn;Io=1;class e{constructor(R,D){if(D=n(D),R instanceof e)return R.loose===!!D.loose&&R.includePrerelease===!!D.includePrerelease?R:new e(R.raw,D);if(R instanceof s)return this.raw=R.value,this.set=[[R]],this.format(),this;if(this.options=D,this.loose=!!D.loose,this.includePrerelease=!!D.includePrerelease,this.raw=R.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(A=>this.parseRange(A.trim())).filter(A=>A.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const A=this.set[0];if(this.set=this.set.filter(L=>!u(L[0])),this.set.length===0)this.set=[A];else if(this.set.length>1){for(const L of this.set)if(L.length===1&&y(L[0])){this.set=[L];break}}}this.format()}format(){return this.range=this.set.map(R=>R.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(R){const A=((this.options.includePrerelease&&E)|(this.options.loose&&m))+":"+R,L=r.get(A);if(L)return L;const k=this.options.loose,j=k?c[l.HYPHENRANGELOOSE]:c[l.HYPHENRANGE];R=R.replace(j,z(this.options.includePrerelease)),i("hyphen replace",R),R=R.replace(c[l.COMPARATORTRIM],d),i("comparator trim",R),R=R.replace(c[l.TILDETRIM],a),i("tilde trim",R),R=R.replace(c[l.CARETTRIM],h),i("caret trim",R);let P=R.split(" ").map(p=>f(p,this.options)).join(" ").split(/\s+/).map(p=>F(p,this.options));k&&(P=P.filter(p=>(i("loose invalid filter",p,this.options),!!p.match(c[l.COMPARATORLOOSE])))),i("range list",P);const _=new Map,N=P.map(p=>new s(p,this.options));for(const p of N){if(u(p))return[p];_.set(p.value,p)}_.size>1&&_.has("")&&_.delete("");const S=[..._.values()];return r.set(A,S),S}intersects(R,D){if(!(R instanceof e))throw new TypeError("a Range is required");return this.set.some(A=>$(A,D)&&R.set.some(L=>$(L,D)&&A.every(k=>L.every(j=>k.intersects(j,D)))))}test(R){if(!R)return!1;if(typeof R=="string")try{R=new o(R,this.options)}catch{return!1}for(let D=0;D<this.set.length;D++)if(B(this.set[D],R,this.options))return!0;return!1}}Vn=e;const t=l$,r=new t,n=fi,s=dn(),i=ln,o=Ce,{safeRe:c,t:l,comparatorTrimReplace:d,tildeTrimReplace:a,caretTrimReplace:h}=gr,{FLAG_INCLUDE_PRERELEASE:E,FLAG_LOOSE:m}=un,u=T=>T.value==="<0.0.0-0",y=T=>T.value==="",$=(T,R)=>{let D=!0;const A=T.slice();let L=A.pop();for(;D&&A.length;)D=A.every(k=>L.intersects(k,R)),L=A.pop();return D},f=(T,R)=>(i("comp",T,R),T=C(T,R),i("caret",T),T=w(T,R),i("tildes",T),T=G(T,R),i("xrange",T),T=b(T,R),i("stars",T),T),g=T=>!T||T.toLowerCase()==="x"||T==="*",w=(T,R)=>T.trim().split(/\s+/).map(D=>I(D,R)).join(" "),I=(T,R)=>{const D=R.loose?c[l.TILDELOOSE]:c[l.TILDE];return T.replace(D,(A,L,k,j,P)=>{i("tilde",T,A,L,k,j,P);let _;return g(L)?_="":g(k)?_=`>=${L}.0.0 <${+L+1}.0.0-0`:g(j)?_=`>=${L}.${k}.0 <${L}.${+k+1}.0-0`:P?(i("replaceTilde pr",P),_=`>=${L}.${k}.${j}-${P} <${L}.${+k+1}.0-0`):_=`>=${L}.${k}.${j} <${L}.${+k+1}.0-0`,i("tilde return",_),_})},C=(T,R)=>T.trim().split(/\s+/).map(D=>H(D,R)).join(" "),H=(T,R)=>{i("caret",T,R);const D=R.loose?c[l.CARETLOOSE]:c[l.CARET],A=R.includePrerelease?"-0":"";return T.replace(D,(L,k,j,P,_)=>{i("caret",T,L,k,j,P,_);let N;return g(k)?N="":g(j)?N=`>=${k}.0.0${A} <${+k+1}.0.0-0`:g(P)?k==="0"?N=`>=${k}.${j}.0${A} <${k}.${+j+1}.0-0`:N=`>=${k}.${j}.0${A} <${+k+1}.0.0-0`:_?(i("replaceCaret pr",_),k==="0"?j==="0"?N=`>=${k}.${j}.${P}-${_} <${k}.${j}.${+P+1}-0`:N=`>=${k}.${j}.${P}-${_} <${k}.${+j+1}.0-0`:N=`>=${k}.${j}.${P}-${_} <${+k+1}.0.0-0`):(i("no pr"),k==="0"?j==="0"?N=`>=${k}.${j}.${P}${A} <${k}.${j}.${+P+1}-0`:N=`>=${k}.${j}.${P}${A} <${k}.${+j+1}.0-0`:N=`>=${k}.${j}.${P} <${+k+1}.0.0-0`),i("caret return",N),N})},G=(T,R)=>(i("replaceXRanges",T,R),T.split(/\s+/).map(D=>Q(D,R)).join(" ")),Q=(T,R)=>{T=T.trim();const D=R.loose?c[l.XRANGELOOSE]:c[l.XRANGE];return T.replace(D,(A,L,k,j,P,_)=>{i("xRange",T,A,L,k,j,P,_);const N=g(k),S=N||g(j),p=S||g(P),v=p;return L==="="&&v&&(L=""),_=R.includePrerelease?"-0":"",N?L===">"||L==="<"?A="<0.0.0-0":A="*":L&&v?(S&&(j=0),P=0,L===">"?(L=">=",S?(k=+k+1,j=0,P=0):(j=+j+1,P=0)):L==="<="&&(L="<",S?k=+k+1:j=+j+1),L==="<"&&(_="-0"),A=`${L+k}.${j}.${P}${_}`):S?A=`>=${k}.0.0${_} <${+k+1}.0.0-0`:p&&(A=`>=${k}.${j}.0${_} <${k}.${+j+1}.0-0`),i("xRange return",A),A})},b=(T,R)=>(i("replaceStars",T,R),T.trim().replace(c[l.STAR],"")),F=(T,R)=>(i("replaceGTE0",T,R),T.trim().replace(c[R.includePrerelease?l.GTE0PRE:l.GTE0],"")),z=T=>(R,D,A,L,k,j,P,_,N,S,p,v)=>(g(A)?D="":g(L)?D=`>=${A}.0.0${T?"-0":""}`:g(k)?D=`>=${A}.${L}.0${T?"-0":""}`:j?D=`>=${D}`:D=`>=${D}${T?"-0":""}`,g(N)?_="":g(S)?_=`<${+N+1}.0.0-0`:g(p)?_=`<${N}.${+S+1}.0-0`:v?_=`<=${N}.${S}.${p}-${v}`:T?_=`<${N}.${S}.${+p+1}-0`:_=`<=${_}`,`${D} ${_}`.trim()),B=(T,R,D)=>{for(let A=0;A<T.length;A++)if(!T[A].test(R))return!1;if(R.prerelease.length&&!D.includePrerelease){for(let A=0;A<T.length;A++)if(i(T[A].semver),T[A].semver!==s.ANY&&T[A].semver.prerelease.length>0){const L=T[A].semver;if(L.major===R.major&&L.minor===R.minor&&L.patch===R.patch)return!0}return!1}return!0};return Vn}var xn,Oo;function dn(){if(Oo)return xn;Oo=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(a,h){if(h=r(h),a instanceof t){if(a.loose===!!h.loose)return a;a=a.value}a=a.trim().split(/\s+/).join(" "),o("comparator",a,h),this.options=h,this.loose=!!h.loose,this.parse(a),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(a){const h=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],E=a.match(h);if(!E)throw new TypeError(`Invalid comparator: ${a}`);this.operator=E[1]!==void 0?E[1]:"",this.operator==="="&&(this.operator=""),E[2]?this.semver=new c(E[2],this.options.loose):this.semver=e}toString(){return this.value}test(a){if(o("Comparator.test",a,this.options.loose),this.semver===e||a===e)return!0;if(typeof a=="string")try{a=new c(a,this.options)}catch{return!1}return i(a,this.operator,this.semver,this.options)}intersects(a,h){if(!(a instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(a.value,h).test(this.value):a.operator===""?a.value===""?!0:new l(this.value,h).test(a.semver):(h=r(h),h.includePrerelease&&(this.value==="<0.0.0-0"||a.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||a.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&a.operator.startsWith(">")||this.operator.startsWith("<")&&a.operator.startsWith("<")||this.semver.version===a.semver.version&&this.operator.includes("=")&&a.operator.includes("=")||i(this.semver,"<",a.semver,h)&&this.operator.startsWith(">")&&a.operator.startsWith("<")||i(this.semver,">",a.semver,h)&&this.operator.startsWith("<")&&a.operator.startsWith(">")))}}xn=t;const r=fi,{safeRe:n,t:s}=gr,i=jc,o=ln,c=Ce,l=Ge();return xn}const f$=Ge(),d$=(e,t,r)=>{try{t=new f$(t,r)}catch{return!1}return t.test(e)};var hn=d$;const h$=Ge(),m$=(e,t)=>new h$(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var p$=m$;const y$=Ce,$$=Ge(),E$=(e,t,r)=>{let n=null,s=null,i=null;try{i=new $$(t,r)}catch{return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new y$(n,r))}),n};var g$=E$;const v$=Ce,_$=Ge(),w$=(e,t,r)=>{let n=null,s=null,i=null;try{i=new _$(t,r)}catch{return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new v$(n,r))}),n};var S$=w$;const Hn=Ce,N$=Ge(),bo=fn,I$=(e,t)=>{e=new N$(e,t);let r=new Hn("0.0.0");if(e.test(r)||(r=new Hn("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const s=e.set[n];let i=null;s.forEach(o=>{const c=new Hn(o.semver.version);switch(o.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!i||bo(c,i))&&(i=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!r||bo(r,i))&&(r=i)}return r&&e.test(r)?r:null};var O$=I$;const b$=Ge(),P$=(e,t)=>{try{return new b$(e,t).range||"*"}catch{return null}};var R$=P$;const T$=Ce,Mc=dn(),{ANY:C$}=Mc,D$=Ge(),L$=hn,Po=fn,Ro=hi,A$=pi,k$=mi,F$=(e,t,r,n)=>{e=new T$(e,n),t=new D$(t,n);let s,i,o,c,l;switch(r){case">":s=Po,i=A$,o=Ro,c=">",l=">=";break;case"<":s=Ro,i=k$,o=Po,c="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(L$(e,t,n))return!1;for(let d=0;d<t.set.length;++d){const a=t.set[d];let h=null,E=null;if(a.forEach(m=>{m.semver===C$&&(m=new Mc(">=0.0.0")),h=h||m,E=E||m,s(m.semver,h.semver,n)?h=m:o(m.semver,E.semver,n)&&(E=m)}),h.operator===c||h.operator===l||(!E.operator||E.operator===c)&&i(e,E.semver))return!1;if(E.operator===l&&o(e,E.semver))return!1}return!0};var yi=F$;const j$=yi,M$=(e,t,r)=>j$(e,t,">",r);var U$=M$;const z$=yi,V$=(e,t,r)=>z$(e,t,"<",r);var x$=V$;const To=Ge(),H$=(e,t,r)=>(e=new To(e,r),t=new To(t,r),e.intersects(t,r));var q$=H$;const G$=hn,B$=qe;var K$=(e,t,r)=>{const n=[];let s=null,i=null;const o=e.sort((a,h)=>B$(a,h,r));for(const a of o)G$(a,t,r)?(i=a,s||(s=a)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);const c=[];for(const[a,h]of n)a===h?c.push(a):!h&&a===o[0]?c.push("*"):h?a===o[0]?c.push(`<=${h}`):c.push(`${a} - ${h}`):c.push(`>=${a}`);const l=c.join(" || "),d=typeof t.raw=="string"?t.raw:String(t);return l.length<d.length?l:t};const Co=Ge(),$i=dn(),{ANY:qn}=$i,Qt=hn,Ei=qe,Z$=(e,t,r={})=>{if(e===t)return!0;e=new Co(e,r),t=new Co(t,r);let n=!1;e:for(const s of e.set){for(const i of t.set){const o=X$(s,i,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},W$=[new $i(">=0.0.0-0")],Do=[new $i(">=0.0.0")],X$=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===qn){if(t.length===1&&t[0].semver===qn)return!0;r.includePrerelease?e=W$:e=Do}if(t.length===1&&t[0].semver===qn){if(r.includePrerelease)return!0;t=Do}const n=new Set;let s,i;for(const m of e)m.operator===">"||m.operator===">="?s=Lo(s,m,r):m.operator==="<"||m.operator==="<="?i=Ao(i,m,r):n.add(m.semver);if(n.size>1)return null;let o;if(s&&i){if(o=Ei(s.semver,i.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(const m of n){if(s&&!Qt(m,String(s),r)||i&&!Qt(m,String(i),r))return null;for(const u of t)if(!Qt(m,String(u),r))return!1;return!0}let c,l,d,a,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,E=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;h&&h.prerelease.length===1&&i.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(const m of t){if(a=a||m.operator===">"||m.operator===">=",d=d||m.operator==="<"||m.operator==="<=",s){if(E&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===E.major&&m.semver.minor===E.minor&&m.semver.patch===E.patch&&(E=!1),m.operator===">"||m.operator===">="){if(c=Lo(s,m,r),c===m&&c!==s)return!1}else if(s.operator===">="&&!Qt(s.semver,String(m),r))return!1}if(i){if(h&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===h.major&&m.semver.minor===h.minor&&m.semver.patch===h.patch&&(h=!1),m.operator==="<"||m.operator==="<="){if(l=Ao(i,m,r),l===m&&l!==i)return!1}else if(i.operator==="<="&&!Qt(i.semver,String(m),r))return!1}if(!m.operator&&(i||s)&&o!==0)return!1}return!(s&&d&&!i&&o!==0||i&&a&&!s&&o!==0||E||h)},Lo=(e,t,r)=>{if(!e)return t;const n=Ei(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Ao=(e,t,r)=>{if(!e)return t;const n=Ei(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var J$=Z$;const Gn=gr,ko=un,Y$=Ce,Fo=Ac,Q$=Zt,eE=o0,tE=u0,rE=f0,nE=h0,sE=y0,iE=g0,oE=w0,aE=I0,cE=qe,uE=R0,lE=D0,fE=di,dE=F0,hE=U0,mE=fn,pE=hi,yE=kc,$E=Fc,EE=mi,gE=pi,vE=jc,_E=c$,wE=dn(),SE=Ge(),NE=hn,IE=p$,OE=g$,bE=S$,PE=O$,RE=R$,TE=yi,CE=U$,DE=x$,LE=q$,AE=K$,kE=J$;var FE={parse:Q$,valid:eE,clean:tE,inc:rE,diff:nE,major:sE,minor:iE,patch:oE,prerelease:aE,compare:cE,rcompare:uE,compareLoose:lE,compareBuild:fE,sort:dE,rsort:hE,gt:mE,lt:pE,eq:yE,neq:$E,gte:EE,lte:gE,cmp:vE,coerce:_E,Comparator:wE,Range:SE,satisfies:NE,toComparators:IE,maxSatisfying:OE,minSatisfying:bE,minVersion:PE,validRange:RE,outside:TE,gtr:CE,ltr:DE,intersects:LE,simplifyRange:AE,subset:kE,SemVer:Y$,re:Gn.re,src:Gn.src,tokens:Gn.t,SEMVER_SPEC_VERSION:ko.SEMVER_SPEC_VERSION,RELEASE_TYPES:ko.RELEASE_TYPES,compareIdentifiers:Fo.compareIdentifiers,rcompareIdentifiers:Fo.rcompareIdentifiers};const Ct=Jr(FE),jE=Object.prototype.toString;function ME(e){return e&&jE.call(e)==="[object Uint8Array]"}function Uc(e){if(!ME(e))throw new TypeError(`Expected \`Uint8Array\`, got \`${typeof e}\``)}function jo(e,t){if(e.length===0)return new Uint8Array(0);t??=e.reduce((s,i)=>s+i.length,0);const r=new Uint8Array(t);let n=0;for(const s of e)Uc(s),r.set(s,n),n+=s.length;return r}function Mo(e){return Uc(e),new globalThis.TextDecoder().decode(e)}function UE(e){if(typeof e!="string")throw new TypeError(`Expected \`string\`, got \`${typeof e}\``)}function Bn(e){return UE(e),new globalThis.TextEncoder().encode(e)}Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));const zE=Ay.default,VE=Fy.default,Uo="aes-256-cbc",Dt=()=>Object.create(null),xE=e=>e!=null,HE=(e,t)=>{const r=new Set(["undefined","symbol","function"]),n=typeof t;if(r.has(n))throw new TypeError(`Setting a value of type \`${n}\` for key \`${e}\` is not allowed as it's not supported by JSON`)},Vr="__internal__",Kn=`${Vr}.migrations.version`;class qE{path;events;#n;#t;#e;#r={};constructor(t={}){const r={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...t};if(!r.cwd){if(!r.projectName)throw new Error("Please specify the `projectName` option.");r.cwd=Pf(r.projectName,{suffix:r.projectSuffix}).config}if(this.#e=r,r.schema){if(typeof r.schema!="object")throw new TypeError("The `schema` option must be an object.");const o=new zE({allErrors:!0,useDefaults:!0});VE(o);const c={type:"object",properties:r.schema};this.#n=o.compile(c);for(const[l,d]of Object.entries(r.schema))d?.default&&(this.#r[l]=d.default)}r.defaults&&(this.#r={...this.#r,...r.defaults}),r.serialize&&(this._serialize=r.serialize),r.deserialize&&(this._deserialize=r.deserialize),this.events=new EventTarget,this.#t=r.encryptionKey;const n=r.fileExtension?`.${r.fileExtension}`:"";this.path=re.resolve(r.cwd,`${r.configName??"config"}${n}`);const s=this.store,i=Object.assign(Dt(),r.defaults,s);this._validate(i);try{Xc.deepEqual(s,i)}catch{this.store=i}if(r.watch&&this._watch(),r.migrations){if(!r.projectVersion)throw new Error("Please specify the `projectVersion` option.");this._migrate(r.migrations,r.projectVersion,r.beforeEachMigration)}}get(t,r){if(this.#e.accessPropertiesByDotNotation)return this._get(t,r);const{store:n}=this;return t in n?n[t]:r}set(t,r){if(typeof t!="string"&&typeof t!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof t}`);if(typeof t!="object"&&r===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(t))throw new TypeError(`Please don't use the ${Vr} key, as it's used to manage this module internal operations.`);const{store:n}=this,s=(i,o)=>{HE(i,o),this.#e.accessPropertiesByDotNotation?Ui(n,i,o):n[i]=o};if(typeof t=="object"){const i=t;for(const[o,c]of Object.entries(i))s(o,c)}else s(t,r);this.store=n}has(t){return this.#e.accessPropertiesByDotNotation?Nf(this.store,t):t in this.store}reset(...t){for(const r of t)xE(this.#r[r])&&this.set(r,this.#r[r])}delete(t){const{store:r}=this;this.#e.accessPropertiesByDotNotation?Sf(r,t):delete r[t],this.store=r}clear(){this.store=Dt();for(const t of Object.keys(this.#r))this.reset(t)}onDidChange(t,r){if(typeof t!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof t}`);if(typeof r!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof r}`);return this._handleChange(()=>this.get(t),r)}onDidAnyChange(t){if(typeof t!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof t}`);return this._handleChange(()=>this.store,t)}get size(){return Object.keys(this.store).length}get store(){try{const t=X.readFileSync(this.path,this.#t?null:"utf8"),r=this._encryptData(t),n=this._deserialize(r);return this._validate(n),Object.assign(Dt(),n)}catch(t){if(t?.code==="ENOENT")return this._ensureDirectory(),Dt();if(this.#e.clearInvalidConfig&&t.name==="SyntaxError")return Dt();throw t}}set store(t){this._ensureDirectory(),this._validate(t),this._write(t),this.events.dispatchEvent(new Event("change"))}*[Symbol.iterator](){for(const[t,r]of Object.entries(this.store))yield[t,r]}_encryptData(t){if(!this.#t)return typeof t=="string"?t:Mo(t);try{const r=t.slice(0,16),n=Xt.pbkdf2Sync(this.#t,r.toString(),1e4,32,"sha512"),s=Xt.createDecipheriv(Uo,n,r),i=t.slice(17),o=typeof i=="string"?Bn(i):i;return Mo(jo([s.update(o),s.final()]))}catch{}return t.toString()}_handleChange(t,r){let n=t();const s=()=>{const i=n,o=t();ye.isDeepStrictEqual(o,i)||(n=o,r.call(this,o,i))};return this.events.addEventListener("change",s),()=>{this.events.removeEventListener("change",s)}}_deserialize=t=>JSON.parse(t);_serialize=t=>JSON.stringify(t,void 0,"	");_validate(t){if(!this.#n||this.#n(t)||!this.#n.errors)return;const n=this.#n.errors.map(({instancePath:s,message:i=""})=>`\`${s.slice(1)}\` ${i}`);throw new Error("Config schema violation: "+n.join("; "))}_ensureDirectory(){X.mkdirSync(re.dirname(this.path),{recursive:!0})}_write(t){let r=this._serialize(t);if(this.#t){const n=Xt.randomBytes(16),s=Xt.pbkdf2Sync(this.#t,n.toString(),1e4,32,"sha512"),i=Xt.createCipheriv(Uo,s,n);r=jo([n,Bn(":"),i.update(Bn(r)),i.final()])}if(He.env.SNAP)X.writeFileSync(this.path,r,{mode:this.#e.configFileMode});else try{Ca(this.path,r,{mode:this.#e.configFileMode})}catch(n){if(n?.code==="EXDEV"){X.writeFileSync(this.path,r,{mode:this.#e.configFileMode});return}throw n}}_watch(){this._ensureDirectory(),X.existsSync(this.path)||this._write(Dt()),He.platform==="win32"?X.watch(this.path,{persistent:!1},po(()=>{this.events.dispatchEvent(new Event("change"))},{wait:100})):X.watchFile(this.path,{persistent:!1},po(()=>{this.events.dispatchEvent(new Event("change"))},{wait:5e3}))}_migrate(t,r,n){let s=this._get(Kn,"0.0.0");const i=Object.keys(t).filter(c=>this._shouldPerformMigration(c,s,r));let o={...this.store};for(const c of i)try{n&&n(this,{fromVersion:s,toVersion:c,finalVersion:r,versions:i});const l=t[c];l?.(this),this._set(Kn,c),s=c,o={...this.store}}catch(l){throw this.store=o,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${l}`)}(this._isVersionInRangeFormat(s)||!Ct.eq(s,r))&&this._set(Kn,r)}_containsReservedKey(t){return typeof t=="object"&&Object.keys(t)[0]===Vr?!0:typeof t!="string"?!1:this.#e.accessPropertiesByDotNotation?!!t.startsWith(`${Vr}.`):!1}_isVersionInRangeFormat(t){return Ct.clean(t)===null}_shouldPerformMigration(t,r,n){return this._isVersionInRangeFormat(t)?r!=="0.0.0"&&Ct.satisfies(r,t)?!1:Ct.satisfies(n,t):!(Ct.lte(t,r)||Ct.gt(t,n))}_get(t,r){return wf(this.store,t,r)}_set(t,r){const{store:n}=this;Ui(n,t,r),this.store=n}}let zo=!1;const Vo=()=>{if(!Z.ipcMain||!Z.app)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:Z.app.getPath("userData"),appVersion:Z.app.getVersion()};return zo||(Z.ipcMain.on("electron-store-get-data",t=>{t.returnValue=e}),zo=!0),e};class xo extends qE{constructor(t){let r,n;if(He.type==="renderer"){const s=Z.ipcRenderer.sendSync("electron-store-get-data");if(!s)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=s)}else Z.ipcMain&&Z.app&&({defaultCwd:r,appVersion:n}=Vo());t={name:"config",...t},t.projectVersion||=n,t.cwd?t.cwd=re.isAbsolute(t.cwd)?t.cwd:re.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){Vo()}async openInEditor(){const t=await Z.shell.openPath(this.path);if(t)throw new Error(t)}}var vr={exports:{}},gi={},GE=gi.require=function(){if(typeof process=="object"&&process.versions&&process.versions.electron)try{const e=GE("original-fs");if(Object.keys(e).length>0)return e}catch{}return ls},zc={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24},Vc={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed",FILE_IN_THE_WAY:"There is a file in the way: %s",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",DISK_ENTRY_TOO_LARGE:"Number of disk entries is too large",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:"File not found: %s",NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found"};const BE=gi.require(),Oe=Re,Ho=zc,KE=Vc,ZE=typeof process=="object"&&process.platform==="win32",qo=e=>e&&typeof e=="object",vi=new Uint32Array(256).map((e,t)=>{for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t>>>=1;return t>>>0});function ve(e){this.sep=Oe.sep,this.fs=BE,qo(e)&&qo(e.fs)&&typeof e.fs.statSync=="function"&&(this.fs=e.fs)}var WE=ve;ve.prototype.makeDir=function(e){const t=this;function r(n){let s=n.split(t.sep)[0];n.split(t.sep).forEach(function(i){if(!(!i||i.substr(-1,1)===":")){s+=t.sep+i;var o;try{o=t.fs.statSync(s)}catch{t.fs.mkdirSync(s)}if(o&&o.isFile())throw KE.FILE_IN_THE_WAY.replace("%s",s)}})}r(e)};ve.prototype.writeFileTo=function(e,t,r,n){const s=this;if(s.fs.existsSync(e)){if(!r)return!1;var i=s.fs.statSync(e);if(i.isDirectory())return!1}var o=Oe.dirname(e);s.fs.existsSync(o)||s.makeDir(o);var c;try{c=s.fs.openSync(e,"w",438)}catch{s.fs.chmodSync(e,438),c=s.fs.openSync(e,"w",438)}if(c)try{s.fs.writeSync(c,t,0,t.length,0)}finally{s.fs.closeSync(c)}return s.fs.chmodSync(e,n||438),!0};ve.prototype.writeFileToAsync=function(e,t,r,n,s){typeof n=="function"&&(s=n,n=void 0);const i=this;i.fs.exists(e,function(o){if(o&&!r)return s(!1);i.fs.stat(e,function(c,l){if(o&&l.isDirectory())return s(!1);var d=Oe.dirname(e);i.fs.exists(d,function(a){a||i.makeDir(d),i.fs.open(e,"w",438,function(h,E){h?i.fs.chmod(e,438,function(){i.fs.open(e,"w",438,function(m,u){i.fs.write(u,t,0,t.length,0,function(){i.fs.close(u,function(){i.fs.chmod(e,n||438,function(){s(!0)})})})})}):E?i.fs.write(E,t,0,t.length,0,function(){i.fs.close(E,function(){i.fs.chmod(e,n||438,function(){s(!0)})})}):i.fs.chmod(e,n||438,function(){s(!0)})})})})})};ve.prototype.findFiles=function(e){const t=this;function r(n,s,i){let o=[];return t.fs.readdirSync(n).forEach(function(c){var l=Oe.join(n,c);t.fs.statSync(l).isDirectory()&&i&&(o=o.concat(r(l,s,i))),o.push(Oe.normalize(l)+(t.fs.statSync(l).isDirectory()?t.sep:""))}),o}return r(e,void 0,!0)};ve.prototype.getAttributes=function(){};ve.prototype.setAttributes=function(){};ve.crc32update=function(e,t){return vi[(e^t)&255]^e>>>8};ve.crc32=function(e){typeof e=="string"&&(e=Buffer.from(e,"utf8")),vi.length||genCRCTable();let t=e.length,r=-1;for(let n=0;n<t;)r=ve.crc32update(r,e[n++]);return~r>>>0};ve.methodToString=function(e){switch(e){case Ho.STORED:return"STORED ("+e+")";case Ho.DEFLATED:return"DEFLATED ("+e+")";default:return"UNSUPPORTED ("+e+")"}};ve.canonical=function(e){if(!e)return"";var t=Oe.posix.normalize("/"+e.split("\\").join("/"));return Oe.join(".",t)};ve.sanitize=function(e,t){e=Oe.resolve(Oe.normalize(e));for(var r=t.split("/"),n=0,s=r.length;n<s;n++){var i=Oe.normalize(Oe.join(e,r.slice(n,s).join(Oe.sep)));if(i.indexOf(e)===0)return i}return Oe.normalize(Oe.join(e,Oe.basename(t)))};ve.toBuffer=function(t){return Buffer.isBuffer(t)?t:t instanceof Uint8Array?Buffer.from(t):typeof t=="string"?Buffer.from(t,"utf8"):Buffer.alloc(0)};ve.readBigUInt64LE=function(e,t){var r=Buffer.from(e.slice(t,t+8));return r.swap64(),parseInt(`0x${r.toString("hex")}`)};ve.isWin=ZE;ve.crcTable=vi;const Wr=gi.require(),xc=Re;Wr.existsSync=Wr.existsSync||xc.existsSync;var XE=function(e){var t=e||"",r=s(),n=null;function s(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return t&&Wr.existsSync(t)?(n=Wr.statSync(t),r.directory=n.isDirectory(),r.mtime=n.mtime,r.atime=n.atime,r.executable=(73&n.mode)!==0,r.readonly=(128&n.mode)===0,r.hidden=xc.basename(t)[0]==="."):console.warn("Invalid path: "+t),{get directory(){return r.directory},get readOnly(){return r.readonly},get hidden(){return r.hidden},get mtime(){return r.mtime},get atime(){return r.atime},get executable(){return r.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:t,isDirectory:r.directory,isReadOnly:r.readonly,isHidden:r.hidden,isExecutable:r.executable,mTime:r.mtime,aTime:r.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}};vr.exports=WE;vr.exports.Constants=zc;vr.exports.Errors=Vc;vr.exports.FileAttr=XE;var _r=vr.exports,mn={},rr=_r,U=rr.Constants,JE=function(){var e=20,t=10,r=0,n=0,s=0,i=0,o=0,c=0,l=0,d=0,a=0,h=0,E=0,m=0,u=0;e|=rr.isWin?2560:768,r|=U.FLG_EFS;var y={};function $(f){f=new Date(f),s=(f.getFullYear()-1980&127)<<25|f.getMonth()+1<<21|f.getDate()<<16|f.getHours()<<11|f.getMinutes()<<5|f.getSeconds()>>1}return $(+new Date),{get made(){return e},set made(f){e=f},get version(){return t},set version(f){t=f},get flags(){return r},set flags(f){r=f},get method(){return n},set method(f){switch(f){case U.STORED:this.version=10;case U.DEFLATED:default:this.version=20}n=f},get time(){return new Date((s>>25&127)+1980,(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(s&31)<<1)},set time(f){$(f)},get timeHighByte(){return s>>>8&255},get crc(){return i},set crc(f){i=Math.max(0,f)>>>0},get compressedSize(){return o},set compressedSize(f){o=Math.max(0,f)>>>0},get size(){return c},set size(f){c=Math.max(0,f)>>>0},get fileNameLength(){return l},set fileNameLength(f){l=f},get extraLength(){return d},set extraLength(f){d=f},get commentLength(){return a},set commentLength(f){a=f},get diskNumStart(){return h},set diskNumStart(f){h=Math.max(0,f)>>>0},get inAttr(){return E},set inAttr(f){E=Math.max(0,f)>>>0},get attr(){return m},set attr(f){m=Math.max(0,f)>>>0},get fileAttr(){return m?(m>>>0|0)>>16&4095:0},get offset(){return u},set offset(f){u=Math.max(0,f)>>>0},get encrypted(){return(r&1)===1},get centralHeaderSize(){return U.CENHDR+l+d+a},get realDataOffset(){return u+U.LOCHDR+y.fnameLen+y.extraLen},get localHeader(){return y},loadLocalHeaderFromBinary:function(f){var g=f.slice(u,u+U.LOCHDR);if(g.readUInt32LE(0)!==U.LOCSIG)throw new Error(rr.Errors.INVALID_LOC);y={version:g.readUInt16LE(U.LOCVER),flags:g.readUInt16LE(U.LOCFLG),method:g.readUInt16LE(U.LOCHOW),time:g.readUInt32LE(U.LOCTIM),crc:g.readUInt32LE(U.LOCCRC),compressedSize:g.readUInt32LE(U.LOCSIZ),size:g.readUInt32LE(U.LOCLEN),fnameLen:g.readUInt16LE(U.LOCNAM),extraLen:g.readUInt16LE(U.LOCEXT)}},loadFromBinary:function(f){if(f.length!==U.CENHDR||f.readUInt32LE(0)!==U.CENSIG)throw new Error(rr.Errors.INVALID_CEN);e=f.readUInt16LE(U.CENVEM),t=f.readUInt16LE(U.CENVER),r=f.readUInt16LE(U.CENFLG),n=f.readUInt16LE(U.CENHOW),s=f.readUInt32LE(U.CENTIM),i=f.readUInt32LE(U.CENCRC),o=f.readUInt32LE(U.CENSIZ),c=f.readUInt32LE(U.CENLEN),l=f.readUInt16LE(U.CENNAM),d=f.readUInt16LE(U.CENEXT),a=f.readUInt16LE(U.CENCOM),h=f.readUInt16LE(U.CENDSK),E=f.readUInt16LE(U.CENATT),m=f.readUInt32LE(U.CENATX),u=f.readUInt32LE(U.CENOFF)},localHeaderToBinary:function(){var f=Buffer.alloc(U.LOCHDR);return f.writeUInt32LE(U.LOCSIG,0),f.writeUInt16LE(t,U.LOCVER),f.writeUInt16LE(r,U.LOCFLG),f.writeUInt16LE(n,U.LOCHOW),f.writeUInt32LE(s,U.LOCTIM),f.writeUInt32LE(i,U.LOCCRC),f.writeUInt32LE(o,U.LOCSIZ),f.writeUInt32LE(c,U.LOCLEN),f.writeUInt16LE(l,U.LOCNAM),f.writeUInt16LE(d,U.LOCEXT),f},centralHeaderToBinary:function(){var f=Buffer.alloc(U.CENHDR+l+d+a);return f.writeUInt32LE(U.CENSIG,0),f.writeUInt16LE(e,U.CENVEM),f.writeUInt16LE(t,U.CENVER),f.writeUInt16LE(r,U.CENFLG),f.writeUInt16LE(n,U.CENHOW),f.writeUInt32LE(s,U.CENTIM),f.writeUInt32LE(i,U.CENCRC),f.writeUInt32LE(o,U.CENSIZ),f.writeUInt32LE(c,U.CENLEN),f.writeUInt16LE(l,U.CENNAM),f.writeUInt16LE(d,U.CENEXT),f.writeUInt16LE(a,U.CENCOM),f.writeUInt16LE(h,U.CENDSK),f.writeUInt16LE(E,U.CENATT),f.writeUInt32LE(m,U.CENATX),f.writeUInt32LE(u,U.CENOFF),f.fill(0,U.CENHDR),f},toJSON:function(){const f=function(g){return g+" bytes"};return{made:e,version:t,flags:r,method:rr.methodToString(n),time:this.time,crc:"0x"+i.toString(16).toUpperCase(),compressedSize:f(o),size:f(c),fileNameLength:f(l),extraLength:f(d),commentLength:f(a),diskNumStart:h,inAttr:E,attr:m,offset:u,centralHeaderSize:f(U.CENHDR+l+d+a)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}},At=_r,oe=At.Constants,YE=function(){var e=0,t=0,r=0,n=0,s=0;return{get diskEntries(){return e},set diskEntries(i){e=t=i},get totalEntries(){return t},set totalEntries(i){t=e=i},get size(){return r},set size(i){r=i},get offset(){return n},set offset(i){n=i},get commentLength(){return s},set commentLength(i){s=i},get mainHeaderSize(){return oe.ENDHDR+s},loadFromBinary:function(i){if((i.length!==oe.ENDHDR||i.readUInt32LE(0)!==oe.ENDSIG)&&(i.length<oe.ZIP64HDR||i.readUInt32LE(0)!==oe.ZIP64SIG))throw new Error(At.Errors.INVALID_END);i.readUInt32LE(0)===oe.ENDSIG?(e=i.readUInt16LE(oe.ENDSUB),t=i.readUInt16LE(oe.ENDTOT),r=i.readUInt32LE(oe.ENDSIZ),n=i.readUInt32LE(oe.ENDOFF),s=i.readUInt16LE(oe.ENDCOM)):(e=At.readBigUInt64LE(i,oe.ZIP64SUB),t=At.readBigUInt64LE(i,oe.ZIP64TOT),r=At.readBigUInt64LE(i,oe.ZIP64SIZE),n=At.readBigUInt64LE(i,oe.ZIP64OFF),s=0)},toBinary:function(){var i=Buffer.alloc(oe.ENDHDR+s);return i.writeUInt32LE(oe.ENDSIG,0),i.writeUInt32LE(0,4),i.writeUInt16LE(e,oe.ENDSUB),i.writeUInt16LE(t,oe.ENDTOT),i.writeUInt32LE(r,oe.ENDSIZ),i.writeUInt32LE(n,oe.ENDOFF),i.writeUInt16LE(s,oe.ENDCOM),i.fill(" ",oe.ENDHDR),i},toJSON:function(){const i=function(o,c){let l=o.toString(16).toUpperCase();for(;l.length<c;)l="0"+l;return"0x"+l};return{diskEntries:e,totalEntries:t,size:r+" bytes",offset:i(n,4),commentLength:s}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}};mn.EntryHeader=JE;mn.MainHeader=YE;var pn={},QE=function(e){var t=Wo,r={chunkSize:(parseInt(e.length/1024)+1)*1024};return{deflate:function(){return t.deflateRawSync(e,r)},deflateAsync:function(n){var s=t.createDeflateRaw(r),i=[],o=0;s.on("data",function(c){i.push(c),o+=c.length}),s.on("end",function(){var c=Buffer.alloc(o),l=0;c.fill(0);for(var d=0;d<i.length;d++){var a=i[d];a.copy(c,l),l+=a.length}n&&n(c)}),s.end(e)}}};const eg=+(process.versions?process.versions.node:"").split(".")[0]||0;var tg=function(e,t){var r=Wo;const n=eg>=15?{maxOutputLength:t}:{};return{inflate:function(){return r.inflateRawSync(e,n)},inflateAsync:function(s){var i=r.createInflateRaw(n),o=[],c=0;i.on("data",function(l){o.push(l),c+=l.length}),i.on("end",function(){var l=Buffer.alloc(c),d=0;l.fill(0);for(var a=0;a<o.length;a++){var h=o[a];h.copy(l,d),d+=h.length}s&&s(l)}),i.end(e)}}};const{randomFillSync:Go}=Yc,rg=new Uint32Array(256).map((e,t)=>{for(let r=0;r<8;r++)t&1?t=t>>>1^3988292384:t>>>=1;return t>>>0}),Hc=(e,t)=>Math.imul(e,t)>>>0,Bo=(e,t)=>rg[(e^t)&255]^e>>>8,mr=()=>typeof Go=="function"?Go(Buffer.alloc(12)):mr.node();mr.node=()=>{const e=Buffer.alloc(12),t=e.length;for(let r=0;r<t;r++)e[r]=Math.random()*256&255;return e};const xr={genSalt:mr};function yn(e){const t=Buffer.isBuffer(e)?e:Buffer.from(e);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let r=0;r<t.length;r++)this.updateKeys(t[r])}yn.prototype.updateKeys=function(e){const t=this.keys;return t[0]=Bo(t[0],e),t[1]+=t[0]&255,t[1]=Hc(t[1],134775813)+1,t[2]=Bo(t[2],t[1]>>>24),e};yn.prototype.next=function(){const e=(this.keys[2]|2)>>>0;return Hc(e,e^1)>>8&255};function ng(e){const t=new yn(e);return function(r){const n=Buffer.alloc(r.length);let s=0;for(let i of r)n[s++]=t.updateKeys(i^t.next());return n}}function sg(e){const t=new yn(e);return function(r,n,s=0){n||(n=Buffer.alloc(r.length));for(let i of r){const o=t.next();n[s++]=i^o,t.updateKeys(i)}return n}}function ig(e,t,r){if(!e||!Buffer.isBuffer(e)||e.length<12)return Buffer.alloc(0);const n=ng(r),s=n(e.slice(0,12)),i=(t.flags&8)===8?t.timeHighByte:t.crc>>>24;if(s[11]!==i)throw"ADM-ZIP: Wrong Password";return n(e.slice(12))}function og(e){Buffer.isBuffer(e)&&e.length>=12?xr.genSalt=function(){return e.slice(0,12)}:e==="node"?xr.genSalt=mr.node:xr.genSalt=mr}function ag(e,t,r,n=!1){e==null&&(e=Buffer.alloc(0)),Buffer.isBuffer(e)||(e=Buffer.from(e.toString()));const s=sg(r),i=xr.genSalt();i[11]=t.crc>>>24&255,n&&(i[10]=t.crc>>>16&255);const o=Buffer.alloc(e.length+12);return s(i,o),s(e,o,12)}var cg={decrypt:ig,encrypt:ag,_salter:og};pn.Deflater=QE;pn.Inflater=tg;pn.ZipCrypto=cg;var ue=_r,ug=mn,ke=ue.Constants,Zn=pn,qc=function(e){var t=new ug.EntryHeader,r=Buffer.alloc(0),n=Buffer.alloc(0),s=!1,i=null,o=Buffer.alloc(0);function c(){return!e||!(e instanceof Uint8Array)?Buffer.alloc(0):(t.loadLocalHeaderFromBinary(e),e.slice(t.realDataOffset,t.realDataOffset+t.compressedSize))}function l(u){return!((t.flags&8)!==8&&ue.crc32(u)!==t.localHeader.crc)}function d(u,y,$){if(typeof y>"u"&&typeof u=="string"&&($=u,u=void 0),s)return u&&y&&y(Buffer.alloc(0),ue.Errors.DIRECTORY_CONTENT_ERROR),Buffer.alloc(0);var f=c();if(f.length===0)return u&&y&&y(f),f;if(t.encrypted){if(typeof $!="string"&&!Buffer.isBuffer($))throw new Error("ADM-ZIP: Incompatible password parameter");f=Zn.ZipCrypto.decrypt(f,t,$)}var g=Buffer.alloc(t.size);switch(t.method){case ue.Constants.STORED:if(f.copy(g),l(g))return u&&y&&y(g),g;throw u&&y&&y(g,ue.Errors.BAD_CRC),new Error(ue.Errors.BAD_CRC);case ue.Constants.DEFLATED:var w=new Zn.Inflater(f,t.size);if(u)w.inflateAsync(function(I){I.copy(I,0),y&&(l(I)?y(I):y(I,ue.Errors.BAD_CRC))});else{if(w.inflate(g).copy(g,0),!l(g))throw new Error(ue.Errors.BAD_CRC+" "+r.toString());return g}break;default:throw u&&y&&y(Buffer.alloc(0),ue.Errors.UNKNOWN_METHOD),new Error(ue.Errors.UNKNOWN_METHOD)}}function a(u,y){if((!i||!i.length)&&Buffer.isBuffer(e))return u&&y&&y(c()),c();if(i.length&&!s){var $;switch(t.method){case ue.Constants.STORED:return t.compressedSize=t.size,$=Buffer.alloc(i.length),i.copy($),u&&y&&y($),$;default:case ue.Constants.DEFLATED:var f=new Zn.Deflater(i);if(u)f.deflateAsync(function(w){$=Buffer.alloc(w.length),t.compressedSize=w.length,w.copy($),y&&y($)});else{var g=f.deflate();return t.compressedSize=g.length,g}f=null;break}}else if(u&&y)y(Buffer.alloc(0));else return Buffer.alloc(0)}function h(u,y){return(u.readUInt32LE(y+4)<<4)+u.readUInt32LE(y)}function E(u){for(var y=0,$,f,g;y<u.length;)$=u.readUInt16LE(y),y+=2,f=u.readUInt16LE(y),y+=2,g=u.slice(y,y+f),y+=f,ke.ID_ZIP64===$&&m(g)}function m(u){var y,$,f,g;u.length>=ke.EF_ZIP64_SCOMP&&(y=h(u,ke.EF_ZIP64_SUNCOMP),t.size===ke.EF_ZIP64_OR_32&&(t.size=y)),u.length>=ke.EF_ZIP64_RHO&&($=h(u,ke.EF_ZIP64_SCOMP),t.compressedSize===ke.EF_ZIP64_OR_32&&(t.compressedSize=$)),u.length>=ke.EF_ZIP64_DSN&&(f=h(u,ke.EF_ZIP64_RHO),t.offset===ke.EF_ZIP64_OR_32&&(t.offset=f)),u.length>=ke.EF_ZIP64_DSN+4&&(g=u.readUInt32LE(ke.EF_ZIP64_DSN),t.diskNumStart===ke.EF_ZIP64_OR_16&&(t.diskNumStart=g))}return{get entryName(){return r.toString()},get rawEntryName(){return r},set entryName(u){r=ue.toBuffer(u);var y=r[r.length-1];s=y===47||y===92,t.fileNameLength=r.length},get extra(){return o},set extra(u){o=u,t.extraLength=u.length,E(u)},get comment(){return n.toString()},set comment(u){n=ue.toBuffer(u),t.commentLength=n.length},get name(){var u=r.toString();return s?u.substr(u.length-1).split("/").pop():u.split("/").pop()},get isDirectory(){return s},getCompressedData:function(){return a(!1,null)},getCompressedDataAsync:function(u){a(!0,u)},setData:function(u){i=ue.toBuffer(u),!s&&i.length?(t.size=i.length,t.method=ue.Constants.DEFLATED,t.crc=ue.crc32(u),t.changed=!0):t.method=ue.Constants.STORED},getData:function(u){return t.changed?i:d(!1,null,u)},getDataAsync:function(u,y){t.changed?u(i):d(!0,u,y)},set attr(u){t.attr=u},get attr(){return t.attr},set header(u){t.loadFromBinary(u)},get header(){return t},packCentralHeader:function(){var u=t.centralHeaderToBinary(),y=ue.Constants.CENHDR;return r.copy(u,y),y+=r.length,t.extraLength&&(o.copy(u,y),y+=t.extraLength),t.commentLength&&n.copy(u,y),u},packLocalHeader:function(){let u=0;const y=t.localHeaderToBinary(),$=Buffer.alloc(y.length+r.length+o.length);return y.copy($,u),u+=y.length,r.copy($,u),u+=r.length,o.copy($,u),u+=o.length,$},toJSON:function(){const u=function(y){return"<"+(y&&y.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:t.toJSON(),compressedData:u(e),data:u(i)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}};const Ko=qc,lg=mn,me=_r;var fg=function(e,t){var r=[],n={},s=Buffer.alloc(0),i=new lg.MainHeader,o=!1;const c=Object.assign(Object.create(null),t),{noSort:l}=c;e?h(c.readEntries):o=!0;function d(m){const u=i.diskEntries;let y=i.offset;for(let $=0;$<u;$++){let f=y;const g=new Ko(e);g.header=e.slice(f,f+=me.Constants.CENHDR),g.entryName=e.slice(f,f+=g.header.fileNameLength),y+=g.header.centralHeaderSize,m(g)}}function a(){if(o=!0,n={},i.diskEntries>(e.length-i.offset)/me.Constants.CENHDR)throw new Error(me.Errors.DISK_ENTRY_TOO_LARGE);r=new Array(i.diskEntries);for(var m=i.offset,u=0;u<r.length;u++){var y=m,$=new Ko(e);$.header=e.slice(y,y+=me.Constants.CENHDR),$.entryName=e.slice(y,y+=$.header.fileNameLength),$.header.extraLength&&($.extra=e.slice(y,y+=$.header.extraLength)),$.header.commentLength&&($.comment=e.slice(y,y+$.header.commentLength)),m+=$.header.centralHeaderSize,r[u]=$,n[$.entryName]=$}}function h(m){var u=e.length-me.Constants.ENDHDR,y=Math.max(0,u-65535),$=y,f=e.length,g=-1,w=0;for(u;u>=$;u--)if(e[u]===80){if(e.readUInt32LE(u)===me.Constants.ENDSIG){g=u,w=u,f=u+me.Constants.ENDHDR,$=u-me.Constants.END64HDR;continue}if(e.readUInt32LE(u)===me.Constants.END64SIG){$=y;continue}if(e.readUInt32LE(u)===me.Constants.ZIP64SIG){g=u,f=u+me.readBigUInt64LE(e,u+me.Constants.ZIP64SIZE)+me.Constants.ZIP64LEAD;break}}if(!~g)throw new Error(me.Errors.INVALID_FORMAT);i.loadFromBinary(e.slice(g,f)),i.commentLength&&(s=e.slice(w+me.Constants.ENDHDR)),m&&a()}function E(){r.length>1&&!l&&r.sort((m,u)=>m.entryName.toLowerCase().localeCompare(u.entryName.toLowerCase()))}return{get entries(){return o||a(),r},get comment(){return s.toString()},set comment(m){s=me.toBuffer(m),i.commentLength=s.length},getEntryCount:function(){return o?r.length:i.diskEntries},forEach:function(m){if(!o){d(m);return}r.forEach(m)},getEntry:function(m){return o||a(),n[m]||null},setEntry:function(m){o||a(),r.push(m),n[m.entryName]=m,i.totalEntries=r.length},deleteEntry:function(m){o||a();var u=n[m];if(u&&u.isDirectory){var y=this;this.getEntryChildren(u).forEach(function($){$.entryName!==m&&y.deleteEntry($.entryName)})}r.splice(r.indexOf(u),1),delete n[m],i.totalEntries=r.length},getEntryChildren:function(m){if(o||a(),m&&m.isDirectory){const u=[],y=m.entryName,$=y.length;return r.forEach(function(f){f.entryName.substr(0,$)===y&&u.push(f)}),u}return[]},compressToBuffer:function(){o||a(),E();const m=[],u=[];let y=0,$=0;i.size=0,i.offset=0;for(const w of r){const I=w.getCompressedData();w.header.offset=$;const C=w.packLocalHeader(),H=C.length+I.length;$+=H,m.push(C),m.push(I);const G=w.packCentralHeader();u.push(G),i.size+=G.length,y+=H+G.length}y+=i.mainHeaderSize,i.offset=$,$=0;const f=Buffer.alloc(y);for(const w of m)w.copy(f,$),$+=w.length;for(const w of u)w.copy(f,$),$+=w.length;const g=i.toBinary();return s&&s.copy(g,me.Constants.ENDHDR),g.copy(f,$),f},toAsyncBuffer:function(m,u,y,$){try{o||a(),E();const f=[],g=[];let w=0,I=0;i.size=0,i.offset=0;const C=function(H){if(H.length>0){const G=H.shift(),Q=G.entryName+G.extra.toString();y&&y(Q),G.getCompressedDataAsync(function(b){$&&$(Q),G.header.offset=I;const F=G.packLocalHeader(),z=F.length+b.length;I+=z,f.push(F),f.push(b);const B=G.packCentralHeader();g.push(B),i.size+=B.length,w+=z+B.length,C(H)})}else{w+=i.mainHeaderSize,i.offset=I,I=0;const G=Buffer.alloc(w);f.forEach(function(b){b.copy(G,I),I+=b.length}),g.forEach(function(b){b.copy(G,I),I+=b.length});const Q=i.toBinary();s&&s.copy(Q,me.Constants.ENDHDR),Q.copy(G,I),m(G)}};C(Array.from(r))}catch(f){u(f)}}}};const le=_r,Be=Re,dg=qc,hg=fg,$t=(e,t)=>typeof e=="boolean"?e:t,Wn=(e,t)=>typeof e=="string"?e:t,mg={noSort:!1,readEntries:!1,method:le.Constants.NONE,fs:null};var pg=function(e,t){let r=null;const n=Object.assign(Object.create(null),mg);e&&typeof e=="object"&&(e instanceof Uint8Array||(Object.assign(n,e),e=n.input?n.input:void 0,n.input&&delete n.input),Buffer.isBuffer(e)&&(r=e,n.method=le.Constants.BUFFER,e=void 0)),Object.assign(n,t);const s=new le(n);if(e&&typeof e=="string")if(s.fs.existsSync(e))n.method=le.Constants.FILE,n.filename=e,r=s.fs.readFileSync(e);else throw new Error(le.Errors.INVALID_FILENAME);const i=new hg(r,n),{canonical:o,sanitize:c}=le;function l(a){if(a&&i){var h;if(typeof a=="string"&&(h=i.getEntry(a)),typeof a=="object"&&typeof a.entryName<"u"&&typeof a.header<"u"&&(h=i.getEntry(a.entryName)),h)return h}return null}function d(a){const{join:h,normalize:E,sep:m}=Be.posix;return h(".",E(m+a.split("\\").join(m)+m))}return{readFile:function(a,h){var E=l(a);return E&&E.getData(h)||null},readFileAsync:function(a,h){var E=l(a);E?E.getDataAsync(h):h(null,"getEntry failed for:"+a)},readAsText:function(a,h){var E=l(a);if(E){var m=E.getData();if(m&&m.length)return m.toString(h||"utf8")}return""},readAsTextAsync:function(a,h,E){var m=l(a);m?m.getDataAsync(function(u,y){if(y){h(u,y);return}u&&u.length?h(u.toString(E||"utf8")):h("")}):h("")},deleteFile:function(a){var h=l(a);h&&i.deleteEntry(h.entryName)},addZipComment:function(a){i.comment=a},getZipComment:function(){return i.comment||""},addZipEntryComment:function(a,h){var E=l(a);E&&(E.comment=h)},getZipEntryComment:function(a){var h=l(a);return h&&h.comment||""},updateFile:function(a,h){var E=l(a);E&&E.setData(h)},addLocalFile:function(a,h,E,m){if(s.fs.existsSync(a)){h=h?d(h):"";var u=a.split("\\").join("/").split("/").pop();h+=E||u;const y=s.fs.statSync(a);this.addFile(h,s.fs.readFileSync(a),m,y)}else throw new Error(le.Errors.FILE_NOT_FOUND.replace("%s",a))},addLocalFolder:function(a,h,E,m){if(E instanceof RegExp?E=function(u){return function(y){return u.test(y)}}(E):typeof E!="function"&&(E=function(){return!0}),h=h?d(h):"",a=Be.normalize(a),s.fs.existsSync(a)){const u=s.findFiles(a),y=this;u.length&&u.forEach(function($){var f=Be.relative(a,$).split("\\").join("/");if(E(f)){var g=s.fs.statSync($);g.isFile()?y.addFile(h+f,s.fs.readFileSync($),"",m||g):y.addFile(h+f+"/",Buffer.alloc(0),"",m||g)}})}else throw new Error(le.Errors.FILE_NOT_FOUND.replace("%s",a))},addLocalFolderAsync:function(a,h,E,m){m instanceof RegExp?m=function(y){return function($){return y.test($)}}(m):typeof m!="function"&&(m=function(){return!0}),E=E?d(E):"",a=Be.normalize(a);var u=this;s.fs.open(a,"r",function(y){if(y&&y.code==="ENOENT")h(void 0,le.Errors.FILE_NOT_FOUND.replace("%s",a));else if(y)h(void 0,y);else{var $=s.findFiles(a),f=-1,g=function(){if(f+=1,f<$.length){var w=$[f],I=Be.relative(a,w).split("\\").join("/");I=I.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),m(I)?s.fs.stat(w,function(C,H){C&&h(void 0,C),H.isFile()?s.fs.readFile(w,function(G,Q){G?h(void 0,G):(u.addFile(E+I,Q,"",H),g())}):(u.addFile(E+I+"/",Buffer.alloc(0),"",H),g())}):process.nextTick(()=>{g()})}else h(!0,void 0)};g()}})},addLocalFolderPromise:function(a,h){return new Promise((E,m)=>{const{filter:u,zipPath:y}=Object.assign({},h);this.addLocalFolderAsync(a,($,f)=>{f&&m(f),$&&E(this)},y,u)})},addFile:function(a,h,E,m){let u=l(a);const y=u!=null;y||(u=new dg,u.entryName=le.canonical(a)),u.comment=E||"";const $=typeof m=="object"&&m instanceof s.fs.Stats;$&&(u.header.time=m.mtime);var f=u.isDirectory?16:0;let g=u.isDirectory?16384:32768;return $?g|=4095&m.mode:typeof m=="number"?g|=4095&m:g|=u.isDirectory?493:420,f=(f|g<<16)>>>0,u.attr=f,u.setData(h),y||i.setEntry(u),u},getEntries:function(a){return i.password=a,i?i.entries:[]},getEntry:function(a){return l(a)},getEntryCount:function(){return i.getEntryCount()},forEach:function(a){return i.forEach(a)},extractEntryTo:function(a,h,E,m,u,y){m=$t(m,!1),u=$t(u,!1),E=$t(E,!0),y=Wn(y,Wn(u,void 0));var $=l(a);if(!$)throw new Error(le.Errors.NO_ENTRY);var f=o($.entryName),g=c(h,y&&!$.isDirectory?y:E?f:Be.basename(f));if($.isDirectory){var w=i.getEntryChildren($);return w.forEach(function(H){if(H.isDirectory)return;var G=H.getData();if(!G)throw new Error(le.Errors.CANT_EXTRACT_FILE);var Q=o(H.entryName),b=c(h,E?Q:Be.basename(Q));const F=u?H.header.fileAttr:void 0;s.writeFileTo(b,G,m,F)}),!0}var I=$.getData(i.password);if(!I)throw new Error(le.Errors.CANT_EXTRACT_FILE);if(s.fs.existsSync(g)&&!m)throw new Error(le.Errors.CANT_OVERRIDE);const C=u?a.header.fileAttr:void 0;return s.writeFileTo(g,I,m,C),!0},test:function(a){if(!i)return!1;for(var h in i.entries)try{if(h.isDirectory)continue;var E=i.entries[h].getData(a);if(!E)return!1}catch{return!1}return!0},extractAllTo:function(a,h,E,m){if(h=$t(h,!1),m=Wn(E,m),E=$t(E,!1),!i)throw new Error(le.Errors.NO_ZIP);i.entries.forEach(function(u){var y=c(a,o(u.entryName.toString()));if(u.isDirectory){s.makeDir(y);return}var $=u.getData(m);if(!$)throw new Error(le.Errors.CANT_EXTRACT_FILE);const f=E?u.header.fileAttr:void 0;s.writeFileTo(y,$,h,f);try{s.fs.utimesSync(y,u.header.time,u.header.time)}catch{throw new Error(le.Errors.CANT_EXTRACT_FILE)}})},extractAllToAsync:function(a,h,E,m){if(typeof h=="function"&&!m&&(m=h),h=$t(h,!1),typeof E=="function"&&!m&&(m=E),E=$t(E,!1),!m)return new Promise((g,w)=>{this.extractAllToAsync(a,h,E,function(I){I?w(I):g(this)})});if(!i){m(new Error(le.Errors.NO_ZIP));return}a=Be.resolve(a);const u=g=>c(a,Be.normalize(o(g.entryName.toString()))),y=(g,w)=>new Error(g+': "'+w+'"'),$=[],f=[];i.entries.forEach(g=>{g.isDirectory?$.push(g):f.push(g)});for(const g of $){const w=u(g),I=E?g.header.fileAttr:void 0;try{s.makeDir(w),I&&s.fs.chmodSync(w,I),s.fs.utimesSync(w,g.header.time,g.header.time)}catch{m(y("Unable to create folder",w))}}f.reverse().reduce(function(g,w){return function(I){if(I)g(I);else{const C=Be.normalize(o(w.entryName.toString())),H=c(a,C);w.getDataAsync(function(G,Q){if(Q)g(new Error(Q));else if(!G)g(new Error(le.Errors.CANT_EXTRACT_FILE));else{const b=E?w.header.fileAttr:void 0;s.writeFileToAsync(H,G,h,b,function(F){F||g(y("Unable to write file",H)),s.fs.utimes(H,w.header.time,w.header.time,function(z){z?g(y("Unable to set times",H)):g()})})}})}}},m)()},writeZip:function(a,h){if(arguments.length===1&&typeof a=="function"&&(h=a,a=""),!a&&n.filename&&(a=n.filename),!!a){var E=i.compressToBuffer();if(E){var m=s.writeFileTo(a,E,!0);typeof h=="function"&&h(m?null:new Error("failed"),"")}}},writeZipPromise:function(a,h){const{overwrite:E,perm:m}=Object.assign({overwrite:!0},h);return new Promise((u,y)=>{!a&&n.filename&&(a=n.filename),a||y("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then($=>{const f=g=>g?u(g):y("ADM-ZIP: Wasn't able to write zip file");s.writeFileToAsync(a,$,E,m,f)},y)})},toBufferPromise:function(){return new Promise((a,h)=>{i.toAsyncBuffer(a,h)})},toBuffer:function(a,h,E,m){return this.valueOf=2,typeof a=="function"?(i.toAsyncBuffer(a,h,E,m),null):i.compressToBuffer()}}};const Zo=Jr(pg);class je{constructor(t,r){this.bw=t,this.#r.getVersion=r,Z.ipcMain.handle("getInfo",()=>this.#r),Z.ipcMain.handle("existsSync",(s,i)=>Fe.existsSync(i)),Z.ipcMain.handle("copySync",(s,i,o)=>Fe.copySync(i,o)),Z.ipcMain.handle("removeSync",(s,i)=>Fe.removeSync(i)),Z.ipcMain.handle("ensureFileSync",(s,i)=>Fe.ensureFileSync(i)),Z.ipcMain.handle("readFileSync",(s,i)=>Fe.readFileSync(i,{encoding:"utf8"})),Z.ipcMain.handle("readFile",(s,i,o)=>Fe.readFile(i,o)),Z.ipcMain.handle("writeFileSync",(s,i,o,c)=>Fe.writeFileSync(i,o,c)),Z.ipcMain.handle("appendFile",(s,i,o,c)=>Fe.appendFile(i,o).catch(l=>c(l))),Z.ipcMain.handle("win_close",()=>t.close()),Z.ipcMain.handle("win_setTitle",(s,i)=>t.setTitle(i)),Z.ipcMain.handle("showMessageBox",(s,i)=>Z.dialog.showMessageBox(i)),Z.ipcMain.handle("capturePage",(s,i,o,c)=>t.webContents.capturePage().then(l=>{Fe.ensureFileSync(i);const d=l.resize({width:o,height:c,quality:"best"}),a=i.slice(-4)===".png"?d.toPNG():d.toJPEG(80);Fe.writeFileSync(i,a)})),Z.ipcMain.handle("navigate_to",(s,i)=>Z.shell.openExternal(i)),Z.ipcMain.handle("openDevTools",()=>t.webContents.openDevTools()),Z.ipcMain.handle("win_ev_devtools_opened",(s,i)=>t.webContents.on("devtools-opened",i));let n;Z.ipcMain.handle("Store",(s,i)=>{n=new xo(i)}),Z.ipcMain.handle("flush",(s,i)=>{n.store=i}),Z.ipcMain.handle("Store_isEmpty",()=>n.size===0),Z.ipcMain.handle("Store_get",()=>n.store),Z.ipcMain.handle("zip",(s,i,o)=>{const c=new Zo;c.addLocalFolder(i),c.writeZip(o)}),Z.ipcMain.handle("unzip",(s,i,o)=>{Fe.removeSync(o),Fe.ensureDirSync(o),new Zo(i).extractAllTo(o,!0)}),Z.ipcMain.handle("isSimpleFullScreen",()=>t.simpleFullScreen),this.#p?(Z.ipcMain.handle("setSimpleFullScreen",(s,i)=>{this.#s=!0,t.setSimpleFullScreen(i),i||(t.setPosition(this.#c,this.#u),t.setContentSize(this.#o,this.#a+je.#i)),this.#s=!1}),t.on("enter-full-screen",()=>{t.setContentSize(this.#t,this.#e-je.#i)}),t.on("leave-full-screen",()=>{this.#f(!1,this.#c,this.#u,this.#o,this.#a+je.#i)})):Z.ipcMain.handle("setSimpleFullScreen",(s,i)=>{t.setSimpleFullScreen(i),i||t.setContentSize(this.#o,this.#a+je.#i)}),Z.ipcMain.handle("window",(s,i,o,c,l,d)=>this.#f(i,o,c,l,d)),t.on("move",()=>this.#d())}#n=Z.screen.getPrimaryDisplay().size;#t=this.#n.width;#e=this.#n.height;#r={getAppPath:Z.app.getAppPath(),isPackaged:Z.app.isPackaged,downloads:Z.app.getPath("downloads"),userData:Z.app.getPath("userData"),getVersion:"",env:{...process.env},platform:process.platform,arch:process.arch};#c=0;#u=0;#o=0;#a=0;#p=process.platform==="win32";#l=void 0;#d(){if(this.#l||this.#s)return;this.#s=!0;const{x:t,y:r}=this.bw.getBounds();this.#l=setTimeout(()=>{if(this.#l=void 0,this.#h){this.#h=!1;return}this.#s=!1;const n=this.bw.getBounds();if(t!==n.x||r!==n.y){this.#d();return}this.#f(!1,n.x,n.y,this.#o,this.#a)},1e3/60*10)}#h=!1;#s=!1;#f(t,r,n,s,i){this.#s||(this.#s=!0,!this.bw.simpleFullScreen&&(t?(r=(this.#t-s)*.5,n=(this.#e-i)*.5):((r<0||r>this.#t)&&(r=0),(n<0||n>this.#e)&&(n=0)),(this.#c!==r||this.#u!==n)&&(this.#c=r,this.#u=n,this.bw.webContents.send("save_win_pos",r,n),this.bw.setPosition(r,n)),this.#o=s,this.#a=i,this.bw.setContentSize(s,i+je.#i),this.#s=!1))}openDevTools(){this.bw.webContents.openDevTools()}static#m;static initRenderer(t,r,n){let s=()=>{},i;try{xo.initRenderer(),process.env.ELECTRON_DISABLE_SECURITY_WARNINGS="true",i=new Z.BrowserWindow({...n,fullscreenable:!0,maximizable:!1,webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:`${__dirname}/preload.js`}}),i.setMenuBarVisibility(!1);const o=i.getContentSize()[1];i.setMenuBarVisibility(!0);const c=i.getContentSize()[1];je.#i=o-c,je.#m=new je(i,r),s=()=>je.#m.openDevTools(),i.loadFile(t),i.once("ready-to-show",()=>i.show())}catch(o){throw console.error(`ealy err:${o}`),s(),"initRenderer error"}return i}static#i=0}module.exports=je;exports.appMain=je;
//# sourceMappingURL=appMain.js.map
