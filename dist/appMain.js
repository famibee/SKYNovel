"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const fe=require("electron"),Ar=require("fs"),ju=require("constants"),ku=require("stream"),Bi=require("util"),Ma=require("assert"),be=require("path"),Ua=require("crypto"),Mu=require("events"),Uu=require("os"),xa=require("zlib");var Kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Va(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rt={},je={};je.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,n)=>{t.push((i,s)=>i!=null?n(i):r(s)),e.apply(this,t)})},"name",{value:e.name})};je.fromPromise=function(e){return Object.defineProperty(function(...t){const r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);t.pop(),e.apply(this,t).then(n=>r(null,n),r)},"name",{value:e.name})};var zt=ju,xu=process.cwd,jn=null,Vu=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return jn||(jn=xu.call(process)),jn};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var $o=process.chdir;process.chdir=function(e){jn=null,$o.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,$o)}var zu=Gu;function Gu(e){zt.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=u(e.stat),e.fstat=u(e.fstat),e.lstat=u(e.lstat),e.statSync=c(e.statSync),e.fstatSync=c(e.fstatSync),e.lstatSync=c(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(a,d,v){v&&process.nextTick(v)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(a,d,v,h){h&&process.nextTick(h)},e.lchownSync=function(){}),Vu==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(a){function d(v,h,l){var p=Date.now(),E=0;a(v,h,function f($){if($&&($.code==="EACCES"||$.code==="EPERM"||$.code==="EBUSY")&&Date.now()-p<6e4){setTimeout(function(){e.stat(h,function(_,T){_&&_.code==="ENOENT"?a(v,h,f):l($)})},E),E<100&&(E+=10);return}l&&l($)})}return Object.setPrototypeOf&&Object.setPrototypeOf(d,a),d}(e.rename)),e.read=typeof e.read!="function"?e.read:function(a){function d(v,h,l,p,E,f){var $;if(f&&typeof f=="function"){var _=0;$=function(T,G,b){if(T&&T.code==="EAGAIN"&&_<10)return _++,a.call(e,v,h,l,p,E,$);f.apply(this,arguments)}}return a.call(e,v,h,l,p,E,$)}return Object.setPrototypeOf&&Object.setPrototypeOf(d,a),d}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(a){return function(d,v,h,l,p){for(var E=0;;)try{return a.call(e,d,v,h,l,p)}catch(f){if(f.code==="EAGAIN"&&E<10){E++;continue}throw f}}}(e.readSync);function t(a){a.lchmod=function(d,v,h){a.open(d,zt.O_WRONLY|zt.O_SYMLINK,v,function(l,p){if(l){h&&h(l);return}a.fchmod(p,v,function(E){a.close(p,function(f){h&&h(E||f)})})})},a.lchmodSync=function(d,v){var h=a.openSync(d,zt.O_WRONLY|zt.O_SYMLINK,v),l=!0,p;try{p=a.fchmodSync(h,v),l=!1}finally{if(l)try{a.closeSync(h)}catch{}else a.closeSync(h)}return p}}function r(a){zt.hasOwnProperty("O_SYMLINK")&&a.futimes?(a.lutimes=function(d,v,h,l){a.open(d,zt.O_SYMLINK,function(p,E){if(p){l&&l(p);return}a.futimes(E,v,h,function(f){a.close(E,function($){l&&l(f||$)})})})},a.lutimesSync=function(d,v,h){var l=a.openSync(d,zt.O_SYMLINK),p,E=!0;try{p=a.futimesSync(l,v,h),E=!1}finally{if(E)try{a.closeSync(l)}catch{}else a.closeSync(l)}return p}):a.futimes&&(a.lutimes=function(d,v,h,l){l&&process.nextTick(l)},a.lutimesSync=function(){})}function n(a){return a&&function(d,v,h){return a.call(e,d,v,function(l){m(l)&&(l=null),h&&h.apply(this,arguments)})}}function i(a){return a&&function(d,v){try{return a.call(e,d,v)}catch(h){if(!m(h))throw h}}}function s(a){return a&&function(d,v,h,l){return a.call(e,d,v,h,function(p){m(p)&&(p=null),l&&l.apply(this,arguments)})}}function o(a){return a&&function(d,v,h){try{return a.call(e,d,v,h)}catch(l){if(!m(l))throw l}}}function u(a){return a&&function(d,v,h){typeof v=="function"&&(h=v,v=null);function l(p,E){E&&(E.uid<0&&(E.uid+=4294967296),E.gid<0&&(E.gid+=4294967296)),h&&h.apply(this,arguments)}return v?a.call(e,d,v,l):a.call(e,d,l)}}function c(a){return a&&function(d,v){var h=v?a.call(e,d,v):a.call(e,d);return h&&(h.uid<0&&(h.uid+=4294967296),h.gid<0&&(h.gid+=4294967296)),h}}function m(a){if(!a||a.code==="ENOSYS")return!0;var d=!process.getuid||process.getuid()!==0;return!!(d&&(a.code==="EINVAL"||a.code==="EPERM"))}}var _o=ku.Stream,Hu=qu;function qu(e){return{ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);_o.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),u=0,c=o.length;u<c;u++){var m=o[u];this[m]=i[m]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}e.open(this.path,this.flags,this.mode,function(a,d){if(a){s.emit("error",a),s.readable=!1;return}s.fd=d,s.emit("open",d),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);_o.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,u=s.length;o<u;o++){var c=s[o];this[c]=i[c]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var Bu=Wu,Ku=Object.getPrototypeOf||function(e){return e.__proto__};function Wu(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:Ku(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}var Oe=Ar,Xu=zu,Zu=Hu,Ju=Bu,Sn=Bi,Be,Gn;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Be=Symbol.for("graceful-fs.queue"),Gn=Symbol.for("graceful-fs.previous")):(Be="___graceful-fs.queue",Gn="___graceful-fs.previous");function Yu(){}function za(e,t){Object.defineProperty(e,Be,{get:function(){return t}})}var lr=Yu;Sn.debuglog?lr=Sn.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(lr=function(){var e=Sn.format.apply(Sn,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});if(!Oe[Be]){var Qu=Kt[Be]||[];za(Oe,Qu),Oe.close=function(e){function t(r,n){return e.call(Oe,r,function(i){i||So(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,Gn,{value:e}),t}(Oe.close),Oe.closeSync=function(e){function t(r){e.apply(Oe,arguments),So()}return Object.defineProperty(t,Gn,{value:e}),t}(Oe.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){lr(Oe[Be]),Ma.equal(Oe[Be].length,0)})}Kt[Be]||za(Kt,Oe[Be]);var Lr=Ki(Ju(Oe));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Oe.__patched&&(Lr=Ki(Oe),Oe.__patched=!0);function Ki(e){Xu(e),e.gracefulify=Ki,e.createReadStream=G,e.createWriteStream=b;var t=e.readFile;e.readFile=r;function r(A,H,X){return typeof H=="function"&&(X=H,H=null),J(A,H,X);function J(V,x,K,W){return t(V,x,function(B){B&&(B.code==="EMFILE"||B.code==="ENFILE")?Er([J,[V,x,K],B,W||Date.now(),Date.now()]):typeof K=="function"&&K.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=i;function i(A,H,X,J){return typeof X=="function"&&(J=X,X=null),V(A,H,X,J);function V(x,K,W,B,C){return n(x,K,W,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?Er([V,[x,K,W,B],j,C||Date.now(),Date.now()]):typeof B=="function"&&B.apply(this,arguments)})}}var s=e.appendFile;s&&(e.appendFile=o);function o(A,H,X,J){return typeof X=="function"&&(J=X,X=null),V(A,H,X,J);function V(x,K,W,B,C){return s(x,K,W,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?Er([V,[x,K,W,B],j,C||Date.now(),Date.now()]):typeof B=="function"&&B.apply(this,arguments)})}}var u=e.copyFile;u&&(e.copyFile=c);function c(A,H,X,J){return typeof X=="function"&&(J=X,X=0),V(A,H,X,J);function V(x,K,W,B,C){return u(x,K,W,function(j){j&&(j.code==="EMFILE"||j.code==="ENFILE")?Er([V,[x,K,W,B],j,C||Date.now(),Date.now()]):typeof B=="function"&&B.apply(this,arguments)})}}var m=e.readdir;e.readdir=d;var a=/^v[0-5]\./;function d(A,H,X){typeof H=="function"&&(X=H,H=null);var J=a.test(process.version)?function(K,W,B,C){return m(K,V(K,W,B,C))}:function(K,W,B,C){return m(K,W,V(K,W,B,C))};return J(A,H,X);function V(x,K,W,B){return function(C,j){C&&(C.code==="EMFILE"||C.code==="ENFILE")?Er([J,[x,K,W],C,B||Date.now(),Date.now()]):(j&&j.sort&&j.sort(),typeof W=="function"&&W.call(this,C,j))}}}if(process.version.substr(0,4)==="v0.8"){var v=Zu(e);f=v.ReadStream,_=v.WriteStream}var h=e.ReadStream;h&&(f.prototype=Object.create(h.prototype),f.prototype.open=$);var l=e.WriteStream;l&&(_.prototype=Object.create(l.prototype),_.prototype.open=T),Object.defineProperty(e,"ReadStream",{get:function(){return f},set:function(A){f=A},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return _},set:function(A){_=A},enumerable:!0,configurable:!0});var p=f;Object.defineProperty(e,"FileReadStream",{get:function(){return p},set:function(A){p=A},enumerable:!0,configurable:!0});var E=_;Object.defineProperty(e,"FileWriteStream",{get:function(){return E},set:function(A){E=A},enumerable:!0,configurable:!0});function f(A,H){return this instanceof f?(h.apply(this,arguments),this):f.apply(Object.create(f.prototype),arguments)}function $(){var A=this;z(A.path,A.flags,A.mode,function(H,X){H?(A.autoClose&&A.destroy(),A.emit("error",H)):(A.fd=X,A.emit("open",X),A.read())})}function _(A,H){return this instanceof _?(l.apply(this,arguments),this):_.apply(Object.create(_.prototype),arguments)}function T(){var A=this;z(A.path,A.flags,A.mode,function(H,X){H?(A.destroy(),A.emit("error",H)):(A.fd=X,A.emit("open",X))})}function G(A,H){return new e.ReadStream(A,H)}function b(A,H){return new e.WriteStream(A,H)}var D=e.open;e.open=z;function z(A,H,X,J){return typeof X=="function"&&(J=X,X=null),V(A,H,X,J);function V(x,K,W,B,C){return D(x,K,W,function(j,O){j&&(j.code==="EMFILE"||j.code==="ENFILE")?Er([V,[x,K,W,B],j,C||Date.now(),Date.now()]):typeof B=="function"&&B.apply(this,arguments)})}}return e}function Er(e){lr("ENQUEUE",e[0].name,e[1]),Oe[Be].push(e),Wi()}var wn;function So(){for(var e=Date.now(),t=0;t<Oe[Be].length;++t)Oe[Be][t].length>2&&(Oe[Be][t][3]=e,Oe[Be][t][4]=e);Wi()}function Wi(){if(clearTimeout(wn),wn=void 0,Oe[Be].length!==0){var e=Oe[Be].shift(),t=e[0],r=e[1],n=e[2],i=e[3],s=e[4];if(i===void 0)lr("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){lr("TIMEOUT",t.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var u=Date.now()-s,c=Math.max(s-i,1),m=Math.min(c*1.2,100);u>=m?(lr("RETRY",t.name,r),t.apply(null,r.concat([i]))):Oe[Be].push(e)}wn===void 0&&(wn=setTimeout(Wi,0))}}(function(e){const t=je.fromCallback,r=Lr,n=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(i=>typeof r[i]=="function");Object.assign(e,r),n.forEach(i=>{e[i]=t(r[i])}),e.exists=function(i,s){return typeof s=="function"?r.exists(i,s):new Promise(o=>r.exists(i,o))},e.read=function(i,s,o,u,c,m){return typeof m=="function"?r.read(i,s,o,u,c,m):new Promise((a,d)=>{r.read(i,s,o,u,c,(v,h,l)=>{if(v)return d(v);a({bytesRead:h,buffer:l})})})},e.write=function(i,s,...o){return typeof o[o.length-1]=="function"?r.write(i,s,...o):new Promise((u,c)=>{r.write(i,s,...o,(m,a,d)=>{if(m)return c(m);u({bytesWritten:a,buffer:d})})})},e.readv=function(i,s,...o){return typeof o[o.length-1]=="function"?r.readv(i,s,...o):new Promise((u,c)=>{r.readv(i,s,...o,(m,a,d)=>{if(m)return c(m);u({bytesRead:a,buffers:d})})})},e.writev=function(i,s,...o){return typeof o[o.length-1]=="function"?r.writev(i,s,...o):new Promise((u,c)=>{r.writev(i,s,...o,(m,a,d)=>{if(m)return c(m);u({bytesWritten:a,buffers:d})})})},typeof r.realpath.native=="function"?e.realpath.native=t(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")})(rt);var Xi={},Ga={};const el=be;Ga.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(el.parse(t).root,""))){const n=new Error(`Path contains invalid characters: ${t}`);throw n.code="EINVAL",n}};const Ha=rt,{checkPath:qa}=Ga,Ba=e=>{const t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};Xi.makeDir=async(e,t)=>(qa(e),Ha.mkdir(e,{mode:Ba(t),recursive:!0}));Xi.makeDirSync=(e,t)=>(qa(e),Ha.mkdirSync(e,{mode:Ba(t),recursive:!0}));const tl=je.fromPromise,{makeDir:rl,makeDirSync:pi}=Xi,yi=tl(rl);var Ct={mkdirs:yi,mkdirsSync:pi,mkdirp:yi,mkdirpSync:pi,ensureDir:yi,ensureDirSync:pi};const nl=je.fromPromise,Ka=rt;function il(e){return Ka.access(e).then(()=>!0).catch(()=>!1)}var mr={pathExists:nl(il),pathExistsSync:Ka.existsSync};const Ir=rt,sl=je.fromPromise;async function ol(e,t,r){const n=await Ir.open(e,"r+");let i=null;try{await Ir.futimes(n,t,r)}finally{try{await Ir.close(n)}catch(s){i=s}}if(i)throw i}function al(e,t,r){const n=Ir.openSync(e,"r+");return Ir.futimesSync(n,t,r),Ir.closeSync(n)}var Wa={utimesMillis:sl(ol),utimesMillisSync:al};const br=rt,xe=be,wo=je.fromPromise;function cl(e,t,r){const n=r.dereference?i=>br.stat(i,{bigint:!0}):i=>br.lstat(i,{bigint:!0});return Promise.all([n(e),n(t).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,s])=>({srcStat:i,destStat:s}))}function ul(e,t,r){let n;const i=r.dereference?o=>br.statSync(o,{bigint:!0}):o=>br.lstatSync(o,{bigint:!0}),s=i(e);try{n=i(t)}catch(o){if(o.code==="ENOENT")return{srcStat:s,destStat:null};throw o}return{srcStat:s,destStat:n}}async function ll(e,t,r,n){const{srcStat:i,destStat:s}=await cl(e,t,n);if(s){if(ln(i,s)){const o=xe.basename(e),u=xe.basename(t);if(r==="move"&&o!==u&&o.toLowerCase()===u.toLowerCase())return{srcStat:i,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&Zi(e,t))throw new Error(Jn(e,t,r));return{srcStat:i,destStat:s}}function fl(e,t,r,n){const{srcStat:i,destStat:s}=ul(e,t,n);if(s){if(ln(i,s)){const o=xe.basename(e),u=xe.basename(t);if(r==="move"&&o!==u&&o.toLowerCase()===u.toLowerCase())return{srcStat:i,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&Zi(e,t))throw new Error(Jn(e,t,r));return{srcStat:i,destStat:s}}async function Xa(e,t,r,n){const i=xe.resolve(xe.dirname(e)),s=xe.resolve(xe.dirname(r));if(s===i||s===xe.parse(s).root)return;let o;try{o=await br.stat(s,{bigint:!0})}catch(u){if(u.code==="ENOENT")return;throw u}if(ln(t,o))throw new Error(Jn(e,r,n));return Xa(e,t,s,n)}function Za(e,t,r,n){const i=xe.resolve(xe.dirname(e)),s=xe.resolve(xe.dirname(r));if(s===i||s===xe.parse(s).root)return;let o;try{o=br.statSync(s,{bigint:!0})}catch(u){if(u.code==="ENOENT")return;throw u}if(ln(t,o))throw new Error(Jn(e,r,n));return Za(e,t,s,n)}function ln(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function Zi(e,t){const r=xe.resolve(e).split(xe.sep).filter(i=>i),n=xe.resolve(t).split(xe.sep).filter(i=>i);return r.every((i,s)=>n[s]===i)}function Jn(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}var Fr={checkPaths:wo(ll),checkPathsSync:fl,checkParentPaths:wo(Xa),checkParentPathsSync:Za,isSrcSubdir:Zi,areIdentical:ln};const Ze=rt,rn=be,{mkdirs:dl}=Ct,{pathExists:hl}=mr,{utimesMillis:ml}=Wa,nn=Fr;async function pl(e,t,r={}){typeof r=="function"&&(r={filter:r}),r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001");const{srcStat:n,destStat:i}=await nn.checkPaths(e,t,"copy",r);if(await nn.checkParentPaths(e,n,t,"copy"),!await Ja(e,t,r))return;const o=rn.dirname(t);await hl(o)||await dl(o),await Ya(i,e,t,r)}async function Ja(e,t,r){return r.filter?r.filter(e,t):!0}async function Ya(e,t,r,n){const s=await(n.dereference?Ze.stat:Ze.lstat)(t);if(s.isDirectory())return gl(s,e,t,r,n);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return yl(s,e,t,r,n);if(s.isSymbolicLink())return $l(e,t,r,n);throw s.isSocket()?new Error(`Cannot copy a socket file: ${t}`):s.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}async function yl(e,t,r,n,i){if(!t)return No(e,r,n,i);if(i.overwrite)return await Ze.unlink(n),No(e,r,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}async function No(e,t,r,n){if(await Ze.copyFile(t,r),n.preserveTimestamps){vl(e.mode)&&await El(r,e.mode);const i=await Ze.stat(t);await ml(r,i.atime,i.mtime)}return Ze.chmod(r,e.mode)}function vl(e){return(e&128)===0}function El(e,t){return Ze.chmod(e,t|128)}async function gl(e,t,r,n,i){t||await Ze.mkdir(n);const s=await Ze.readdir(r);await Promise.all(s.map(async o=>{const u=rn.join(r,o),c=rn.join(n,o);if(!await Ja(u,c,i))return;const{destStat:a}=await nn.checkPaths(u,c,"copy",i);return Ya(a,u,c,i)})),t||await Ze.chmod(n,e.mode)}async function $l(e,t,r,n){let i=await Ze.readlink(t);if(n.dereference&&(i=rn.resolve(process.cwd(),i)),!e)return Ze.symlink(i,r);let s=null;try{s=await Ze.readlink(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return Ze.symlink(i,r);throw o}if(n.dereference&&(s=rn.resolve(process.cwd(),s)),nn.isSrcSubdir(i,s))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${s}'.`);if(nn.isSrcSubdir(s,i))throw new Error(`Cannot overwrite '${s}' with '${i}'.`);return await Ze.unlink(r),Ze.symlink(i,r)}var _l=pl;const et=Lr,sn=be,Sl=Ct.mkdirsSync,wl=Wa.utimesMillisSync,on=Fr;function Nl(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:n,destStat:i}=on.checkPathsSync(e,t,"copy",r);if(on.checkParentPathsSync(e,n,t,"copy"),r.filter&&!r.filter(e,t))return;const s=sn.dirname(t);return et.existsSync(s)||Sl(s),Qa(i,e,t,r)}function Qa(e,t,r,n){const s=(n.dereference?et.statSync:et.lstatSync)(t);if(s.isDirectory())return Pl(s,e,t,r,n);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return Il(s,e,t,r,n);if(s.isSymbolicLink())return Ll(e,t,r,n);throw s.isSocket()?new Error(`Cannot copy a socket file: ${t}`):s.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function Il(e,t,r,n,i){return t?Ol(e,r,n,i):ec(e,r,n,i)}function Ol(e,t,r,n){if(n.overwrite)return et.unlinkSync(r),ec(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function ec(e,t,r,n){return et.copyFileSync(t,r),n.preserveTimestamps&&Tl(e.mode,t,r),Ji(r,e.mode)}function Tl(e,t,r){return bl(e)&&Dl(r,e),Rl(t,r)}function bl(e){return(e&128)===0}function Dl(e,t){return Ji(e,t|128)}function Ji(e,t){return et.chmodSync(e,t)}function Rl(e,t){const r=et.statSync(e);return wl(t,r.atime,r.mtime)}function Pl(e,t,r,n,i){return t?tc(r,n,i):Cl(e.mode,r,n,i)}function Cl(e,t,r,n){return et.mkdirSync(r),tc(t,r,n),Ji(r,e)}function tc(e,t,r){et.readdirSync(e).forEach(n=>Al(n,e,t,r))}function Al(e,t,r,n){const i=sn.join(t,e),s=sn.join(r,e);if(n.filter&&!n.filter(i,s))return;const{destStat:o}=on.checkPathsSync(i,s,"copy",n);return Qa(o,i,s,n)}function Ll(e,t,r,n){let i=et.readlinkSync(t);if(n.dereference&&(i=sn.resolve(process.cwd(),i)),e){let s;try{s=et.readlinkSync(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return et.symlinkSync(i,r);throw o}if(n.dereference&&(s=sn.resolve(process.cwd(),s)),on.isSrcSubdir(i,s))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${s}'.`);if(on.isSrcSubdir(s,i))throw new Error(`Cannot overwrite '${s}' with '${i}'.`);return Fl(i,r)}else return et.symlinkSync(i,r)}function Fl(e,t){return et.unlinkSync(t),et.symlinkSync(e,t)}var jl=Nl;const kl=je.fromPromise;var Yi={copy:kl(_l),copySync:jl};const rc=Lr,Ml=je.fromCallback;function Ul(e,t){rc.rm(e,{recursive:!0,force:!0},t)}function xl(e){rc.rmSync(e,{recursive:!0,force:!0})}var Yn={remove:Ml(Ul),removeSync:xl};const Vl=je.fromPromise,nc=rt,ic=be,sc=Ct,oc=Yn,Io=Vl(async function(t){let r;try{r=await nc.readdir(t)}catch{return sc.mkdirs(t)}return Promise.all(r.map(n=>oc.remove(ic.join(t,n))))});function Oo(e){let t;try{t=nc.readdirSync(e)}catch{return sc.mkdirsSync(e)}t.forEach(r=>{r=ic.join(e,r),oc.removeSync(r)})}var zl={emptyDirSync:Oo,emptydirSync:Oo,emptyDir:Io,emptydir:Io};const Gl=je.fromPromise,ac=be,Ut=rt,cc=Ct;async function Hl(e){let t;try{t=await Ut.stat(e)}catch{}if(t&&t.isFile())return;const r=ac.dirname(e);let n=null;try{n=await Ut.stat(r)}catch(i){if(i.code==="ENOENT"){await cc.mkdirs(r),await Ut.writeFile(e,"");return}else throw i}n.isDirectory()?await Ut.writeFile(e,""):await Ut.readdir(r)}function ql(e){let t;try{t=Ut.statSync(e)}catch{}if(t&&t.isFile())return;const r=ac.dirname(e);try{Ut.statSync(r).isDirectory()||Ut.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")cc.mkdirsSync(r);else throw n}Ut.writeFileSync(e,"")}var Bl={createFile:Gl(Hl),createFileSync:ql};const Kl=je.fromPromise,uc=be,qt=rt,lc=Ct,{pathExists:Wl}=mr,{areIdentical:fc}=Fr;async function Xl(e,t){let r;try{r=await qt.lstat(t)}catch{}let n;try{n=await qt.lstat(e)}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}if(r&&fc(n,r))return;const i=uc.dirname(t);await Wl(i)||await lc.mkdirs(i),await qt.link(e,t)}function Zl(e,t){let r;try{r=qt.lstatSync(t)}catch{}try{const s=qt.lstatSync(e);if(r&&fc(s,r))return}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}const n=uc.dirname(t);return qt.existsSync(n)||lc.mkdirsSync(n),qt.linkSync(e,t)}var Jl={createLink:Kl(Xl),createLinkSync:Zl};const Wt=be,Zr=rt,{pathExists:Yl}=mr,Ql=je.fromPromise;async function ef(e,t){if(Wt.isAbsolute(e)){try{await Zr.lstat(e)}catch(s){throw s.message=s.message.replace("lstat","ensureSymlink"),s}return{toCwd:e,toDst:e}}const r=Wt.dirname(t),n=Wt.join(r,e);if(await Yl(n))return{toCwd:n,toDst:e};try{await Zr.lstat(e)}catch(s){throw s.message=s.message.replace("lstat","ensureSymlink"),s}return{toCwd:e,toDst:Wt.relative(r,e)}}function tf(e,t){if(Wt.isAbsolute(e)){if(!Zr.existsSync(e))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}const r=Wt.dirname(t),n=Wt.join(r,e);if(Zr.existsSync(n))return{toCwd:n,toDst:e};if(!Zr.existsSync(e))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:Wt.relative(r,e)}}var rf={symlinkPaths:Ql(ef),symlinkPathsSync:tf};const dc=rt,nf=je.fromPromise;async function sf(e,t){if(t)return t;let r;try{r=await dc.lstat(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}function of(e,t){if(t)return t;let r;try{r=dc.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}var af={symlinkType:nf(sf),symlinkTypeSync:of};const cf=je.fromPromise,hc=be,Rt=rt,{mkdirs:uf,mkdirsSync:lf}=Ct,{symlinkPaths:ff,symlinkPathsSync:df}=rf,{symlinkType:hf,symlinkTypeSync:mf}=af,{pathExists:pf}=mr,{areIdentical:mc}=Fr;async function yf(e,t,r){let n;try{n=await Rt.lstat(t)}catch{}if(n&&n.isSymbolicLink()){const[u,c]=await Promise.all([Rt.stat(e),Rt.stat(t)]);if(mc(u,c))return}const i=await ff(e,t);e=i.toDst;const s=await hf(i.toCwd,r),o=hc.dirname(t);return await pf(o)||await uf(o),Rt.symlink(e,t,s)}function vf(e,t,r){let n;try{n=Rt.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){const u=Rt.statSync(e),c=Rt.statSync(t);if(mc(u,c))return}const i=df(e,t);e=i.toDst,r=mf(i.toCwd,r);const s=hc.dirname(t);return Rt.existsSync(s)||lf(s),Rt.symlinkSync(e,t,r)}var Ef={createSymlink:cf(yf),createSymlinkSync:vf};const{createFile:To,createFileSync:bo}=Bl,{createLink:Do,createLinkSync:Ro}=Jl,{createSymlink:Po,createSymlinkSync:Co}=Ef;var gf={createFile:To,createFileSync:bo,ensureFile:To,ensureFileSync:bo,createLink:Do,createLinkSync:Ro,ensureLink:Do,ensureLinkSync:Ro,createSymlink:Po,createSymlinkSync:Co,ensureSymlink:Po,ensureSymlinkSync:Co};function $f(e,{EOL:t=`
`,finalEOL:r=!0,replacer:n=null,spaces:i}={}){const s=r?t:"";return JSON.stringify(e,n,i).replace(/\n/g,t)+s}function _f(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}var Qi={stringify:$f,stripBom:_f};let Dr;try{Dr=Lr}catch{Dr=Ar}const Qn=je,{stringify:pc,stripBom:yc}=Qi;async function Sf(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Dr,n="throws"in t?t.throws:!0;let i=await Qn.fromCallback(r.readFile)(e,t);i=yc(i);let s;try{s=JSON.parse(i,t?t.reviver:null)}catch(o){if(n)throw o.message=`${e}: ${o.message}`,o;return null}return s}const wf=Qn.fromPromise(Sf);function Nf(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Dr,n="throws"in t?t.throws:!0;try{let i=r.readFileSync(e,t);return i=yc(i),JSON.parse(i,t.reviver)}catch(i){if(n)throw i.message=`${e}: ${i.message}`,i;return null}}async function If(e,t,r={}){const n=r.fs||Dr,i=pc(t,r);await Qn.fromCallback(n.writeFile)(e,i,r)}const Of=Qn.fromPromise(If);function Tf(e,t,r={}){const n=r.fs||Dr,i=pc(t,r);return n.writeFileSync(e,i,r)}const bf={readFile:wf,readFileSync:Nf,writeFile:Of,writeFileSync:Tf};var Df=bf;const Nn=Df;var Rf={readJson:Nn.readFile,readJsonSync:Nn.readFileSync,writeJson:Nn.writeFile,writeJsonSync:Nn.writeFileSync};const Pf=je.fromPromise,Ci=rt,vc=be,Ec=Ct,Cf=mr.pathExists;async function Af(e,t,r="utf-8"){const n=vc.dirname(e);return await Cf(n)||await Ec.mkdirs(n),Ci.writeFile(e,t,r)}function Lf(e,...t){const r=vc.dirname(e);Ci.existsSync(r)||Ec.mkdirsSync(r),Ci.writeFileSync(e,...t)}var es={outputFile:Pf(Af),outputFileSync:Lf};const{stringify:Ff}=Qi,{outputFile:jf}=es;async function kf(e,t,r={}){const n=Ff(t,r);await jf(e,n,r)}var Mf=kf;const{stringify:Uf}=Qi,{outputFileSync:xf}=es;function Vf(e,t,r){const n=Uf(t,r);xf(e,n,r)}var zf=Vf;const Gf=je.fromPromise,tt=Rf;tt.outputJson=Gf(Mf);tt.outputJsonSync=zf;tt.outputJSON=tt.outputJson;tt.outputJSONSync=tt.outputJsonSync;tt.writeJSON=tt.writeJson;tt.writeJSONSync=tt.writeJsonSync;tt.readJSON=tt.readJson;tt.readJSONSync=tt.readJsonSync;var Hf=tt;const qf=rt,Ao=be,{copy:Bf}=Yi,{remove:gc}=Yn,{mkdirp:Kf}=Ct,{pathExists:Wf}=mr,Lo=Fr;async function Xf(e,t,r={}){const n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:s=!1}=await Lo.checkPaths(e,t,"move",r);await Lo.checkParentPaths(e,i,t,"move");const o=Ao.dirname(t);return Ao.parse(o).root!==o&&await Kf(o),Zf(e,t,n,s)}async function Zf(e,t,r,n){if(!n){if(r)await gc(t);else if(await Wf(t))throw new Error("dest already exists.")}try{await qf.rename(e,t)}catch(i){if(i.code!=="EXDEV")throw i;await Jf(e,t,r)}}async function Jf(e,t,r){return await Bf(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),gc(e)}var Yf=Xf;const $c=Lr,Ai=be,Qf=Yi.copySync,_c=Yn.removeSync,ed=Ct.mkdirpSync,Fo=Fr;function td(e,t,r){r=r||{};const n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:s=!1}=Fo.checkPathsSync(e,t,"move",r);return Fo.checkParentPathsSync(e,i,t,"move"),rd(t)||ed(Ai.dirname(t)),nd(e,t,n,s)}function rd(e){const t=Ai.dirname(e);return Ai.parse(t).root===t}function nd(e,t,r,n){if(n)return vi(e,t,r);if(r)return _c(t),vi(e,t,r);if($c.existsSync(t))throw new Error("dest already exists.");return vi(e,t,r)}function vi(e,t,r){try{$c.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return id(e,t,r)}}function id(e,t,r){return Qf(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),_c(e)}var sd=td;const od=je.fromPromise;var ad={move:od(Yf),moveSync:sd},mt={...rt,...Yi,...zl,...gf,...Hf,...Ct,...ad,...es,...mr,...Yn},Li={exports:{}},cd=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")};const rr=cd,ud=new Set(["__proto__","prototype","constructor"]),ld=e=>!e.some(t=>ud.has(t));function In(e){const t=e.split("."),r=[];for(let n=0;n<t.length;n++){let i=t[n];for(;i[i.length-1]==="\\"&&t[n+1]!==void 0;)i=i.slice(0,-1)+".",i+=t[++n];r.push(i)}return ld(r)?r:[]}var fd={get(e,t,r){if(!rr(e)||typeof t!="string")return r===void 0?e:r;const n=In(t);if(n.length!==0){for(let i=0;i<n.length;i++)if(e=e[n[i]],e==null){if(i!==n.length-1)return r;break}return e===void 0?r:e}},set(e,t,r){if(!rr(e)||typeof t!="string")return e;const n=e,i=In(t);for(let s=0;s<i.length;s++){const o=i[s];rr(e[o])||(e[o]={}),s===i.length-1&&(e[o]=r),e=e[o]}return n},delete(e,t){if(!rr(e)||typeof t!="string")return!1;const r=In(t);for(let n=0;n<r.length;n++){const i=r[n];if(n===r.length-1)return delete e[i],!0;if(e=e[i],!rr(e))return!1}},has(e,t){if(!rr(e)||typeof t!="string")return!1;const r=In(t);if(r.length===0)return!1;for(let n=0;n<r.length;n++)if(rr(e)){if(!(r[n]in e))return!1;e=e[r[n]]}else return!1;return!0}},ts={exports:{}},rs={exports:{}},ns={exports:{}},is={exports:{}};const Sc=Ar;is.exports=e=>new Promise(t=>{Sc.access(e,r=>{t(!r)})});is.exports.sync=e=>{try{return Sc.accessSync(e),!0}catch{return!1}};var dd=is.exports,ss={exports:{}},os={exports:{}};const wc=(e,...t)=>new Promise(r=>{r(e(...t))});os.exports=wc;os.exports.default=wc;var hd=os.exports;const md=hd,Nc=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let r=0;const n=()=>{r--,t.length>0&&t.shift()()},i=(u,c,...m)=>{r++;const a=md(u,...m);c(a),a.then(n,n)},s=(u,c,...m)=>{r<e?i(u,c,...m):t.push(i.bind(null,u,c,...m))},o=(u,...c)=>new Promise(m=>s(u,m,...c));return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),o};ss.exports=Nc;ss.exports.default=Nc;var pd=ss.exports;const jo=pd;class Ic extends Error{constructor(t){super(),this.value=t}}const yd=(e,t)=>Promise.resolve(e).then(t),vd=e=>Promise.all(e).then(t=>t[1]===!0&&Promise.reject(new Ic(t[0])));var Ed=(e,t,r)=>{r=Object.assign({concurrency:1/0,preserveOrder:!0},r);const n=jo(r.concurrency),i=[...e].map(o=>[o,n(yd,o,t)]),s=jo(r.preserveOrder?1:1/0);return Promise.all(i.map(o=>s(vd,o))).then(()=>{}).catch(o=>o instanceof Ic?o.value:Promise.reject(o))};const Oc=be,Tc=dd,gd=Ed;ns.exports=(e,t)=>(t=Object.assign({cwd:process.cwd()},t),gd(e,r=>Tc(Oc.resolve(t.cwd,r)),t));ns.exports.sync=(e,t)=>{t=Object.assign({cwd:process.cwd()},t);for(const r of e)if(Tc.sync(Oc.resolve(t.cwd,r)))return r};var $d=ns.exports;const Xt=be,bc=$d;rs.exports=(e,t={})=>{const r=Xt.resolve(t.cwd||""),{root:n}=Xt.parse(r),i=[].concat(e);return new Promise(s=>{(function o(u){bc(i,{cwd:u}).then(c=>{c?s(Xt.join(u,c)):u===n?s(null):o(Xt.dirname(u))})})(r)})};rs.exports.sync=(e,t={})=>{let r=Xt.resolve(t.cwd||"");const{root:n}=Xt.parse(r),i=[].concat(e);for(;;){const s=bc.sync(i,{cwd:r});if(s)return Xt.join(r,s);if(r===n)return null;r=Xt.dirname(r)}};var _d=rs.exports;const Dc=_d;ts.exports=async({cwd:e}={})=>Dc("package.json",{cwd:e});ts.exports.sync=({cwd:e}={})=>Dc.sync("package.json",{cwd:e});var Sd=ts.exports,as={exports:{}};const Te=be,Rc=Uu,Bt=Rc.homedir(),cs=Rc.tmpdir(),{env:Nr}=process,wd=e=>{const t=Te.join(Bt,"Library");return{data:Te.join(t,"Application Support",e),config:Te.join(t,"Preferences",e),cache:Te.join(t,"Caches",e),log:Te.join(t,"Logs",e),temp:Te.join(cs,e)}},Nd=e=>{const t=Nr.APPDATA||Te.join(Bt,"AppData","Roaming"),r=Nr.LOCALAPPDATA||Te.join(Bt,"AppData","Local");return{data:Te.join(r,e,"Data"),config:Te.join(t,e,"Config"),cache:Te.join(r,e,"Cache"),log:Te.join(r,e,"Log"),temp:Te.join(cs,e)}},Id=e=>{const t=Te.basename(Bt);return{data:Te.join(Nr.XDG_DATA_HOME||Te.join(Bt,".local","share"),e),config:Te.join(Nr.XDG_CONFIG_HOME||Te.join(Bt,".config"),e),cache:Te.join(Nr.XDG_CACHE_HOME||Te.join(Bt,".cache"),e),log:Te.join(Nr.XDG_STATE_HOME||Te.join(Bt,".local","state"),e),temp:Te.join(cs,t,e)}},Pc=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?wd(e):process.platform==="win32"?Nd(e):Id(e)};as.exports=Pc;as.exports.default=Pc;var Od=as.exports,Pt={},ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.NOOP=ye.LIMIT_FILES_DESCRIPTORS=ye.LIMIT_BASENAME_LENGTH=ye.IS_USER_ROOT=ye.IS_POSIX=ye.DEFAULT_TIMEOUT_SYNC=ye.DEFAULT_TIMEOUT_ASYNC=ye.DEFAULT_WRITE_OPTIONS=ye.DEFAULT_READ_OPTIONS=ye.DEFAULT_FOLDER_MODE=ye.DEFAULT_FILE_MODE=ye.DEFAULT_ENCODING=void 0;const Td="utf8";ye.DEFAULT_ENCODING=Td;const bd=438;ye.DEFAULT_FILE_MODE=bd;const Dd=511;ye.DEFAULT_FOLDER_MODE=Dd;const Rd={};ye.DEFAULT_READ_OPTIONS=Rd;const Pd={};ye.DEFAULT_WRITE_OPTIONS=Pd;const Cd=5e3;ye.DEFAULT_TIMEOUT_ASYNC=Cd;const Ad=100;ye.DEFAULT_TIMEOUT_SYNC=Ad;const Ld=!!process.getuid;ye.IS_POSIX=Ld;const Fd=process.getuid?!process.getuid():!1;ye.IS_USER_ROOT=Fd;const jd=128;ye.LIMIT_BASENAME_LENGTH=jd;const kd=1e4;ye.LIMIT_FILES_DESCRIPTORS=kd;const Md=()=>{};ye.NOOP=Md;var ei={},Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.attemptifySync=Rr.attemptifyAsync=void 0;const Cc=ye,Ud=(e,t=Cc.NOOP)=>function(){return e.apply(void 0,arguments).catch(t)};Rr.attemptifyAsync=Ud;const xd=(e,t=Cc.NOOP)=>function(){try{return e.apply(void 0,arguments)}catch(r){return t(r)}};Rr.attemptifySync=xd;var us={};Object.defineProperty(us,"__esModule",{value:!0});const Vd=ye,Ac={isChangeErrorOk:e=>{const{code:t}=e;return t==="ENOSYS"||!Vd.IS_USER_ROOT&&(t==="EINVAL"||t==="EPERM")},isRetriableError:e=>{const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!Ac.isChangeErrorOk(e))throw e}};us.default=Ac;var Pr={},ls={};Object.defineProperty(ls,"__esModule",{value:!0});const zd=ye,ge={interval:25,intervalId:void 0,limit:zd.LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{ge.intervalId||(ge.intervalId=setInterval(ge.tick,ge.interval))},reset:()=>{ge.intervalId&&(clearInterval(ge.intervalId),delete ge.intervalId)},add:e=>{ge.queueWaiting.add(e),ge.queueActive.size<ge.limit/2?ge.tick():ge.init()},remove:e=>{ge.queueWaiting.delete(e),ge.queueActive.delete(e)},schedule:()=>new Promise(e=>{const t=()=>ge.remove(r),r=()=>e(t);ge.add(r)}),tick:()=>{if(!(ge.queueActive.size>=ge.limit)){if(!ge.queueWaiting.size)return ge.reset();for(const e of ge.queueWaiting){if(ge.queueActive.size>=ge.limit)break;ge.queueWaiting.delete(e),ge.queueActive.add(e),e()}}}};ls.default=ge;Object.defineProperty(Pr,"__esModule",{value:!0});Pr.retryifySync=Pr.retryifyAsync=void 0;const Gd=ls,Hd=(e,t)=>function(r){return function n(){return Gd.default.schedule().then(i=>e.apply(void 0,arguments).then(s=>(i(),s),s=>{if(i(),Date.now()>=r)throw s;if(t(s)){const o=Math.round(100+400*Math.random());return new Promise(c=>setTimeout(c,o)).then(()=>n.apply(void 0,arguments))}throw s}))}};Pr.retryifyAsync=Hd;const qd=(e,t)=>function(r){return function n(){try{return e.apply(void 0,arguments)}catch(i){if(Date.now()>r)throw i;if(t(i))return n.apply(void 0,arguments);throw i}}};Pr.retryifySync=qd;Object.defineProperty(ei,"__esModule",{value:!0});const ve=Ar,Je=Bi,Ye=Rr,ke=us,st=Pr,Bd={chmodAttempt:Ye.attemptifyAsync(Je.promisify(ve.chmod),ke.default.onChangeError),chownAttempt:Ye.attemptifyAsync(Je.promisify(ve.chown),ke.default.onChangeError),closeAttempt:Ye.attemptifyAsync(Je.promisify(ve.close)),fsyncAttempt:Ye.attemptifyAsync(Je.promisify(ve.fsync)),mkdirAttempt:Ye.attemptifyAsync(Je.promisify(ve.mkdir)),realpathAttempt:Ye.attemptifyAsync(Je.promisify(ve.realpath)),statAttempt:Ye.attemptifyAsync(Je.promisify(ve.stat)),unlinkAttempt:Ye.attemptifyAsync(Je.promisify(ve.unlink)),closeRetry:st.retryifyAsync(Je.promisify(ve.close),ke.default.isRetriableError),fsyncRetry:st.retryifyAsync(Je.promisify(ve.fsync),ke.default.isRetriableError),openRetry:st.retryifyAsync(Je.promisify(ve.open),ke.default.isRetriableError),readFileRetry:st.retryifyAsync(Je.promisify(ve.readFile),ke.default.isRetriableError),renameRetry:st.retryifyAsync(Je.promisify(ve.rename),ke.default.isRetriableError),statRetry:st.retryifyAsync(Je.promisify(ve.stat),ke.default.isRetriableError),writeRetry:st.retryifyAsync(Je.promisify(ve.write),ke.default.isRetriableError),chmodSyncAttempt:Ye.attemptifySync(ve.chmodSync,ke.default.onChangeError),chownSyncAttempt:Ye.attemptifySync(ve.chownSync,ke.default.onChangeError),closeSyncAttempt:Ye.attemptifySync(ve.closeSync),mkdirSyncAttempt:Ye.attemptifySync(ve.mkdirSync),realpathSyncAttempt:Ye.attemptifySync(ve.realpathSync),statSyncAttempt:Ye.attemptifySync(ve.statSync),unlinkSyncAttempt:Ye.attemptifySync(ve.unlinkSync),closeSyncRetry:st.retryifySync(ve.closeSync,ke.default.isRetriableError),fsyncSyncRetry:st.retryifySync(ve.fsyncSync,ke.default.isRetriableError),openSyncRetry:st.retryifySync(ve.openSync,ke.default.isRetriableError),readFileSyncRetry:st.retryifySync(ve.readFileSync,ke.default.isRetriableError),renameSyncRetry:st.retryifySync(ve.renameSync,ke.default.isRetriableError),statSyncRetry:st.retryifySync(ve.statSync,ke.default.isRetriableError),writeSyncRetry:st.retryifySync(ve.writeSync,ke.default.isRetriableError)};ei.default=Bd;var fs={};Object.defineProperty(fs,"__esModule",{value:!0});const Kd={isFunction:e=>typeof e=="function",isString:e=>typeof e=="string",isUndefined:e=>typeof e>"u"};fs.default=Kd;var ds={};Object.defineProperty(ds,"__esModule",{value:!0});const On={},Fi={next:e=>{const t=On[e];if(!t)return;t.shift();const r=t[0];r?r(()=>Fi.next(e)):delete On[e]},schedule:e=>new Promise(t=>{let r=On[e];r||(r=On[e]=[]),r.push(t),!(r.length>1)&&t(()=>Fi.next(e))})};ds.default=Fi;var hs={};Object.defineProperty(hs,"__esModule",{value:!0});const Wd=be,ko=ye,Mo=ei,lt={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),r=Date.now().toString().slice(-10),n="tmp-",i=`.${n}${r}${t}`;return`${e}${i}`},get:(e,t,r=!0)=>{const n=lt.truncate(t(e));return n in lt.store?lt.get(e,t,r):(lt.store[n]=r,[n,()=>delete lt.store[n]])},purge:e=>{lt.store[e]&&(delete lt.store[e],Mo.default.unlinkAttempt(e))},purgeSync:e=>{lt.store[e]&&(delete lt.store[e],Mo.default.unlinkSyncAttempt(e))},purgeSyncAll:()=>{for(const e in lt.store)lt.purgeSync(e)},truncate:e=>{const t=Wd.basename(e);if(t.length<=ko.LIMIT_BASENAME_LENGTH)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-ko.LIMIT_BASENAME_LENGTH;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};process.on("exit",lt.purgeSyncAll);hs.default=lt;Object.defineProperty(Pt,"__esModule",{value:!0});Pt.writeFileSync=Pt.writeFile=Pt.readFileSync=Pt.readFile=void 0;const Lc=be,He=ye,pe=ei,ft=fs,Xd=ds,Zt=hs;function Fc(e,t=He.DEFAULT_READ_OPTIONS){var r;if(ft.default.isString(t))return Fc(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:He.DEFAULT_TIMEOUT_ASYNC);return pe.default.readFileRetry(n)(e,t)}Pt.readFile=Fc;function jc(e,t=He.DEFAULT_READ_OPTIONS){var r;if(ft.default.isString(t))return jc(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:He.DEFAULT_TIMEOUT_SYNC);return pe.default.readFileSyncRetry(n)(e,t)}Pt.readFileSync=jc;const kc=(e,t,r,n)=>{if(ft.default.isFunction(r))return kc(e,t,He.DEFAULT_WRITE_OPTIONS,r);const i=Mc(e,t,r);return n&&i.then(n,n),i};Pt.writeFile=kc;const Mc=async(e,t,r=He.DEFAULT_WRITE_OPTIONS)=>{var n;if(ft.default.isString(r))return Mc(e,t,{encoding:r});const i=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:He.DEFAULT_TIMEOUT_ASYNC);let s=null,o=null,u=null,c=null,m=null;try{r.schedule&&(s=await r.schedule(e)),o=await Xd.default.schedule(e),e=await pe.default.realpathAttempt(e)||e,[c,u]=Zt.default.get(e,r.tmpCreate||Zt.default.create,r.tmpPurge!==!1);const a=He.IS_POSIX&&ft.default.isUndefined(r.chown),d=ft.default.isUndefined(r.mode);if(a||d){const h=await pe.default.statAttempt(e);h&&(r={...r},a&&(r.chown={uid:h.uid,gid:h.gid}),d&&(r.mode=h.mode))}const v=Lc.dirname(e);await pe.default.mkdirAttempt(v,{mode:He.DEFAULT_FOLDER_MODE,recursive:!0}),m=await pe.default.openRetry(i)(c,"w",r.mode||He.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(c),ft.default.isString(t)?await pe.default.writeRetry(i)(m,t,0,r.encoding||He.DEFAULT_ENCODING):ft.default.isUndefined(t)||await pe.default.writeRetry(i)(m,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?await pe.default.fsyncRetry(i)(m):pe.default.fsyncAttempt(m)),await pe.default.closeRetry(i)(m),m=null,r.chown&&await pe.default.chownAttempt(c,r.chown.uid,r.chown.gid),r.mode&&await pe.default.chmodAttempt(c,r.mode);try{await pe.default.renameRetry(i)(c,e)}catch(h){if(h.code!=="ENAMETOOLONG")throw h;await pe.default.renameRetry(i)(c,Zt.default.truncate(e))}u(),c=null}finally{m&&await pe.default.closeAttempt(m),c&&Zt.default.purge(c),s&&s(),o&&o()}},Uc=(e,t,r=He.DEFAULT_WRITE_OPTIONS)=>{var n;if(ft.default.isString(r))return Uc(e,t,{encoding:r});const i=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:He.DEFAULT_TIMEOUT_SYNC);let s=null,o=null,u=null;try{e=pe.default.realpathSyncAttempt(e)||e,[o,s]=Zt.default.get(e,r.tmpCreate||Zt.default.create,r.tmpPurge!==!1);const c=He.IS_POSIX&&ft.default.isUndefined(r.chown),m=ft.default.isUndefined(r.mode);if(c||m){const d=pe.default.statSyncAttempt(e);d&&(r={...r},c&&(r.chown={uid:d.uid,gid:d.gid}),m&&(r.mode=d.mode))}const a=Lc.dirname(e);pe.default.mkdirSyncAttempt(a,{mode:He.DEFAULT_FOLDER_MODE,recursive:!0}),u=pe.default.openSyncRetry(i)(o,"w",r.mode||He.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(o),ft.default.isString(t)?pe.default.writeSyncRetry(i)(u,t,0,r.encoding||He.DEFAULT_ENCODING):ft.default.isUndefined(t)||pe.default.writeSyncRetry(i)(u,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?pe.default.fsyncSyncRetry(i)(u):pe.default.fsyncAttempt(u)),pe.default.closeSyncRetry(i)(u),u=null,r.chown&&pe.default.chownSyncAttempt(o,r.chown.uid,r.chown.gid),r.mode&&pe.default.chmodSyncAttempt(o,r.mode);try{pe.default.renameSyncRetry(i)(o,e)}catch(d){if(d.code!=="ENAMETOOLONG")throw d;pe.default.renameSyncRetry(i)(o,Zt.default.truncate(e))}s(),o=null}finally{u&&pe.default.closeSyncAttempt(u),o&&Zt.default.purge(o)}};Pt.writeFileSync=Uc;var ji={exports:{}},xc={},Ft={},nr={},fn={},oe={},an={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor($){if(super(),!e.IDENTIFIER.test($))throw new Error("CodeGen: name must be a valid identifier");this.str=$}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor($){super(),this._items=typeof $=="string"?[$]:$}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const $=this._items[0];return $===""||$==='""'}get str(){var $;return($=this._str)!==null&&$!==void 0?$:this._str=this._items.reduce((_,T)=>`${_}${T}`,"")}get names(){var $;return($=this._names)!==null&&$!==void 0?$:this._names=this._items.reduce((_,T)=>(T instanceof r&&(_[T.str]=(_[T.str]||0)+1),_),{})}}e._Code=n,e.nil=new n("");function i(f,...$){const _=[f[0]];let T=0;for(;T<$.length;)u(_,$[T]),_.push(f[++T]);return new n(_)}e._=i;const s=new n("+");function o(f,...$){const _=[h(f[0])];let T=0;for(;T<$.length;)_.push(s),u(_,$[T]),_.push(s,h(f[++T]));return c(_),new n(_)}e.str=o;function u(f,$){$ instanceof n?f.push(...$._items):$ instanceof r?f.push($):f.push(d($))}e.addCodeArg=u;function c(f){let $=1;for(;$<f.length-1;){if(f[$]===s){const _=m(f[$-1],f[$+1]);if(_!==void 0){f.splice($-1,3,_);continue}f[$++]="+"}$++}}function m(f,$){if($==='""')return f;if(f==='""')return $;if(typeof f=="string")return $ instanceof r||f[f.length-1]!=='"'?void 0:typeof $!="string"?`${f.slice(0,-1)}${$}"`:$[0]==='"'?f.slice(0,-1)+$.slice(1):void 0;if(typeof $=="string"&&$[0]==='"'&&!(f instanceof r))return`"${f}${$.slice(1)}`}function a(f,$){return $.emptyStr()?f:f.emptyStr()?$:o`${f}${$}`}e.strConcat=a;function d(f){return typeof f=="number"||typeof f=="boolean"||f===null?f:h(Array.isArray(f)?f.join(","):f)}function v(f){return new n(h(f))}e.stringify=v;function h(f){return JSON.stringify(f).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=h;function l(f){return typeof f=="string"&&e.IDENTIFIER.test(f)?new n(`.${f}`):i`[${f}]`}e.getProperty=l;function p(f){if(typeof f=="string"&&e.IDENTIFIER.test(f))return new n(`${f}`);throw new Error(`CodeGen: invalid export name: ${f}, use explicit $id name mapping`)}e.getEsmExportName=p;function E(f){return new n(f.toString())}e.regexpCode=E})(an);var ki={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=an;class r extends Error{constructor(m){super(`CodeGen: "code" for ${m} not defined`),this.value=m.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:m,parent:a}={}){this._names={},this._prefixes=m,this._parent=a}toName(m){return m instanceof t.Name?m:this.name(m)}name(m){return new t.Name(this._newName(m))}_newName(m){const a=this._names[m]||this._nameGroup(m);return`${m}${a.index++}`}_nameGroup(m){var a,d;if(!((d=(a=this._parent)===null||a===void 0?void 0:a._prefixes)===null||d===void 0)&&d.has(m)||this._prefixes&&!this._prefixes.has(m))throw new Error(`CodeGen: prefix "${m}" is not allowed in this scope`);return this._names[m]={prefix:m,index:0}}}e.Scope=i;class s extends t.Name{constructor(m,a){super(a),this.prefix=m}setValue(m,{property:a,itemIndex:d}){this.value=m,this.scopePath=(0,t._)`.${new t.Name(a)}[${d}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class u extends i{constructor(m){super(m),this._values={},this._scope=m.scope,this.opts={...m,_n:m.lines?o:t.nil}}get(){return this._scope}name(m){return new s(m,this._newName(m))}value(m,a){var d;if(a.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const v=this.toName(m),{prefix:h}=v,l=(d=a.key)!==null&&d!==void 0?d:a.ref;let p=this._values[h];if(p){const $=p.get(l);if($)return $}else p=this._values[h]=new Map;p.set(l,v);const E=this._scope[h]||(this._scope[h]=[]),f=E.length;return E[f]=a.ref,v.setValue(a,{property:h,itemIndex:f}),v}getValue(m,a){const d=this._values[m];if(d)return d.get(a)}scopeRefs(m,a=this._values){return this._reduceValues(a,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,t._)`${m}${d.scopePath}`})}scopeCode(m=this._values,a,d){return this._reduceValues(m,v=>{if(v.value===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return v.value.code},a,d)}_reduceValues(m,a,d={},v){let h=t.nil;for(const l in m){const p=m[l];if(!p)continue;const E=d[l]=d[l]||new Map;p.forEach(f=>{if(E.has(f))return;E.set(f,n.Started);let $=a(f);if($){const _=this.opts.es5?e.varKinds.var:e.varKinds.const;h=(0,t._)`${h}${_} ${f} = ${$};${this.opts._n}`}else if($=v?.(f))h=(0,t._)`${h}${$}${this.opts._n}`;else throw new r(f);E.set(f,n.Completed)})}return h}}e.ValueScope=u})(ki);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=an,r=ki;var n=an;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var i=ki;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(y,S){return this}}class o extends s{constructor(y,S,U){super(),this.varKind=y,this.name=S,this.rhs=U}render({es5:y,_n:S}){const U=y?r.varKinds.var:this.varKind,Y=this.rhs===void 0?"":` = ${this.rhs}`;return`${U} ${this.name}${Y};`+S}optimizeNames(y,S){if(y[this.name.str])return this.rhs&&(this.rhs=x(this.rhs,y,S)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class u extends s{constructor(y,S,U){super(),this.lhs=y,this.rhs=S,this.sideEffects=U}render({_n:y}){return`${this.lhs} = ${this.rhs};`+y}optimizeNames(y,S){if(!(this.lhs instanceof t.Name&&!y[this.lhs.str]&&!this.sideEffects))return this.rhs=x(this.rhs,y,S),this}get names(){const y=this.lhs instanceof t.Name?{}:{...this.lhs.names};return V(y,this.rhs)}}class c extends u{constructor(y,S,U,Y){super(y,U,Y),this.op=S}render({_n:y}){return`${this.lhs} ${this.op}= ${this.rhs};`+y}}class m extends s{constructor(y){super(),this.label=y,this.names={}}render({_n:y}){return`${this.label}:`+y}}class a extends s{constructor(y){super(),this.label=y,this.names={}}render({_n:y}){return`break${this.label?` ${this.label}`:""};`+y}}class d extends s{constructor(y){super(),this.error=y}render({_n:y}){return`throw ${this.error};`+y}get names(){return this.error.names}}class v extends s{constructor(y){super(),this.code=y}render({_n:y}){return`${this.code};`+y}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(y,S){return this.code=x(this.code,y,S),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class h extends s{constructor(y=[]){super(),this.nodes=y}render(y){return this.nodes.reduce((S,U)=>S+U.render(y),"")}optimizeNodes(){const{nodes:y}=this;let S=y.length;for(;S--;){const U=y[S].optimizeNodes();Array.isArray(U)?y.splice(S,1,...U):U?y[S]=U:y.splice(S,1)}return y.length>0?this:void 0}optimizeNames(y,S){const{nodes:U}=this;let Y=U.length;for(;Y--;){const Q=U[Y];Q.optimizeNames(y,S)||(K(y,Q.names),U.splice(Y,1))}return U.length>0?this:void 0}get names(){return this.nodes.reduce((y,S)=>J(y,S.names),{})}}class l extends h{render(y){return"{"+y._n+super.render(y)+"}"+y._n}}class p extends h{}class E extends l{}E.kind="else";class f extends l{constructor(y,S){super(S),this.condition=y}render(y){let S=`if(${this.condition})`+super.render(y);return this.else&&(S+="else "+this.else.render(y)),S}optimizeNodes(){super.optimizeNodes();const y=this.condition;if(y===!0)return this.nodes;let S=this.else;if(S){const U=S.optimizeNodes();S=this.else=Array.isArray(U)?new E(U):U}if(S)return y===!1?S instanceof f?S:S.nodes:this.nodes.length?this:new f(W(y),S instanceof f?[S]:S.nodes);if(!(y===!1||!this.nodes.length))return this}optimizeNames(y,S){var U;if(this.else=(U=this.else)===null||U===void 0?void 0:U.optimizeNames(y,S),!!(super.optimizeNames(y,S)||this.else))return this.condition=x(this.condition,y,S),this}get names(){const y=super.names;return V(y,this.condition),this.else&&J(y,this.else.names),y}}f.kind="if";class $ extends l{}$.kind="for";class _ extends ${constructor(y){super(),this.iteration=y}render(y){return`for(${this.iteration})`+super.render(y)}optimizeNames(y,S){if(super.optimizeNames(y,S))return this.iteration=x(this.iteration,y,S),this}get names(){return J(super.names,this.iteration.names)}}class T extends ${constructor(y,S,U,Y){super(),this.varKind=y,this.name=S,this.from=U,this.to=Y}render(y){const S=y.es5?r.varKinds.var:this.varKind,{name:U,from:Y,to:Q}=this;return`for(${S} ${U}=${Y}; ${U}<${Q}; ${U}++)`+super.render(y)}get names(){const y=V(super.names,this.from);return V(y,this.to)}}class G extends ${constructor(y,S,U,Y){super(),this.loop=y,this.varKind=S,this.name=U,this.iterable=Y}render(y){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(y)}optimizeNames(y,S){if(super.optimizeNames(y,S))return this.iterable=x(this.iterable,y,S),this}get names(){return J(super.names,this.iterable.names)}}class b extends l{constructor(y,S,U){super(),this.name=y,this.args=S,this.async=U}render(y){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(y)}}b.kind="func";class D extends h{render(y){return"return "+super.render(y)}}D.kind="return";class z extends l{render(y){let S="try"+super.render(y);return this.catch&&(S+=this.catch.render(y)),this.finally&&(S+=this.finally.render(y)),S}optimizeNodes(){var y,S;return super.optimizeNodes(),(y=this.catch)===null||y===void 0||y.optimizeNodes(),(S=this.finally)===null||S===void 0||S.optimizeNodes(),this}optimizeNames(y,S){var U,Y;return super.optimizeNames(y,S),(U=this.catch)===null||U===void 0||U.optimizeNames(y,S),(Y=this.finally)===null||Y===void 0||Y.optimizeNames(y,S),this}get names(){const y=super.names;return this.catch&&J(y,this.catch.names),this.finally&&J(y,this.finally.names),y}}class A extends l{constructor(y){super(),this.error=y}render(y){return`catch(${this.error})`+super.render(y)}}A.kind="catch";class H extends l{render(y){return"finally"+super.render(y)}}H.kind="finally";class X{constructor(y,S={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...S,_n:S.lines?`
`:""},this._extScope=y,this._scope=new r.Scope({parent:y}),this._nodes=[new p]}toString(){return this._root.render(this.opts)}name(y){return this._scope.name(y)}scopeName(y){return this._extScope.name(y)}scopeValue(y,S){const U=this._extScope.value(y,S);return(this._values[U.prefix]||(this._values[U.prefix]=new Set)).add(U),U}getScopeValue(y,S){return this._extScope.getValue(y,S)}scopeRefs(y){return this._extScope.scopeRefs(y,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(y,S,U,Y){const Q=this._scope.toName(S);return U!==void 0&&Y&&(this._constants[Q.str]=U),this._leafNode(new o(y,Q,U)),Q}const(y,S,U){return this._def(r.varKinds.const,y,S,U)}let(y,S,U){return this._def(r.varKinds.let,y,S,U)}var(y,S,U){return this._def(r.varKinds.var,y,S,U)}assign(y,S,U){return this._leafNode(new u(y,S,U))}add(y,S){return this._leafNode(new c(y,e.operators.ADD,S))}code(y){return typeof y=="function"?y():y!==t.nil&&this._leafNode(new v(y)),this}object(...y){const S=["{"];for(const[U,Y]of y)S.length>1&&S.push(","),S.push(U),(U!==Y||this.opts.es5)&&(S.push(":"),(0,t.addCodeArg)(S,Y));return S.push("}"),new t._Code(S)}if(y,S,U){if(this._blockNode(new f(y)),S&&U)this.code(S).else().code(U).endIf();else if(S)this.code(S).endIf();else if(U)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(y){return this._elseNode(new f(y))}else(){return this._elseNode(new E)}endIf(){return this._endBlockNode(f,E)}_for(y,S){return this._blockNode(y),S&&this.code(S).endFor(),this}for(y,S){return this._for(new _(y),S)}forRange(y,S,U,Y,Q=this.opts.es5?r.varKinds.var:r.varKinds.let){const ae=this._scope.toName(y);return this._for(new T(Q,ae,S,U),()=>Y(ae))}forOf(y,S,U,Y=r.varKinds.const){const Q=this._scope.toName(y);if(this.opts.es5){const ae=S instanceof t.Name?S:this.var("_arr",S);return this.forRange("_i",0,(0,t._)`${ae}.length`,ce=>{this.var(Q,(0,t._)`${ae}[${ce}]`),U(Q)})}return this._for(new G("of",Y,Q,S),()=>U(Q))}forIn(y,S,U,Y=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(y,(0,t._)`Object.keys(${S})`,U);const Q=this._scope.toName(y);return this._for(new G("in",Y,Q,S),()=>U(Q))}endFor(){return this._endBlockNode($)}label(y){return this._leafNode(new m(y))}break(y){return this._leafNode(new a(y))}return(y){const S=new D;if(this._blockNode(S),this.code(y),S.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(D)}try(y,S,U){if(!S&&!U)throw new Error('CodeGen: "try" without "catch" and "finally"');const Y=new z;if(this._blockNode(Y),this.code(y),S){const Q=this.name("e");this._currNode=Y.catch=new A(Q),S(Q)}return U&&(this._currNode=Y.finally=new H,this.code(U)),this._endBlockNode(A,H)}throw(y){return this._leafNode(new d(y))}block(y,S){return this._blockStarts.push(this._nodes.length),y&&this.code(y).endBlock(S),this}endBlock(y){const S=this._blockStarts.pop();if(S===void 0)throw new Error("CodeGen: not in self-balancing block");const U=this._nodes.length-S;if(U<0||y!==void 0&&U!==y)throw new Error(`CodeGen: wrong number of nodes: ${U} vs ${y} expected`);return this._nodes.length=S,this}func(y,S=t.nil,U,Y){return this._blockNode(new b(y,S,U)),Y&&this.code(Y).endFunc(),this}endFunc(){return this._endBlockNode(b)}optimize(y=1){for(;y-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(y){return this._currNode.nodes.push(y),this}_blockNode(y){this._currNode.nodes.push(y),this._nodes.push(y)}_endBlockNode(y,S){const U=this._currNode;if(U instanceof y||S&&U instanceof S)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${S?`${y.kind}/${S.kind}`:y.kind}"`)}_elseNode(y){const S=this._currNode;if(!(S instanceof f))throw new Error('CodeGen: "else" without "if"');return this._currNode=S.else=y,this}get _root(){return this._nodes[0]}get _currNode(){const y=this._nodes;return y[y.length-1]}set _currNode(y){const S=this._nodes;S[S.length-1]=y}}e.CodeGen=X;function J(R,y){for(const S in y)R[S]=(R[S]||0)+(y[S]||0);return R}function V(R,y){return y instanceof t._CodeOrName?J(R,y.names):R}function x(R,y,S){if(R instanceof t.Name)return U(R);if(!Y(R))return R;return new t._Code(R._items.reduce((Q,ae)=>(ae instanceof t.Name&&(ae=U(ae)),ae instanceof t._Code?Q.push(...ae._items):Q.push(ae),Q),[]));function U(Q){const ae=S[Q.str];return ae===void 0||y[Q.str]!==1?Q:(delete y[Q.str],ae)}function Y(Q){return Q instanceof t._Code&&Q._items.some(ae=>ae instanceof t.Name&&y[ae.str]===1&&S[ae.str]!==void 0)}}function K(R,y){for(const S in y)R[S]=(R[S]||0)-(y[S]||0)}function W(R){return typeof R=="boolean"||typeof R=="number"||R===null?!R:(0,t._)`!${F(R)}`}e.not=W;const B=w(e.operators.AND);function C(...R){return R.reduce(B)}e.and=C;const j=w(e.operators.OR);function O(...R){return R.reduce(j)}e.or=O;function w(R){return(y,S)=>y===t.nil?S:S===t.nil?y:(0,t._)`${F(y)} ${R} ${F(S)}`}function F(R){return R instanceof t.Name?R:(0,t._)`(${R})`}})(oe);var he={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=oe,r=an;function n(b){const D={};for(const z of b)D[z]=!0;return D}e.toHash=n;function i(b,D){return typeof D=="boolean"?D:Object.keys(D).length===0?!0:(s(b,D),!o(D,b.self.RULES.all))}e.alwaysValidSchema=i;function s(b,D=b.schema){const{opts:z,self:A}=b;if(!z.strictSchema||typeof D=="boolean")return;const H=A.RULES.keywords;for(const X in D)H[X]||G(b,`unknown keyword: "${X}"`)}e.checkUnknownRules=s;function o(b,D){if(typeof b=="boolean")return!b;for(const z in b)if(D[z])return!0;return!1}e.schemaHasRules=o;function u(b,D){if(typeof b=="boolean")return!b;for(const z in b)if(z!=="$ref"&&D.all[z])return!0;return!1}e.schemaHasRulesButRef=u;function c({topSchemaRef:b,schemaPath:D},z,A,H){if(!H){if(typeof z=="number"||typeof z=="boolean")return z;if(typeof z=="string")return(0,t._)`${z}`}return(0,t._)`${b}${D}${(0,t.getProperty)(A)}`}e.schemaRefOrVal=c;function m(b){return v(decodeURIComponent(b))}e.unescapeFragment=m;function a(b){return encodeURIComponent(d(b))}e.escapeFragment=a;function d(b){return typeof b=="number"?`${b}`:b.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=d;function v(b){return b.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=v;function h(b,D){if(Array.isArray(b))for(const z of b)D(z);else D(b)}e.eachItem=h;function l({mergeNames:b,mergeToName:D,mergeValues:z,resultToName:A}){return(H,X,J,V)=>{const x=J===void 0?X:J instanceof t.Name?(X instanceof t.Name?b(H,X,J):D(H,X,J),J):X instanceof t.Name?(D(H,J,X),X):z(X,J);return V===t.Name&&!(x instanceof t.Name)?A(H,x):x}}e.mergeEvaluated={props:l({mergeNames:(b,D,z)=>b.if((0,t._)`${z} !== true && ${D} !== undefined`,()=>{b.if((0,t._)`${D} === true`,()=>b.assign(z,!0),()=>b.assign(z,(0,t._)`${z} || {}`).code((0,t._)`Object.assign(${z}, ${D})`))}),mergeToName:(b,D,z)=>b.if((0,t._)`${z} !== true`,()=>{D===!0?b.assign(z,!0):(b.assign(z,(0,t._)`${z} || {}`),E(b,z,D))}),mergeValues:(b,D)=>b===!0?!0:{...b,...D},resultToName:p}),items:l({mergeNames:(b,D,z)=>b.if((0,t._)`${z} !== true && ${D} !== undefined`,()=>b.assign(z,(0,t._)`${D} === true ? true : ${z} > ${D} ? ${z} : ${D}`)),mergeToName:(b,D,z)=>b.if((0,t._)`${z} !== true`,()=>b.assign(z,D===!0?!0:(0,t._)`${z} > ${D} ? ${z} : ${D}`)),mergeValues:(b,D)=>b===!0?!0:Math.max(b,D),resultToName:(b,D)=>b.var("items",D)})};function p(b,D){if(D===!0)return b.var("props",!0);const z=b.var("props",(0,t._)`{}`);return D!==void 0&&E(b,z,D),z}e.evaluatedPropsToName=p;function E(b,D,z){Object.keys(z).forEach(A=>b.assign((0,t._)`${D}${(0,t.getProperty)(A)}`,!0))}e.setEvaluated=E;const f={};function $(b,D){return b.scopeValue("func",{ref:D,code:f[D.code]||(f[D.code]=new r._Code(D.code))})}e.useFunc=$;var _;(function(b){b[b.Num=0]="Num",b[b.Str=1]="Str"})(_=e.Type||(e.Type={}));function T(b,D,z){if(b instanceof t.Name){const A=D===_.Num;return z?A?(0,t._)`"[" + ${b} + "]"`:(0,t._)`"['" + ${b} + "']"`:A?(0,t._)`"/" + ${b}`:(0,t._)`"/" + ${b}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return z?(0,t.getProperty)(b).toString():"/"+d(b)}e.getErrorPath=T;function G(b,D,z=b.opts.strictSchema){if(z){if(D=`strict mode: ${D}`,z===!0)throw new Error(D);b.self.logger.warn(D)}}e.checkStrictMode=G})(he);var At={};Object.defineProperty(At,"__esModule",{value:!0});const We=oe,Zd={data:new We.Name("data"),valCxt:new We.Name("valCxt"),instancePath:new We.Name("instancePath"),parentData:new We.Name("parentData"),parentDataProperty:new We.Name("parentDataProperty"),rootData:new We.Name("rootData"),dynamicAnchors:new We.Name("dynamicAnchors"),vErrors:new We.Name("vErrors"),errors:new We.Name("errors"),this:new We.Name("this"),self:new We.Name("self"),scope:new We.Name("scope"),json:new We.Name("json"),jsonPos:new We.Name("jsonPos"),jsonLen:new We.Name("jsonLen"),jsonPart:new We.Name("jsonPart")};At.default=Zd;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=oe,r=he,n=At;e.keywordError={message:({keyword:E})=>(0,t.str)`must pass "${E}" keyword validation`},e.keyword$DataError={message:({keyword:E,schemaType:f})=>f?(0,t.str)`"${E}" keyword must be ${f} ($data)`:(0,t.str)`"${E}" keyword is invalid ($data)`};function i(E,f=e.keywordError,$,_){const{it:T}=E,{gen:G,compositeRule:b,allErrors:D}=T,z=d(E,f,$);_??(b||D)?c(G,z):m(T,(0,t._)`[${z}]`)}e.reportError=i;function s(E,f=e.keywordError,$){const{it:_}=E,{gen:T,compositeRule:G,allErrors:b}=_,D=d(E,f,$);c(T,D),G||b||m(_,n.default.vErrors)}e.reportExtraError=s;function o(E,f){E.assign(n.default.errors,f),E.if((0,t._)`${n.default.vErrors} !== null`,()=>E.if(f,()=>E.assign((0,t._)`${n.default.vErrors}.length`,f),()=>E.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function u({gen:E,keyword:f,schemaValue:$,data:_,errsCount:T,it:G}){if(T===void 0)throw new Error("ajv implementation error");const b=E.name("err");E.forRange("i",T,n.default.errors,D=>{E.const(b,(0,t._)`${n.default.vErrors}[${D}]`),E.if((0,t._)`${b}.instancePath === undefined`,()=>E.assign((0,t._)`${b}.instancePath`,(0,t.strConcat)(n.default.instancePath,G.errorPath))),E.assign((0,t._)`${b}.schemaPath`,(0,t.str)`${G.errSchemaPath}/${f}`),G.opts.verbose&&(E.assign((0,t._)`${b}.schema`,$),E.assign((0,t._)`${b}.data`,_))})}e.extendErrors=u;function c(E,f){const $=E.const("err",f);E.if((0,t._)`${n.default.vErrors} === null`,()=>E.assign(n.default.vErrors,(0,t._)`[${$}]`),(0,t._)`${n.default.vErrors}.push(${$})`),E.code((0,t._)`${n.default.errors}++`)}function m(E,f){const{gen:$,validateName:_,schemaEnv:T}=E;T.$async?$.throw((0,t._)`new ${E.ValidationError}(${f})`):($.assign((0,t._)`${_}.errors`,f),$.return(!1))}const a={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function d(E,f,$){const{createErrors:_}=E.it;return _===!1?(0,t._)`{}`:v(E,f,$)}function v(E,f,$={}){const{gen:_,it:T}=E,G=[h(T,$),l(E,$)];return p(E,f,G),_.object(...G)}function h({errorPath:E},{instancePath:f}){const $=f?(0,t.str)`${E}${(0,r.getErrorPath)(f,r.Type.Str)}`:E;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,$)]}function l({keyword:E,it:{errSchemaPath:f}},{schemaPath:$,parentSchema:_}){let T=_?f:(0,t.str)`${f}/${E}`;return $&&(T=(0,t.str)`${T}${(0,r.getErrorPath)($,r.Type.Str)}`),[a.schemaPath,T]}function p(E,{params:f,message:$},_){const{keyword:T,data:G,schemaValue:b,it:D}=E,{opts:z,propertyName:A,topSchemaRef:H,schemaPath:X}=D;_.push([a.keyword,T],[a.params,typeof f=="function"?f(E):f||(0,t._)`{}`]),z.messages&&_.push([a.message,typeof $=="function"?$(E):$]),z.verbose&&_.push([a.schema,b],[a.parentSchema,(0,t._)`${H}${X}`],[n.default.data,G]),A&&_.push([a.propertyName,A])}})(fn);var Uo;function Jd(){if(Uo)return nr;Uo=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.boolOrEmptySchema=nr.topBoolOrEmptySchema=void 0;const e=fn,t=oe,r=At,n={message:"boolean schema is false"};function i(u){const{gen:c,schema:m,validateName:a}=u;m===!1?o(u,!1):typeof m=="object"&&m.$async===!0?c.return(r.default.data):(c.assign((0,t._)`${a}.errors`,null),c.return(!0))}nr.topBoolOrEmptySchema=i;function s(u,c){const{gen:m,schema:a}=u;a===!1?(m.var(c,!1),o(u)):m.var(c,!0)}nr.boolOrEmptySchema=s;function o(u,c){const{gen:m,data:a}=u,d={gen:m,keyword:"false schema",data:a,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:u};(0,e.reportError)(d,n,void 0,c)}return nr}var cn={},fr={};Object.defineProperty(fr,"__esModule",{value:!0});fr.getRules=fr.isJSONType=void 0;const Yd=["string","number","integer","boolean","null","object","array"],Qd=new Set(Yd);function eh(e){return typeof e=="string"&&Qd.has(e)}fr.isJSONType=eh;function th(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}fr.getRules=th;var xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.shouldUseRule=xt.shouldUseGroup=xt.schemaHasRulesForType=void 0;function rh({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Vc(e,n)}xt.schemaHasRulesForType=rh;function Vc(e,t){return t.rules.some(r=>zc(e,r))}xt.shouldUseGroup=Vc;function zc(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}xt.shouldUseRule=zc;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=fr,r=xt,n=fn,i=oe,s=he;var o;(function(_){_[_.Correct=0]="Correct",_[_.Wrong=1]="Wrong"})(o=e.DataType||(e.DataType={}));function u(_){const T=c(_.type);if(T.includes("null")){if(_.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!T.length&&_.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');_.nullable===!0&&T.push("null")}return T}e.getSchemaTypes=u;function c(_){const T=Array.isArray(_)?_:_?[_]:[];if(T.every(t.isJSONType))return T;throw new Error("type must be JSONType or JSONType[]: "+T.join(","))}e.getJSONTypes=c;function m(_,T){const{gen:G,data:b,opts:D}=_,z=d(T,D.coerceTypes),A=T.length>0&&!(z.length===0&&T.length===1&&(0,r.schemaHasRulesForType)(_,T[0]));if(A){const H=p(T,b,D.strictNumbers,o.Wrong);G.if(H,()=>{z.length?v(_,T,z):f(_)})}return A}e.coerceAndCheckDataType=m;const a=new Set(["string","number","integer","boolean","null"]);function d(_,T){return T?_.filter(G=>a.has(G)||T==="array"&&G==="array"):[]}function v(_,T,G){const{gen:b,data:D,opts:z}=_,A=b.let("dataType",(0,i._)`typeof ${D}`),H=b.let("coerced",(0,i._)`undefined`);z.coerceTypes==="array"&&b.if((0,i._)`${A} == 'object' && Array.isArray(${D}) && ${D}.length == 1`,()=>b.assign(D,(0,i._)`${D}[0]`).assign(A,(0,i._)`typeof ${D}`).if(p(T,D,z.strictNumbers),()=>b.assign(H,D))),b.if((0,i._)`${H} !== undefined`);for(const J of G)(a.has(J)||J==="array"&&z.coerceTypes==="array")&&X(J);b.else(),f(_),b.endIf(),b.if((0,i._)`${H} !== undefined`,()=>{b.assign(D,H),h(_,H)});function X(J){switch(J){case"string":b.elseIf((0,i._)`${A} == "number" || ${A} == "boolean"`).assign(H,(0,i._)`"" + ${D}`).elseIf((0,i._)`${D} === null`).assign(H,(0,i._)`""`);return;case"number":b.elseIf((0,i._)`${A} == "boolean" || ${D} === null
              || (${A} == "string" && ${D} && ${D} == +${D})`).assign(H,(0,i._)`+${D}`);return;case"integer":b.elseIf((0,i._)`${A} === "boolean" || ${D} === null
              || (${A} === "string" && ${D} && ${D} == +${D} && !(${D} % 1))`).assign(H,(0,i._)`+${D}`);return;case"boolean":b.elseIf((0,i._)`${D} === "false" || ${D} === 0 || ${D} === null`).assign(H,!1).elseIf((0,i._)`${D} === "true" || ${D} === 1`).assign(H,!0);return;case"null":b.elseIf((0,i._)`${D} === "" || ${D} === 0 || ${D} === false`),b.assign(H,null);return;case"array":b.elseIf((0,i._)`${A} === "string" || ${A} === "number"
              || ${A} === "boolean" || ${D} === null`).assign(H,(0,i._)`[${D}]`)}}}function h({gen:_,parentData:T,parentDataProperty:G},b){_.if((0,i._)`${T} !== undefined`,()=>_.assign((0,i._)`${T}[${G}]`,b))}function l(_,T,G,b=o.Correct){const D=b===o.Correct?i.operators.EQ:i.operators.NEQ;let z;switch(_){case"null":return(0,i._)`${T} ${D} null`;case"array":z=(0,i._)`Array.isArray(${T})`;break;case"object":z=(0,i._)`${T} && typeof ${T} == "object" && !Array.isArray(${T})`;break;case"integer":z=A((0,i._)`!(${T} % 1) && !isNaN(${T})`);break;case"number":z=A();break;default:return(0,i._)`typeof ${T} ${D} ${_}`}return b===o.Correct?z:(0,i.not)(z);function A(H=i.nil){return(0,i.and)((0,i._)`typeof ${T} == "number"`,H,G?(0,i._)`isFinite(${T})`:i.nil)}}e.checkDataType=l;function p(_,T,G,b){if(_.length===1)return l(_[0],T,G,b);let D;const z=(0,s.toHash)(_);if(z.array&&z.object){const A=(0,i._)`typeof ${T} != "object"`;D=z.null?A:(0,i._)`!${T} || ${A}`,delete z.null,delete z.array,delete z.object}else D=i.nil;z.number&&delete z.integer;for(const A in z)D=(0,i.and)(D,l(A,T,G,b));return D}e.checkDataTypes=p;const E={message:({schema:_})=>`must be ${_}`,params:({schema:_,schemaValue:T})=>typeof _=="string"?(0,i._)`{type: ${_}}`:(0,i._)`{type: ${T}}`};function f(_){const T=$(_);(0,n.reportError)(T,E)}e.reportTypeError=f;function $(_){const{gen:T,data:G,schema:b}=_,D=(0,s.schemaRefOrVal)(_,b,"type");return{gen:T,keyword:"type",data:G,schema:b.type,schemaCode:D,schemaValue:D,parentSchema:b,params:{},it:_}}})(cn);var Hr={},xo;function nh(){if(xo)return Hr;xo=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.assignDefaults=void 0;const e=oe,t=he;function r(i,s){const{properties:o,items:u}=i.schema;if(s==="object"&&o)for(const c in o)n(i,c,o[c].default);else s==="array"&&Array.isArray(u)&&u.forEach((c,m)=>n(i,m,c.default))}Hr.assignDefaults=r;function n(i,s,o){const{gen:u,compositeRule:c,data:m,opts:a}=i;if(o===void 0)return;const d=(0,e._)`${m}${(0,e.getProperty)(s)}`;if(c){(0,t.checkStrictMode)(i,`default is ignored for: ${d}`);return}let v=(0,e._)`${d} === undefined`;a.useDefaults==="empty"&&(v=(0,e._)`${v} || ${d} === null || ${d} === ""`),u.if(v,(0,e._)`${d} = ${(0,e.stringify)(o)}`)}return Hr}var vt={},ue={};Object.defineProperty(ue,"__esModule",{value:!0});ue.validateUnion=ue.validateArray=ue.usePattern=ue.callValidateCode=ue.schemaProperties=ue.allSchemaProperties=ue.noPropertyInData=ue.propertyInData=ue.isOwnProperty=ue.hasPropFunc=ue.reportMissingProp=ue.checkMissingProp=ue.checkReportMissingProp=void 0;const _e=oe,ms=he,Gt=At,ih=he;function sh(e,t){const{gen:r,data:n,it:i}=e;r.if(ys(r,n,t,i.opts.ownProperties),()=>{e.setParams({missingProperty:(0,_e._)`${t}`},!0),e.error()})}ue.checkReportMissingProp=sh;function oh({gen:e,data:t,it:{opts:r}},n,i){return(0,_e.or)(...n.map(s=>(0,_e.and)(ys(e,t,s,r.ownProperties),(0,_e._)`${i} = ${s}`)))}ue.checkMissingProp=oh;function ah(e,t){e.setParams({missingProperty:t},!0),e.error()}ue.reportMissingProp=ah;function Gc(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,_e._)`Object.prototype.hasOwnProperty`})}ue.hasPropFunc=Gc;function ps(e,t,r){return(0,_e._)`${Gc(e)}.call(${t}, ${r})`}ue.isOwnProperty=ps;function ch(e,t,r,n){const i=(0,_e._)`${t}${(0,_e.getProperty)(r)} !== undefined`;return n?(0,_e._)`${i} && ${ps(e,t,r)}`:i}ue.propertyInData=ch;function ys(e,t,r,n){const i=(0,_e._)`${t}${(0,_e.getProperty)(r)} === undefined`;return n?(0,_e.or)(i,(0,_e.not)(ps(e,t,r))):i}ue.noPropertyInData=ys;function Hc(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}ue.allSchemaProperties=Hc;function uh(e,t){return Hc(t).filter(r=>!(0,ms.alwaysValidSchema)(e,t[r]))}ue.schemaProperties=uh;function lh({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:i,errorPath:s},it:o},u,c,m){const a=m?(0,_e._)`${e}, ${t}, ${n}${i}`:t,d=[[Gt.default.instancePath,(0,_e.strConcat)(Gt.default.instancePath,s)],[Gt.default.parentData,o.parentData],[Gt.default.parentDataProperty,o.parentDataProperty],[Gt.default.rootData,Gt.default.rootData]];o.opts.dynamicRef&&d.push([Gt.default.dynamicAnchors,Gt.default.dynamicAnchors]);const v=(0,_e._)`${a}, ${r.object(...d)}`;return c!==_e.nil?(0,_e._)`${u}.call(${c}, ${v})`:(0,_e._)`${u}(${v})`}ue.callValidateCode=lh;const fh=(0,_e._)`new RegExp`;function dh({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:i}=t.code,s=i(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,_e._)`${i.code==="new RegExp"?fh:(0,ih.useFunc)(e,i)}(${r}, ${n})`})}ue.usePattern=dh;function hh(e){const{gen:t,data:r,keyword:n,it:i}=e,s=t.name("valid");if(i.allErrors){const u=t.let("valid",!0);return o(()=>t.assign(u,!1)),u}return t.var(s,!0),o(()=>t.break()),s;function o(u){const c=t.const("len",(0,_e._)`${r}.length`);t.forRange("i",0,c,m=>{e.subschema({keyword:n,dataProp:m,dataPropType:ms.Type.Num},s),t.if((0,_e.not)(s),u)})}}ue.validateArray=hh;function mh(e){const{gen:t,schema:r,keyword:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,ms.alwaysValidSchema)(i,c))&&!i.opts.unevaluated)return;const o=t.let("valid",!1),u=t.name("_valid");t.block(()=>r.forEach((c,m)=>{const a=e.subschema({keyword:n,schemaProp:m,compositeRule:!0},u);t.assign(o,(0,_e._)`${o} || ${u}`),e.mergeValidEvaluated(a,u)||t.if((0,_e.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}ue.validateUnion=mh;var Vo;function ph(){if(Vo)return vt;Vo=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.validateKeywordUsage=vt.validSchemaType=vt.funcKeywordCode=vt.macroKeywordCode=void 0;const e=oe,t=At,r=ue,n=fn;function i(v,h){const{gen:l,keyword:p,schema:E,parentSchema:f,it:$}=v,_=h.macro.call($.self,E,f,$),T=m(l,p,_);$.opts.validateSchema!==!1&&$.self.validateSchema(_,!0);const G=l.name("valid");v.subschema({schema:_,schemaPath:e.nil,errSchemaPath:`${$.errSchemaPath}/${p}`,topSchemaRef:T,compositeRule:!0},G),v.pass(G,()=>v.error(!0))}vt.macroKeywordCode=i;function s(v,h){var l;const{gen:p,keyword:E,schema:f,parentSchema:$,$data:_,it:T}=v;c(T,h);const G=!_&&h.compile?h.compile.call(T.self,f,$,T):h.validate,b=m(p,E,G),D=p.let("valid");v.block$data(D,z),v.ok((l=h.valid)!==null&&l!==void 0?l:D);function z(){if(h.errors===!1)X(),h.modifying&&o(v),J(()=>v.error());else{const V=h.async?A():H();h.modifying&&o(v),J(()=>u(v,V))}}function A(){const V=p.let("ruleErrs",null);return p.try(()=>X((0,e._)`await `),x=>p.assign(D,!1).if((0,e._)`${x} instanceof ${T.ValidationError}`,()=>p.assign(V,(0,e._)`${x}.errors`),()=>p.throw(x))),V}function H(){const V=(0,e._)`${b}.errors`;return p.assign(V,null),X(e.nil),V}function X(V=h.async?(0,e._)`await `:e.nil){const x=T.opts.passContext?t.default.this:t.default.self,K=!("compile"in h&&!_||h.schema===!1);p.assign(D,(0,e._)`${V}${(0,r.callValidateCode)(v,b,x,K)}`,h.modifying)}function J(V){var x;p.if((0,e.not)((x=h.valid)!==null&&x!==void 0?x:D),V)}}vt.funcKeywordCode=s;function o(v){const{gen:h,data:l,it:p}=v;h.if(p.parentData,()=>h.assign(l,(0,e._)`${p.parentData}[${p.parentDataProperty}]`))}function u(v,h){const{gen:l}=v;l.if((0,e._)`Array.isArray(${h})`,()=>{l.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${h} : ${t.default.vErrors}.concat(${h})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,n.extendErrors)(v)},()=>v.error())}function c({schemaEnv:v},h){if(h.async&&!v.$async)throw new Error("async keyword in sync schema")}function m(v,h,l){if(l===void 0)throw new Error(`keyword "${h}" failed to compile`);return v.scopeValue("keyword",typeof l=="function"?{ref:l}:{ref:l,code:(0,e.stringify)(l)})}function a(v,h,l=!1){return!h.length||h.some(p=>p==="array"?Array.isArray(v):p==="object"?v&&typeof v=="object"&&!Array.isArray(v):typeof v==p||l&&typeof v>"u")}vt.validSchemaType=a;function d({schema:v,opts:h,self:l,errSchemaPath:p},E,f){if(Array.isArray(E.keyword)?!E.keyword.includes(f):E.keyword!==f)throw new Error("ajv implementation error");const $=E.dependencies;if($?.some(_=>!Object.prototype.hasOwnProperty.call(v,_)))throw new Error(`parent schema must have dependencies of ${f}: ${$.join(",")}`);if(E.validateSchema&&!E.validateSchema(v[f])){const T=`keyword "${f}" value is invalid at path "${p}": `+l.errorsText(E.validateSchema.errors);if(h.validateSchema==="log")l.logger.error(T);else throw new Error(T)}}return vt.validateKeywordUsage=d,vt}var jt={},zo;function yh(){if(zo)return jt;zo=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.extendSubschemaMode=jt.extendSubschemaData=jt.getSubschema=void 0;const e=oe,t=he;function r(s,{keyword:o,schemaProp:u,schema:c,schemaPath:m,errSchemaPath:a,topSchemaRef:d}){if(o!==void 0&&c!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const v=s.schema[o];return u===void 0?{schema:v,schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(o)}`,errSchemaPath:`${s.errSchemaPath}/${o}`}:{schema:v[u],schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(o)}${(0,e.getProperty)(u)}`,errSchemaPath:`${s.errSchemaPath}/${o}/${(0,t.escapeFragment)(u)}`}}if(c!==void 0){if(m===void 0||a===void 0||d===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:m,topSchemaRef:d,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}jt.getSubschema=r;function n(s,o,{dataProp:u,dataPropType:c,data:m,dataTypes:a,propertyName:d}){if(m!==void 0&&u!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:v}=o;if(u!==void 0){const{errorPath:l,dataPathArr:p,opts:E}=o,f=v.let("data",(0,e._)`${o.data}${(0,e.getProperty)(u)}`,!0);h(f),s.errorPath=(0,e.str)`${l}${(0,t.getErrorPath)(u,c,E.jsPropertySyntax)}`,s.parentDataProperty=(0,e._)`${u}`,s.dataPathArr=[...p,s.parentDataProperty]}if(m!==void 0){const l=m instanceof e.Name?m:v.let("data",m,!0);h(l),d!==void 0&&(s.propertyName=d)}a&&(s.dataTypes=a);function h(l){s.data=l,s.dataLevel=o.dataLevel+1,s.dataTypes=[],o.definedProperties=new Set,s.parentData=o.data,s.dataNames=[...o.dataNames,l]}}jt.extendSubschemaData=n;function i(s,{jtdDiscriminator:o,jtdMetadata:u,compositeRule:c,createErrors:m,allErrors:a}){c!==void 0&&(s.compositeRule=c),m!==void 0&&(s.createErrors=m),a!==void 0&&(s.allErrors=a),s.jtdDiscriminator=o,s.jtdMetadata=u}return jt.extendSubschemaMode=i,jt}var qe={},qc=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r},Bc={exports:{}},Jt=Bc.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},i=r.post||function(){};kn(t,n,i,e,"",e)};Jt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Jt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Jt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Jt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function kn(e,t,r,n,i,s,o,u,c,m){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,i,s,o,u,c,m);for(var a in n){var d=n[a];if(Array.isArray(d)){if(a in Jt.arrayKeywords)for(var v=0;v<d.length;v++)kn(e,t,r,d[v],i+"/"+a+"/"+v,s,i,a,n,v)}else if(a in Jt.propsKeywords){if(d&&typeof d=="object")for(var h in d)kn(e,t,r,d[h],i+"/"+a+"/"+vh(h),s,i,a,n,h)}else(a in Jt.keywords||e.allKeys&&!(a in Jt.skipKeywords))&&kn(e,t,r,d,i+"/"+a,s,i,a,n)}r(n,i,s,o,u,c,m)}}function vh(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Eh=Bc.exports;Object.defineProperty(qe,"__esModule",{value:!0});qe.getSchemaRefs=qe.resolveUrl=qe.normalizeId=qe._getFullPath=qe.getFullPath=qe.inlineRef=void 0;const gh=he,$h=qc,_h=Eh,Sh=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function wh(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Mi(e):t?Kc(e)<=t:!1}qe.inlineRef=wh;const Nh=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Mi(e){for(const t in e){if(Nh.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Mi)||typeof r=="object"&&Mi(r))return!0}return!1}function Kc(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Sh.has(r)&&(typeof e[r]=="object"&&(0,gh.eachItem)(e[r],n=>t+=Kc(n)),t===1/0))return 1/0}return t}function Wc(e,t="",r){r!==!1&&(t=Or(t));const n=e.parse(t);return Xc(e,n)}qe.getFullPath=Wc;function Xc(e,t){return e.serialize(t).split("#")[0]+"#"}qe._getFullPath=Xc;const Ih=/#\/?$/;function Or(e){return e?e.replace(Ih,""):""}qe.normalizeId=Or;function Oh(e,t,r){return r=Or(r),e.resolve(t,r)}qe.resolveUrl=Oh;const Th=/^[a-z_][-a-z0-9._]*$/i;function bh(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,i=Or(e[r]||t),s={"":i},o=Wc(n,i,!1),u={},c=new Set;return _h(e,{allKeys:!0},(d,v,h,l)=>{if(l===void 0)return;const p=o+v;let E=s[l];typeof d[r]=="string"&&(E=f.call(this,d[r])),$.call(this,d.$anchor),$.call(this,d.$dynamicAnchor),s[v]=E;function f(_){const T=this.opts.uriResolver.resolve;if(_=Or(E?T(E,_):_),c.has(_))throw a(_);c.add(_);let G=this.refs[_];return typeof G=="string"&&(G=this.refs[G]),typeof G=="object"?m(d,G.schema,_):_!==Or(p)&&(_[0]==="#"?(m(d,u[_],_),u[_]=d):this.refs[_]=p),_}function $(_){if(typeof _=="string"){if(!Th.test(_))throw new Error(`invalid anchor "${_}"`);f.call(this,`#${_}`)}}}),u;function m(d,v,h){if(v!==void 0&&!$h(d,v))throw a(h)}function a(d){return new Error(`reference "${d}" resolves to more than one schema`)}}qe.getSchemaRefs=bh;var Go;function ti(){if(Go)return Ft;Go=1,Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.getData=Ft.KeywordCxt=Ft.validateFunctionCode=void 0;const e=Jd(),t=cn,r=xt,n=cn,i=nh(),s=ph(),o=yh(),u=oe,c=At,m=qe,a=he,d=fn;function v(P){if(G(P)&&(D(P),T(P))){E(P);return}h(P,()=>(0,e.topBoolOrEmptySchema)(P))}Ft.validateFunctionCode=v;function h({gen:P,validateName:L,schema:q,schemaEnv:Z,opts:te},ie){te.code.es5?P.func(L,(0,u._)`${c.default.data}, ${c.default.valCxt}`,Z.$async,()=>{P.code((0,u._)`"use strict"; ${$(q,te)}`),p(P,te),P.code(ie)}):P.func(L,(0,u._)`${c.default.data}, ${l(te)}`,Z.$async,()=>P.code($(q,te)).code(ie))}function l(P){return(0,u._)`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${P.dynamicRef?(0,u._)`, ${c.default.dynamicAnchors}={}`:u.nil}}={}`}function p(P,L){P.if(c.default.valCxt,()=>{P.var(c.default.instancePath,(0,u._)`${c.default.valCxt}.${c.default.instancePath}`),P.var(c.default.parentData,(0,u._)`${c.default.valCxt}.${c.default.parentData}`),P.var(c.default.parentDataProperty,(0,u._)`${c.default.valCxt}.${c.default.parentDataProperty}`),P.var(c.default.rootData,(0,u._)`${c.default.valCxt}.${c.default.rootData}`),L.dynamicRef&&P.var(c.default.dynamicAnchors,(0,u._)`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{P.var(c.default.instancePath,(0,u._)`""`),P.var(c.default.parentData,(0,u._)`undefined`),P.var(c.default.parentDataProperty,(0,u._)`undefined`),P.var(c.default.rootData,c.default.data),L.dynamicRef&&P.var(c.default.dynamicAnchors,(0,u._)`{}`)})}function E(P){const{schema:L,opts:q,gen:Z}=P;h(P,()=>{q.$comment&&L.$comment&&V(P),H(P),Z.let(c.default.vErrors,null),Z.let(c.default.errors,0),q.unevaluated&&f(P),z(P),x(P)})}function f(P){const{gen:L,validateName:q}=P;P.evaluated=L.const("evaluated",(0,u._)`${q}.evaluated`),L.if((0,u._)`${P.evaluated}.dynamicProps`,()=>L.assign((0,u._)`${P.evaluated}.props`,(0,u._)`undefined`)),L.if((0,u._)`${P.evaluated}.dynamicItems`,()=>L.assign((0,u._)`${P.evaluated}.items`,(0,u._)`undefined`))}function $(P,L){const q=typeof P=="object"&&P[L.schemaId];return q&&(L.code.source||L.code.process)?(0,u._)`/*# sourceURL=${q} */`:u.nil}function _(P,L){if(G(P)&&(D(P),T(P))){b(P,L);return}(0,e.boolOrEmptySchema)(P,L)}function T({schema:P,self:L}){if(typeof P=="boolean")return!P;for(const q in P)if(L.RULES.all[q])return!0;return!1}function G(P){return typeof P.schema!="boolean"}function b(P,L){const{schema:q,gen:Z,opts:te}=P;te.$comment&&q.$comment&&V(P),X(P),J(P);const ie=Z.const("_errs",c.default.errors);z(P,ie),Z.var(L,(0,u._)`${ie} === ${c.default.errors}`)}function D(P){(0,a.checkUnknownRules)(P),A(P)}function z(P,L){if(P.opts.jtd)return W(P,[],!1,L);const q=(0,t.getSchemaTypes)(P.schema),Z=(0,t.coerceAndCheckDataType)(P,q);W(P,q,!Z,L)}function A(P){const{schema:L,errSchemaPath:q,opts:Z,self:te}=P;L.$ref&&Z.ignoreKeywordsWithRef&&(0,a.schemaHasRulesButRef)(L,te.RULES)&&te.logger.warn(`$ref: keywords ignored in schema at path "${q}"`)}function H(P){const{schema:L,opts:q}=P;L.default!==void 0&&q.useDefaults&&q.strictSchema&&(0,a.checkStrictMode)(P,"default is ignored in the schema root")}function X(P){const L=P.schema[P.opts.schemaId];L&&(P.baseId=(0,m.resolveUrl)(P.opts.uriResolver,P.baseId,L))}function J(P){if(P.schema.$async&&!P.schemaEnv.$async)throw new Error("async schema in sync schema")}function V({gen:P,schemaEnv:L,schema:q,errSchemaPath:Z,opts:te}){const ie=q.$comment;if(te.$comment===!0)P.code((0,u._)`${c.default.self}.logger.log(${ie})`);else if(typeof te.$comment=="function"){const Le=(0,u.str)`${Z}/$comment`,it=P.scopeValue("root",{ref:L.root});P.code((0,u._)`${c.default.self}.opts.$comment(${ie}, ${Le}, ${it}.schema)`)}}function x(P){const{gen:L,schemaEnv:q,validateName:Z,ValidationError:te,opts:ie}=P;q.$async?L.if((0,u._)`${c.default.errors} === 0`,()=>L.return(c.default.data),()=>L.throw((0,u._)`new ${te}(${c.default.vErrors})`)):(L.assign((0,u._)`${Z}.errors`,c.default.vErrors),ie.unevaluated&&K(P),L.return((0,u._)`${c.default.errors} === 0`))}function K({gen:P,evaluated:L,props:q,items:Z}){q instanceof u.Name&&P.assign((0,u._)`${L}.props`,q),Z instanceof u.Name&&P.assign((0,u._)`${L}.items`,Z)}function W(P,L,q,Z){const{gen:te,schema:ie,data:Le,allErrors:it,opts:Ve,self:ze}=P,{RULES:Fe}=ze;if(ie.$ref&&(Ve.ignoreKeywordsWithRef||!(0,a.schemaHasRulesButRef)(ie,Fe))){te.block(()=>Y(P,"$ref",Fe.all.$ref.definition));return}Ve.jtd||C(P,L),te.block(()=>{for(const Ne of Fe.rules)ct(Ne);ct(Fe.post)});function ct(Ne){(0,r.shouldUseGroup)(ie,Ne)&&(Ne.type?(te.if((0,n.checkDataType)(Ne.type,Le,Ve.strictNumbers)),B(P,Ne),L.length===1&&L[0]===Ne.type&&q&&(te.else(),(0,n.reportTypeError)(P)),te.endIf()):B(P,Ne),it||te.if((0,u._)`${c.default.errors} === ${Z||0}`))}}function B(P,L){const{gen:q,schema:Z,opts:{useDefaults:te}}=P;te&&(0,i.assignDefaults)(P,L.type),q.block(()=>{for(const ie of L.rules)(0,r.shouldUseRule)(Z,ie)&&Y(P,ie.keyword,ie.definition,L.type)})}function C(P,L){P.schemaEnv.meta||!P.opts.strictTypes||(j(P,L),P.opts.allowUnionTypes||O(P,L),w(P,P.dataTypes))}function j(P,L){if(L.length){if(!P.dataTypes.length){P.dataTypes=L;return}L.forEach(q=>{R(P.dataTypes,q)||S(P,`type "${q}" not allowed by context "${P.dataTypes.join(",")}"`)}),y(P,L)}}function O(P,L){L.length>1&&!(L.length===2&&L.includes("null"))&&S(P,"use allowUnionTypes to allow union type keyword")}function w(P,L){const q=P.self.RULES.all;for(const Z in q){const te=q[Z];if(typeof te=="object"&&(0,r.shouldUseRule)(P.schema,te)){const{type:ie}=te.definition;ie.length&&!ie.some(Le=>F(L,Le))&&S(P,`missing type "${ie.join(",")}" for keyword "${Z}"`)}}}function F(P,L){return P.includes(L)||L==="number"&&P.includes("integer")}function R(P,L){return P.includes(L)||L==="integer"&&P.includes("number")}function y(P,L){const q=[];for(const Z of P.dataTypes)R(L,Z)?q.push(Z):L.includes("integer")&&Z==="number"&&q.push("integer");P.dataTypes=q}function S(P,L){const q=P.schemaEnv.baseId+P.errSchemaPath;L+=` at "${q}" (strictTypes)`,(0,a.checkStrictMode)(P,L,P.opts.strictTypes)}class U{constructor(L,q,Z){if((0,s.validateKeywordUsage)(L,q,Z),this.gen=L.gen,this.allErrors=L.allErrors,this.keyword=Z,this.data=L.data,this.schema=L.schema[Z],this.$data=q.$data&&L.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,a.schemaRefOrVal)(L,this.schema,Z,this.$data),this.schemaType=q.schemaType,this.parentSchema=L.schema,this.params={},this.it=L,this.def=q,this.$data)this.schemaCode=L.gen.const("vSchema",ce(this.$data,L));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,q.schemaType,q.allowUndefined))throw new Error(`${Z} value must be ${JSON.stringify(q.schemaType)}`);("code"in q?q.trackErrors:q.errors!==!1)&&(this.errsCount=L.gen.const("_errs",c.default.errors))}result(L,q,Z){this.failResult((0,u.not)(L),q,Z)}failResult(L,q,Z){this.gen.if(L),Z?Z():this.error(),q?(this.gen.else(),q(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(L,q){this.failResult((0,u.not)(L),void 0,q)}fail(L){if(L===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(L),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(L){if(!this.$data)return this.fail(L);const{schemaCode:q}=this;this.fail((0,u._)`${q} !== undefined && (${(0,u.or)(this.invalid$data(),L)})`)}error(L,q,Z){if(q){this.setParams(q),this._error(L,Z),this.setParams({});return}this._error(L,Z)}_error(L,q){(L?d.reportExtraError:d.reportError)(this,this.def.error,q)}$dataError(){(0,d.reportError)(this,this.def.$dataError||d.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,d.resetErrorsCount)(this.gen,this.errsCount)}ok(L){this.allErrors||this.gen.if(L)}setParams(L,q){q?Object.assign(this.params,L):this.params=L}block$data(L,q,Z=u.nil){this.gen.block(()=>{this.check$data(L,Z),q()})}check$data(L=u.nil,q=u.nil){if(!this.$data)return;const{gen:Z,schemaCode:te,schemaType:ie,def:Le}=this;Z.if((0,u.or)((0,u._)`${te} === undefined`,q)),L!==u.nil&&Z.assign(L,!0),(ie.length||Le.validateSchema)&&(Z.elseIf(this.invalid$data()),this.$dataError(),L!==u.nil&&Z.assign(L,!1)),Z.else()}invalid$data(){const{gen:L,schemaCode:q,schemaType:Z,def:te,it:ie}=this;return(0,u.or)(Le(),it());function Le(){if(Z.length){if(!(q instanceof u.Name))throw new Error("ajv implementation error");const Ve=Array.isArray(Z)?Z:[Z];return(0,u._)`${(0,n.checkDataTypes)(Ve,q,ie.opts.strictNumbers,n.DataType.Wrong)}`}return u.nil}function it(){if(te.validateSchema){const Ve=L.scopeValue("validate$data",{ref:te.validateSchema});return(0,u._)`!${Ve}(${q})`}return u.nil}}subschema(L,q){const Z=(0,o.getSubschema)(this.it,L);(0,o.extendSubschemaData)(Z,this.it,L),(0,o.extendSubschemaMode)(Z,L);const te={...this.it,...Z,items:void 0,props:void 0};return _(te,q),te}mergeEvaluated(L,q){const{it:Z,gen:te}=this;Z.opts.unevaluated&&(Z.props!==!0&&L.props!==void 0&&(Z.props=a.mergeEvaluated.props(te,L.props,Z.props,q)),Z.items!==!0&&L.items!==void 0&&(Z.items=a.mergeEvaluated.items(te,L.items,Z.items,q)))}mergeValidEvaluated(L,q){const{it:Z,gen:te}=this;if(Z.opts.unevaluated&&(Z.props!==!0||Z.items!==!0))return te.if(q,()=>this.mergeEvaluated(L,u.Name)),!0}}Ft.KeywordCxt=U;function Y(P,L,q,Z){const te=new U(P,q,L);"code"in q?q.code(te,Z):te.$data&&q.validate?(0,s.funcKeywordCode)(te,q):"macro"in q?(0,s.macroKeywordCode)(te,q):(q.compile||q.validate)&&(0,s.funcKeywordCode)(te,q)}const Q=/^\/(?:[^~]|~0|~1)*$/,ae=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ce(P,{dataLevel:L,dataNames:q,dataPathArr:Z}){let te,ie;if(P==="")return c.default.rootData;if(P[0]==="/"){if(!Q.test(P))throw new Error(`Invalid JSON-pointer: ${P}`);te=P,ie=c.default.rootData}else{const ze=ae.exec(P);if(!ze)throw new Error(`Invalid JSON-pointer: ${P}`);const Fe=+ze[1];if(te=ze[2],te==="#"){if(Fe>=L)throw new Error(Ve("property/index",Fe));return Z[L-Fe]}if(Fe>L)throw new Error(Ve("data",Fe));if(ie=q[L-Fe],!te)return ie}let Le=ie;const it=te.split("/");for(const ze of it)ze&&(ie=(0,u._)`${ie}${(0,u.getProperty)((0,a.unescapeJsonPointer)(ze))}`,Le=(0,u._)`${Le} && ${ie}`);return Le;function Ve(ze,Fe){return`Cannot access ${ze} ${Fe} levels up, current level is ${L}`}}return Ft.getData=ce,Ft}var dn={};Object.defineProperty(dn,"__esModule",{value:!0});class Dh extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}dn.default=Dh;var hn={};Object.defineProperty(hn,"__esModule",{value:!0});const Ei=qe;class Rh extends Error{constructor(t,r,n,i){super(i||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Ei.resolveUrl)(t,r,n),this.missingSchema=(0,Ei.normalizeId)((0,Ei.getFullPath)(t,this.missingRef))}}hn.default=Rh;var at={};Object.defineProperty(at,"__esModule",{value:!0});at.resolveSchema=at.getCompilingSchema=at.resolveRef=at.compileSchema=at.SchemaEnv=void 0;const Et=oe,Ph=dn,ir=At,_t=qe,Ho=he,Ch=ti();class ri{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,_t.normalizeId)(n?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n?.$async,this.refs={}}}at.SchemaEnv=ri;function vs(e){const t=Zc.call(this,e);if(t)return t;const r=(0,_t.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:i}=this.opts.code,{ownProperties:s}=this.opts,o=new Et.CodeGen(this.scope,{es5:n,lines:i,ownProperties:s});let u;e.$async&&(u=o.scopeValue("Error",{ref:Ph.default,code:(0,Et._)`require("ajv/dist/runtime/validation_error").default`}));const c=o.scopeName("validate");e.validateName=c;const m={gen:o,allErrors:this.opts.allErrors,data:ir.default.data,parentData:ir.default.parentData,parentDataProperty:ir.default.parentDataProperty,dataNames:[ir.default.data],dataPathArr:[Et.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Et.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:u,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Et.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Et._)`""`,opts:this.opts,self:this};let a;try{this._compilations.add(e),(0,Ch.validateFunctionCode)(m),o.optimize(this.opts.code.optimize);const d=o.toString();a=`${o.scopeRefs(ir.default.scope)}return ${d}`,this.opts.code.process&&(a=this.opts.code.process(a,e));const h=new Function(`${ir.default.self}`,`${ir.default.scope}`,a)(this,this.scope.get());if(this.scope.value(c,{ref:h}),h.errors=null,h.schema=e.schema,h.schemaEnv=e,e.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:c,validateCode:d,scopeValues:o._values}),this.opts.unevaluated){const{props:l,items:p}=m;h.evaluated={props:l instanceof Et.Name?void 0:l,items:p instanceof Et.Name?void 0:p,dynamicProps:l instanceof Et.Name,dynamicItems:p instanceof Et.Name},h.source&&(h.source.evaluated=(0,Et.stringify)(h.evaluated))}return e.validate=h,e}catch(d){throw delete e.validate,delete e.validateName,a&&this.logger.error("Error compiling schema, function code:",a),d}finally{this._compilations.delete(e)}}at.compileSchema=vs;function Ah(e,t,r){var n;r=(0,_t.resolveUrl)(this.opts.uriResolver,t,r);const i=e.refs[r];if(i)return i;let s=jh.call(this,e,r);if(s===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:u}=this.opts;o&&(s=new ri({schema:o,schemaId:u,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=Lh.call(this,s)}at.resolveRef=Ah;function Lh(e){return(0,_t.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:vs.call(this,e)}function Zc(e){for(const t of this._compilations)if(Fh(t,e))return t}at.getCompilingSchema=Zc;function Fh(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function jh(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||ni.call(this,e,t)}function ni(e,t){const r=this.opts.uriResolver.parse(t),n=(0,_t._getFullPath)(this.opts.uriResolver,r);let i=(0,_t.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return gi.call(this,r,e);const s=(0,_t.normalizeId)(n),o=this.refs[s]||this.schemas[s];if(typeof o=="string"){const u=ni.call(this,e,o);return typeof u?.schema!="object"?void 0:gi.call(this,r,u)}if(typeof o?.schema=="object"){if(o.validate||vs.call(this,o),s===(0,_t.normalizeId)(t)){const{schema:u}=o,{schemaId:c}=this.opts,m=u[c];return m&&(i=(0,_t.resolveUrl)(this.opts.uriResolver,i,m)),new ri({schema:u,schemaId:c,root:e,baseId:i})}return gi.call(this,r,o)}}at.resolveSchema=ni;const kh=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function gi(e,{baseId:t,schema:r,root:n}){var i;if(((i=e.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const u of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,Ho.unescapeFragment)(u)];if(c===void 0)return;r=c;const m=typeof r=="object"&&r[this.opts.schemaId];!kh.has(u)&&m&&(t=(0,_t.resolveUrl)(this.opts.uriResolver,t,m))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,Ho.schemaHasRulesButRef)(r,this.RULES)){const u=(0,_t.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=ni.call(this,n,u)}const{schemaId:o}=this.opts;if(s=s||new ri({schema:r,schemaId:o,root:n,baseId:t}),s.schema!==s.root.schema)return s}const Mh="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Uh="Meta-schema for $data reference (JSON AnySchema extension proposal)",xh="object",Vh=["$data"],zh={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Gh=!1,Hh={$id:Mh,description:Uh,type:xh,required:Vh,properties:zh,additionalProperties:Gh};var Es={},Ui={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(Kt,function(r){function n(){for(var N=arguments.length,g=Array(N),I=0;I<N;I++)g[I]=arguments[I];if(g.length>1){g[0]=g[0].slice(0,-1);for(var M=g.length-1,k=1;k<M;++k)g[k]=g[k].slice(1,-1);return g[M]=g[M].slice(1),g.join("")}else return g[0]}function i(N){return"(?:"+N+")"}function s(N){return N===void 0?"undefined":N===null?"null":Object.prototype.toString.call(N).split(" ").pop().split("]").shift().toLowerCase()}function o(N){return N.toUpperCase()}function u(N){return N!=null?N instanceof Array?N:typeof N.length!="number"||N.split||N.setInterval||N.call?[N]:Array.prototype.slice.call(N):[]}function c(N,g){var I=N;if(g)for(var M in g)I[M]=g[M];return I}function m(N){var g="[A-Za-z]",I="[0-9]",M=n(I,"[A-Fa-f]"),k=i(i("%[EFef]"+M+"%"+M+M+"%"+M+M)+"|"+i("%[89A-Fa-f]"+M+"%"+M+M)+"|"+i("%"+M+M)),re="[\\:\\/\\?\\#\\[\\]\\@]",ne="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",de=n(re,ne),$e=N?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",De=N?"[\\uE000-\\uF8FF]":"[]",le=n(g,I,"[\\-\\.\\_\\~]",$e);i(g+n(g,I,"[\\+\\-\\.]")+"*"),i(i(k+"|"+n(le,ne,"[\\:]"))+"*");var Ee=i(i("25[0-5]")+"|"+i("2[0-4]"+I)+"|"+i("1"+I+I)+"|"+i("0?[1-9]"+I)+"|0?0?"+I),Re=i(Ee+"\\."+Ee+"\\."+Ee+"\\."+Ee),se=i(M+"{1,4}"),Se=i(i(se+"\\:"+se)+"|"+Re),Ce=i(i(se+"\\:")+"{6}"+Se),we=i("\\:\\:"+i(se+"\\:")+"{5}"+Se),Vt=i(i(se)+"?\\:\\:"+i(se+"\\:")+"{4}"+Se),It=i(i(i(se+"\\:")+"{0,1}"+se)+"?\\:\\:"+i(se+"\\:")+"{3}"+Se),Ot=i(i(i(se+"\\:")+"{0,2}"+se)+"?\\:\\:"+i(se+"\\:")+"{2}"+Se),vr=i(i(i(se+"\\:")+"{0,3}"+se)+"?\\:\\:"+se+"\\:"+Se),er=i(i(i(se+"\\:")+"{0,4}"+se)+"?\\:\\:"+Se),ht=i(i(i(se+"\\:")+"{0,5}"+se)+"?\\:\\:"+se),Tt=i(i(i(se+"\\:")+"{0,6}"+se)+"?\\:\\:"),tr=i([Ce,we,Vt,It,Ot,vr,er,ht,Tt].join("|")),Lt=i(i(le+"|"+k)+"+");i("[vV]"+M+"+\\."+n(le,ne,"[\\:]")+"+"),i(i(k+"|"+n(le,ne))+"*");var zr=i(k+"|"+n(le,ne,"[\\:\\@]"));return i(i(k+"|"+n(le,ne,"[\\@]"))+"+"),i(i(zr+"|"+n("[\\/\\?]",De))+"*"),{NOT_SCHEME:new RegExp(n("[^]",g,I,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",le,ne),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",le,ne),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",le,ne),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",le,ne),"g"),NOT_QUERY:new RegExp(n("[^\\%]",le,ne,"[\\:\\@\\/\\?]",De),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",le,ne,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",le,ne),"g"),UNRESERVED:new RegExp(le,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",le,de),"g"),PCT_ENCODED:new RegExp(k,"g"),IPV4ADDRESS:new RegExp("^("+Re+")$"),IPV6ADDRESS:new RegExp("^\\[?("+tr+")"+i(i("\\%25|\\%(?!"+M+"{2})")+"("+Lt+")")+"?\\]?$")}}var a=m(!1),d=m(!0),v=function(){function N(g,I){var M=[],k=!0,re=!1,ne=void 0;try{for(var de=g[Symbol.iterator](),$e;!(k=($e=de.next()).done)&&(M.push($e.value),!(I&&M.length===I));k=!0);}catch(De){re=!0,ne=De}finally{try{!k&&de.return&&de.return()}finally{if(re)throw ne}}return M}return function(g,I){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return N(g,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(N){if(Array.isArray(N)){for(var g=0,I=Array(N.length);g<N.length;g++)I[g]=N[g];return I}else return Array.from(N)},l=2147483647,p=36,E=1,f=26,$=38,_=700,T=72,G=128,b="-",D=/^xn--/,z=/[^\0-\x7E]/,A=/[\x2E\u3002\uFF0E\uFF61]/g,H={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},X=p-E,J=Math.floor,V=String.fromCharCode;function x(N){throw new RangeError(H[N])}function K(N,g){for(var I=[],M=N.length;M--;)I[M]=g(N[M]);return I}function W(N,g){var I=N.split("@"),M="";I.length>1&&(M=I[0]+"@",N=I[1]),N=N.replace(A,".");var k=N.split("."),re=K(k,g).join(".");return M+re}function B(N){for(var g=[],I=0,M=N.length;I<M;){var k=N.charCodeAt(I++);if(k>=55296&&k<=56319&&I<M){var re=N.charCodeAt(I++);(re&64512)==56320?g.push(((k&1023)<<10)+(re&1023)+65536):(g.push(k),I--)}else g.push(k)}return g}var C=function(g){return String.fromCodePoint.apply(String,h(g))},j=function(g){return g-48<10?g-22:g-65<26?g-65:g-97<26?g-97:p},O=function(g,I){return g+22+75*(g<26)-((I!=0)<<5)},w=function(g,I,M){var k=0;for(g=M?J(g/_):g>>1,g+=J(g/I);g>X*f>>1;k+=p)g=J(g/X);return J(k+(X+1)*g/(g+$))},F=function(g){var I=[],M=g.length,k=0,re=G,ne=T,de=g.lastIndexOf(b);de<0&&(de=0);for(var $e=0;$e<de;++$e)g.charCodeAt($e)>=128&&x("not-basic"),I.push(g.charCodeAt($e));for(var De=de>0?de+1:0;De<M;){for(var le=k,Ee=1,Re=p;;Re+=p){De>=M&&x("invalid-input");var se=j(g.charCodeAt(De++));(se>=p||se>J((l-k)/Ee))&&x("overflow"),k+=se*Ee;var Se=Re<=ne?E:Re>=ne+f?f:Re-ne;if(se<Se)break;var Ce=p-Se;Ee>J(l/Ce)&&x("overflow"),Ee*=Ce}var we=I.length+1;ne=w(k-le,we,le==0),J(k/we)>l-re&&x("overflow"),re+=J(k/we),k%=we,I.splice(k++,0,re)}return String.fromCodePoint.apply(String,I)},R=function(g){var I=[];g=B(g);var M=g.length,k=G,re=0,ne=T,de=!0,$e=!1,De=void 0;try{for(var le=g[Symbol.iterator](),Ee;!(de=(Ee=le.next()).done);de=!0){var Re=Ee.value;Re<128&&I.push(V(Re))}}catch(Gr){$e=!0,De=Gr}finally{try{!de&&le.return&&le.return()}finally{if($e)throw De}}var se=I.length,Se=se;for(se&&I.push(b);Se<M;){var Ce=l,we=!0,Vt=!1,It=void 0;try{for(var Ot=g[Symbol.iterator](),vr;!(we=(vr=Ot.next()).done);we=!0){var er=vr.value;er>=k&&er<Ce&&(Ce=er)}}catch(Gr){Vt=!0,It=Gr}finally{try{!we&&Ot.return&&Ot.return()}finally{if(Vt)throw It}}var ht=Se+1;Ce-k>J((l-re)/ht)&&x("overflow"),re+=(Ce-k)*ht,k=Ce;var Tt=!0,tr=!1,Lt=void 0;try{for(var zr=g[Symbol.iterator](),yo;!(Tt=(yo=zr.next()).done);Tt=!0){var vo=yo.value;if(vo<k&&++re>l&&x("overflow"),vo==k){for(var gn=re,$n=p;;$n+=p){var _n=$n<=ne?E:$n>=ne+f?f:$n-ne;if(gn<_n)break;var Eo=gn-_n,go=p-_n;I.push(V(O(_n+Eo%go,0))),gn=J(Eo/go)}I.push(V(O(gn,0))),ne=w(re,ht,Se==se),re=0,++Se}}}catch(Gr){tr=!0,Lt=Gr}finally{try{!Tt&&zr.return&&zr.return()}finally{if(tr)throw Lt}}++re,++k}return I.join("")},y=function(g){return W(g,function(I){return D.test(I)?F(I.slice(4).toLowerCase()):I})},S=function(g){return W(g,function(I){return z.test(I)?"xn--"+R(I):I})},U={version:"2.1.0",ucs2:{decode:B,encode:C},decode:F,encode:R,toASCII:S,toUnicode:y},Y={};function Q(N){var g=N.charCodeAt(0),I=void 0;return g<16?I="%0"+g.toString(16).toUpperCase():g<128?I="%"+g.toString(16).toUpperCase():g<2048?I="%"+(g>>6|192).toString(16).toUpperCase()+"%"+(g&63|128).toString(16).toUpperCase():I="%"+(g>>12|224).toString(16).toUpperCase()+"%"+(g>>6&63|128).toString(16).toUpperCase()+"%"+(g&63|128).toString(16).toUpperCase(),I}function ae(N){for(var g="",I=0,M=N.length;I<M;){var k=parseInt(N.substr(I+1,2),16);if(k<128)g+=String.fromCharCode(k),I+=3;else if(k>=194&&k<224){if(M-I>=6){var re=parseInt(N.substr(I+4,2),16);g+=String.fromCharCode((k&31)<<6|re&63)}else g+=N.substr(I,6);I+=6}else if(k>=224){if(M-I>=9){var ne=parseInt(N.substr(I+4,2),16),de=parseInt(N.substr(I+7,2),16);g+=String.fromCharCode((k&15)<<12|(ne&63)<<6|de&63)}else g+=N.substr(I,9);I+=9}else g+=N.substr(I,3),I+=3}return g}function ce(N,g){function I(M){var k=ae(M);return k.match(g.UNRESERVED)?k:M}return N.scheme&&(N.scheme=String(N.scheme).replace(g.PCT_ENCODED,I).toLowerCase().replace(g.NOT_SCHEME,"")),N.userinfo!==void 0&&(N.userinfo=String(N.userinfo).replace(g.PCT_ENCODED,I).replace(g.NOT_USERINFO,Q).replace(g.PCT_ENCODED,o)),N.host!==void 0&&(N.host=String(N.host).replace(g.PCT_ENCODED,I).toLowerCase().replace(g.NOT_HOST,Q).replace(g.PCT_ENCODED,o)),N.path!==void 0&&(N.path=String(N.path).replace(g.PCT_ENCODED,I).replace(N.scheme?g.NOT_PATH:g.NOT_PATH_NOSCHEME,Q).replace(g.PCT_ENCODED,o)),N.query!==void 0&&(N.query=String(N.query).replace(g.PCT_ENCODED,I).replace(g.NOT_QUERY,Q).replace(g.PCT_ENCODED,o)),N.fragment!==void 0&&(N.fragment=String(N.fragment).replace(g.PCT_ENCODED,I).replace(g.NOT_FRAGMENT,Q).replace(g.PCT_ENCODED,o)),N}function P(N){return N.replace(/^0*(.*)/,"$1")||"0"}function L(N,g){var I=N.match(g.IPV4ADDRESS)||[],M=v(I,2),k=M[1];return k?k.split(".").map(P).join("."):N}function q(N,g){var I=N.match(g.IPV6ADDRESS)||[],M=v(I,3),k=M[1],re=M[2];if(k){for(var ne=k.toLowerCase().split("::").reverse(),de=v(ne,2),$e=de[0],De=de[1],le=De?De.split(":").map(P):[],Ee=$e.split(":").map(P),Re=g.IPV4ADDRESS.test(Ee[Ee.length-1]),se=Re?7:8,Se=Ee.length-se,Ce=Array(se),we=0;we<se;++we)Ce[we]=le[we]||Ee[Se+we]||"";Re&&(Ce[se-1]=L(Ce[se-1],g));var Vt=Ce.reduce(function(ht,Tt,tr){if(!Tt||Tt==="0"){var Lt=ht[ht.length-1];Lt&&Lt.index+Lt.length===tr?Lt.length++:ht.push({index:tr,length:1})}return ht},[]),It=Vt.sort(function(ht,Tt){return Tt.length-ht.length})[0],Ot=void 0;if(It&&It.length>1){var vr=Ce.slice(0,It.index),er=Ce.slice(It.index+It.length);Ot=vr.join(":")+"::"+er.join(":")}else Ot=Ce.join(":");return re&&(Ot+="%"+re),Ot}else return N}var Z=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,te="".match(/(){0}/)[1]===void 0;function ie(N){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I={},M=g.iri!==!1?d:a;g.reference==="suffix"&&(N=(g.scheme?g.scheme+":":"")+"//"+N);var k=N.match(Z);if(k){te?(I.scheme=k[1],I.userinfo=k[3],I.host=k[4],I.port=parseInt(k[5],10),I.path=k[6]||"",I.query=k[7],I.fragment=k[8],isNaN(I.port)&&(I.port=k[5])):(I.scheme=k[1]||void 0,I.userinfo=N.indexOf("@")!==-1?k[3]:void 0,I.host=N.indexOf("//")!==-1?k[4]:void 0,I.port=parseInt(k[5],10),I.path=k[6]||"",I.query=N.indexOf("?")!==-1?k[7]:void 0,I.fragment=N.indexOf("#")!==-1?k[8]:void 0,isNaN(I.port)&&(I.port=N.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?k[4]:void 0)),I.host&&(I.host=q(L(I.host,M),M)),I.scheme===void 0&&I.userinfo===void 0&&I.host===void 0&&I.port===void 0&&!I.path&&I.query===void 0?I.reference="same-document":I.scheme===void 0?I.reference="relative":I.fragment===void 0?I.reference="absolute":I.reference="uri",g.reference&&g.reference!=="suffix"&&g.reference!==I.reference&&(I.error=I.error||"URI is not a "+g.reference+" reference.");var re=Y[(g.scheme||I.scheme||"").toLowerCase()];if(!g.unicodeSupport&&(!re||!re.unicodeSupport)){if(I.host&&(g.domainHost||re&&re.domainHost))try{I.host=U.toASCII(I.host.replace(M.PCT_ENCODED,ae).toLowerCase())}catch(ne){I.error=I.error||"Host's domain name can not be converted to ASCII via punycode: "+ne}ce(I,a)}else ce(I,M);re&&re.parse&&re.parse(I,g)}else I.error=I.error||"URI can not be parsed.";return I}function Le(N,g){var I=g.iri!==!1?d:a,M=[];return N.userinfo!==void 0&&(M.push(N.userinfo),M.push("@")),N.host!==void 0&&M.push(q(L(String(N.host),I),I).replace(I.IPV6ADDRESS,function(k,re,ne){return"["+re+(ne?"%25"+ne:"")+"]"})),(typeof N.port=="number"||typeof N.port=="string")&&(M.push(":"),M.push(String(N.port))),M.length?M.join(""):void 0}var it=/^\.\.?\//,Ve=/^\/\.(\/|$)/,ze=/^\/\.\.(\/|$)/,Fe=/^\/?(?:.|\n)*?(?=\/|$)/;function ct(N){for(var g=[];N.length;)if(N.match(it))N=N.replace(it,"");else if(N.match(Ve))N=N.replace(Ve,"/");else if(N.match(ze))N=N.replace(ze,"/"),g.pop();else if(N==="."||N==="..")N="";else{var I=N.match(Fe);if(I){var M=I[0];N=N.slice(M.length),g.push(M)}else throw new Error("Unexpected dot segment condition")}return g.join("")}function Ne(N){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=g.iri?d:a,M=[],k=Y[(g.scheme||N.scheme||"").toLowerCase()];if(k&&k.serialize&&k.serialize(N,g),N.host&&!I.IPV6ADDRESS.test(N.host)){if(g.domainHost||k&&k.domainHost)try{N.host=g.iri?U.toUnicode(N.host):U.toASCII(N.host.replace(I.PCT_ENCODED,ae).toLowerCase())}catch(de){N.error=N.error||"Host's domain name can not be converted to "+(g.iri?"Unicode":"ASCII")+" via punycode: "+de}}ce(N,I),g.reference!=="suffix"&&N.scheme&&(M.push(N.scheme),M.push(":"));var re=Le(N,g);if(re!==void 0&&(g.reference!=="suffix"&&M.push("//"),M.push(re),N.path&&N.path.charAt(0)!=="/"&&M.push("/")),N.path!==void 0){var ne=N.path;!g.absolutePath&&(!k||!k.absolutePath)&&(ne=ct(ne)),re===void 0&&(ne=ne.replace(/^\/\//,"/%2F")),M.push(ne)}return N.query!==void 0&&(M.push("?"),M.push(N.query)),N.fragment!==void 0&&(M.push("#"),M.push(N.fragment)),M.join("")}function pr(N,g){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=arguments[3],k={};return M||(N=ie(Ne(N,I),I),g=ie(Ne(g,I),I)),I=I||{},!I.tolerant&&g.scheme?(k.scheme=g.scheme,k.userinfo=g.userinfo,k.host=g.host,k.port=g.port,k.path=ct(g.path||""),k.query=g.query):(g.userinfo!==void 0||g.host!==void 0||g.port!==void 0?(k.userinfo=g.userinfo,k.host=g.host,k.port=g.port,k.path=ct(g.path||""),k.query=g.query):(g.path?(g.path.charAt(0)==="/"?k.path=ct(g.path):((N.userinfo!==void 0||N.host!==void 0||N.port!==void 0)&&!N.path?k.path="/"+g.path:N.path?k.path=N.path.slice(0,N.path.lastIndexOf("/")+1)+g.path:k.path=g.path,k.path=ct(k.path)),k.query=g.query):(k.path=N.path,g.query!==void 0?k.query=g.query:k.query=N.query),k.userinfo=N.userinfo,k.host=N.host,k.port=N.port),k.scheme=N.scheme),k.fragment=g.fragment,k}function Ur(N,g,I){var M=c({scheme:"null"},I);return Ne(pr(ie(N,M),ie(g,M),M,!0),M)}function Yt(N,g){return typeof N=="string"?N=Ne(ie(N,g),g):s(N)==="object"&&(N=ie(Ne(N,g),g)),N}function xr(N,g,I){return typeof N=="string"?N=Ne(ie(N,I),I):s(N)==="object"&&(N=Ne(N,I)),typeof g=="string"?g=Ne(ie(g,I),I):s(g)==="object"&&(g=Ne(g,I)),N===g}function En(N,g){return N&&N.toString().replace(!g||!g.iri?a.ESCAPE:d.ESCAPE,Q)}function dt(N,g){return N&&N.toString().replace(!g||!g.iri?a.PCT_ENCODED:d.PCT_ENCODED,ae)}var Qt={scheme:"http",domainHost:!0,parse:function(g,I){return g.host||(g.error=g.error||"HTTP URIs must have a host."),g},serialize:function(g,I){var M=String(g.scheme).toLowerCase()==="https";return(g.port===(M?443:80)||g.port==="")&&(g.port=void 0),g.path||(g.path="/"),g}},ao={scheme:"https",domainHost:Qt.domainHost,parse:Qt.parse,serialize:Qt.serialize};function co(N){return typeof N.secure=="boolean"?N.secure:String(N.scheme).toLowerCase()==="wss"}var Vr={scheme:"ws",domainHost:!0,parse:function(g,I){var M=g;return M.secure=co(M),M.resourceName=(M.path||"/")+(M.query?"?"+M.query:""),M.path=void 0,M.query=void 0,M},serialize:function(g,I){if((g.port===(co(g)?443:80)||g.port==="")&&(g.port=void 0),typeof g.secure=="boolean"&&(g.scheme=g.secure?"wss":"ws",g.secure=void 0),g.resourceName){var M=g.resourceName.split("?"),k=v(M,2),re=k[0],ne=k[1];g.path=re&&re!=="/"?re:void 0,g.query=ne,g.resourceName=void 0}return g.fragment=void 0,g}},uo={scheme:"wss",domainHost:Vr.domainHost,parse:Vr.parse,serialize:Vr.serialize},Iu={},lo="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Nt="[0-9A-Fa-f]",Ou=i(i("%[EFef]"+Nt+"%"+Nt+Nt+"%"+Nt+Nt)+"|"+i("%[89A-Fa-f]"+Nt+"%"+Nt+Nt)+"|"+i("%"+Nt+Nt)),Tu="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",bu="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Du=n(bu,'[\\"\\\\]'),Ru="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Pu=new RegExp(lo,"g"),yr=new RegExp(Ou,"g"),Cu=new RegExp(n("[^]",Tu,"[\\.]",'[\\"]',Du),"g"),fo=new RegExp(n("[^]",lo,Ru),"g"),Au=fo;function mi(N){var g=ae(N);return g.match(Pu)?g:N}var ho={scheme:"mailto",parse:function(g,I){var M=g,k=M.to=M.path?M.path.split(","):[];if(M.path=void 0,M.query){for(var re=!1,ne={},de=M.query.split("&"),$e=0,De=de.length;$e<De;++$e){var le=de[$e].split("=");switch(le[0]){case"to":for(var Ee=le[1].split(","),Re=0,se=Ee.length;Re<se;++Re)k.push(Ee[Re]);break;case"subject":M.subject=dt(le[1],I);break;case"body":M.body=dt(le[1],I);break;default:re=!0,ne[dt(le[0],I)]=dt(le[1],I);break}}re&&(M.headers=ne)}M.query=void 0;for(var Se=0,Ce=k.length;Se<Ce;++Se){var we=k[Se].split("@");if(we[0]=dt(we[0]),I.unicodeSupport)we[1]=dt(we[1],I).toLowerCase();else try{we[1]=U.toASCII(dt(we[1],I).toLowerCase())}catch(Vt){M.error=M.error||"Email address's domain name can not be converted to ASCII via punycode: "+Vt}k[Se]=we.join("@")}return M},serialize:function(g,I){var M=g,k=u(g.to);if(k){for(var re=0,ne=k.length;re<ne;++re){var de=String(k[re]),$e=de.lastIndexOf("@"),De=de.slice(0,$e).replace(yr,mi).replace(yr,o).replace(Cu,Q),le=de.slice($e+1);try{le=I.iri?U.toUnicode(le):U.toASCII(dt(le,I).toLowerCase())}catch(Se){M.error=M.error||"Email address's domain name can not be converted to "+(I.iri?"Unicode":"ASCII")+" via punycode: "+Se}k[re]=De+"@"+le}M.path=k.join(",")}var Ee=g.headers=g.headers||{};g.subject&&(Ee.subject=g.subject),g.body&&(Ee.body=g.body);var Re=[];for(var se in Ee)Ee[se]!==Iu[se]&&Re.push(se.replace(yr,mi).replace(yr,o).replace(fo,Q)+"="+Ee[se].replace(yr,mi).replace(yr,o).replace(Au,Q));return Re.length&&(M.query=Re.join("&")),M}},Lu=/^([^\:]+)\:(.*)/,mo={scheme:"urn",parse:function(g,I){var M=g.path&&g.path.match(Lu),k=g;if(M){var re=I.scheme||k.scheme||"urn",ne=M[1].toLowerCase(),de=M[2],$e=re+":"+(I.nid||ne),De=Y[$e];k.nid=ne,k.nss=de,k.path=void 0,De&&(k=De.parse(k,I))}else k.error=k.error||"URN can not be parsed.";return k},serialize:function(g,I){var M=I.scheme||g.scheme||"urn",k=g.nid,re=M+":"+(I.nid||k),ne=Y[re];ne&&(g=ne.serialize(g,I));var de=g,$e=g.nss;return de.path=(k||I.nid)+":"+$e,de}},Fu=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,po={scheme:"urn:uuid",parse:function(g,I){var M=g;return M.uuid=M.nss,M.nss=void 0,!I.tolerant&&(!M.uuid||!M.uuid.match(Fu))&&(M.error=M.error||"UUID is not valid."),M},serialize:function(g,I){var M=g;return M.nss=(g.uuid||"").toLowerCase(),M}};Y[Qt.scheme]=Qt,Y[ao.scheme]=ao,Y[Vr.scheme]=Vr,Y[uo.scheme]=uo,Y[ho.scheme]=ho,Y[mo.scheme]=mo,Y[po.scheme]=po,r.SCHEMES=Y,r.pctEncChar=Q,r.pctDecChars=ae,r.parse=ie,r.removeDotSegments=ct,r.serialize=Ne,r.resolveComponents=pr,r.resolve=Ur,r.normalize=Yt,r.equal=xr,r.escapeComponent=En,r.unescapeComponent=dt,Object.defineProperty(r,"__esModule",{value:!0})})})(Ui,Ui.exports);var qh=Ui.exports;Object.defineProperty(Es,"__esModule",{value:!0});const Jc=qh;Jc.code='require("ajv/dist/runtime/uri").default';Es.default=Jc;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=ti();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=oe;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=dn,i=hn,s=fr,o=at,u=oe,c=qe,m=cn,a=he,d=Hh,v=Es,h=(O,w)=>new RegExp(O,w);h.code="new RegExp";const l=["removeAdditional","useDefaults","coerceTypes"],p=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),E={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},f={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},$=200;function _(O){var w,F,R,y,S,U,Y,Q,ae,ce,P,L,q,Z,te,ie,Le,it,Ve,ze,Fe,ct,Ne,pr,Ur;const Yt=O.strict,xr=(w=O.code)===null||w===void 0?void 0:w.optimize,En=xr===!0||xr===void 0?1:xr||0,dt=(R=(F=O.code)===null||F===void 0?void 0:F.regExp)!==null&&R!==void 0?R:h,Qt=(y=O.uriResolver)!==null&&y!==void 0?y:v.default;return{strictSchema:(U=(S=O.strictSchema)!==null&&S!==void 0?S:Yt)!==null&&U!==void 0?U:!0,strictNumbers:(Q=(Y=O.strictNumbers)!==null&&Y!==void 0?Y:Yt)!==null&&Q!==void 0?Q:!0,strictTypes:(ce=(ae=O.strictTypes)!==null&&ae!==void 0?ae:Yt)!==null&&ce!==void 0?ce:"log",strictTuples:(L=(P=O.strictTuples)!==null&&P!==void 0?P:Yt)!==null&&L!==void 0?L:"log",strictRequired:(Z=(q=O.strictRequired)!==null&&q!==void 0?q:Yt)!==null&&Z!==void 0?Z:!1,code:O.code?{...O.code,optimize:En,regExp:dt}:{optimize:En,regExp:dt},loopRequired:(te=O.loopRequired)!==null&&te!==void 0?te:$,loopEnum:(ie=O.loopEnum)!==null&&ie!==void 0?ie:$,meta:(Le=O.meta)!==null&&Le!==void 0?Le:!0,messages:(it=O.messages)!==null&&it!==void 0?it:!0,inlineRefs:(Ve=O.inlineRefs)!==null&&Ve!==void 0?Ve:!0,schemaId:(ze=O.schemaId)!==null&&ze!==void 0?ze:"$id",addUsedSchema:(Fe=O.addUsedSchema)!==null&&Fe!==void 0?Fe:!0,validateSchema:(ct=O.validateSchema)!==null&&ct!==void 0?ct:!0,validateFormats:(Ne=O.validateFormats)!==null&&Ne!==void 0?Ne:!0,unicodeRegExp:(pr=O.unicodeRegExp)!==null&&pr!==void 0?pr:!0,int32range:(Ur=O.int32range)!==null&&Ur!==void 0?Ur:!0,uriResolver:Qt}}class T{constructor(w={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,w=this.opts={...w,..._(w)};const{es5:F,lines:R}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:p,es5:F,lines:R}),this.logger=J(w.logger);const y=w.validateFormats;w.validateFormats=!1,this.RULES=(0,s.getRules)(),G.call(this,E,w,"NOT SUPPORTED"),G.call(this,f,w,"DEPRECATED","warn"),this._metaOpts=H.call(this),w.formats&&z.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),w.keywords&&A.call(this,w.keywords),typeof w.meta=="object"&&this.addMetaSchema(w.meta),D.call(this),w.validateFormats=y}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:w,meta:F,schemaId:R}=this.opts;let y=d;R==="id"&&(y={...d},y.id=y.$id,delete y.$id),F&&w&&this.addMetaSchema(y,y[R],!1)}defaultMeta(){const{meta:w,schemaId:F}=this.opts;return this.opts.defaultMeta=typeof w=="object"?w[F]||w:void 0}validate(w,F){let R;if(typeof w=="string"){if(R=this.getSchema(w),!R)throw new Error(`no schema with key or ref "${w}"`)}else R=this.compile(w);const y=R(F);return"$async"in R||(this.errors=R.errors),y}compile(w,F){const R=this._addSchema(w,F);return R.validate||this._compileSchemaEnv(R)}compileAsync(w,F){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:R}=this.opts;return y.call(this,w,F);async function y(ce,P){await S.call(this,ce.$schema);const L=this._addSchema(ce,P);return L.validate||U.call(this,L)}async function S(ce){ce&&!this.getSchema(ce)&&await y.call(this,{$ref:ce},!0)}async function U(ce){try{return this._compileSchemaEnv(ce)}catch(P){if(!(P instanceof i.default))throw P;return Y.call(this,P),await Q.call(this,P.missingSchema),U.call(this,ce)}}function Y({missingSchema:ce,missingRef:P}){if(this.refs[ce])throw new Error(`AnySchema ${ce} is loaded but ${P} cannot be resolved`)}async function Q(ce){const P=await ae.call(this,ce);this.refs[ce]||await S.call(this,P.$schema),this.refs[ce]||this.addSchema(P,ce,F)}async function ae(ce){const P=this._loading[ce];if(P)return P;try{return await(this._loading[ce]=R(ce))}finally{delete this._loading[ce]}}}addSchema(w,F,R,y=this.opts.validateSchema){if(Array.isArray(w)){for(const U of w)this.addSchema(U,void 0,R,y);return this}let S;if(typeof w=="object"){const{schemaId:U}=this.opts;if(S=w[U],S!==void 0&&typeof S!="string")throw new Error(`schema ${U} must be string`)}return F=(0,c.normalizeId)(F||S),this._checkUnique(F),this.schemas[F]=this._addSchema(w,R,F,y,!0),this}addMetaSchema(w,F,R=this.opts.validateSchema){return this.addSchema(w,F,!0,R),this}validateSchema(w,F){if(typeof w=="boolean")return!0;let R;if(R=w.$schema,R!==void 0&&typeof R!="string")throw new Error("$schema must be a string");if(R=R||this.opts.defaultMeta||this.defaultMeta(),!R)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const y=this.validate(R,w);if(!y&&F){const S="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(S);else throw new Error(S)}return y}getSchema(w){let F;for(;typeof(F=b.call(this,w))=="string";)w=F;if(F===void 0){const{schemaId:R}=this.opts,y=new o.SchemaEnv({schema:{},schemaId:R});if(F=o.resolveSchema.call(this,y,w),!F)return;this.refs[w]=F}return F.validate||this._compileSchemaEnv(F)}removeSchema(w){if(w instanceof RegExp)return this._removeAllSchemas(this.schemas,w),this._removeAllSchemas(this.refs,w),this;switch(typeof w){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const F=b.call(this,w);return typeof F=="object"&&this._cache.delete(F.schema),delete this.schemas[w],delete this.refs[w],this}case"object":{const F=w;this._cache.delete(F);let R=w[this.opts.schemaId];return R&&(R=(0,c.normalizeId)(R),delete this.schemas[R],delete this.refs[R]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(w){for(const F of w)this.addKeyword(F);return this}addKeyword(w,F){let R;if(typeof w=="string")R=w,typeof F=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),F.keyword=R);else if(typeof w=="object"&&F===void 0){if(F=w,R=F.keyword,Array.isArray(R)&&!R.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(x.call(this,R,F),!F)return(0,a.eachItem)(R,S=>K.call(this,S)),this;B.call(this,F);const y={...F,type:(0,m.getJSONTypes)(F.type),schemaType:(0,m.getJSONTypes)(F.schemaType)};return(0,a.eachItem)(R,y.type.length===0?S=>K.call(this,S,y):S=>y.type.forEach(U=>K.call(this,S,y,U))),this}getKeyword(w){const F=this.RULES.all[w];return typeof F=="object"?F.definition:!!F}removeKeyword(w){const{RULES:F}=this;delete F.keywords[w],delete F.all[w];for(const R of F.rules){const y=R.rules.findIndex(S=>S.keyword===w);y>=0&&R.rules.splice(y,1)}return this}addFormat(w,F){return typeof F=="string"&&(F=new RegExp(F)),this.formats[w]=F,this}errorsText(w=this.errors,{separator:F=", ",dataVar:R="data"}={}){return!w||w.length===0?"No errors":w.map(y=>`${R}${y.instancePath} ${y.message}`).reduce((y,S)=>y+F+S)}$dataMetaSchema(w,F){const R=this.RULES.all;w=JSON.parse(JSON.stringify(w));for(const y of F){const S=y.split("/").slice(1);let U=w;for(const Y of S)U=U[Y];for(const Y in R){const Q=R[Y];if(typeof Q!="object")continue;const{$data:ae}=Q.definition,ce=U[Y];ae&&ce&&(U[Y]=j(ce))}}return w}_removeAllSchemas(w,F){for(const R in w){const y=w[R];(!F||F.test(R))&&(typeof y=="string"?delete w[R]:y&&!y.meta&&(this._cache.delete(y.schema),delete w[R]))}}_addSchema(w,F,R,y=this.opts.validateSchema,S=this.opts.addUsedSchema){let U;const{schemaId:Y}=this.opts;if(typeof w=="object")U=w[Y];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof w!="boolean")throw new Error("schema must be object or boolean")}let Q=this._cache.get(w);if(Q!==void 0)return Q;R=(0,c.normalizeId)(U||R);const ae=c.getSchemaRefs.call(this,w,R);return Q=new o.SchemaEnv({schema:w,schemaId:Y,meta:F,baseId:R,localRefs:ae}),this._cache.set(Q.schema,Q),S&&!R.startsWith("#")&&(R&&this._checkUnique(R),this.refs[R]=Q),y&&this.validateSchema(w,!0),Q}_checkUnique(w){if(this.schemas[w]||this.refs[w])throw new Error(`schema with key or id "${w}" already exists`)}_compileSchemaEnv(w){if(w.meta?this._compileMetaSchema(w):o.compileSchema.call(this,w),!w.validate)throw new Error("ajv implementation error");return w.validate}_compileMetaSchema(w){const F=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,w)}finally{this.opts=F}}}e.default=T,T.ValidationError=n.default,T.MissingRefError=i.default;function G(O,w,F,R="error"){for(const y in O){const S=y;S in w&&this.logger[R](`${F}: option ${y}. ${O[S]}`)}}function b(O){return O=(0,c.normalizeId)(O),this.schemas[O]||this.refs[O]}function D(){const O=this.opts.schemas;if(O)if(Array.isArray(O))this.addSchema(O);else for(const w in O)this.addSchema(O[w],w)}function z(){for(const O in this.opts.formats){const w=this.opts.formats[O];w&&this.addFormat(O,w)}}function A(O){if(Array.isArray(O)){this.addVocabulary(O);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const w in O){const F=O[w];F.keyword||(F.keyword=w),this.addKeyword(F)}}function H(){const O={...this.opts};for(const w of l)delete O[w];return O}const X={log(){},warn(){},error(){}};function J(O){if(O===!1)return X;if(O===void 0)return console;if(O.log&&O.warn&&O.error)return O;throw new Error("logger must implement log, warn and error methods")}const V=/^[a-z_$][a-z0-9_$:-]*$/i;function x(O,w){const{RULES:F}=this;if((0,a.eachItem)(O,R=>{if(F.keywords[R])throw new Error(`Keyword ${R} is already defined`);if(!V.test(R))throw new Error(`Keyword ${R} has invalid name`)}),!!w&&w.$data&&!("code"in w||"validate"in w))throw new Error('$data keyword must have "code" or "validate" function')}function K(O,w,F){var R;const y=w?.post;if(F&&y)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:S}=this;let U=y?S.post:S.rules.find(({type:Q})=>Q===F);if(U||(U={type:F,rules:[]},S.rules.push(U)),S.keywords[O]=!0,!w)return;const Y={keyword:O,definition:{...w,type:(0,m.getJSONTypes)(w.type),schemaType:(0,m.getJSONTypes)(w.schemaType)}};w.before?W.call(this,U,Y,w.before):U.rules.push(Y),S.all[O]=Y,(R=w.implements)===null||R===void 0||R.forEach(Q=>this.addKeyword(Q))}function W(O,w,F){const R=O.rules.findIndex(y=>y.keyword===F);R>=0?O.rules.splice(R,0,w):(O.rules.push(w),this.logger.warn(`rule ${F} is not defined`))}function B(O){let{metaSchema:w}=O;w!==void 0&&(O.$data&&this.opts.$data&&(w=j(w)),O.validateSchema=this.compile(w,!0))}const C={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function j(O){return{anyOf:[O,C]}}})(xc);var gs={},$s={},_s={};Object.defineProperty(_s,"__esModule",{value:!0});const Bh={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};_s.default=Bh;var dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.callRef=dr.getValidate=void 0;const Kh=hn,qo=ue,ot=oe,gr=At,Bo=at,Tn=he,Wh={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:i,schemaEnv:s,validateName:o,opts:u,self:c}=n,{root:m}=s;if((r==="#"||r==="#/")&&i===m.baseId)return d();const a=Bo.resolveRef.call(c,m,i,r);if(a===void 0)throw new Kh.default(n.opts.uriResolver,i,r);if(a instanceof Bo.SchemaEnv)return v(a);return h(a);function d(){if(s===m)return Mn(e,o,s,s.$async);const l=t.scopeValue("root",{ref:m});return Mn(e,(0,ot._)`${l}.validate`,m,m.$async)}function v(l){const p=Yc(e,l);Mn(e,p,l,l.$async)}function h(l){const p=t.scopeValue("schema",u.code.source===!0?{ref:l,code:(0,ot.stringify)(l)}:{ref:l}),E=t.name("valid"),f=e.subschema({schema:l,dataTypes:[],schemaPath:ot.nil,topSchemaRef:p,errSchemaPath:r},E);e.mergeEvaluated(f),e.ok(E)}}};function Yc(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,ot._)`${r.scopeValue("wrapper",{ref:t})}.validate`}dr.getValidate=Yc;function Mn(e,t,r,n){const{gen:i,it:s}=e,{allErrors:o,schemaEnv:u,opts:c}=s,m=c.passContext?gr.default.this:ot.nil;n?a():d();function a(){if(!u.$async)throw new Error("async schema referenced by sync schema");const l=i.let("valid");i.try(()=>{i.code((0,ot._)`await ${(0,qo.callValidateCode)(e,t,m)}`),h(t),o||i.assign(l,!0)},p=>{i.if((0,ot._)`!(${p} instanceof ${s.ValidationError})`,()=>i.throw(p)),v(p),o||i.assign(l,!1)}),e.ok(l)}function d(){e.result((0,qo.callValidateCode)(e,t,m),()=>h(t),()=>v(t))}function v(l){const p=(0,ot._)`${l}.errors`;i.assign(gr.default.vErrors,(0,ot._)`${gr.default.vErrors} === null ? ${p} : ${gr.default.vErrors}.concat(${p})`),i.assign(gr.default.errors,(0,ot._)`${gr.default.vErrors}.length`)}function h(l){var p;if(!s.opts.unevaluated)return;const E=(p=r?.validate)===null||p===void 0?void 0:p.evaluated;if(s.props!==!0)if(E&&!E.dynamicProps)E.props!==void 0&&(s.props=Tn.mergeEvaluated.props(i,E.props,s.props));else{const f=i.var("props",(0,ot._)`${l}.evaluated.props`);s.props=Tn.mergeEvaluated.props(i,f,s.props,ot.Name)}if(s.items!==!0)if(E&&!E.dynamicItems)E.items!==void 0&&(s.items=Tn.mergeEvaluated.items(i,E.items,s.items));else{const f=i.var("items",(0,ot._)`${l}.evaluated.items`);s.items=Tn.mergeEvaluated.items(i,f,s.items,ot.Name)}}}dr.callRef=Mn;dr.default=Wh;Object.defineProperty($s,"__esModule",{value:!0});const Xh=_s,Zh=dr,Jh=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Xh.default,Zh.default];$s.default=Jh;var Ss={},ws={};Object.defineProperty(ws,"__esModule",{value:!0});const Hn=oe,Ht=Hn.operators,qn={maximum:{okStr:"<=",ok:Ht.LTE,fail:Ht.GT},minimum:{okStr:">=",ok:Ht.GTE,fail:Ht.LT},exclusiveMaximum:{okStr:"<",ok:Ht.LT,fail:Ht.GTE},exclusiveMinimum:{okStr:">",ok:Ht.GT,fail:Ht.LTE}},Yh={message:({keyword:e,schemaCode:t})=>(0,Hn.str)`must be ${qn[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Hn._)`{comparison: ${qn[e].okStr}, limit: ${t}}`},Qh={keyword:Object.keys(qn),type:"number",schemaType:"number",$data:!0,error:Yh,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Hn._)`${r} ${qn[t].fail} ${n} || isNaN(${r})`)}};ws.default=Qh;var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});const Jr=oe,em={message:({schemaCode:e})=>(0,Jr.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Jr._)`{multipleOf: ${e}}`},tm={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:em,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e,s=i.opts.multipleOfPrecision,o=t.let("res"),u=s?(0,Jr._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${s}`:(0,Jr._)`${o} !== parseInt(${o})`;e.fail$data((0,Jr._)`(${n} === 0 || (${o} = ${r}/${n}, ${u}))`)}};Ns.default=tm;var Is={},Os={};Object.defineProperty(Os,"__esModule",{value:!0});function Qc(e){const t=e.length;let r=0,n=0,i;for(;n<t;)r++,i=e.charCodeAt(n++),i>=55296&&i<=56319&&n<t&&(i=e.charCodeAt(n),(i&64512)===56320&&n++);return r}Os.default=Qc;Qc.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Is,"__esModule",{value:!0});const or=oe,rm=he,nm=Os,im={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,or.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,or._)`{limit: ${e}}`},sm={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:im,code(e){const{keyword:t,data:r,schemaCode:n,it:i}=e,s=t==="maxLength"?or.operators.GT:or.operators.LT,o=i.opts.unicode===!1?(0,or._)`${r}.length`:(0,or._)`${(0,rm.useFunc)(e.gen,nm.default)}(${r})`;e.fail$data((0,or._)`${o} ${s} ${n}`)}};Is.default=sm;var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});const om=ue,Bn=oe,am={message:({schemaCode:e})=>(0,Bn.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Bn._)`{pattern: ${e}}`},cm={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:am,code(e){const{data:t,$data:r,schema:n,schemaCode:i,it:s}=e,o=s.opts.unicodeRegExp?"u":"",u=r?(0,Bn._)`(new RegExp(${i}, ${o}))`:(0,om.usePattern)(e,n);e.fail$data((0,Bn._)`!${u}.test(${t})`)}};Ts.default=cm;var bs={};Object.defineProperty(bs,"__esModule",{value:!0});const Yr=oe,um={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Yr.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Yr._)`{limit: ${e}}`},lm={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:um,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxProperties"?Yr.operators.GT:Yr.operators.LT;e.fail$data((0,Yr._)`Object.keys(${r}).length ${i} ${n}`)}};bs.default=lm;var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});const qr=ue,Qr=oe,fm=he,dm={message:({params:{missingProperty:e}})=>(0,Qr.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Qr._)`{missingProperty: ${e}}`},hm={keyword:"required",type:"object",schemaType:"array",$data:!0,error:dm,code(e){const{gen:t,schema:r,schemaCode:n,data:i,$data:s,it:o}=e,{opts:u}=o;if(!s&&r.length===0)return;const c=r.length>=u.loopRequired;if(o.allErrors?m():a(),u.strictRequired){const h=e.parentSchema.properties,{definedProperties:l}=e.it;for(const p of r)if(h?.[p]===void 0&&!l.has(p)){const E=o.schemaEnv.baseId+o.errSchemaPath,f=`required property "${p}" is not defined at "${E}" (strictRequired)`;(0,fm.checkStrictMode)(o,f,o.opts.strictRequired)}}function m(){if(c||s)e.block$data(Qr.nil,d);else for(const h of r)(0,qr.checkReportMissingProp)(e,h)}function a(){const h=t.let("missing");if(c||s){const l=t.let("valid",!0);e.block$data(l,()=>v(h,l)),e.ok(l)}else t.if((0,qr.checkMissingProp)(e,r,h)),(0,qr.reportMissingProp)(e,h),t.else()}function d(){t.forOf("prop",n,h=>{e.setParams({missingProperty:h}),t.if((0,qr.noPropertyInData)(t,i,h,u.ownProperties),()=>e.error())})}function v(h,l){e.setParams({missingProperty:h}),t.forOf(h,n,()=>{t.assign(l,(0,qr.propertyInData)(t,i,h,u.ownProperties)),t.if((0,Qr.not)(l),()=>{e.error(),t.break()})},Qr.nil)}}};Ds.default=hm;var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});const en=oe,mm={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,en.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,en._)`{limit: ${e}}`},pm={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:mm,code(e){const{keyword:t,data:r,schemaCode:n}=e,i=t==="maxItems"?en.operators.GT:en.operators.LT;e.fail$data((0,en._)`${r}.length ${i} ${n}`)}};Rs.default=pm;var Ps={},mn={};Object.defineProperty(mn,"__esModule",{value:!0});const eu=qc;eu.code='require("ajv/dist/runtime/equal").default';mn.default=eu;Object.defineProperty(Ps,"__esModule",{value:!0});const $i=cn,Ge=oe,ym=he,vm=mn,Em={message:({params:{i:e,j:t}})=>(0,Ge.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ge._)`{i: ${e}, j: ${t}}`},gm={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Em,code(e){const{gen:t,data:r,$data:n,schema:i,parentSchema:s,schemaCode:o,it:u}=e;if(!n&&!i)return;const c=t.let("valid"),m=s.items?(0,$i.getSchemaTypes)(s.items):[];e.block$data(c,a,(0,Ge._)`${o} === false`),e.ok(c);function a(){const l=t.let("i",(0,Ge._)`${r}.length`),p=t.let("j");e.setParams({i:l,j:p}),t.assign(c,!0),t.if((0,Ge._)`${l} > 1`,()=>(d()?v:h)(l,p))}function d(){return m.length>0&&!m.some(l=>l==="object"||l==="array")}function v(l,p){const E=t.name("item"),f=(0,$i.checkDataTypes)(m,E,u.opts.strictNumbers,$i.DataType.Wrong),$=t.const("indices",(0,Ge._)`{}`);t.for((0,Ge._)`;${l}--;`,()=>{t.let(E,(0,Ge._)`${r}[${l}]`),t.if(f,(0,Ge._)`continue`),m.length>1&&t.if((0,Ge._)`typeof ${E} == "string"`,(0,Ge._)`${E} += "_"`),t.if((0,Ge._)`typeof ${$}[${E}] == "number"`,()=>{t.assign(p,(0,Ge._)`${$}[${E}]`),e.error(),t.assign(c,!1).break()}).code((0,Ge._)`${$}[${E}] = ${l}`)})}function h(l,p){const E=(0,ym.useFunc)(t,vm.default),f=t.name("outer");t.label(f).for((0,Ge._)`;${l}--;`,()=>t.for((0,Ge._)`${p} = ${l}; ${p}--;`,()=>t.if((0,Ge._)`${E}(${r}[${l}], ${r}[${p}])`,()=>{e.error(),t.assign(c,!1).break(f)})))}}};Ps.default=gm;var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});const xi=oe,$m=he,_m=mn,Sm={message:"must be equal to constant",params:({schemaCode:e})=>(0,xi._)`{allowedValue: ${e}}`},wm={keyword:"const",$data:!0,error:Sm,code(e){const{gen:t,data:r,$data:n,schemaCode:i,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,xi._)`!${(0,$m.useFunc)(t,_m.default)}(${r}, ${i})`):e.fail((0,xi._)`${s} !== ${r}`)}};Cs.default=wm;var As={};Object.defineProperty(As,"__esModule",{value:!0});const Wr=oe,Nm=he,Im=mn,Om={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Wr._)`{allowedValues: ${e}}`},Tm={keyword:"enum",schemaType:"array",$data:!0,error:Om,code(e){const{gen:t,data:r,$data:n,schema:i,schemaCode:s,it:o}=e;if(!n&&i.length===0)throw new Error("enum must have non-empty array");const u=i.length>=o.opts.loopEnum;let c;const m=()=>c??(c=(0,Nm.useFunc)(t,Im.default));let a;if(u||n)a=t.let("valid"),e.block$data(a,d);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=t.const("vSchema",s);a=(0,Wr.or)(...i.map((l,p)=>v(h,p)))}e.pass(a);function d(){t.assign(a,!1),t.forOf("v",s,h=>t.if((0,Wr._)`${m()}(${r}, ${h})`,()=>t.assign(a,!0).break()))}function v(h,l){const p=i[l];return typeof p=="object"&&p!==null?(0,Wr._)`${m()}(${r}, ${h}[${l}])`:(0,Wr._)`${r} === ${p}`}}};As.default=Tm;Object.defineProperty(Ss,"__esModule",{value:!0});const bm=ws,Dm=Ns,Rm=Is,Pm=Ts,Cm=bs,Am=Ds,Lm=Rs,Fm=Ps,jm=Cs,km=As,Mm=[bm.default,Dm.default,Rm.default,Pm.default,Cm.default,Am.default,Lm.default,Fm.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},jm.default,km.default];Ss.default=Mm;var Ls={},jr={};Object.defineProperty(jr,"__esModule",{value:!0});jr.validateAdditionalItems=void 0;const ar=oe,Vi=he,Um={message:({params:{len:e}})=>(0,ar.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ar._)`{limit: ${e}}`},xm={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Um,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Vi.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}tu(e,n)}};function tu(e,t){const{gen:r,schema:n,data:i,keyword:s,it:o}=e;o.items=!0;const u=r.const("len",(0,ar._)`${i}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,ar._)`${u} <= ${t.length}`);else if(typeof n=="object"&&!(0,Vi.alwaysValidSchema)(o,n)){const m=r.var("valid",(0,ar._)`${u} <= ${t.length}`);r.if((0,ar.not)(m),()=>c(m)),e.ok(m)}function c(m){r.forRange("i",t.length,u,a=>{e.subschema({keyword:s,dataProp:a,dataPropType:Vi.Type.Num},m),o.allErrors||r.if((0,ar.not)(m),()=>r.break())})}}jr.validateAdditionalItems=tu;jr.default=xm;var Fs={},kr={};Object.defineProperty(kr,"__esModule",{value:!0});kr.validateTuple=void 0;const Ko=oe,Un=he,Vm=ue,zm={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return ru(e,"additionalItems",t);r.items=!0,!(0,Un.alwaysValidSchema)(r,t)&&e.ok((0,Vm.validateArray)(e))}};function ru(e,t,r=e.schema){const{gen:n,parentSchema:i,data:s,keyword:o,it:u}=e;a(i),u.opts.unevaluated&&r.length&&u.items!==!0&&(u.items=Un.mergeEvaluated.items(n,r.length,u.items));const c=n.name("valid"),m=n.const("len",(0,Ko._)`${s}.length`);r.forEach((d,v)=>{(0,Un.alwaysValidSchema)(u,d)||(n.if((0,Ko._)`${m} > ${v}`,()=>e.subschema({keyword:o,schemaProp:v,dataProp:v},c)),e.ok(c))});function a(d){const{opts:v,errSchemaPath:h}=u,l=r.length,p=l===d.minItems&&(l===d.maxItems||d[t]===!1);if(v.strictTuples&&!p){const E=`"${o}" is ${l}-tuple, but minItems or maxItems/${t} are not specified or different at path "${h}"`;(0,Un.checkStrictMode)(u,E,v.strictTuples)}}}kr.validateTuple=ru;kr.default=zm;Object.defineProperty(Fs,"__esModule",{value:!0});const Gm=kr,Hm={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Gm.validateTuple)(e,"items")};Fs.default=Hm;var js={};Object.defineProperty(js,"__esModule",{value:!0});const Wo=oe,qm=he,Bm=ue,Km=jr,Wm={message:({params:{len:e}})=>(0,Wo.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Wo._)`{limit: ${e}}`},Xm={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Wm,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:i}=r;n.items=!0,!(0,qm.alwaysValidSchema)(n,t)&&(i?(0,Km.validateAdditionalItems)(e,i):e.ok((0,Bm.validateArray)(e)))}};js.default=Xm;var ks={};Object.defineProperty(ks,"__esModule",{value:!0});const yt=oe,bn=he,Zm={message:({params:{min:e,max:t}})=>t===void 0?(0,yt.str)`must contain at least ${e} valid item(s)`:(0,yt.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,yt._)`{minContains: ${e}}`:(0,yt._)`{minContains: ${e}, maxContains: ${t}}`},Jm={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Zm,code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;let o,u;const{minContains:c,maxContains:m}=n;s.opts.next?(o=c===void 0?1:c,u=m):o=1;const a=t.const("len",(0,yt._)`${i}.length`);if(e.setParams({min:o,max:u}),u===void 0&&o===0){(0,bn.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(u!==void 0&&o>u){(0,bn.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,bn.alwaysValidSchema)(s,r)){let p=(0,yt._)`${a} >= ${o}`;u!==void 0&&(p=(0,yt._)`${p} && ${a} <= ${u}`),e.pass(p);return}s.items=!0;const d=t.name("valid");u===void 0&&o===1?h(d,()=>t.if(d,()=>t.break())):o===0?(t.let(d,!0),u!==void 0&&t.if((0,yt._)`${i}.length > 0`,v)):(t.let(d,!1),v()),e.result(d,()=>e.reset());function v(){const p=t.name("_valid"),E=t.let("count",0);h(p,()=>t.if(p,()=>l(E)))}function h(p,E){t.forRange("i",0,a,f=>{e.subschema({keyword:"contains",dataProp:f,dataPropType:bn.Type.Num,compositeRule:!0},p),E()})}function l(p){t.code((0,yt._)`${p}++`),u===void 0?t.if((0,yt._)`${p} >= ${o}`,()=>t.assign(d,!0).break()):(t.if((0,yt._)`${p} > ${u}`,()=>t.assign(d,!1).break()),o===1?t.assign(d,!0):t.if((0,yt._)`${p} >= ${o}`,()=>t.assign(d,!0)))}}};ks.default=Jm;var nu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=oe,r=he,n=ue;e.error={message:({params:{property:c,depsCount:m,deps:a}})=>{const d=m===1?"property":"properties";return(0,t.str)`must have ${d} ${a} when property ${c} is present`},params:({params:{property:c,depsCount:m,deps:a,missingProperty:d}})=>(0,t._)`{property: ${c},
    missingProperty: ${d},
    depsCount: ${m},
    deps: ${a}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[m,a]=s(c);o(c,m),u(c,a)}};function s({schema:c}){const m={},a={};for(const d in c){if(d==="__proto__")continue;const v=Array.isArray(c[d])?m:a;v[d]=c[d]}return[m,a]}function o(c,m=c.schema){const{gen:a,data:d,it:v}=c;if(Object.keys(m).length===0)return;const h=a.let("missing");for(const l in m){const p=m[l];if(p.length===0)continue;const E=(0,n.propertyInData)(a,d,l,v.opts.ownProperties);c.setParams({property:l,depsCount:p.length,deps:p.join(", ")}),v.allErrors?a.if(E,()=>{for(const f of p)(0,n.checkReportMissingProp)(c,f)}):(a.if((0,t._)`${E} && (${(0,n.checkMissingProp)(c,p,h)})`),(0,n.reportMissingProp)(c,h),a.else())}}e.validatePropertyDeps=o;function u(c,m=c.schema){const{gen:a,data:d,keyword:v,it:h}=c,l=a.name("valid");for(const p in m)(0,r.alwaysValidSchema)(h,m[p])||(a.if((0,n.propertyInData)(a,d,p,h.opts.ownProperties),()=>{const E=c.subschema({keyword:v,schemaProp:p},l);c.mergeValidEvaluated(E,l)},()=>a.var(l,!0)),c.ok(l))}e.validateSchemaDeps=u,e.default=i})(nu);var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});const iu=oe,Ym=he,Qm={message:"property name must be valid",params:({params:e})=>(0,iu._)`{propertyName: ${e.propertyName}}`},ep={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Qm,code(e){const{gen:t,schema:r,data:n,it:i}=e;if((0,Ym.alwaysValidSchema)(i,r))return;const s=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},s),t.if((0,iu.not)(s),()=>{e.error(!0),i.allErrors||t.break()})}),e.ok(s)}};Ms.default=ep;var ii={};Object.defineProperty(ii,"__esModule",{value:!0});const Dn=ue,gt=oe,tp=At,Rn=he,rp={message:"must NOT have additional properties",params:({params:e})=>(0,gt._)`{additionalProperty: ${e.additionalProperty}}`},np={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:rp,code(e){const{gen:t,schema:r,parentSchema:n,data:i,errsCount:s,it:o}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:u,opts:c}=o;if(o.props=!0,c.removeAdditional!=="all"&&(0,Rn.alwaysValidSchema)(o,r))return;const m=(0,Dn.allSchemaProperties)(n.properties),a=(0,Dn.allSchemaProperties)(n.patternProperties);d(),e.ok((0,gt._)`${s} === ${tp.default.errors}`);function d(){t.forIn("key",i,E=>{!m.length&&!a.length?l(E):t.if(v(E),()=>l(E))})}function v(E){let f;if(m.length>8){const $=(0,Rn.schemaRefOrVal)(o,n.properties,"properties");f=(0,Dn.isOwnProperty)(t,$,E)}else m.length?f=(0,gt.or)(...m.map($=>(0,gt._)`${E} === ${$}`)):f=gt.nil;return a.length&&(f=(0,gt.or)(f,...a.map($=>(0,gt._)`${(0,Dn.usePattern)(e,$)}.test(${E})`))),(0,gt.not)(f)}function h(E){t.code((0,gt._)`delete ${i}[${E}]`)}function l(E){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){h(E);return}if(r===!1){e.setParams({additionalProperty:E}),e.error(),u||t.break();return}if(typeof r=="object"&&!(0,Rn.alwaysValidSchema)(o,r)){const f=t.name("valid");c.removeAdditional==="failing"?(p(E,f,!1),t.if((0,gt.not)(f),()=>{e.reset(),h(E)})):(p(E,f),u||t.if((0,gt.not)(f),()=>t.break()))}}function p(E,f,$){const _={keyword:"additionalProperties",dataProp:E,dataPropType:Rn.Type.Str};$===!1&&Object.assign(_,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(_,f)}}};ii.default=np;var Us={};Object.defineProperty(Us,"__esModule",{value:!0});const ip=ti(),Xo=ue,_i=he,Zo=ii,sp={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:i,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Zo.default.code(new ip.KeywordCxt(s,Zo.default,"additionalProperties"));const o=(0,Xo.allSchemaProperties)(r);for(const d of o)s.definedProperties.add(d);s.opts.unevaluated&&o.length&&s.props!==!0&&(s.props=_i.mergeEvaluated.props(t,(0,_i.toHash)(o),s.props));const u=o.filter(d=>!(0,_i.alwaysValidSchema)(s,r[d]));if(u.length===0)return;const c=t.name("valid");for(const d of u)m(d)?a(d):(t.if((0,Xo.propertyInData)(t,i,d,s.opts.ownProperties)),a(d),s.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(d),e.ok(c);function m(d){return s.opts.useDefaults&&!s.compositeRule&&r[d].default!==void 0}function a(d){e.subschema({keyword:"properties",schemaProp:d,dataProp:d},c)}}};Us.default=sp;var xs={};Object.defineProperty(xs,"__esModule",{value:!0});const Jo=ue,Pn=oe,Yo=he,Qo=he,op={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:i,it:s}=e,{opts:o}=s,u=(0,Jo.allSchemaProperties)(r),c=u.filter(p=>(0,Yo.alwaysValidSchema)(s,r[p]));if(u.length===0||c.length===u.length&&(!s.opts.unevaluated||s.props===!0))return;const m=o.strictSchema&&!o.allowMatchingProperties&&i.properties,a=t.name("valid");s.props!==!0&&!(s.props instanceof Pn.Name)&&(s.props=(0,Qo.evaluatedPropsToName)(t,s.props));const{props:d}=s;v();function v(){for(const p of u)m&&h(p),s.allErrors?l(p):(t.var(a,!0),l(p),t.if(a))}function h(p){for(const E in m)new RegExp(p).test(E)&&(0,Yo.checkStrictMode)(s,`property ${E} matches pattern ${p} (use allowMatchingProperties)`)}function l(p){t.forIn("key",n,E=>{t.if((0,Pn._)`${(0,Jo.usePattern)(e,p)}.test(${E})`,()=>{const f=c.includes(p);f||e.subschema({keyword:"patternProperties",schemaProp:p,dataProp:E,dataPropType:Qo.Type.Str},a),s.opts.unevaluated&&d!==!0?t.assign((0,Pn._)`${d}[${E}]`,!0):!f&&!s.allErrors&&t.if((0,Pn.not)(a),()=>t.break())})})}}};xs.default=op;var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});const ap=he,cp={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,ap.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),e.failResult(i,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Vs.default=cp;var zs={};Object.defineProperty(zs,"__esModule",{value:!0});const up=ue,lp={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:up.validateUnion,error:{message:"must match a schema in anyOf"}};zs.default=lp;var Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});const xn=oe,fp=he,dp={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,xn._)`{passingSchemas: ${e.passing}}`},hp={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:dp,code(e){const{gen:t,schema:r,parentSchema:n,it:i}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(i.opts.discriminator&&n.discriminator)return;const s=r,o=t.let("valid",!1),u=t.let("passing",null),c=t.name("_valid");e.setParams({passing:u}),t.block(m),e.result(o,()=>e.reset(),()=>e.error(!0));function m(){s.forEach((a,d)=>{let v;(0,fp.alwaysValidSchema)(i,a)?t.var(c,!0):v=e.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},c),d>0&&t.if((0,xn._)`${c} && ${o}`).assign(o,!1).assign(u,(0,xn._)`[${u}, ${d}]`).else(),t.if(c,()=>{t.assign(o,!0),t.assign(u,d),v&&e.mergeEvaluated(v,xn.Name)})})}}};Gs.default=hp;var Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});const mp=he,pp={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach((s,o)=>{if((0,mp.alwaysValidSchema)(n,s))return;const u=e.subschema({keyword:"allOf",schemaProp:o},i);e.ok(i),e.mergeEvaluated(u)})}};Hs.default=pp;var qs={};Object.defineProperty(qs,"__esModule",{value:!0});const Kn=oe,su=he,yp={message:({params:e})=>(0,Kn.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Kn._)`{failingKeyword: ${e.ifClause}}`},vp={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:yp,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,su.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const i=ea(n,"then"),s=ea(n,"else");if(!i&&!s)return;const o=t.let("valid",!0),u=t.name("_valid");if(c(),e.reset(),i&&s){const a=t.let("ifClause");e.setParams({ifClause:a}),t.if(u,m("then",a),m("else",a))}else i?t.if(u,m("then")):t.if((0,Kn.not)(u),m("else"));e.pass(o,()=>e.error(!0));function c(){const a=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(a)}function m(a,d){return()=>{const v=e.subschema({keyword:a},u);t.assign(o,u),e.mergeValidEvaluated(v,o),d?t.assign(d,(0,Kn._)`${a}`):e.setParams({ifClause:a})}}}};function ea(e,t){const r=e.schema[t];return r!==void 0&&!(0,su.alwaysValidSchema)(e,r)}qs.default=vp;var Bs={};Object.defineProperty(Bs,"__esModule",{value:!0});const Ep=he,gp={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Ep.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Bs.default=gp;Object.defineProperty(Ls,"__esModule",{value:!0});const $p=jr,_p=Fs,Sp=kr,wp=js,Np=ks,Ip=nu,Op=Ms,Tp=ii,bp=Us,Dp=xs,Rp=Vs,Pp=zs,Cp=Gs,Ap=Hs,Lp=qs,Fp=Bs;function jp(e=!1){const t=[Rp.default,Pp.default,Cp.default,Ap.default,Lp.default,Fp.default,Op.default,Tp.default,Ip.default,bp.default,Dp.default];return e?t.push(_p.default,wp.default):t.push($p.default,Sp.default),t.push(Np.default),t}Ls.default=jp;var Ks={},Ws={};Object.defineProperty(Ws,"__esModule",{value:!0});const Pe=oe,kp={message:({schemaCode:e})=>(0,Pe.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Pe._)`{format: ${e}}`},Mp={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:kp,code(e,t){const{gen:r,data:n,$data:i,schema:s,schemaCode:o,it:u}=e,{opts:c,errSchemaPath:m,schemaEnv:a,self:d}=u;if(!c.validateFormats)return;i?v():h();function v(){const l=r.scopeValue("formats",{ref:d.formats,code:c.code.formats}),p=r.const("fDef",(0,Pe._)`${l}[${o}]`),E=r.let("fType"),f=r.let("format");r.if((0,Pe._)`typeof ${p} == "object" && !(${p} instanceof RegExp)`,()=>r.assign(E,(0,Pe._)`${p}.type || "string"`).assign(f,(0,Pe._)`${p}.validate`),()=>r.assign(E,(0,Pe._)`"string"`).assign(f,p)),e.fail$data((0,Pe.or)($(),_()));function $(){return c.strictSchema===!1?Pe.nil:(0,Pe._)`${o} && !${f}`}function _(){const T=a.$async?(0,Pe._)`(${p}.async ? await ${f}(${n}) : ${f}(${n}))`:(0,Pe._)`${f}(${n})`,G=(0,Pe._)`(typeof ${f} == "function" ? ${T} : ${f}.test(${n}))`;return(0,Pe._)`${f} && ${f} !== true && ${E} === ${t} && !${G}`}}function h(){const l=d.formats[s];if(!l){$();return}if(l===!0)return;const[p,E,f]=_(l);p===t&&e.pass(T());function $(){if(c.strictSchema===!1){d.logger.warn(G());return}throw new Error(G());function G(){return`unknown format "${s}" ignored in schema at path "${m}"`}}function _(G){const b=G instanceof RegExp?(0,Pe.regexpCode)(G):c.code.formats?(0,Pe._)`${c.code.formats}${(0,Pe.getProperty)(s)}`:void 0,D=r.scopeValue("formats",{key:s,ref:G,code:b});return typeof G=="object"&&!(G instanceof RegExp)?[G.type||"string",G.validate,(0,Pe._)`${D}.validate`]:["string",G,D]}function T(){if(typeof l=="object"&&!(l instanceof RegExp)&&l.async){if(!a.$async)throw new Error("async format in sync schema");return(0,Pe._)`await ${f}(${n})`}return typeof E=="function"?(0,Pe._)`${f}(${n})`:(0,Pe._)`${f}.test(${n})`}}}};Ws.default=Mp;Object.defineProperty(Ks,"__esModule",{value:!0});const Up=Ws,xp=[Up.default];Ks.default=xp;var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.contentVocabulary=Cr.metadataVocabulary=void 0;Cr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Cr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(gs,"__esModule",{value:!0});const Vp=$s,zp=Ss,Gp=Ls,Hp=Ks,ta=Cr,qp=[Vp.default,zp.default,(0,Gp.default)(),Hp.default,ta.metadataVocabulary,ta.contentVocabulary];gs.default=qp;var Xs={},ou={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(ou);Object.defineProperty(Xs,"__esModule",{value:!0});const Sr=oe,zi=ou,ra=at,Bp=he,Kp={message:({params:{discrError:e,tagName:t}})=>e===zi.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Sr._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Wp={keyword:"discriminator",type:"object",schemaType:"object",error:Kp,code(e){const{gen:t,data:r,schema:n,parentSchema:i,it:s}=e,{oneOf:o}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const u=n.propertyName;if(typeof u!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),m=t.const("tag",(0,Sr._)`${r}${(0,Sr.getProperty)(u)}`);t.if((0,Sr._)`typeof ${m} == "string"`,()=>a(),()=>e.error(!1,{discrError:zi.DiscrError.Tag,tag:m,tagName:u})),e.ok(c);function a(){const h=v();t.if(!1);for(const l in h)t.elseIf((0,Sr._)`${m} === ${l}`),t.assign(c,d(h[l]));t.else(),e.error(!1,{discrError:zi.DiscrError.Mapping,tag:m,tagName:u}),t.endIf()}function d(h){const l=t.name("valid"),p=e.subschema({keyword:"oneOf",schemaProp:h},l);return e.mergeEvaluated(p,Sr.Name),l}function v(){var h;const l={},p=f(i);let E=!0;for(let T=0;T<o.length;T++){let G=o[T];G?.$ref&&!(0,Bp.schemaHasRulesButRef)(G,s.self.RULES)&&(G=ra.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,G?.$ref),G instanceof ra.SchemaEnv&&(G=G.schema));const b=(h=G?.properties)===null||h===void 0?void 0:h[u];if(typeof b!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${u}"`);E=E&&(p||f(G)),$(b,T)}if(!E)throw new Error(`discriminator: "${u}" must be required`);return l;function f({required:T}){return Array.isArray(T)&&T.includes(u)}function $(T,G){if(T.const)_(T.const,G);else if(T.enum)for(const b of T.enum)_(b,G);else throw new Error(`discriminator: "properties/${u}" must have "const" or "enum"`)}function _(T,G){if(typeof T!="string"||T in l)throw new Error(`discriminator: "${u}" values must be unique strings`);l[T]=G}}}};Xs.default=Wp;const Xp="http://json-schema.org/draft-07/schema#",Zp="http://json-schema.org/draft-07/schema#",Jp="Core schema meta-schema",Yp={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Qp=["object","boolean"],ey={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},ty={$schema:Xp,$id:Zp,title:Jp,definitions:Yp,type:Qp,properties:ey,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=xc,n=gs,i=Xs,s=ty,o=["/properties"],u="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(l=>this.addVocabulary(l)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const l=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(l,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var m=ti();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return m.KeywordCxt}});var a=oe;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return a._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return a.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return a.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return a.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return a.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return a.CodeGen}});var d=dn;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var v=hn;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return v.default}})})(ji,ji.exports);var au=ji.exports,Gi={exports:{}},cu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(A,H){return{validate:A,compare:H}}e.fullFormats={date:t(s,o),time:t(c,m),"date-time":t(d,v),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:p,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:z,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:f,int32:{type:"number",validate:T},int64:{type:"number",validate:G},float:{type:"number",validate:b},double:{type:"number",validate:b},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,m),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,v),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(A){return A%4===0&&(A%100!==0||A%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(A){const H=n.exec(A);if(!H)return!1;const X=+H[1],J=+H[2],V=+H[3];return J>=1&&J<=12&&V>=1&&V<=(J===2&&r(X)?29:i[J])}function o(A,H){if(A&&H)return A>H?1:A<H?-1:0}const u=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function c(A,H){const X=u.exec(A);if(!X)return!1;const J=+X[1],V=+X[2],x=+X[3],K=X[5];return(J<=23&&V<=59&&x<=59||J===23&&V===59&&x===60)&&(!H||K!=="")}function m(A,H){if(!(A&&H))return;const X=u.exec(A),J=u.exec(H);if(X&&J)return A=X[1]+X[2]+X[3]+(X[4]||""),H=J[1]+J[2]+J[3]+(J[4]||""),A>H?1:A<H?-1:0}const a=/t|\s/i;function d(A){const H=A.split(a);return H.length===2&&s(H[0])&&c(H[1],!0)}function v(A,H){if(!(A&&H))return;const[X,J]=A.split(a),[V,x]=H.split(a),K=o(X,V);if(K!==void 0)return K||m(J,x)}const h=/\/|:/,l=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function p(A){return h.test(A)&&l.test(A)}const E=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function f(A){return E.lastIndex=0,E.test(A)}const $=-(2**31),_=2**31-1;function T(A){return Number.isInteger(A)&&A<=_&&A>=$}function G(A){return Number.isInteger(A)}function b(){return!0}const D=/[^\\]\\Z/;function z(A){if(D.test(A))return!1;try{return new RegExp(A),!0}catch{return!1}}})(cu);var uu={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=au,r=oe,n=r.operators,i={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:u,schemaCode:c})=>r.str`should be ${i[u].okStr} ${c}`,params:({keyword:u,schemaCode:c})=>r._`{comparison: ${i[u].okStr}, limit: ${c}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:s,code(u){const{gen:c,data:m,schemaCode:a,keyword:d,it:v}=u,{opts:h,self:l}=v;if(!h.validateFormats)return;const p=new t.KeywordCxt(v,l.RULES.all.format.definition,"format");p.$data?E():f();function E(){const _=c.scopeValue("formats",{ref:l.formats,code:h.code.formats}),T=c.const("fmt",r._`${_}[${p.schemaCode}]`);u.fail$data(r.or(r._`typeof ${T} != "object"`,r._`${T} instanceof RegExp`,r._`typeof ${T}.compare != "function"`,$(T)))}function f(){const _=p.schema,T=l.formats[_];if(!T||T===!0)return;if(typeof T!="object"||T instanceof RegExp||typeof T.compare!="function")throw new Error(`"${d}": format "${_}" does not define "compare" function`);const G=c.scopeValue("formats",{key:_,ref:T,code:h.code.formats?r._`${h.code.formats}${r.getProperty(_)}`:void 0});u.fail$data($(G))}function $(_){return r._`${_}.compare(${m}, ${a}) ${i[d].fail} 0`}},dependencies:["format"]};const o=u=>(u.addKeyword(e.formatLimitDefinition),u);e.default=o})(uu);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=cu,n=uu,i=oe,s=new i.Name("fullFormats"),o=new i.Name("fastFormats"),u=(m,a={keywords:!0})=>{if(Array.isArray(a))return c(m,a,r.fullFormats,s),m;const[d,v]=a.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,s],h=a.formats||r.formatNames;return c(m,h,d,v),a.keywords&&n.default(m),m};u.get=(m,a="full")=>{const v=(a==="fast"?r.fastFormats:r.fullFormats)[m];if(!v)throw new Error(`Unknown format "${m}"`);return v};function c(m,a,d,v){var h,l;(h=(l=m.opts.code).formats)!==null&&h!==void 0||(l.formats=i._`require("ajv-formats/dist/formats").${v}`);for(const p of a)m.addFormat(p,d[p])}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u})(Gi,Gi.exports);var ry=Gi.exports;const ny=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const i=Object.getOwnPropertyDescriptor(e,r),s=Object.getOwnPropertyDescriptor(t,r);!iy(i,s)&&n||Object.defineProperty(e,r,s)},iy=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},sy=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},oy=(e,t)=>`/* Wrapped ${e}*/
${t}`,ay=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),cy=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),uy=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,i=oy.bind(null,n,t.toString());Object.defineProperty(i,"name",cy),Object.defineProperty(e,"toString",{...ay,value:i})},ly=(e,t,{ignoreNonConfigurable:r=!1}={})=>{const{name:n}=e;for(const i of Reflect.ownKeys(t))ny(e,t,i,r);return sy(e,t),uy(e,t,n),e};var fy=ly;const dy=fy;var hy=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,before:n=!1,after:i=!0}=t;if(!n&&!i)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let s,o;const u=function(...c){const m=this,a=()=>{s=void 0,i&&(o=e.apply(m,c))},d=n&&!s;return clearTimeout(s),s=setTimeout(a,r),d&&(o=e.apply(m,c)),o};return dy(u,e),u.cancel=()=>{s&&(clearTimeout(s),s=void 0)},u},Hi={exports:{}};const my="2.0.0",lu=256,py=Number.MAX_SAFE_INTEGER||9007199254740991,yy=16,vy=lu-6,Ey=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var si={MAX_LENGTH:lu,MAX_SAFE_COMPONENT_LENGTH:yy,MAX_SAFE_BUILD_LENGTH:vy,MAX_SAFE_INTEGER:py,RELEASE_TYPES:Ey,SEMVER_SPEC_VERSION:my,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const gy=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var oi=gy;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=si,s=oi;t=e.exports={};const o=t.re=[],u=t.safeRe=[],c=t.src=[],m=t.t={};let a=0;const d="[a-zA-Z0-9-]",v=[["\\s",1],["\\d",i],[d,n]],h=p=>{for(const[E,f]of v)p=p.split(`${E}*`).join(`${E}{0,${f}}`).split(`${E}+`).join(`${E}{1,${f}}`);return p},l=(p,E,f)=>{const $=h(E),_=a++;s(p,_,E),m[p]=_,c[_]=E,o[_]=new RegExp(E,f?"g":void 0),u[_]=new RegExp($,f?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","\\d+"),l("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),l("MAINVERSION",`(${c[m.NUMERICIDENTIFIER]})\\.(${c[m.NUMERICIDENTIFIER]})\\.(${c[m.NUMERICIDENTIFIER]})`),l("MAINVERSIONLOOSE",`(${c[m.NUMERICIDENTIFIERLOOSE]})\\.(${c[m.NUMERICIDENTIFIERLOOSE]})\\.(${c[m.NUMERICIDENTIFIERLOOSE]})`),l("PRERELEASEIDENTIFIER",`(?:${c[m.NUMERICIDENTIFIER]}|${c[m.NONNUMERICIDENTIFIER]})`),l("PRERELEASEIDENTIFIERLOOSE",`(?:${c[m.NUMERICIDENTIFIERLOOSE]}|${c[m.NONNUMERICIDENTIFIER]})`),l("PRERELEASE",`(?:-(${c[m.PRERELEASEIDENTIFIER]}(?:\\.${c[m.PRERELEASEIDENTIFIER]})*))`),l("PRERELEASELOOSE",`(?:-?(${c[m.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[m.PRERELEASEIDENTIFIERLOOSE]})*))`),l("BUILDIDENTIFIER",`${d}+`),l("BUILD",`(?:\\+(${c[m.BUILDIDENTIFIER]}(?:\\.${c[m.BUILDIDENTIFIER]})*))`),l("FULLPLAIN",`v?${c[m.MAINVERSION]}${c[m.PRERELEASE]}?${c[m.BUILD]}?`),l("FULL",`^${c[m.FULLPLAIN]}$`),l("LOOSEPLAIN",`[v=\\s]*${c[m.MAINVERSIONLOOSE]}${c[m.PRERELEASELOOSE]}?${c[m.BUILD]}?`),l("LOOSE",`^${c[m.LOOSEPLAIN]}$`),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE",`${c[m.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),l("XRANGEIDENTIFIER",`${c[m.NUMERICIDENTIFIER]}|x|X|\\*`),l("XRANGEPLAIN",`[v=\\s]*(${c[m.XRANGEIDENTIFIER]})(?:\\.(${c[m.XRANGEIDENTIFIER]})(?:\\.(${c[m.XRANGEIDENTIFIER]})(?:${c[m.PRERELEASE]})?${c[m.BUILD]}?)?)?`),l("XRANGEPLAINLOOSE",`[v=\\s]*(${c[m.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[m.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[m.XRANGEIDENTIFIERLOOSE]})(?:${c[m.PRERELEASELOOSE]})?${c[m.BUILD]}?)?)?`),l("XRANGE",`^${c[m.GTLT]}\\s*${c[m.XRANGEPLAIN]}$`),l("XRANGELOOSE",`^${c[m.GTLT]}\\s*${c[m.XRANGEPLAINLOOSE]}$`),l("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),l("COERCERTL",c[m.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM",`(\\s*)${c[m.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",l("TILDE",`^${c[m.LONETILDE]}${c[m.XRANGEPLAIN]}$`),l("TILDELOOSE",`^${c[m.LONETILDE]}${c[m.XRANGEPLAINLOOSE]}$`),l("LONECARET","(?:\\^)"),l("CARETTRIM",`(\\s*)${c[m.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",l("CARET",`^${c[m.LONECARET]}${c[m.XRANGEPLAIN]}$`),l("CARETLOOSE",`^${c[m.LONECARET]}${c[m.XRANGEPLAINLOOSE]}$`),l("COMPARATORLOOSE",`^${c[m.GTLT]}\\s*(${c[m.LOOSEPLAIN]})$|^$`),l("COMPARATOR",`^${c[m.GTLT]}\\s*(${c[m.FULLPLAIN]})$|^$`),l("COMPARATORTRIM",`(\\s*)${c[m.GTLT]}\\s*(${c[m.LOOSEPLAIN]}|${c[m.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE",`^\\s*(${c[m.XRANGEPLAIN]})\\s+-\\s+(${c[m.XRANGEPLAIN]})\\s*$`),l("HYPHENRANGELOOSE",`^\\s*(${c[m.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[m.XRANGEPLAINLOOSE]})\\s*$`),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Hi,Hi.exports);var pn=Hi.exports;const $y=Object.freeze({loose:!0}),_y=Object.freeze({}),Sy=e=>e?typeof e!="object"?$y:e:_y;var Zs=Sy;const na=/^[0-9]+$/,fu=(e,t)=>{const r=na.test(e),n=na.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},wy=(e,t)=>fu(t,e);var du={compareIdentifiers:fu,rcompareIdentifiers:wy};const Cn=oi,{MAX_LENGTH:ia,MAX_SAFE_INTEGER:An}=si,{safeRe:sa,t:oa}=pn,Ny=Zs,{compareIdentifiers:$r}=du;let Iy=class Dt{constructor(t,r){if(r=Ny(r),t instanceof Dt){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>ia)throw new TypeError(`version is longer than ${ia} characters`);Cn("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?sa[oa.LOOSE]:sa[oa.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>An||this.major<0)throw new TypeError("Invalid major version");if(this.minor>An||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>An||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<An)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Cn("SemVer.compare",this.version,this.options,t),!(t instanceof Dt)){if(typeof t=="string"&&t===this.version)return 0;t=new Dt(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Dt||(t=new Dt(t,this.options)),$r(this.major,t.major)||$r(this.minor,t.minor)||$r(this.patch,t.patch)}comparePre(t){if(t instanceof Dt||(t=new Dt(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=t.prerelease[r];if(Cn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return $r(n,i)}while(++r)}compareBuild(t){t instanceof Dt||(t=new Dt(t,this.options));let r=0;do{const n=this.build[r],i=t.build[r];if(Cn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return $r(n,i)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),$r(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var nt=Iy;const aa=nt,Oy=(e,t,r=!1)=>{if(e instanceof aa)return e;try{return new aa(e,t)}catch(n){if(!r)return null;throw n}};var Mr=Oy;const Ty=Mr,by=(e,t)=>{const r=Ty(e,t);return r?r.version:null};var Dy=by;const Ry=Mr,Py=(e,t)=>{const r=Ry(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var Cy=Py;const ca=nt,Ay=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new ca(e instanceof ca?e.version:e,r).inc(t,n,i).version}catch{return null}};var Ly=Ay;const ua=Mr,Fy=(e,t)=>{const r=ua(e,null,!0),n=ua(t,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,u=s?n:r,c=!!o.prerelease.length;if(!!u.prerelease.length&&!c)return!u.patch&&!u.minor?"major":o.patch?"patch":o.minor?"minor":"major";const a=c?"pre":"";return r.major!==n.major?a+"major":r.minor!==n.minor?a+"minor":r.patch!==n.patch?a+"patch":"prerelease"};var jy=Fy;const ky=nt,My=(e,t)=>new ky(e,t).major;var Uy=My;const xy=nt,Vy=(e,t)=>new xy(e,t).minor;var zy=Vy;const Gy=nt,Hy=(e,t)=>new Gy(e,t).patch;var qy=Hy;const By=Mr,Ky=(e,t)=>{const r=By(e,t);return r&&r.prerelease.length?r.prerelease:null};var Wy=Ky;const la=nt,Xy=(e,t,r)=>new la(e,r).compare(new la(t,r));var St=Xy;const Zy=St,Jy=(e,t,r)=>Zy(t,e,r);var Yy=Jy;const Qy=St,e0=(e,t)=>Qy(e,t,!0);var t0=e0;const fa=nt,r0=(e,t,r)=>{const n=new fa(e,r),i=new fa(t,r);return n.compare(i)||n.compareBuild(i)};var Js=r0;const n0=Js,i0=(e,t)=>e.sort((r,n)=>n0(r,n,t));var s0=i0;const o0=Js,a0=(e,t)=>e.sort((r,n)=>o0(n,r,t));var c0=a0;const u0=St,l0=(e,t,r)=>u0(e,t,r)>0;var ai=l0;const f0=St,d0=(e,t,r)=>f0(e,t,r)<0;var Ys=d0;const h0=St,m0=(e,t,r)=>h0(e,t,r)===0;var hu=m0;const p0=St,y0=(e,t,r)=>p0(e,t,r)!==0;var mu=y0;const v0=St,E0=(e,t,r)=>v0(e,t,r)>=0;var Qs=E0;const g0=St,$0=(e,t,r)=>g0(e,t,r)<=0;var eo=$0;const _0=hu,S0=mu,w0=ai,N0=Qs,I0=Ys,O0=eo,T0=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return _0(e,r,n);case"!=":return S0(e,r,n);case">":return w0(e,r,n);case">=":return N0(e,r,n);case"<":return I0(e,r,n);case"<=":return O0(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var pu=T0;const b0=nt,D0=Mr,{safeRe:Ln,t:Fn}=pn,R0=(e,t)=>{if(e instanceof b0)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(Ln[Fn.COERCE]);else{let n;for(;(n=Ln[Fn.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Ln[Fn.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Ln[Fn.COERCERTL].lastIndex=-1}return r===null?null:D0(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)};var P0=R0,Si,da;function C0(){return da||(da=1,Si=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),Si}var A0=me;me.Node=hr;me.create=me;function me(e){var t=this;if(t instanceof me||(t=new me),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}me.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};me.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};me.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};me.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)F0(this,arguments[e]);return this.length};me.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)j0(this,arguments[e]);return this.length};me.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};me.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};me.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};me.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};me.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};me.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};me.prototype.map=function(e,t){t=t||this;for(var r=new me,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};me.prototype.mapReverse=function(e,t){t=t||this;for(var r=new me,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};me.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=e(r,n.value,i),n=n.next;return r};me.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=e(r,n.value,i),n=n.prev;return r};me.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};me.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};me.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new me;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(;i!==null&&n<t;n++,i=i.next)r.push(i.value);return r};me.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new me;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;i!==null&&n>t;n--)i=i.prev;for(;i!==null&&n>e;n--,i=i.prev)r.push(i.value);return r};me.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;i!==null&&n<e;n++)i=i.next;for(var s=[],n=0;i&&n<t;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=L0(this,i,r[n]);return s};me.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function L0(e,t,r){var n=t===e.head?new hr(r,null,t,e):new hr(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function F0(e,t){e.tail=new hr(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function j0(e,t){e.head=new hr(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function hr(e,t,r,n){if(!(this instanceof hr))return new hr(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{C0()(me)}catch{}const k0=A0,cr=Symbol("max"),Mt=Symbol("length"),_r=Symbol("lengthCalculator"),tn=Symbol("allowStale"),ur=Symbol("maxAge"),kt=Symbol("dispose"),ha=Symbol("noDisposeOnSet"),Ue=Symbol("lruList"),$t=Symbol("cache"),yu=Symbol("updateAgeOnGet"),wi=()=>1;class M0{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[cr]=t.max||1/0;const r=t.length||wi;if(this[_r]=typeof r!="function"?wi:r,this[tn]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[ur]=t.maxAge||0,this[kt]=t.dispose,this[ha]=t.noDisposeOnSet||!1,this[yu]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[cr]=t||1/0,Br(this)}get max(){return this[cr]}set allowStale(t){this[tn]=!!t}get allowStale(){return this[tn]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[ur]=t,Br(this)}get maxAge(){return this[ur]}set lengthCalculator(t){typeof t!="function"&&(t=wi),t!==this[_r]&&(this[_r]=t,this[Mt]=0,this[Ue].forEach(r=>{r.length=this[_r](r.value,r.key),this[Mt]+=r.length})),Br(this)}get lengthCalculator(){return this[_r]}get length(){return this[Mt]}get itemCount(){return this[Ue].length}rforEach(t,r){r=r||this;for(let n=this[Ue].tail;n!==null;){const i=n.prev;ma(this,t,n,r),n=i}}forEach(t,r){r=r||this;for(let n=this[Ue].head;n!==null;){const i=n.next;ma(this,t,n,r),n=i}}keys(){return this[Ue].toArray().map(t=>t.key)}values(){return this[Ue].toArray().map(t=>t.value)}reset(){this[kt]&&this[Ue]&&this[Ue].length&&this[Ue].forEach(t=>this[kt](t.key,t.value)),this[$t]=new Map,this[Ue]=new k0,this[Mt]=0}dump(){return this[Ue].map(t=>Wn(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Ue]}set(t,r,n){if(n=n||this[ur],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[_r](r,t);if(this[$t].has(t)){if(s>this[cr])return Tr(this,this[$t].get(t)),!1;const c=this[$t].get(t).value;return this[kt]&&(this[ha]||this[kt](t,c.value)),c.now=i,c.maxAge=n,c.value=r,this[Mt]+=s-c.length,c.length=s,this.get(t),Br(this),!0}const o=new U0(t,r,s,i,n);return o.length>this[cr]?(this[kt]&&this[kt](t,r),!1):(this[Mt]+=o.length,this[Ue].unshift(o),this[$t].set(t,this[Ue].head),Br(this),!0)}has(t){if(!this[$t].has(t))return!1;const r=this[$t].get(t).value;return!Wn(this,r)}get(t){return Ni(this,t,!0)}peek(t){return Ni(this,t,!1)}pop(){const t=this[Ue].tail;return t?(Tr(this,t),t.value):null}del(t){Tr(this,this[$t].get(t))}load(t){this.reset();const r=Date.now();for(let n=t.length-1;n>=0;n--){const i=t[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[$t].forEach((t,r)=>Ni(this,r,!1))}}const Ni=(e,t,r)=>{const n=e[$t].get(t);if(n){const i=n.value;if(Wn(e,i)){if(Tr(e,n),!e[tn])return}else r&&(e[yu]&&(n.value.now=Date.now()),e[Ue].unshiftNode(n));return i.value}},Wn=(e,t)=>{if(!t||!t.maxAge&&!e[ur])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[ur]&&r>e[ur]},Br=e=>{if(e[Mt]>e[cr])for(let t=e[Ue].tail;e[Mt]>e[cr]&&t!==null;){const r=t.prev;Tr(e,t),t=r}},Tr=(e,t)=>{if(t){const r=t.value;e[kt]&&e[kt](r.key,r.value),e[Mt]-=r.length,e[$t].delete(r.key),e[Ue].removeNode(t)}};class U0{constructor(t,r,n,i,s){this.key=t,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const ma=(e,t,r,n)=>{let i=r.value;Wn(e,i)&&(Tr(e,r),e[tn]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};var x0=M0,Ii,pa;function wt(){if(pa)return Ii;pa=1;class e{constructor(x,K){if(K=n(K),x instanceof e)return x.loose===!!K.loose&&x.includePrerelease===!!K.includePrerelease?x:new e(x.raw,K);if(x instanceof i)return this.raw=x.value,this.set=[[x]],this.format(),this;if(this.options=K,this.loose=!!K.loose,this.includePrerelease=!!K.includePrerelease,this.raw=x.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(W=>this.parseRange(W.trim())).filter(W=>W.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const W=this.set[0];if(this.set=this.set.filter(B=>!l(B[0])),this.set.length===0)this.set=[W];else if(this.set.length>1){for(const B of this.set)if(B.length===1&&p(B[0])){this.set=[B];break}}}this.format()}format(){return this.range=this.set.map(x=>x.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(x){const W=((this.options.includePrerelease&&v)|(this.options.loose&&h))+":"+x,B=r.get(W);if(B)return B;const C=this.options.loose,j=C?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE];x=x.replace(j,X(this.options.includePrerelease)),s("hyphen replace",x),x=x.replace(u[c.COMPARATORTRIM],m),s("comparator trim",x),x=x.replace(u[c.TILDETRIM],a),s("tilde trim",x),x=x.replace(u[c.CARETTRIM],d),s("caret trim",x);let O=x.split(" ").map(y=>f(y,this.options)).join(" ").split(/\s+/).map(y=>H(y,this.options));C&&(O=O.filter(y=>(s("loose invalid filter",y,this.options),!!y.match(u[c.COMPARATORLOOSE])))),s("range list",O);const w=new Map,F=O.map(y=>new i(y,this.options));for(const y of F){if(l(y))return[y];w.set(y.value,y)}w.size>1&&w.has("")&&w.delete("");const R=[...w.values()];return r.set(W,R),R}intersects(x,K){if(!(x instanceof e))throw new TypeError("a Range is required");return this.set.some(W=>E(W,K)&&x.set.some(B=>E(B,K)&&W.every(C=>B.every(j=>C.intersects(j,K)))))}test(x){if(!x)return!1;if(typeof x=="string")try{x=new o(x,this.options)}catch{return!1}for(let K=0;K<this.set.length;K++)if(J(this.set[K],x,this.options))return!0;return!1}}Ii=e;const t=x0,r=new t({max:1e3}),n=Zs,i=ci(),s=oi,o=nt,{safeRe:u,t:c,comparatorTrimReplace:m,tildeTrimReplace:a,caretTrimReplace:d}=pn,{FLAG_INCLUDE_PRERELEASE:v,FLAG_LOOSE:h}=si,l=V=>V.value==="<0.0.0-0",p=V=>V.value==="",E=(V,x)=>{let K=!0;const W=V.slice();let B=W.pop();for(;K&&W.length;)K=W.every(C=>B.intersects(C,x)),B=W.pop();return K},f=(V,x)=>(s("comp",V,x),V=G(V,x),s("caret",V),V=_(V,x),s("tildes",V),V=D(V,x),s("xrange",V),V=A(V,x),s("stars",V),V),$=V=>!V||V.toLowerCase()==="x"||V==="*",_=(V,x)=>V.trim().split(/\s+/).map(K=>T(K,x)).join(" "),T=(V,x)=>{const K=x.loose?u[c.TILDELOOSE]:u[c.TILDE];return V.replace(K,(W,B,C,j,O)=>{s("tilde",V,W,B,C,j,O);let w;return $(B)?w="":$(C)?w=`>=${B}.0.0 <${+B+1}.0.0-0`:$(j)?w=`>=${B}.${C}.0 <${B}.${+C+1}.0-0`:O?(s("replaceTilde pr",O),w=`>=${B}.${C}.${j}-${O} <${B}.${+C+1}.0-0`):w=`>=${B}.${C}.${j} <${B}.${+C+1}.0-0`,s("tilde return",w),w})},G=(V,x)=>V.trim().split(/\s+/).map(K=>b(K,x)).join(" "),b=(V,x)=>{s("caret",V,x);const K=x.loose?u[c.CARETLOOSE]:u[c.CARET],W=x.includePrerelease?"-0":"";return V.replace(K,(B,C,j,O,w)=>{s("caret",V,B,C,j,O,w);let F;return $(C)?F="":$(j)?F=`>=${C}.0.0${W} <${+C+1}.0.0-0`:$(O)?C==="0"?F=`>=${C}.${j}.0${W} <${C}.${+j+1}.0-0`:F=`>=${C}.${j}.0${W} <${+C+1}.0.0-0`:w?(s("replaceCaret pr",w),C==="0"?j==="0"?F=`>=${C}.${j}.${O}-${w} <${C}.${j}.${+O+1}-0`:F=`>=${C}.${j}.${O}-${w} <${C}.${+j+1}.0-0`:F=`>=${C}.${j}.${O}-${w} <${+C+1}.0.0-0`):(s("no pr"),C==="0"?j==="0"?F=`>=${C}.${j}.${O}${W} <${C}.${j}.${+O+1}-0`:F=`>=${C}.${j}.${O}${W} <${C}.${+j+1}.0-0`:F=`>=${C}.${j}.${O} <${+C+1}.0.0-0`),s("caret return",F),F})},D=(V,x)=>(s("replaceXRanges",V,x),V.split(/\s+/).map(K=>z(K,x)).join(" ")),z=(V,x)=>{V=V.trim();const K=x.loose?u[c.XRANGELOOSE]:u[c.XRANGE];return V.replace(K,(W,B,C,j,O,w)=>{s("xRange",V,W,B,C,j,O,w);const F=$(C),R=F||$(j),y=R||$(O),S=y;return B==="="&&S&&(B=""),w=x.includePrerelease?"-0":"",F?B===">"||B==="<"?W="<0.0.0-0":W="*":B&&S?(R&&(j=0),O=0,B===">"?(B=">=",R?(C=+C+1,j=0,O=0):(j=+j+1,O=0)):B==="<="&&(B="<",R?C=+C+1:j=+j+1),B==="<"&&(w="-0"),W=`${B+C}.${j}.${O}${w}`):R?W=`>=${C}.0.0${w} <${+C+1}.0.0-0`:y&&(W=`>=${C}.${j}.0${w} <${C}.${+j+1}.0-0`),s("xRange return",W),W})},A=(V,x)=>(s("replaceStars",V,x),V.trim().replace(u[c.STAR],"")),H=(V,x)=>(s("replaceGTE0",V,x),V.trim().replace(u[x.includePrerelease?c.GTE0PRE:c.GTE0],"")),X=V=>(x,K,W,B,C,j,O,w,F,R,y,S,U)=>($(W)?K="":$(B)?K=`>=${W}.0.0${V?"-0":""}`:$(C)?K=`>=${W}.${B}.0${V?"-0":""}`:j?K=`>=${K}`:K=`>=${K}${V?"-0":""}`,$(F)?w="":$(R)?w=`<${+F+1}.0.0-0`:$(y)?w=`<${F}.${+R+1}.0-0`:S?w=`<=${F}.${R}.${y}-${S}`:V?w=`<${F}.${R}.${+y+1}-0`:w=`<=${w}`,`${K} ${w}`.trim()),J=(V,x,K)=>{for(let W=0;W<V.length;W++)if(!V[W].test(x))return!1;if(x.prerelease.length&&!K.includePrerelease){for(let W=0;W<V.length;W++)if(s(V[W].semver),V[W].semver!==i.ANY&&V[W].semver.prerelease.length>0){const B=V[W].semver;if(B.major===x.major&&B.minor===x.minor&&B.patch===x.patch)return!0}return!1}return!0};return Ii}var Oi,ya;function ci(){if(ya)return Oi;ya=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(a,d){if(d=r(d),a instanceof t){if(a.loose===!!d.loose)return a;a=a.value}a=a.trim().split(/\s+/).join(" "),o("comparator",a,d),this.options=d,this.loose=!!d.loose,this.parse(a),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(a){const d=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],v=a.match(d);if(!v)throw new TypeError(`Invalid comparator: ${a}`);this.operator=v[1]!==void 0?v[1]:"",this.operator==="="&&(this.operator=""),v[2]?this.semver=new u(v[2],this.options.loose):this.semver=e}toString(){return this.value}test(a){if(o("Comparator.test",a,this.options.loose),this.semver===e||a===e)return!0;if(typeof a=="string")try{a=new u(a,this.options)}catch{return!1}return s(a,this.operator,this.semver,this.options)}intersects(a,d){if(!(a instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(a.value,d).test(this.value):a.operator===""?a.value===""?!0:new c(this.value,d).test(a.semver):(d=r(d),d.includePrerelease&&(this.value==="<0.0.0-0"||a.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||a.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&a.operator.startsWith(">")||this.operator.startsWith("<")&&a.operator.startsWith("<")||this.semver.version===a.semver.version&&this.operator.includes("=")&&a.operator.includes("=")||s(this.semver,"<",a.semver,d)&&this.operator.startsWith(">")&&a.operator.startsWith("<")||s(this.semver,">",a.semver,d)&&this.operator.startsWith("<")&&a.operator.startsWith(">")))}}Oi=t;const r=Zs,{safeRe:n,t:i}=pn,s=pu,o=oi,u=nt,c=wt();return Oi}const V0=wt(),z0=(e,t,r)=>{try{t=new V0(t,r)}catch{return!1}return t.test(e)};var ui=z0;const G0=wt(),H0=(e,t)=>new G0(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var q0=H0;const B0=nt,K0=wt(),W0=(e,t,r)=>{let n=null,i=null,s=null;try{s=new K0(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new B0(n,r))}),n};var X0=W0;const Z0=nt,J0=wt(),Y0=(e,t,r)=>{let n=null,i=null,s=null;try{s=new J0(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new Z0(n,r))}),n};var Q0=Y0;const Ti=nt,ev=wt(),va=ai,tv=(e,t)=>{e=new ev(e,t);let r=new Ti("0.0.0");if(e.test(r)||(r=new Ti("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const i=e.set[n];let s=null;i.forEach(o=>{const u=new Ti(o.semver.version);switch(o.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!s||va(u,s))&&(s=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||va(r,s))&&(r=s)}return r&&e.test(r)?r:null};var rv=tv;const nv=wt(),iv=(e,t)=>{try{return new nv(e,t).range||"*"}catch{return null}};var sv=iv;const ov=nt,vu=ci(),{ANY:av}=vu,cv=wt(),uv=ui,Ea=ai,ga=Ys,lv=eo,fv=Qs,dv=(e,t,r,n)=>{e=new ov(e,n),t=new cv(t,n);let i,s,o,u,c;switch(r){case">":i=Ea,s=lv,o=ga,u=">",c=">=";break;case"<":i=ga,s=fv,o=Ea,u="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(uv(e,t,n))return!1;for(let m=0;m<t.set.length;++m){const a=t.set[m];let d=null,v=null;if(a.forEach(h=>{h.semver===av&&(h=new vu(">=0.0.0")),d=d||h,v=v||h,i(h.semver,d.semver,n)?d=h:o(h.semver,v.semver,n)&&(v=h)}),d.operator===u||d.operator===c||(!v.operator||v.operator===u)&&s(e,v.semver))return!1;if(v.operator===c&&o(e,v.semver))return!1}return!0};var to=dv;const hv=to,mv=(e,t,r)=>hv(e,t,">",r);var pv=mv;const yv=to,vv=(e,t,r)=>yv(e,t,"<",r);var Ev=vv;const $a=wt(),gv=(e,t,r)=>(e=new $a(e,r),t=new $a(t,r),e.intersects(t,r));var $v=gv;const _v=ui,Sv=St;var wv=(e,t,r)=>{const n=[];let i=null,s=null;const o=e.sort((a,d)=>Sv(a,d,r));for(const a of o)_v(a,t,r)?(s=a,i||(i=a)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const u=[];for(const[a,d]of n)a===d?u.push(a):!d&&a===o[0]?u.push("*"):d?a===o[0]?u.push(`<=${d}`):u.push(`${a} - ${d}`):u.push(`>=${a}`);const c=u.join(" || "),m=typeof t.raw=="string"?t.raw:String(t);return c.length<m.length?c:t};const _a=wt(),ro=ci(),{ANY:bi}=ro,Kr=ui,no=St,Nv=(e,t,r={})=>{if(e===t)return!0;e=new _a(e,r),t=new _a(t,r);let n=!1;e:for(const i of e.set){for(const s of t.set){const o=Ov(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},Iv=[new ro(">=0.0.0-0")],Sa=[new ro(">=0.0.0")],Ov=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===bi){if(t.length===1&&t[0].semver===bi)return!0;r.includePrerelease?e=Iv:e=Sa}if(t.length===1&&t[0].semver===bi){if(r.includePrerelease)return!0;t=Sa}const n=new Set;let i,s;for(const h of e)h.operator===">"||h.operator===">="?i=wa(i,h,r):h.operator==="<"||h.operator==="<="?s=Na(s,h,r):n.add(h.semver);if(n.size>1)return null;let o;if(i&&s){if(o=no(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const h of n){if(i&&!Kr(h,String(i),r)||s&&!Kr(h,String(s),r))return null;for(const l of t)if(!Kr(h,String(l),r))return!1;return!0}let u,c,m,a,d=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,v=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const h of t){if(a=a||h.operator===">"||h.operator===">=",m=m||h.operator==="<"||h.operator==="<=",i){if(v&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===v.major&&h.semver.minor===v.minor&&h.semver.patch===v.patch&&(v=!1),h.operator===">"||h.operator===">="){if(u=wa(i,h,r),u===h&&u!==i)return!1}else if(i.operator===">="&&!Kr(i.semver,String(h),r))return!1}if(s){if(d&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===d.major&&h.semver.minor===d.minor&&h.semver.patch===d.patch&&(d=!1),h.operator==="<"||h.operator==="<="){if(c=Na(s,h,r),c===h&&c!==s)return!1}else if(s.operator==="<="&&!Kr(s.semver,String(h),r))return!1}if(!h.operator&&(s||i)&&o!==0)return!1}return!(i&&m&&!s&&o!==0||s&&a&&!i&&o!==0||v||d)},wa=(e,t,r)=>{if(!e)return t;const n=no(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Na=(e,t,r)=>{if(!e)return t;const n=no(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var Tv=Nv;const Di=pn,Ia=si,bv=nt,Oa=du,Dv=Mr,Rv=Dy,Pv=Cy,Cv=Ly,Av=jy,Lv=Uy,Fv=zy,jv=qy,kv=Wy,Mv=St,Uv=Yy,xv=t0,Vv=Js,zv=s0,Gv=c0,Hv=ai,qv=Ys,Bv=hu,Kv=mu,Wv=Qs,Xv=eo,Zv=pu,Jv=P0,Yv=ci(),Qv=wt(),eE=ui,tE=q0,rE=X0,nE=Q0,iE=rv,sE=sv,oE=to,aE=pv,cE=Ev,uE=$v,lE=wv,fE=Tv;var dE={parse:Dv,valid:Rv,clean:Pv,inc:Cv,diff:Av,major:Lv,minor:Fv,patch:jv,prerelease:kv,compare:Mv,rcompare:Uv,compareLoose:xv,compareBuild:Vv,sort:zv,rsort:Gv,gt:Hv,lt:qv,eq:Bv,neq:Kv,gte:Wv,lte:Xv,cmp:Zv,coerce:Jv,Comparator:Yv,Range:Qv,satisfies:eE,toComparators:tE,maxSatisfying:rE,minSatisfying:nE,minVersion:iE,validRange:sE,outside:oE,gtr:aE,ltr:cE,intersects:uE,simplifyRange:lE,subset:fE,SemVer:bv,re:Di.re,src:Di.src,tokens:Di.t,SEMVER_SPEC_VERSION:Ia.SEMVER_SPEC_VERSION,RELEASE_TYPES:Ia.RELEASE_TYPES,compareIdentifiers:Oa.compareIdentifiers,rcompareIdentifiers:Oa.rcompareIdentifiers},li={exports:{}},io={exports:{}};const Eu=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};io.exports=Eu;io.exports.default=Eu;var hE=io.exports;const mE=hE,Xn=new WeakMap,gu=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0;const i=e.displayName||e.name||"<anonymous>",s=function(...o){if(Xn.set(s,++n),n===1)r=e.apply(this,o),e=null;else if(t.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return mE(s,e),Xn.set(s,n),s};li.exports=gu;li.exports.default=gu;li.exports.callCount=e=>{if(!Xn.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return Xn.get(e)};var pE=li.exports;(function(e,t){var r=Kt&&Kt.__classPrivateFieldSet||function(B,C,j,O,w){if(O==="m")throw new TypeError("Private method is not writable");if(O==="a"&&!w)throw new TypeError("Private accessor was defined without a setter");if(typeof C=="function"?B!==C||!w:!C.has(B))throw new TypeError("Cannot write private member to an object whose class did not declare it");return O==="a"?w.call(B,j):w?w.value=j:C.set(B,j),j},n=Kt&&Kt.__classPrivateFieldGet||function(B,C,j,O){if(j==="a"&&!O)throw new TypeError("Private accessor was defined without a getter");if(typeof C=="function"?B!==C||!O:!C.has(B))throw new TypeError("Cannot read private member from an object whose class did not declare it");return j==="m"?O:j==="a"?O.call(B):O?O.value:C.get(B)},i,s,o,u,c,m;Object.defineProperty(t,"__esModule",{value:!0});const a=Bi,d=Ar,v=be,h=Ua,l=Ma,p=Mu,E=fd,f=Sd,$=Od,_=Pt,T=au,G=ry,b=hy,D=dE,z=pE,A="aes-256-cbc",H=()=>Object.create(null),X=B=>B!=null;let J="";try{delete require.cache[__filename],J=v.dirname((s=(i=e.parent)===null||i===void 0?void 0:i.filename)!==null&&s!==void 0?s:".")}catch{}const V=(B,C)=>{const j=new Set(["undefined","symbol","function"]),O=typeof C;if(j.has(O))throw new TypeError(`Setting a value of type \`${O}\` for key \`${B}\` is not allowed as it's not supported by JSON`)},x="__internal__",K=`${x}.migrations.version`;class W{constructor(C={}){var j;o.set(this,void 0),u.set(this,void 0),c.set(this,void 0),m.set(this,{}),this._deserialize=S=>JSON.parse(S),this._serialize=S=>JSON.stringify(S,void 0,"	");const O={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...C},w=z(()=>{const S=f.sync({cwd:J}),U=S&&JSON.parse(d.readFileSync(S,"utf8"));return U??{}});if(!O.cwd){if(O.projectName||(O.projectName=w().name),!O.projectName)throw new Error("Project name could not be inferred. Please specify the `projectName` option.");O.cwd=$(O.projectName,{suffix:O.projectSuffix}).config}if(r(this,c,O,"f"),O.schema){if(typeof O.schema!="object")throw new TypeError("The `schema` option must be an object.");const S=new T.default({allErrors:!0,useDefaults:!0});(0,G.default)(S);const U={type:"object",properties:O.schema};r(this,o,S.compile(U),"f");for(const[Y,Q]of Object.entries(O.schema))Q?.default&&(n(this,m,"f")[Y]=Q.default)}O.defaults&&r(this,m,{...n(this,m,"f"),...O.defaults},"f"),O.serialize&&(this._serialize=O.serialize),O.deserialize&&(this._deserialize=O.deserialize),this.events=new p.EventEmitter,r(this,u,O.encryptionKey,"f");const F=O.fileExtension?`.${O.fileExtension}`:"";this.path=v.resolve(O.cwd,`${(j=O.configName)!==null&&j!==void 0?j:"config"}${F}`);const R=this.store,y=Object.assign(H(),O.defaults,R);this._validate(y);try{l.deepEqual(R,y)}catch{this.store=y}if(O.watch&&this._watch(),O.migrations){if(O.projectVersion||(O.projectVersion=w().version),!O.projectVersion)throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.");this._migrate(O.migrations,O.projectVersion,O.beforeEachMigration)}}get(C,j){if(n(this,c,"f").accessPropertiesByDotNotation)return this._get(C,j);const{store:O}=this;return C in O?O[C]:j}set(C,j){if(typeof C!="string"&&typeof C!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof C}`);if(typeof C!="object"&&j===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(C))throw new TypeError(`Please don't use the ${x} key, as it's used to manage this module internal operations.`);const{store:O}=this,w=(F,R)=>{V(F,R),n(this,c,"f").accessPropertiesByDotNotation?E.set(O,F,R):O[F]=R};if(typeof C=="object"){const F=C;for(const[R,y]of Object.entries(F))w(R,y)}else w(C,j);this.store=O}has(C){return n(this,c,"f").accessPropertiesByDotNotation?E.has(this.store,C):C in this.store}reset(...C){for(const j of C)X(n(this,m,"f")[j])&&this.set(j,n(this,m,"f")[j])}delete(C){const{store:j}=this;n(this,c,"f").accessPropertiesByDotNotation?E.delete(j,C):delete j[C],this.store=j}clear(){this.store=H();for(const C of Object.keys(n(this,m,"f")))this.reset(C)}onDidChange(C,j){if(typeof C!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof C}`);if(typeof j!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof j}`);return this._handleChange(()=>this.get(C),j)}onDidAnyChange(C){if(typeof C!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof C}`);return this._handleChange(()=>this.store,C)}get size(){return Object.keys(this.store).length}get store(){try{const C=d.readFileSync(this.path,n(this,u,"f")?null:"utf8"),j=this._encryptData(C),O=this._deserialize(j);return this._validate(O),Object.assign(H(),O)}catch(C){if(C?.code==="ENOENT")return this._ensureDirectory(),H();if(n(this,c,"f").clearInvalidConfig&&C.name==="SyntaxError")return H();throw C}}set store(C){this._ensureDirectory(),this._validate(C),this._write(C),this.events.emit("change")}*[(o=new WeakMap,u=new WeakMap,c=new WeakMap,m=new WeakMap,Symbol.iterator)](){for(const[C,j]of Object.entries(this.store))yield[C,j]}_encryptData(C){if(!n(this,u,"f"))return C.toString();try{if(n(this,u,"f"))try{if(C.slice(16,17).toString()===":"){const j=C.slice(0,16),O=h.pbkdf2Sync(n(this,u,"f"),j.toString(),1e4,32,"sha512"),w=h.createDecipheriv(A,O,j);C=Buffer.concat([w.update(Buffer.from(C.slice(17))),w.final()]).toString("utf8")}else{const j=h.createDecipher(A,n(this,u,"f"));C=Buffer.concat([j.update(Buffer.from(C)),j.final()]).toString("utf8")}}catch{}}catch{}return C.toString()}_handleChange(C,j){let O=C();const w=()=>{const F=O,R=C();(0,a.isDeepStrictEqual)(R,F)||(O=R,j.call(this,R,F))};return this.events.on("change",w),()=>this.events.removeListener("change",w)}_validate(C){if(!n(this,o,"f")||n(this,o,"f").call(this,C)||!n(this,o,"f").errors)return;const O=n(this,o,"f").errors.map(({instancePath:w,message:F=""})=>`\`${w.slice(1)}\` ${F}`);throw new Error("Config schema violation: "+O.join("; "))}_ensureDirectory(){d.mkdirSync(v.dirname(this.path),{recursive:!0})}_write(C){let j=this._serialize(C);if(n(this,u,"f")){const O=h.randomBytes(16),w=h.pbkdf2Sync(n(this,u,"f"),O.toString(),1e4,32,"sha512"),F=h.createCipheriv(A,w,O);j=Buffer.concat([O,Buffer.from(":"),F.update(Buffer.from(j)),F.final()])}if(process.env.SNAP)d.writeFileSync(this.path,j,{mode:n(this,c,"f").configFileMode});else try{_.writeFileSync(this.path,j,{mode:n(this,c,"f").configFileMode})}catch(O){if(O?.code==="EXDEV"){d.writeFileSync(this.path,j,{mode:n(this,c,"f").configFileMode});return}throw O}}_watch(){this._ensureDirectory(),d.existsSync(this.path)||this._write(H()),process.platform==="win32"?d.watch(this.path,{persistent:!1},b(()=>{this.events.emit("change")},{wait:100})):d.watchFile(this.path,{persistent:!1},b(()=>{this.events.emit("change")},{wait:5e3}))}_migrate(C,j,O){let w=this._get(K,"0.0.0");const F=Object.keys(C).filter(y=>this._shouldPerformMigration(y,w,j));let R={...this.store};for(const y of F)try{O&&O(this,{fromVersion:w,toVersion:y,finalVersion:j,versions:F});const S=C[y];S(this),this._set(K,y),w=y,R={...this.store}}catch(S){throw this.store=R,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${S}`)}(this._isVersionInRangeFormat(w)||!D.eq(w,j))&&this._set(K,j)}_containsReservedKey(C){return typeof C=="object"&&Object.keys(C)[0]===x?!0:typeof C!="string"?!1:n(this,c,"f").accessPropertiesByDotNotation?!!C.startsWith(`${x}.`):!1}_isVersionInRangeFormat(C){return D.clean(C)===null}_shouldPerformMigration(C,j,O){return this._isVersionInRangeFormat(C)?j!=="0.0.0"&&D.satisfies(j,C)?!1:D.satisfies(O,C):!(D.lte(C,j)||D.gt(C,O))}_get(C,j){return E.get(this.store,C,j)}_set(C,j){const{store:O}=this;E.set(O,C,j),this.store=O}}t.default=W,e.exports=W,e.exports.default=W})(Li,Li.exports);var yE=Li.exports;const Ta=be,{app:Vn,ipcMain:qi,ipcRenderer:ba,shell:vE}=fe,EE=yE;let Da=!1;const Ra=()=>{if(!qi||!Vn)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:Vn.getPath("userData"),appVersion:Vn.getVersion()};return Da||(qi.on("electron-store-get-data",t=>{t.returnValue=e}),Da=!0),e};class gE extends EE{constructor(t){let r,n;if(ba){const i=ba.sendSync("electron-store-get-data");if(!i)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=i)}else qi&&Vn&&({defaultCwd:r,appVersion:n}=Ra());t={name:"config",...t},t.projectVersion||(t.projectVersion=n),t.cwd?t.cwd=Ta.isAbsolute(t.cwd)?t.cwd:Ta.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){Ra()}openInEditor(){vE.openPath(this.path)}}var $E=gE;const Pa=Va($E);var yn={exports:{}},so={},_E=so.require=function(){if(typeof process=="object"&&process.versions&&process.versions.electron)try{const e=_E("original-fs");if(Object.keys(e).length>0)return e}catch{}return Ar},$u={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24},_u={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed",FILE_IN_THE_WAY:"There is a file in the way: %s",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:"File not found: %s",NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found"};const SE=so.require(),Qe=be,Ca=$u,wE=_u,NE=typeof process=="object"&&process.platform==="win32",Aa=e=>e&&typeof e=="object",oo=new Uint32Array(256).map((e,t)=>{for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t>>>=1;return t>>>0});function Ke(e){this.sep=Qe.sep,this.fs=SE,Aa(e)&&Aa(e.fs)&&typeof e.fs.statSync=="function"&&(this.fs=e.fs)}var IE=Ke;Ke.prototype.makeDir=function(e){const t=this;function r(n){let i=n.split(t.sep)[0];n.split(t.sep).forEach(function(s){if(!(!s||s.substr(-1,1)===":")){i+=t.sep+s;var o;try{o=t.fs.statSync(i)}catch{t.fs.mkdirSync(i)}if(o&&o.isFile())throw wE.FILE_IN_THE_WAY.replace("%s",i)}})}r(e)};Ke.prototype.writeFileTo=function(e,t,r,n){const i=this;if(i.fs.existsSync(e)){if(!r)return!1;var s=i.fs.statSync(e);if(s.isDirectory())return!1}var o=Qe.dirname(e);i.fs.existsSync(o)||i.makeDir(o);var u;try{u=i.fs.openSync(e,"w",438)}catch{i.fs.chmodSync(e,438),u=i.fs.openSync(e,"w",438)}if(u)try{i.fs.writeSync(u,t,0,t.length,0)}finally{i.fs.closeSync(u)}return i.fs.chmodSync(e,n||438),!0};Ke.prototype.writeFileToAsync=function(e,t,r,n,i){typeof n=="function"&&(i=n,n=void 0);const s=this;s.fs.exists(e,function(o){if(o&&!r)return i(!1);s.fs.stat(e,function(u,c){if(o&&c.isDirectory())return i(!1);var m=Qe.dirname(e);s.fs.exists(m,function(a){a||s.makeDir(m),s.fs.open(e,"w",438,function(d,v){d?s.fs.chmod(e,438,function(){s.fs.open(e,"w",438,function(h,l){s.fs.write(l,t,0,t.length,0,function(){s.fs.close(l,function(){s.fs.chmod(e,n||438,function(){i(!0)})})})})}):v?s.fs.write(v,t,0,t.length,0,function(){s.fs.close(v,function(){s.fs.chmod(e,n||438,function(){i(!0)})})}):s.fs.chmod(e,n||438,function(){i(!0)})})})})})};Ke.prototype.findFiles=function(e){const t=this;function r(n,i,s){typeof i=="boolean"&&(s=i,i=void 0);let o=[];return t.fs.readdirSync(n).forEach(function(u){var c=Qe.join(n,u);t.fs.statSync(c).isDirectory()&&s&&(o=o.concat(r(c,i,s))),(!i||i.test(c))&&o.push(Qe.normalize(c)+(t.fs.statSync(c).isDirectory()?t.sep:""))}),o}return r(e,void 0,!0)};Ke.prototype.getAttributes=function(){};Ke.prototype.setAttributes=function(){};Ke.crc32update=function(e,t){return oo[(e^t)&255]^e>>>8};Ke.crc32=function(e){typeof e=="string"&&(e=Buffer.from(e,"utf8")),oo.length||genCRCTable();let t=e.length,r=-1;for(let n=0;n<t;)r=Ke.crc32update(r,e[n++]);return~r>>>0};Ke.methodToString=function(e){switch(e){case Ca.STORED:return"STORED ("+e+")";case Ca.DEFLATED:return"DEFLATED ("+e+")";default:return"UNSUPPORTED ("+e+")"}};Ke.canonical=function(e){if(!e)return"";var t=Qe.posix.normalize("/"+e.split("\\").join("/"));return Qe.join(".",t)};Ke.sanitize=function(e,t){e=Qe.resolve(Qe.normalize(e));for(var r=t.split("/"),n=0,i=r.length;n<i;n++){var s=Qe.normalize(Qe.join(e,r.slice(n,i).join(Qe.sep)));if(s.indexOf(e)===0)return s}return Qe.normalize(Qe.join(e,Qe.basename(t)))};Ke.toBuffer=function(t){return Buffer.isBuffer(t)?t:t instanceof Uint8Array?Buffer.from(t):typeof t=="string"?Buffer.from(t,"utf8"):Buffer.alloc(0)};Ke.readBigUInt64LE=function(e,t){var r=Buffer.from(e.slice(t,t+8));return r.swap64(),parseInt(`0x${r.toString("hex")}`)};Ke.isWin=NE;Ke.crcTable=oo;const Zn=so.require(),Su=be;Zn.existsSync=Zn.existsSync||Su.existsSync;var OE=function(e){var t=e||"",r=i(),n=null;function i(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return t&&Zn.existsSync(t)?(n=Zn.statSync(t),r.directory=n.isDirectory(),r.mtime=n.mtime,r.atime=n.atime,r.executable=(73&n.mode)!==0,r.readonly=(128&n.mode)===0,r.hidden=Su.basename(t)[0]==="."):console.warn("Invalid path: "+t),{get directory(){return r.directory},get readOnly(){return r.readonly},get hidden(){return r.hidden},get mtime(){return r.mtime},get atime(){return r.atime},get executable(){return r.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:t,isDirectory:r.directory,isReadOnly:r.readonly,isHidden:r.hidden,isExecutable:r.executable,mTime:r.mtime,aTime:r.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}};yn.exports=IE;yn.exports.Constants=$u;yn.exports.Errors=_u;yn.exports.FileAttr=OE;var vn=yn.exports,fi={},Xr=vn,ee=Xr.Constants,TE=function(){var e=20,t=10,r=0,n=0,i=0,s=0,o=0,u=0,c=0,m=0,a=0,d=0,v=0,h=0,l=0;e|=Xr.isWin?2560:768,r|=ee.FLG_EFS;var p={};function E(f){f=new Date(f),i=(f.getFullYear()-1980&127)<<25|f.getMonth()+1<<21|f.getDate()<<16|f.getHours()<<11|f.getMinutes()<<5|f.getSeconds()>>1}return E(+new Date),{get made(){return e},set made(f){e=f},get version(){return t},set version(f){t=f},get flags(){return r},set flags(f){r=f},get method(){return n},set method(f){switch(f){case ee.STORED:this.version=10;case ee.DEFLATED:default:this.version=20}n=f},get time(){return new Date((i>>25&127)+1980,(i>>21&15)-1,i>>16&31,i>>11&31,i>>5&63,(i&31)<<1)},set time(f){E(f)},get crc(){return s},set crc(f){s=Math.max(0,f)>>>0},get compressedSize(){return o},set compressedSize(f){o=Math.max(0,f)>>>0},get size(){return u},set size(f){u=Math.max(0,f)>>>0},get fileNameLength(){return c},set fileNameLength(f){c=f},get extraLength(){return m},set extraLength(f){m=f},get commentLength(){return a},set commentLength(f){a=f},get diskNumStart(){return d},set diskNumStart(f){d=Math.max(0,f)>>>0},get inAttr(){return v},set inAttr(f){v=Math.max(0,f)>>>0},get attr(){return h},set attr(f){h=Math.max(0,f)>>>0},get fileAttr(){return h?(h>>>0|0)>>16&4095:0},get offset(){return l},set offset(f){l=Math.max(0,f)>>>0},get encripted(){return(r&1)===1},get entryHeaderSize(){return ee.CENHDR+c+m+a},get realDataOffset(){return l+ee.LOCHDR+p.fnameLen+p.extraLen},get dataHeader(){return p},loadDataHeaderFromBinary:function(f){var $=f.slice(l,l+ee.LOCHDR);if($.readUInt32LE(0)!==ee.LOCSIG)throw new Error(Xr.Errors.INVALID_LOC);p={version:$.readUInt16LE(ee.LOCVER),flags:$.readUInt16LE(ee.LOCFLG),method:$.readUInt16LE(ee.LOCHOW),time:$.readUInt32LE(ee.LOCTIM),crc:$.readUInt32LE(ee.LOCCRC),compressedSize:$.readUInt32LE(ee.LOCSIZ),size:$.readUInt32LE(ee.LOCLEN),fnameLen:$.readUInt16LE(ee.LOCNAM),extraLen:$.readUInt16LE(ee.LOCEXT)}},loadFromBinary:function(f){if(f.length!==ee.CENHDR||f.readUInt32LE(0)!==ee.CENSIG)throw new Error(Xr.Errors.INVALID_CEN);e=f.readUInt16LE(ee.CENVEM),t=f.readUInt16LE(ee.CENVER),r=f.readUInt16LE(ee.CENFLG),n=f.readUInt16LE(ee.CENHOW),i=f.readUInt32LE(ee.CENTIM),s=f.readUInt32LE(ee.CENCRC),o=f.readUInt32LE(ee.CENSIZ),u=f.readUInt32LE(ee.CENLEN),c=f.readUInt16LE(ee.CENNAM),m=f.readUInt16LE(ee.CENEXT),a=f.readUInt16LE(ee.CENCOM),d=f.readUInt16LE(ee.CENDSK),v=f.readUInt16LE(ee.CENATT),h=f.readUInt32LE(ee.CENATX),l=f.readUInt32LE(ee.CENOFF)},dataHeaderToBinary:function(){var f=Buffer.alloc(ee.LOCHDR);return f.writeUInt32LE(ee.LOCSIG,0),f.writeUInt16LE(t,ee.LOCVER),f.writeUInt16LE(r,ee.LOCFLG),f.writeUInt16LE(n,ee.LOCHOW),f.writeUInt32LE(i,ee.LOCTIM),f.writeUInt32LE(s,ee.LOCCRC),f.writeUInt32LE(o,ee.LOCSIZ),f.writeUInt32LE(u,ee.LOCLEN),f.writeUInt16LE(c,ee.LOCNAM),f.writeUInt16LE(m,ee.LOCEXT),f},entryHeaderToBinary:function(){var f=Buffer.alloc(ee.CENHDR+c+m+a);return f.writeUInt32LE(ee.CENSIG,0),f.writeUInt16LE(e,ee.CENVEM),f.writeUInt16LE(t,ee.CENVER),f.writeUInt16LE(r,ee.CENFLG),f.writeUInt16LE(n,ee.CENHOW),f.writeUInt32LE(i,ee.CENTIM),f.writeUInt32LE(s,ee.CENCRC),f.writeUInt32LE(o,ee.CENSIZ),f.writeUInt32LE(u,ee.CENLEN),f.writeUInt16LE(c,ee.CENNAM),f.writeUInt16LE(m,ee.CENEXT),f.writeUInt16LE(a,ee.CENCOM),f.writeUInt16LE(d,ee.CENDSK),f.writeUInt16LE(v,ee.CENATT),f.writeUInt32LE(h,ee.CENATX),f.writeUInt32LE(l,ee.CENOFF),f.fill(0,ee.CENHDR),f},toJSON:function(){const f=function($){return $+" bytes"};return{made:e,version:t,flags:r,method:Xr.methodToString(n),time:this.time,crc:"0x"+s.toString(16).toUpperCase(),compressedSize:f(o),size:f(u),fileNameLength:f(c),extraLength:f(m),commentLength:f(a),diskNumStart:d,inAttr:v,attr:h,offset:l,entryHeaderSize:f(ee.CENHDR+c+m+a)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}},wr=vn,Ie=wr.Constants,bE=function(){var e=0,t=0,r=0,n=0,i=0;return{get diskEntries(){return e},set diskEntries(s){e=t=s},get totalEntries(){return t},set totalEntries(s){t=e=s},get size(){return r},set size(s){r=s},get offset(){return n},set offset(s){n=s},get commentLength(){return i},set commentLength(s){i=s},get mainHeaderSize(){return Ie.ENDHDR+i},loadFromBinary:function(s){if((s.length!==Ie.ENDHDR||s.readUInt32LE(0)!==Ie.ENDSIG)&&(s.length<Ie.ZIP64HDR||s.readUInt32LE(0)!==Ie.ZIP64SIG))throw new Error(wr.Errors.INVALID_END);s.readUInt32LE(0)===Ie.ENDSIG?(e=s.readUInt16LE(Ie.ENDSUB),t=s.readUInt16LE(Ie.ENDTOT),r=s.readUInt32LE(Ie.ENDSIZ),n=s.readUInt32LE(Ie.ENDOFF),i=s.readUInt16LE(Ie.ENDCOM)):(e=wr.readBigUInt64LE(s,Ie.ZIP64SUB),t=wr.readBigUInt64LE(s,Ie.ZIP64TOT),r=wr.readBigUInt64LE(s,Ie.ZIP64SIZE),n=wr.readBigUInt64LE(s,Ie.ZIP64OFF),i=0)},toBinary:function(){var s=Buffer.alloc(Ie.ENDHDR+i);return s.writeUInt32LE(Ie.ENDSIG,0),s.writeUInt32LE(0,4),s.writeUInt16LE(e,Ie.ENDSUB),s.writeUInt16LE(t,Ie.ENDTOT),s.writeUInt32LE(r,Ie.ENDSIZ),s.writeUInt32LE(n,Ie.ENDOFF),s.writeUInt16LE(i,Ie.ENDCOM),s.fill(" ",Ie.ENDHDR),s},toJSON:function(){const s=function(o,u){let c=o.toString(16).toUpperCase();for(;c.length<u;)c="0"+c;return"0x"+c};return{diskEntries:e,totalEntries:t,size:r+" bytes",offset:s(n,4),commentLength:i}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}};fi.EntryHeader=TE;fi.MainHeader=bE;var di={},DE=function(e){var t=xa,r={chunkSize:(parseInt(e.length/1024)+1)*1024};return{deflate:function(){return t.deflateRawSync(e,r)},deflateAsync:function(n){var i=t.createDeflateRaw(r),s=[],o=0;i.on("data",function(u){s.push(u),o+=u.length}),i.on("end",function(){var u=Buffer.alloc(o),c=0;u.fill(0);for(var m=0;m<s.length;m++){var a=s[m];a.copy(u,c),c+=a.length}n&&n(u)}),i.end(e)}}},RE=function(e){var t=xa;return{inflate:function(){return t.inflateRawSync(e)},inflateAsync:function(r){var n=t.createInflateRaw(),i=[],s=0;n.on("data",function(o){i.push(o),s+=o.length}),n.on("end",function(){var o=Buffer.alloc(s),u=0;o.fill(0);for(var c=0;c<i.length;c++){var m=i[c];m.copy(o,u),u+=m.length}r&&r(o)}),n.end(e)}}};const{randomFillSync:La}=Ua,PE=new Uint32Array(256).map((e,t)=>{for(let r=0;r<8;r++)t&1?t=t>>>1^3988292384:t>>>=1;return t>>>0}),wu=(e,t)=>Math.imul(e,t)>>>0,Fa=(e,t)=>PE[(e^t)&255]^e>>>8,un=()=>typeof La=="function"?La(Buffer.alloc(12)):un.node();un.node=()=>{const e=Buffer.alloc(12),t=e.length;for(let r=0;r<t;r++)e[r]=Math.random()*256&255;return e};const zn={genSalt:un};function hi(e){const t=Buffer.isBuffer(e)?e:Buffer.from(e);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let r=0;r<t.length;r++)this.updateKeys(t[r])}hi.prototype.updateKeys=function(e){const t=this.keys;return t[0]=Fa(t[0],e),t[1]+=t[0]&255,t[1]=wu(t[1],134775813)+1,t[2]=Fa(t[2],t[1]>>>24),e};hi.prototype.next=function(){const e=(this.keys[2]|2)>>>0;return wu(e,e^1)>>8&255};function CE(e){const t=new hi(e);return function(r){const n=Buffer.alloc(r.length);let i=0;for(let s of r)n[i++]=t.updateKeys(s^t.next());return n}}function AE(e){const t=new hi(e);return function(r,n,i=0){n||(n=Buffer.alloc(r.length));for(let s of r){const o=t.next();n[i++]=s^o,t.updateKeys(s)}return n}}function LE(e,t,r){if(!e||!Buffer.isBuffer(e)||e.length<12)return Buffer.alloc(0);const n=CE(r);if(n(e.slice(0,12))[11]!==t.crc>>>24)throw"ADM-ZIP: Wrong Password";return n(e.slice(12))}function FE(e){Buffer.isBuffer(e)&&e.length>=12?zn.genSalt=function(){return e.slice(0,12)}:e==="node"?zn.genSalt=un.node:zn.genSalt=un}function jE(e,t,r,n=!1){e==null&&(e=Buffer.alloc(0)),Buffer.isBuffer(e)||(e=Buffer.from(e.toString()));const i=AE(r),s=zn.genSalt();s[11]=t.crc>>>24&255,n&&(s[10]=t.crc>>>16&255);const o=Buffer.alloc(e.length+12);return i(s,o),i(e,o,12)}var kE={decrypt:LE,encrypt:jE,_salter:FE};di.Deflater=DE;di.Inflater=RE;di.ZipCrypto=kE;var Ae=vn,ME=fi,ut=Ae.Constants,Ri=di,Nu=function(e){var t=new ME.EntryHeader,r=Buffer.alloc(0),n=Buffer.alloc(0),i=!1,s=null,o=Buffer.alloc(0);function u(){return!e||!Buffer.isBuffer(e)?Buffer.alloc(0):(t.loadDataHeaderFromBinary(e),e.slice(t.realDataOffset,t.realDataOffset+t.compressedSize))}function c(l){return!((t.flags&8)!==8&&Ae.crc32(l)!==t.dataHeader.crc)}function m(l,p,E){if(typeof p>"u"&&typeof l=="string"&&(E=l,l=void 0),i)return l&&p&&p(Buffer.alloc(0),Ae.Errors.DIRECTORY_CONTENT_ERROR),Buffer.alloc(0);var f=u();if(f.length===0)return l&&p&&p(f),f;if(t.encripted){if(typeof E!="string"&&!Buffer.isBuffer(E))throw new Error("ADM-ZIP: Incompatible password parameter");f=Ri.ZipCrypto.decrypt(f,t,E)}var $=Buffer.alloc(t.size);switch(t.method){case Ae.Constants.STORED:if(f.copy($),c($))return l&&p&&p($),$;throw l&&p&&p($,Ae.Errors.BAD_CRC),new Error(Ae.Errors.BAD_CRC);case Ae.Constants.DEFLATED:var _=new Ri.Inflater(f);if(l)_.inflateAsync(function(T){T.copy(T,0),p&&(c(T)?p(T):p(T,Ae.Errors.BAD_CRC))});else{if(_.inflate($).copy($,0),!c($))throw new Error(Ae.Errors.BAD_CRC+" "+r.toString());return $}break;default:throw l&&p&&p(Buffer.alloc(0),Ae.Errors.UNKNOWN_METHOD),new Error(Ae.Errors.UNKNOWN_METHOD)}}function a(l,p){if((!s||!s.length)&&Buffer.isBuffer(e))return l&&p&&p(u()),u();if(s.length&&!i){var E;switch(t.method){case Ae.Constants.STORED:return t.compressedSize=t.size,E=Buffer.alloc(s.length),s.copy(E),l&&p&&p(E),E;default:case Ae.Constants.DEFLATED:var f=new Ri.Deflater(s);if(l)f.deflateAsync(function(_){E=Buffer.alloc(_.length),t.compressedSize=_.length,_.copy(E),p&&p(E)});else{var $=f.deflate();return t.compressedSize=$.length,$}f=null;break}}else if(l&&p)p(Buffer.alloc(0));else return Buffer.alloc(0)}function d(l,p){return(l.readUInt32LE(p+4)<<4)+l.readUInt32LE(p)}function v(l){for(var p=0,E,f,$;p<l.length;)E=l.readUInt16LE(p),p+=2,f=l.readUInt16LE(p),p+=2,$=l.slice(p,p+f),p+=f,ut.ID_ZIP64===E&&h($)}function h(l){var p,E,f,$;l.length>=ut.EF_ZIP64_SCOMP&&(p=d(l,ut.EF_ZIP64_SUNCOMP),t.size===ut.EF_ZIP64_OR_32&&(t.size=p)),l.length>=ut.EF_ZIP64_RHO&&(E=d(l,ut.EF_ZIP64_SCOMP),t.compressedSize===ut.EF_ZIP64_OR_32&&(t.compressedSize=E)),l.length>=ut.EF_ZIP64_DSN&&(f=d(l,ut.EF_ZIP64_RHO),t.offset===ut.EF_ZIP64_OR_32&&(t.offset=f)),l.length>=ut.EF_ZIP64_DSN+4&&($=l.readUInt32LE(ut.EF_ZIP64_DSN),t.diskNumStart===ut.EF_ZIP64_OR_16&&(t.diskNumStart=$))}return{get entryName(){return r.toString()},get rawEntryName(){return r},set entryName(l){r=Ae.toBuffer(l);var p=r[r.length-1];i=p===47||p===92,t.fileNameLength=r.length},get extra(){return o},set extra(l){o=l,t.extraLength=l.length,v(l)},get comment(){return n.toString()},set comment(l){n=Ae.toBuffer(l),t.commentLength=n.length},get name(){var l=r.toString();return i?l.substr(l.length-1).split("/").pop():l.split("/").pop()},get isDirectory(){return i},getCompressedData:function(){return a(!1,null)},getCompressedDataAsync:function(l){a(!0,l)},setData:function(l){s=Ae.toBuffer(l),!i&&s.length?(t.size=s.length,t.method=Ae.Constants.DEFLATED,t.crc=Ae.crc32(l),t.changed=!0):t.method=Ae.Constants.STORED},getData:function(l){return t.changed?s:m(!1,null,l)},getDataAsync:function(l,p){t.changed?l(s):m(!0,l,p)},set attr(l){t.attr=l},get attr(){return t.attr},set header(l){t.loadFromBinary(l)},get header(){return t},packHeader:function(){var l=t.entryHeaderToBinary(),p=Ae.Constants.CENHDR;return r.copy(l,p),p+=r.length,t.extraLength&&(o.copy(l,p),p+=t.extraLength),t.commentLength&&n.copy(l,p),l},toJSON:function(){const l=function(p){return"<"+(p&&p.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:t.toJSON(),compressedData:l(e),data:l(s)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}};const ja=Nu,UE=fi,Xe=vn;var xE=function(e,t){var r=[],n={},i=Buffer.alloc(0),s=new UE.MainHeader,o=!1;const u=Object.assign(Object.create(null),t),{noSort:c}=u;e?d(u.readEntries):o=!0;function m(h){const l=s.diskEntries;let p=s.offset;for(let E=0;E<l;E++){let f=p;const $=new ja(e);$.header=e.slice(f,f+=Xe.Constants.CENHDR),$.entryName=e.slice(f,f+=$.header.fileNameLength),p+=$.header.entryHeaderSize,h($)}}function a(){o=!0,n={},r=new Array(s.diskEntries);for(var h=s.offset,l=0;l<r.length;l++){var p=h,E=new ja(e);E.header=e.slice(p,p+=Xe.Constants.CENHDR),E.entryName=e.slice(p,p+=E.header.fileNameLength),E.header.extraLength&&(E.extra=e.slice(p,p+=E.header.extraLength)),E.header.commentLength&&(E.comment=e.slice(p,p+E.header.commentLength)),h+=E.header.entryHeaderSize,r[l]=E,n[E.entryName]=E}}function d(h){var l=e.length-Xe.Constants.ENDHDR,p=Math.max(0,l-65535),E=p,f=e.length,$=-1,_=0;for(l;l>=E;l--)if(e[l]===80){if(e.readUInt32LE(l)===Xe.Constants.ENDSIG){$=l,_=l,f=l+Xe.Constants.ENDHDR,E=l-Xe.Constants.END64HDR;continue}if(e.readUInt32LE(l)===Xe.Constants.END64SIG){E=p;continue}if(e.readUInt32LE(l)===Xe.Constants.ZIP64SIG){$=l,f=l+Xe.readBigUInt64LE(e,l+Xe.Constants.ZIP64SIZE)+Xe.Constants.ZIP64LEAD;break}}if(!~$)throw new Error(Xe.Errors.INVALID_FORMAT);s.loadFromBinary(e.slice($,f)),s.commentLength&&(i=e.slice(_+Xe.Constants.ENDHDR)),h&&a()}function v(){r.length>1&&!c&&r.sort((h,l)=>h.entryName.toLowerCase().localeCompare(l.entryName.toLowerCase()))}return{get entries(){return o||a(),r},get comment(){return i.toString()},set comment(h){i=Xe.toBuffer(h),s.commentLength=i.length},getEntryCount:function(){return o?r.length:s.diskEntries},forEach:function(h){if(!o){m(h);return}r.forEach(h)},getEntry:function(h){return o||a(),n[h]||null},setEntry:function(h){o||a(),r.push(h),n[h.entryName]=h,s.totalEntries=r.length},deleteEntry:function(h){o||a();var l=n[h];if(l&&l.isDirectory){var p=this;this.getEntryChildren(l).forEach(function(E){E.entryName!==h&&p.deleteEntry(E.entryName)})}r.splice(r.indexOf(l),1),delete n[h],s.totalEntries=r.length},getEntryChildren:function(h){if(o||a(),h&&h.isDirectory){const l=[],p=h.entryName,E=p.length;return r.forEach(function(f){f.entryName.substr(0,E)===p&&l.push(f)}),l}return[]},compressToBuffer:function(){o||a(),v();const h=[],l=[];let p=0,E=0;s.size=0,s.offset=0;for(const _ of r){const T=_.getCompressedData();_.header.offset=E;const G=_.header.dataHeaderToBinary(),b=_.rawEntryName.length,D=Buffer.alloc(b+_.extra.length);_.rawEntryName.copy(D,0),D.copy(_.extra,b);const z=G.length+D.length+T.length;E+=z,h.push(G),h.push(D),h.push(T);const A=_.packHeader();l.push(A),s.size+=A.length,p+=z+A.length}p+=s.mainHeaderSize,s.offset=E,E=0;const f=Buffer.alloc(p);for(const _ of h)_.copy(f,E),E+=_.length;for(const _ of l)_.copy(f,E),E+=_.length;const $=s.toBinary();return i&&i.copy($,Xe.Constants.ENDHDR),$.copy(f,E),f},toAsyncBuffer:function(h,l,p,E){try{o||a(),v();const f=[],$=[];let _=0,T=0;s.size=0,s.offset=0;const G=function(b){if(b.length){const D=b.pop(),z=D.entryName+D.extra.toString();p&&p(z),D.getCompressedDataAsync(function(A){E&&E(z),D.header.offset=T;const H=D.header.dataHeaderToBinary(),X=Buffer.alloc(z.length,z),J=H.length+X.length+A.length;T+=J,f.push(H),f.push(X),f.push(A);const V=D.packHeader();$.push(V),s.size+=V.length,_+=J+V.length,G(b)})}else{_+=s.mainHeaderSize,s.offset=T,T=0;const D=Buffer.alloc(_);f.forEach(function(A){A.copy(D,T),T+=A.length}),$.forEach(function(A){A.copy(D,T),T+=A.length});const z=s.toBinary();i&&i.copy(z,Xe.Constants.ENDHDR),z.copy(D,T),h(D)}};G(r)}catch(f){l(f)}}}};const Me=vn,bt=be,VE=Nu,zE=xE,sr=(e,t)=>typeof e=="boolean"?e:t,Pi=(e,t)=>typeof e=="string"?e:t,GE={noSort:!1,readEntries:!1,method:Me.Constants.NONE,fs:null};var HE=function(e,t){let r=null;const n=Object.assign(Object.create(null),GE);e&&typeof e=="object"&&(e instanceof Uint8Array||(Object.assign(n,e),e=n.input?n.input:void 0,n.input&&delete n.input),Buffer.isBuffer(e)&&(r=e,n.method=Me.Constants.BUFFER,e=void 0)),Object.assign(n,t);const i=new Me(n);if(e&&typeof e=="string")if(i.fs.existsSync(e))n.method=Me.Constants.FILE,n.filename=e,r=i.fs.readFileSync(e);else throw new Error(Me.Errors.INVALID_FILENAME);const s=new zE(r,n),{canonical:o,sanitize:u}=Me;function c(a){if(a&&s){var d;if(typeof a=="string"&&(d=s.getEntry(a)),typeof a=="object"&&typeof a.entryName<"u"&&typeof a.header<"u"&&(d=s.getEntry(a.entryName)),d)return d}return null}function m(a){const{join:d,normalize:v,sep:h}=bt.posix;return d(".",v(h+a.split("\\").join(h)+h))}return{readFile:function(a,d){var v=c(a);return v&&v.getData(d)||null},readFileAsync:function(a,d){var v=c(a);v?v.getDataAsync(d):d(null,"getEntry failed for:"+a)},readAsText:function(a,d){var v=c(a);if(v){var h=v.getData();if(h&&h.length)return h.toString(d||"utf8")}return""},readAsTextAsync:function(a,d,v){var h=c(a);h?h.getDataAsync(function(l,p){if(p){d(l,p);return}l&&l.length?d(l.toString(v||"utf8")):d("")}):d("")},deleteFile:function(a){var d=c(a);d&&s.deleteEntry(d.entryName)},addZipComment:function(a){s.comment=a},getZipComment:function(){return s.comment||""},addZipEntryComment:function(a,d){var v=c(a);v&&(v.comment=d)},getZipEntryComment:function(a){var d=c(a);return d&&d.comment||""},updateFile:function(a,d){var v=c(a);v&&v.setData(d)},addLocalFile:function(a,d,v,h){if(i.fs.existsSync(a)){d=d?m(d):"";var l=a.split("\\").join("/").split("/").pop();d+=v||l;const p=i.fs.statSync(a);this.addFile(d,i.fs.readFileSync(a),h,p)}else throw new Error(Me.Errors.FILE_NOT_FOUND.replace("%s",a))},addLocalFolder:function(a,d,v,h){if(v instanceof RegExp?v=function(l){return function(p){return l.test(p)}}(v):typeof v!="function"&&(v=function(){return!0}),d=d?m(d):"",a=bt.normalize(a),i.fs.existsSync(a)){const l=i.findFiles(a),p=this;l.length&&l.forEach(function(E){var f=bt.relative(a,E).split("\\").join("/");if(v(f)){var $=i.fs.statSync(E);$.isFile()?p.addFile(d+f,i.fs.readFileSync(E),"",h||$):p.addFile(d+f+"/",Buffer.alloc(0),"",h||$)}})}else throw new Error(Me.Errors.FILE_NOT_FOUND.replace("%s",a))},addLocalFolderAsync:function(a,d,v,h){h instanceof RegExp?h=function(p){return function(E){return p.test(E)}}(h):typeof h!="function"&&(h=function(){return!0}),v=v?m(v):"",a=bt.normalize(a);var l=this;i.fs.open(a,"r",function(p){if(p&&p.code==="ENOENT")d(void 0,Me.Errors.FILE_NOT_FOUND.replace("%s",a));else if(p)d(void 0,p);else{var E=i.findFiles(a),f=-1,$=function(){if(f+=1,f<E.length){var _=E[f],T=bt.relative(a,_).split("\\").join("/");T=T.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),h(T)?i.fs.stat(_,function(G,b){G&&d(void 0,G),b.isFile()?i.fs.readFile(_,function(D,z){D?d(void 0,D):(l.addFile(v+T,z,"",b),$())}):(l.addFile(v+T+"/",Buffer.alloc(0),"",b),$())}):process.nextTick(()=>{$()})}else d(!0,void 0)};$()}})},addLocalFolderPromise:function(a,d){return new Promise((v,h)=>{const{filter:l,zipPath:p}=Object.assign({},d);this.addLocalFolderAsync(a,(E,f)=>{f&&h(f),E&&v(this)},p,l)})},addFile:function(a,d,v,h){let l=c(a);const p=l!=null;p||(l=new VE,l.entryName=a),l.comment=v||"";const E=typeof h=="object"&&h instanceof i.fs.Stats;E&&(l.header.time=h.mtime);var f=l.isDirectory?16:0;let $=l.isDirectory?16384:32768;E?$|=4095&h.mode:typeof h=="number"?$|=4095&h:$|=l.isDirectory?493:420,f=(f|$<<16)>>>0,l.attr=f,l.setData(d),p||s.setEntry(l)},getEntries:function(){return s?s.entries:[]},getEntry:function(a){return c(a)},getEntryCount:function(){return s.getEntryCount()},forEach:function(a){return s.forEach(a)},extractEntryTo:function(a,d,v,h,l,p){h=sr(h,!1),l=sr(l,!1),v=sr(v,!0),p=Pi(p,Pi(l,void 0));var E=c(a);if(!E)throw new Error(Me.Errors.NO_ENTRY);var f=o(E.entryName),$=u(d,p&&!E.isDirectory?p:v?f:bt.basename(f));if(E.isDirectory){var _=s.getEntryChildren(E);return _.forEach(function(b){if(b.isDirectory)return;var D=b.getData();if(!D)throw new Error(Me.Errors.CANT_EXTRACT_FILE);var z=o(b.entryName),A=u(d,v?z:bt.basename(z));const H=l?b.header.fileAttr:void 0;i.writeFileTo(A,D,h,H)}),!0}var T=E.getData();if(!T)throw new Error(Me.Errors.CANT_EXTRACT_FILE);if(i.fs.existsSync($)&&!h)throw new Error(Me.Errors.CANT_OVERRIDE);const G=l?a.header.fileAttr:void 0;return i.writeFileTo($,T,h,G),!0},test:function(a){if(!s)return!1;for(var d in s.entries)try{if(d.isDirectory)continue;var v=s.entries[d].getData(a);if(!v)return!1}catch{return!1}return!0},extractAllTo:function(a,d,v,h){if(d=sr(d,!1),h=Pi(v,h),v=sr(v,!1),!s)throw new Error(Me.Errors.NO_ZIP);s.entries.forEach(function(l){var p=u(a,o(l.entryName.toString()));if(l.isDirectory){i.makeDir(p);return}var E=l.getData(h);if(!E)throw new Error(Me.Errors.CANT_EXTRACT_FILE);const f=v?l.header.fileAttr:void 0;i.writeFileTo(p,E,d,f);try{i.fs.utimesSync(p,l.header.time,l.header.time)}catch{throw new Error(Me.Errors.CANT_EXTRACT_FILE)}})},extractAllToAsync:function(a,d,v,h){if(d=sr(d,!1),typeof v=="function"&&!h&&(h=v),v=sr(v,!1),h||(h=function(_){throw new Error(_)}),!s){h(new Error(Me.Errors.NO_ZIP));return}a=bt.resolve(a);const l=_=>u(a,bt.normalize(o(_.entryName.toString()))),p=(_,T)=>new Error(_+': "'+T+'"'),E=[],f=new Set;s.entries.forEach(_=>{_.isDirectory?E.push(_):f.add(_)});for(const _ of E){const T=l(_),G=v?_.header.fileAttr:void 0;try{i.makeDir(T),G&&i.fs.chmodSync(T,G),i.fs.utimesSync(T,_.header.time,_.header.time)}catch{h(p("Unable to create folder",T))}}const $=()=>{f.size===0&&h()};for(const _ of f.values()){const T=bt.normalize(o(_.entryName.toString())),G=u(a,T);_.getDataAsync(function(b,D){if(D){h(new Error(D));return}if(!b)h(new Error(Me.Errors.CANT_EXTRACT_FILE));else{const z=v?_.header.fileAttr:void 0;i.writeFileToAsync(G,b,d,z,function(A){if(!A){h(p("Unable to write file",G));return}i.fs.utimes(G,_.header.time,_.header.time,function(H){if(H){h(p("Unable to set times",G));return}f.delete(_),$()})})}})}$()},writeZip:function(a,d){if(arguments.length===1&&typeof a=="function"&&(d=a,a=""),!a&&n.filename&&(a=n.filename),!!a){var v=s.compressToBuffer();if(v){var h=i.writeFileTo(a,v,!0);typeof d=="function"&&d(h?null:new Error("failed"),"")}}},writeZipPromise:function(a,d){const{overwrite:v,perm:h}=Object.assign({overwrite:!0},d);return new Promise((l,p)=>{!a&&n.filename&&(a=n.filename),a||p("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(E=>{const f=$=>$?l($):p("ADM-ZIP: Wasn't able to write zip file");i.writeFileToAsync(a,E,v,h,f)},p)})},toBufferPromise:function(){return new Promise((a,d)=>{s.toAsyncBuffer(a,d)})},toBuffer:function(a,d,v,h){return this.valueOf=2,typeof a=="function"?(s.toAsyncBuffer(a,d,v,h),null):s.compressToBuffer()}}};const ka=Va(HE);class pt{constructor(t,r){this.bw=t,this.#f.getVersion=r,fe.ipcMain.handle("getInfo",()=>this.#f),fe.ipcMain.handle("existsSync",(i,s)=>mt.existsSync(s)),fe.ipcMain.handle("copySync",(i,s,o)=>mt.copySync(s,o)),fe.ipcMain.handle("removeSync",(i,s)=>mt.removeSync(s)),fe.ipcMain.handle("ensureFileSync",(i,s)=>mt.ensureFileSync(s)),fe.ipcMain.handle("readFileSync",(i,s)=>mt.readFileSync(s,{encoding:"utf8"})),fe.ipcMain.handle("readFile",(i,s,o)=>mt.readFile(s,o)),fe.ipcMain.handle("writeFileSync",(i,s,o,u)=>mt.writeFileSync(s,o,u)),fe.ipcMain.handle("appendFile",(i,s,o,u)=>mt.appendFile(s,o).catch(c=>u(c))),fe.ipcMain.handle("win_close",()=>t.close()),fe.ipcMain.handle("win_setTitle",(i,s)=>t.setTitle(s)),fe.ipcMain.handle("showMessageBox",(i,s)=>fe.dialog.showMessageBox(s)),fe.ipcMain.handle("capturePage",(i,s)=>t.webContents.capturePage().then(o=>{mt.ensureFileSync(s),mt.writeFileSync(s,s.slice(-4)===".png"?o.toPNG():o.toJPEG(80))})),fe.ipcMain.handle("navigate_to",(i,s)=>fe.shell.openExternal(s)),fe.ipcMain.handle("openDevTools",()=>t.webContents.openDevTools()),fe.ipcMain.handle("win_ev_devtools_opened",(i,s)=>t.webContents.on("devtools-opened",s));let n;fe.ipcMain.handle("Store",(i,s)=>{n=new Pa(s)}),fe.ipcMain.handle("flush",(i,s)=>{n.store=s}),fe.ipcMain.handle("Store_isEmpty",()=>n.size===0),fe.ipcMain.handle("Store_get",()=>n.store),fe.ipcMain.handle("zip",(i,s,o)=>{const u=new ka;u.addLocalFolder(s),u.writeZip(o)}),fe.ipcMain.handle("unzip",(i,s,o)=>{mt.removeSync(o),mt.ensureDirSync(o),new ka(s).extractAllTo(o,!0)}),fe.ipcMain.handle("isSimpleFullScreen",()=>t.simpleFullScreen),this.#p?(fe.ipcMain.handle("setSimpleFullScreen",(i,s)=>{this.#e=!0,t.setSimpleFullScreen(s),s||(t.setPosition(this.#i,this.#s),t.setContentSize(this.#r,this.#n+pt.#t)),this.#e=!1}),t.on("enter-full-screen",()=>{t.setContentSize(this.#o,this.#a-pt.#t)}),t.on("leave-full-screen",()=>{this.#u(!1,this.#i,this.#s,this.#r,this.#n+pt.#t)})):fe.ipcMain.handle("setSimpleFullScreen",(i,s)=>{t.setSimpleFullScreen(s),s||t.setContentSize(this.#r,this.#n+pt.#t)}),fe.ipcMain.handle("window",(i,s,o,u,c,m)=>this.#u(s,o,u,c,m)),t.on("move",()=>this.#d())}#l=fe.screen.getPrimaryDisplay().size;#o=this.#l.width;#a=this.#l.height;#f={getAppPath:fe.app.getAppPath(),isPackaged:fe.app.isPackaged,downloads:fe.app.getPath("downloads"),userData:fe.app.getPath("userData"),getVersion:"",env:{...process.env},platform:process.platform,arch:process.arch};#i=0;#s=0;#r=0;#n=0;#p=process.platform==="win32";#c=void 0;#d(){if(this.#c||this.#e)return;this.#e=!0;const{x:t,y:r}=this.bw.getBounds();this.#c=setTimeout(()=>{if(this.#c=void 0,this.#h){this.#h=!1;return}this.#e=!1;const n=this.bw.getBounds();if(t!==n.x||r!==n.y){this.#d();return}this.#u(!1,n.x,n.y,this.#r,this.#n)},1e3/60*10)}#h=!1;#e=!1;#u(t,r,n,i,s){this.#e||(this.#e=!0,!this.bw.simpleFullScreen&&(t?(r=(this.#o-i)*.5,n=(this.#a-s)*.5):((r<0||r>this.#o)&&(r=0),(n<0||n>this.#a)&&(n=0)),(this.#i!==r||this.#s!==n)&&(this.#i=r,this.#s=n,this.bw.webContents.send("save_win_pos",r,n),this.bw.setPosition(r,n)),this.#r=i,this.#n=s,this.bw.setContentSize(i,s+pt.#t),this.#e=!1))}openDevTools(){this.bw.webContents.openDevTools()}static#m;static initRenderer(t,r,n){let i=()=>{},s;try{Pa.initRenderer(),process.env.ELECTRON_DISABLE_SECURITY_WARNINGS="true",s=new fe.BrowserWindow({...n,fullscreenable:!0,maximizable:!1,webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:`${__dirname}/preload.js`}}),s.setMenuBarVisibility(!1);const o=s.getContentSize()[1];s.setMenuBarVisibility(!0);const u=s.getContentSize()[1];pt.#t=o-u,pt.#m=new pt(s,r),i=()=>pt.#m.openDevTools(),s.loadFile(t),s.once("ready-to-show",()=>s.show())}catch(o){throw console.error(`ealy err:${o}`),i(),"initRenderer error"}return s}static#t=0}module.exports=pt;exports.appMain=pt;
//# sourceMappingURL=appMain.js.map
