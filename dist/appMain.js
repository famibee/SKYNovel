"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const Y=require("electron"),Kt=require("fs"),wl=require("constants"),Sl=require("stream"),hs=require("util"),aa=require("assert"),pe=require("path"),ca=require("crypto"),Nl=require("events"),Il=require("os"),la=require("zlib");var It=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ua(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fe={},ge={};ge.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,n)=>{t.push((s,i)=>s!=null?n(s):r(i)),e.apply(this,t)})},"name",{value:e.name})};ge.fromPromise=function(e){return Object.defineProperty(function(...t){const r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);t.pop(),e.apply(this,t).then(n=>r(null,n),r)},"name",{value:e.name})};var ct=wl,Ol=process.cwd,zr=null,Pl=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return zr||(zr=Ol.call(process)),zr};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var ki=process.chdir;process.chdir=function(e){zr=null,ki.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,ki)}var Tl=Rl;function Rl(e){ct.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=i(e.chown),e.fchown=i(e.fchown),e.lchown=i(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=s(e.chmodSync),e.fchmodSync=s(e.fchmodSync),e.lchmodSync=s(e.lchmodSync),e.stat=l(e.stat),e.fstat=l(e.fstat),e.lstat=l(e.lstat),e.statSync=c(e.statSync),e.fstatSync=c(e.fstatSync),e.lstatSync=c(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(u,p,v){v&&process.nextTick(v)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(u,p,v,f){f&&process.nextTick(f)},e.lchownSync=function(){}),Pl==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(u){function p(v,f,h){var $=Date.now(),y=0;u(v,f,function m(g){if(g&&(g.code==="EACCES"||g.code==="EPERM"||g.code==="EBUSY")&&Date.now()-$<6e4){setTimeout(function(){e.stat(f,function(d,S){d&&d.code==="ENOENT"?u(v,f,m):h(g)})},y),y<100&&(y+=10);return}h&&h(g)})}return Object.setPrototypeOf&&Object.setPrototypeOf(p,u),p}(e.rename)),e.read=typeof e.read!="function"?e.read:function(u){function p(v,f,h,$,y,m){var g;if(m&&typeof m=="function"){var d=0;g=function(S,I,F){if(S&&S.code==="EAGAIN"&&d<10)return d++,u.call(e,v,f,h,$,y,g);m.apply(this,arguments)}}return u.call(e,v,f,h,$,y,g)}return Object.setPrototypeOf&&Object.setPrototypeOf(p,u),p}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(u){return function(p,v,f,h,$){for(var y=0;;)try{return u.call(e,p,v,f,h,$)}catch(m){if(m.code==="EAGAIN"&&y<10){y++;continue}throw m}}}(e.readSync);function t(u){u.lchmod=function(p,v,f){u.open(p,ct.O_WRONLY|ct.O_SYMLINK,v,function(h,$){if(h){f&&f(h);return}u.fchmod($,v,function(y){u.close($,function(m){f&&f(y||m)})})})},u.lchmodSync=function(p,v){var f=u.openSync(p,ct.O_WRONLY|ct.O_SYMLINK,v),h=!0,$;try{$=u.fchmodSync(f,v),h=!1}finally{if(h)try{u.closeSync(f)}catch{}else u.closeSync(f)}return $}}function r(u){ct.hasOwnProperty("O_SYMLINK")&&u.futimes?(u.lutimes=function(p,v,f,h){u.open(p,ct.O_SYMLINK,function($,y){if($){h&&h($);return}u.futimes(y,v,f,function(m){u.close(y,function(g){h&&h(m||g)})})})},u.lutimesSync=function(p,v,f){var h=u.openSync(p,ct.O_SYMLINK),$,y=!0;try{$=u.futimesSync(h,v,f),y=!1}finally{if(y)try{u.closeSync(h)}catch{}else u.closeSync(h)}return $}):u.futimes&&(u.lutimes=function(p,v,f,h){h&&process.nextTick(h)},u.lutimesSync=function(){})}function n(u){return u&&function(p,v,f){return u.call(e,p,v,function(h){a(h)&&(h=null),f&&f.apply(this,arguments)})}}function s(u){return u&&function(p,v){try{return u.call(e,p,v)}catch(f){if(!a(f))throw f}}}function i(u){return u&&function(p,v,f,h){return u.call(e,p,v,f,function($){a($)&&($=null),h&&h.apply(this,arguments)})}}function o(u){return u&&function(p,v,f){try{return u.call(e,p,v,f)}catch(h){if(!a(h))throw h}}}function l(u){return u&&function(p,v,f){typeof v=="function"&&(f=v,v=null);function h($,y){y&&(y.uid<0&&(y.uid+=4294967296),y.gid<0&&(y.gid+=4294967296)),f&&f.apply(this,arguments)}return v?u.call(e,p,v,h):u.call(e,p,h)}}function c(u){return u&&function(p,v){var f=v?u.call(e,p,v):u.call(e,p);return f&&(f.uid<0&&(f.uid+=4294967296),f.gid<0&&(f.gid+=4294967296)),f}}function a(u){if(!u||u.code==="ENOSYS")return!0;var p=!process.getuid||process.getuid()!==0;return!!(p&&(u.code==="EINVAL"||u.code==="EPERM"))}}var Mi=Sl.Stream,bl=Dl;function Dl(e){return{ReadStream:t,WriteStream:r};function t(n,s){if(!(this instanceof t))return new t(n,s);Mi.call(this);var i=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,s=s||{};for(var o=Object.keys(s),l=0,c=o.length;l<c;l++){var a=o[l];this[a]=s[a]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){i._read()});return}e.open(this.path,this.flags,this.mode,function(u,p){if(u){i.emit("error",u),i.readable=!1;return}i.fd=p,i.emit("open",p),i._read()})}function r(n,s){if(!(this instanceof r))return new r(n,s);Mi.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,s=s||{};for(var i=Object.keys(s),o=0,l=i.length;o<l;o++){var c=i[o];this[c]=s[c]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var Cl=Al,Ll=Object.getPrototypeOf||function(e){return e.__proto__};function Al(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:Ll(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}var ue=Kt,Fl=Tl,jl=bl,kl=Cl,Ir=hs,Pe,Wr;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Pe=Symbol.for("graceful-fs.queue"),Wr=Symbol.for("graceful-fs.previous")):(Pe="___graceful-fs.queue",Wr="___graceful-fs.previous");function Ml(){}function fa(e,t){Object.defineProperty(e,Pe,{get:function(){return t}})}var Ot=Ml;Ir.debuglog?Ot=Ir.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Ot=function(){var e=Ir.format.apply(Ir,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});if(!ue[Pe]){var Ul=It[Pe]||[];fa(ue,Ul),ue.close=function(e){function t(r,n){return e.call(ue,r,function(s){s||Ui(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,Wr,{value:e}),t}(ue.close),ue.closeSync=function(e){function t(r){e.apply(ue,arguments),Ui()}return Object.defineProperty(t,Wr,{value:e}),t}(ue.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Ot(ue[Pe]),aa.equal(ue[Pe].length,0)})}It[Pe]||fa(It,ue[Pe]);var Wt=ms(kl(ue));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!ue.__patched&&(Wt=ms(ue),ue.__patched=!0);function ms(e){Fl(e),e.gracefulify=ms,e.createReadStream=I,e.createWriteStream=F;var t=e.readFile;e.readFile=r;function r(b,j,U){return typeof j=="function"&&(U=j,j=null),V(b,j,U);function V(W,L,C,M){return t(W,L,function(A){A&&(A.code==="EMFILE"||A.code==="ENFILE")?Dt([V,[W,L,C],A,M||Date.now(),Date.now()]):typeof C=="function"&&C.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=s;function s(b,j,U,V){return typeof U=="function"&&(V=U,U=null),W(b,j,U,V);function W(L,C,M,A,P){return n(L,C,M,function(R){R&&(R.code==="EMFILE"||R.code==="ENFILE")?Dt([W,[L,C,M,A],R,P||Date.now(),Date.now()]):typeof A=="function"&&A.apply(this,arguments)})}}var i=e.appendFile;i&&(e.appendFile=o);function o(b,j,U,V){return typeof U=="function"&&(V=U,U=null),W(b,j,U,V);function W(L,C,M,A,P){return i(L,C,M,function(R){R&&(R.code==="EMFILE"||R.code==="ENFILE")?Dt([W,[L,C,M,A],R,P||Date.now(),Date.now()]):typeof A=="function"&&A.apply(this,arguments)})}}var l=e.copyFile;l&&(e.copyFile=c);function c(b,j,U,V){return typeof U=="function"&&(V=U,U=0),W(b,j,U,V);function W(L,C,M,A,P){return l(L,C,M,function(R){R&&(R.code==="EMFILE"||R.code==="ENFILE")?Dt([W,[L,C,M,A],R,P||Date.now(),Date.now()]):typeof A=="function"&&A.apply(this,arguments)})}}var a=e.readdir;e.readdir=p;var u=/^v[0-5]\./;function p(b,j,U){typeof j=="function"&&(U=j,j=null);var V=u.test(process.version)?function(C,M,A,P){return a(C,W(C,M,A,P))}:function(C,M,A,P){return a(C,M,W(C,M,A,P))};return V(b,j,U);function W(L,C,M,A){return function(P,R){P&&(P.code==="EMFILE"||P.code==="ENFILE")?Dt([V,[L,C,M],P,A||Date.now(),Date.now()]):(R&&R.sort&&R.sort(),typeof M=="function"&&M.call(this,P,R))}}}if(process.version.substr(0,4)==="v0.8"){var v=jl(e);m=v.ReadStream,d=v.WriteStream}var f=e.ReadStream;f&&(m.prototype=Object.create(f.prototype),m.prototype.open=g);var h=e.WriteStream;h&&(d.prototype=Object.create(h.prototype),d.prototype.open=S),Object.defineProperty(e,"ReadStream",{get:function(){return m},set:function(b){m=b},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return d},set:function(b){d=b},enumerable:!0,configurable:!0});var $=m;Object.defineProperty(e,"FileReadStream",{get:function(){return $},set:function(b){$=b},enumerable:!0,configurable:!0});var y=d;Object.defineProperty(e,"FileWriteStream",{get:function(){return y},set:function(b){y=b},enumerable:!0,configurable:!0});function m(b,j){return this instanceof m?(f.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}function g(){var b=this;q(b.path,b.flags,b.mode,function(j,U){j?(b.autoClose&&b.destroy(),b.emit("error",j)):(b.fd=U,b.emit("open",U),b.read())})}function d(b,j){return this instanceof d?(h.apply(this,arguments),this):d.apply(Object.create(d.prototype),arguments)}function S(){var b=this;q(b.path,b.flags,b.mode,function(j,U){j?(b.destroy(),b.emit("error",j)):(b.fd=U,b.emit("open",U))})}function I(b,j){return new e.ReadStream(b,j)}function F(b,j){return new e.WriteStream(b,j)}var k=e.open;e.open=q;function q(b,j,U,V){return typeof U=="function"&&(V=U,U=null),W(b,j,U,V);function W(L,C,M,A,P){return k(L,C,M,function(R,N){R&&(R.code==="EMFILE"||R.code==="ENFILE")?Dt([W,[L,C,M,A],R,P||Date.now(),Date.now()]):typeof A=="function"&&A.apply(this,arguments)})}}return e}function Dt(e){Ot("ENQUEUE",e[0].name,e[1]),ue[Pe].push(e),ps()}var Or;function Ui(){for(var e=Date.now(),t=0;t<ue[Pe].length;++t)ue[Pe][t].length>2&&(ue[Pe][t][3]=e,ue[Pe][t][4]=e);ps()}function ps(){if(clearTimeout(Or),Or=void 0,ue[Pe].length!==0){var e=ue[Pe].shift(),t=e[0],r=e[1],n=e[2],s=e[3],i=e[4];if(s===void 0)Ot("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-s>=6e4){Ot("TIMEOUT",t.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var l=Date.now()-i,c=Math.max(i-s,1),a=Math.min(c*1.2,100);l>=a?(Ot("RETRY",t.name,r),t.apply(null,r.concat([s]))):ue[Pe].push(e)}Or===void 0&&(Or=setTimeout(ps,0))}}(function(e){const t=ge.fromCallback,r=Wt,n=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(s=>typeof r[s]=="function");Object.assign(e,r),n.forEach(s=>{e[s]=t(r[s])}),e.exists=function(s,i){return typeof i=="function"?r.exists(s,i):new Promise(o=>r.exists(s,o))},e.read=function(s,i,o,l,c,a){return typeof a=="function"?r.read(s,i,o,l,c,a):new Promise((u,p)=>{r.read(s,i,o,l,c,(v,f,h)=>{if(v)return p(v);u({bytesRead:f,buffer:h})})})},e.write=function(s,i,...o){return typeof o[o.length-1]=="function"?r.write(s,i,...o):new Promise((l,c)=>{r.write(s,i,...o,(a,u,p)=>{if(a)return c(a);l({bytesWritten:u,buffer:p})})})},e.readv=function(s,i,...o){return typeof o[o.length-1]=="function"?r.readv(s,i,...o):new Promise((l,c)=>{r.readv(s,i,...o,(a,u,p)=>{if(a)return c(a);l({bytesRead:u,buffers:p})})})},e.writev=function(s,i,...o){return typeof o[o.length-1]=="function"?r.writev(s,i,...o):new Promise((l,c)=>{r.writev(s,i,...o,(a,u,p)=>{if(a)return c(a);l({bytesWritten:u,buffers:p})})})},typeof r.realpath.native=="function"?e.realpath.native=t(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")})(Fe);var ys={},da={};const zl=pe;da.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(zl.parse(t).root,""))){const n=new Error(`Path contains invalid characters: ${t}`);throw n.code="EINVAL",n}};const ha=Fe,{checkPath:ma}=da,pa=e=>{const t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};ys.makeDir=async(e,t)=>(ma(e),ha.mkdir(e,{mode:pa(t),recursive:!0}));ys.makeDirSync=(e,t)=>(ma(e),ha.mkdirSync(e,{mode:pa(t),recursive:!0}));const xl=ge.fromPromise,{makeDir:Vl,makeDirSync:kn}=ys,Mn=xl(Vl);var rt={mkdirs:Mn,mkdirsSync:kn,mkdirp:Mn,mkdirpSync:kn,ensureDir:Mn,ensureDirSync:kn};const Gl=ge.fromPromise,ya=Fe;function Hl(e){return ya.access(e).then(()=>!0).catch(()=>!1)}var Rt={pathExists:Gl(Hl),pathExistsSync:ya.existsSync};const Mt=Fe,Bl=ge.fromPromise;async function ql(e,t,r){const n=await Mt.open(e,"r+");let s=null;try{await Mt.futimes(n,t,r)}finally{try{await Mt.close(n)}catch(i){s=i}}if(s)throw s}function Kl(e,t,r){const n=Mt.openSync(e,"r+");return Mt.futimesSync(n,t,r),Mt.closeSync(n)}var Ea={utimesMillis:Bl(ql),utimesMillisSync:Kl};const xt=Fe,we=pe,zi=ge.fromPromise;function Wl(e,t,r){const n=r.dereference?s=>xt.stat(s,{bigint:!0}):s=>xt.lstat(s,{bigint:!0});return Promise.all([n(e),n(t).catch(s=>{if(s.code==="ENOENT")return null;throw s})]).then(([s,i])=>({srcStat:s,destStat:i}))}function Xl(e,t,r){let n;const s=r.dereference?o=>xt.statSync(o,{bigint:!0}):o=>xt.lstatSync(o,{bigint:!0}),i=s(e);try{n=s(t)}catch(o){if(o.code==="ENOENT")return{srcStat:i,destStat:null};throw o}return{srcStat:i,destStat:n}}async function Zl(e,t,r,n){const{srcStat:s,destStat:i}=await Wl(e,t,n);if(i){if(gr(s,i)){const o=we.basename(e),l=we.basename(t);if(r==="move"&&o!==l&&o.toLowerCase()===l.toLowerCase())return{srcStat:s,destStat:i,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!i.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!s.isDirectory()&&i.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(s.isDirectory()&&Es(e,t))throw new Error(tn(e,t,r));return{srcStat:s,destStat:i}}function Jl(e,t,r,n){const{srcStat:s,destStat:i}=Xl(e,t,n);if(i){if(gr(s,i)){const o=we.basename(e),l=we.basename(t);if(r==="move"&&o!==l&&o.toLowerCase()===l.toLowerCase())return{srcStat:s,destStat:i,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!i.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!s.isDirectory()&&i.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(s.isDirectory()&&Es(e,t))throw new Error(tn(e,t,r));return{srcStat:s,destStat:i}}async function $a(e,t,r,n){const s=we.resolve(we.dirname(e)),i=we.resolve(we.dirname(r));if(i===s||i===we.parse(i).root)return;let o;try{o=await xt.stat(i,{bigint:!0})}catch(l){if(l.code==="ENOENT")return;throw l}if(gr(t,o))throw new Error(tn(e,r,n));return $a(e,t,i,n)}function ga(e,t,r,n){const s=we.resolve(we.dirname(e)),i=we.resolve(we.dirname(r));if(i===s||i===we.parse(i).root)return;let o;try{o=xt.statSync(i,{bigint:!0})}catch(l){if(l.code==="ENOENT")return;throw l}if(gr(t,o))throw new Error(tn(e,r,n));return ga(e,t,i,n)}function gr(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function Es(e,t){const r=we.resolve(e).split(we.sep).filter(s=>s),n=we.resolve(t).split(we.sep).filter(s=>s);return r.every((s,i)=>n[i]===s)}function tn(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}var Xt={checkPaths:zi(Zl),checkPathsSync:Jl,checkParentPaths:zi($a),checkParentPathsSync:ga,isSrcSubdir:Es,areIdentical:gr};const Re=Fe,hr=pe,{mkdirs:Yl}=rt,{pathExists:Ql}=Rt,{utimesMillis:eu}=Ea,mr=Xt;async function tu(e,t,r={}){typeof r=="function"&&(r={filter:r}),r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001");const{srcStat:n,destStat:s}=await mr.checkPaths(e,t,"copy",r);if(await mr.checkParentPaths(e,n,t,"copy"),!await _a(e,t,r))return;const o=hr.dirname(t);await Ql(o)||await Yl(o),await va(s,e,t,r)}async function _a(e,t,r){return r.filter?r.filter(e,t):!0}async function va(e,t,r,n){const i=await(n.dereference?Re.stat:Re.lstat)(t);if(i.isDirectory())return iu(i,e,t,r,n);if(i.isFile()||i.isCharacterDevice()||i.isBlockDevice())return ru(i,e,t,r,n);if(i.isSymbolicLink())return ou(e,t,r,n);throw i.isSocket()?new Error(`Cannot copy a socket file: ${t}`):i.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}async function ru(e,t,r,n,s){if(!t)return xi(e,r,n,s);if(s.overwrite)return await Re.unlink(n),xi(e,r,n,s);if(s.errorOnExist)throw new Error(`'${n}' already exists`)}async function xi(e,t,r,n){if(await Re.copyFile(t,r),n.preserveTimestamps){nu(e.mode)&&await su(r,e.mode);const s=await Re.stat(t);await eu(r,s.atime,s.mtime)}return Re.chmod(r,e.mode)}function nu(e){return(e&128)===0}function su(e,t){return Re.chmod(e,t|128)}async function iu(e,t,r,n,s){t||await Re.mkdir(n);const i=await Re.readdir(r);await Promise.all(i.map(async o=>{const l=hr.join(r,o),c=hr.join(n,o);if(!await _a(l,c,s))return;const{destStat:u}=await mr.checkPaths(l,c,"copy",s);return va(u,l,c,s)})),t||await Re.chmod(n,e.mode)}async function ou(e,t,r,n){let s=await Re.readlink(t);if(n.dereference&&(s=hr.resolve(process.cwd(),s)),!e)return Re.symlink(s,r);let i=null;try{i=await Re.readlink(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return Re.symlink(s,r);throw o}if(n.dereference&&(i=hr.resolve(process.cwd(),i)),mr.isSrcSubdir(s,i))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${i}'.`);if(mr.isSrcSubdir(i,s))throw new Error(`Cannot overwrite '${i}' with '${s}'.`);return await Re.unlink(r),Re.symlink(s,r)}var au=tu;const Le=Wt,pr=pe,cu=rt.mkdirsSync,lu=Ea.utimesMillisSync,yr=Xt;function uu(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:n,destStat:s}=yr.checkPathsSync(e,t,"copy",r);if(yr.checkParentPathsSync(e,n,t,"copy"),r.filter&&!r.filter(e,t))return;const i=pr.dirname(t);return Le.existsSync(i)||cu(i),wa(s,e,t,r)}function wa(e,t,r,n){const i=(n.dereference?Le.statSync:Le.lstatSync)(t);if(i.isDirectory())return Eu(i,e,t,r,n);if(i.isFile()||i.isCharacterDevice()||i.isBlockDevice())return fu(i,e,t,r,n);if(i.isSymbolicLink())return _u(e,t,r,n);throw i.isSocket()?new Error(`Cannot copy a socket file: ${t}`):i.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function fu(e,t,r,n,s){return t?du(e,r,n,s):Sa(e,r,n,s)}function du(e,t,r,n){if(n.overwrite)return Le.unlinkSync(r),Sa(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function Sa(e,t,r,n){return Le.copyFileSync(t,r),n.preserveTimestamps&&hu(e.mode,t,r),$s(r,e.mode)}function hu(e,t,r){return mu(e)&&pu(r,e),yu(t,r)}function mu(e){return(e&128)===0}function pu(e,t){return $s(e,t|128)}function $s(e,t){return Le.chmodSync(e,t)}function yu(e,t){const r=Le.statSync(e);return lu(t,r.atime,r.mtime)}function Eu(e,t,r,n,s){return t?Na(r,n,s):$u(e.mode,r,n,s)}function $u(e,t,r,n){return Le.mkdirSync(r),Na(t,r,n),$s(r,e)}function Na(e,t,r){Le.readdirSync(e).forEach(n=>gu(n,e,t,r))}function gu(e,t,r,n){const s=pr.join(t,e),i=pr.join(r,e);if(n.filter&&!n.filter(s,i))return;const{destStat:o}=yr.checkPathsSync(s,i,"copy",n);return wa(o,s,i,n)}function _u(e,t,r,n){let s=Le.readlinkSync(t);if(n.dereference&&(s=pr.resolve(process.cwd(),s)),e){let i;try{i=Le.readlinkSync(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return Le.symlinkSync(s,r);throw o}if(n.dereference&&(i=pr.resolve(process.cwd(),i)),yr.isSrcSubdir(s,i))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${i}'.`);if(yr.isSrcSubdir(i,s))throw new Error(`Cannot overwrite '${i}' with '${s}'.`);return vu(s,r)}else return Le.symlinkSync(s,r)}function vu(e,t){return Le.unlinkSync(t),Le.symlinkSync(e,t)}var wu=uu;const Su=ge.fromPromise;var gs={copy:Su(au),copySync:wu};const Ia=Wt,Nu=ge.fromCallback;function Iu(e,t){Ia.rm(e,{recursive:!0,force:!0},t)}function Ou(e){Ia.rmSync(e,{recursive:!0,force:!0})}var rn={remove:Nu(Iu),removeSync:Ou};const Pu=ge.fromPromise,Oa=Fe,Pa=pe,Ta=rt,Ra=rn,Vi=Pu(async function(t){let r;try{r=await Oa.readdir(t)}catch{return Ta.mkdirs(t)}return Promise.all(r.map(n=>Ra.remove(Pa.join(t,n))))});function Gi(e){let t;try{t=Oa.readdirSync(e)}catch{return Ta.mkdirsSync(e)}t.forEach(r=>{r=Pa.join(e,r),Ra.removeSync(r)})}var Tu={emptyDirSync:Gi,emptydirSync:Gi,emptyDir:Vi,emptydir:Vi};const Ru=ge.fromPromise,ba=pe,st=Fe,Da=rt;async function bu(e){let t;try{t=await st.stat(e)}catch{}if(t&&t.isFile())return;const r=ba.dirname(e);let n=null;try{n=await st.stat(r)}catch(s){if(s.code==="ENOENT"){await Da.mkdirs(r),await st.writeFile(e,"");return}else throw s}n.isDirectory()?await st.writeFile(e,""):await st.readdir(r)}function Du(e){let t;try{t=st.statSync(e)}catch{}if(t&&t.isFile())return;const r=ba.dirname(e);try{st.statSync(r).isDirectory()||st.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")Da.mkdirsSync(r);else throw n}st.writeFileSync(e,"")}var Cu={createFile:Ru(bu),createFileSync:Du};const Lu=ge.fromPromise,Ca=pe,dt=Fe,La=rt,{pathExists:Au}=Rt,{areIdentical:Aa}=Xt;async function Fu(e,t){let r;try{r=await dt.lstat(t)}catch{}let n;try{n=await dt.lstat(e)}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}if(r&&Aa(n,r))return;const s=Ca.dirname(t);await Au(s)||await La.mkdirs(s),await dt.link(e,t)}function ju(e,t){let r;try{r=dt.lstatSync(t)}catch{}try{const i=dt.lstatSync(e);if(r&&Aa(i,r))return}catch(i){throw i.message=i.message.replace("lstat","ensureLink"),i}const n=Ca.dirname(t);return dt.existsSync(n)||La.mkdirsSync(n),dt.linkSync(e,t)}var ku={createLink:Lu(Fu),createLinkSync:ju};const mt=pe,ar=Fe,{pathExists:Mu}=Rt,Uu=ge.fromPromise;async function zu(e,t){if(mt.isAbsolute(e)){try{await ar.lstat(e)}catch(i){throw i.message=i.message.replace("lstat","ensureSymlink"),i}return{toCwd:e,toDst:e}}const r=mt.dirname(t),n=mt.join(r,e);if(await Mu(n))return{toCwd:n,toDst:e};try{await ar.lstat(e)}catch(i){throw i.message=i.message.replace("lstat","ensureSymlink"),i}return{toCwd:e,toDst:mt.relative(r,e)}}function xu(e,t){if(mt.isAbsolute(e)){if(!ar.existsSync(e))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}const r=mt.dirname(t),n=mt.join(r,e);if(ar.existsSync(n))return{toCwd:n,toDst:e};if(!ar.existsSync(e))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:mt.relative(r,e)}}var Vu={symlinkPaths:Uu(zu),symlinkPathsSync:xu};const Fa=Fe,Gu=ge.fromPromise;async function Hu(e,t){if(t)return t;let r;try{r=await Fa.lstat(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}function Bu(e,t){if(t)return t;let r;try{r=Fa.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}var qu={symlinkType:Gu(Hu),symlinkTypeSync:Bu};const Ku=ge.fromPromise,ja=pe,Je=Fe,{mkdirs:Wu,mkdirsSync:Xu}=rt,{symlinkPaths:Zu,symlinkPathsSync:Ju}=Vu,{symlinkType:Yu,symlinkTypeSync:Qu}=qu,{pathExists:ef}=Rt,{areIdentical:ka}=Xt;async function tf(e,t,r){let n;try{n=await Je.lstat(t)}catch{}if(n&&n.isSymbolicLink()){const[l,c]=await Promise.all([Je.stat(e),Je.stat(t)]);if(ka(l,c))return}const s=await Zu(e,t);e=s.toDst;const i=await Yu(s.toCwd,r),o=ja.dirname(t);return await ef(o)||await Wu(o),Je.symlink(e,t,i)}function rf(e,t,r){let n;try{n=Je.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){const l=Je.statSync(e),c=Je.statSync(t);if(ka(l,c))return}const s=Ju(e,t);e=s.toDst,r=Qu(s.toCwd,r);const i=ja.dirname(t);return Je.existsSync(i)||Xu(i),Je.symlinkSync(e,t,r)}var nf={createSymlink:Ku(tf),createSymlinkSync:rf};const{createFile:Hi,createFileSync:Bi}=Cu,{createLink:qi,createLinkSync:Ki}=ku,{createSymlink:Wi,createSymlinkSync:Xi}=nf;var sf={createFile:Hi,createFileSync:Bi,ensureFile:Hi,ensureFileSync:Bi,createLink:qi,createLinkSync:Ki,ensureLink:qi,ensureLinkSync:Ki,createSymlink:Wi,createSymlinkSync:Xi,ensureSymlink:Wi,ensureSymlinkSync:Xi};function of(e,{EOL:t=`
`,finalEOL:r=!0,replacer:n=null,spaces:s}={}){const i=r?t:"";return JSON.stringify(e,n,s).replace(/\n/g,t)+i}function af(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}var _s={stringify:of,stripBom:af};let Vt;try{Vt=Wt}catch{Vt=Kt}const nn=ge,{stringify:Ma,stripBom:Ua}=_s;async function cf(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Vt,n="throws"in t?t.throws:!0;let s=await nn.fromCallback(r.readFile)(e,t);s=Ua(s);let i;try{i=JSON.parse(s,t?t.reviver:null)}catch(o){if(n)throw o.message=`${e}: ${o.message}`,o;return null}return i}const lf=nn.fromPromise(cf);function uf(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||Vt,n="throws"in t?t.throws:!0;try{let s=r.readFileSync(e,t);return s=Ua(s),JSON.parse(s,t.reviver)}catch(s){if(n)throw s.message=`${e}: ${s.message}`,s;return null}}async function ff(e,t,r={}){const n=r.fs||Vt,s=Ma(t,r);await nn.fromCallback(n.writeFile)(e,s,r)}const df=nn.fromPromise(ff);function hf(e,t,r={}){const n=r.fs||Vt,s=Ma(t,r);return n.writeFileSync(e,s,r)}const mf={readFile:lf,readFileSync:uf,writeFile:df,writeFileSync:hf};var pf=mf;const Pr=pf;var yf={readJson:Pr.readFile,readJsonSync:Pr.readFileSync,writeJson:Pr.writeFile,writeJsonSync:Pr.writeFileSync};const Ef=ge.fromPromise,Jn=Fe,za=pe,xa=rt,$f=Rt.pathExists;async function gf(e,t,r="utf-8"){const n=za.dirname(e);return await $f(n)||await xa.mkdirs(n),Jn.writeFile(e,t,r)}function _f(e,...t){const r=za.dirname(e);Jn.existsSync(r)||xa.mkdirsSync(r),Jn.writeFileSync(e,...t)}var vs={outputFile:Ef(gf),outputFileSync:_f};const{stringify:vf}=_s,{outputFile:wf}=vs;async function Sf(e,t,r={}){const n=vf(t,r);await wf(e,n,r)}var Nf=Sf;const{stringify:If}=_s,{outputFileSync:Of}=vs;function Pf(e,t,r){const n=If(t,r);Of(e,n,r)}var Tf=Pf;const Rf=ge.fromPromise,Ae=yf;Ae.outputJson=Rf(Nf);Ae.outputJsonSync=Tf;Ae.outputJSON=Ae.outputJson;Ae.outputJSONSync=Ae.outputJsonSync;Ae.writeJSON=Ae.writeJson;Ae.writeJSONSync=Ae.writeJsonSync;Ae.readJSON=Ae.readJson;Ae.readJSONSync=Ae.readJsonSync;var bf=Ae;const Df=Fe,Zi=pe,{copy:Cf}=gs,{remove:Va}=rn,{mkdirp:Lf}=rt,{pathExists:Af}=Rt,Ji=Xt;async function Ff(e,t,r={}){const n=r.overwrite||r.clobber||!1,{srcStat:s,isChangingCase:i=!1}=await Ji.checkPaths(e,t,"move",r);await Ji.checkParentPaths(e,s,t,"move");const o=Zi.dirname(t);return Zi.parse(o).root!==o&&await Lf(o),jf(e,t,n,i)}async function jf(e,t,r,n){if(!n){if(r)await Va(t);else if(await Af(t))throw new Error("dest already exists.")}try{await Df.rename(e,t)}catch(s){if(s.code!=="EXDEV")throw s;await kf(e,t,r)}}async function kf(e,t,r){return await Cf(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),Va(e)}var Mf=Ff;const Ga=Wt,Yn=pe,Uf=gs.copySync,Ha=rn.removeSync,zf=rt.mkdirpSync,Yi=Xt;function xf(e,t,r){r=r||{};const n=r.overwrite||r.clobber||!1,{srcStat:s,isChangingCase:i=!1}=Yi.checkPathsSync(e,t,"move",r);return Yi.checkParentPathsSync(e,s,t,"move"),Vf(t)||zf(Yn.dirname(t)),Gf(e,t,n,i)}function Vf(e){const t=Yn.dirname(e);return Yn.parse(t).root===t}function Gf(e,t,r,n){if(n)return Un(e,t,r);if(r)return Ha(t),Un(e,t,r);if(Ga.existsSync(t))throw new Error("dest already exists.");return Un(e,t,r)}function Un(e,t,r){try{Ga.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return Hf(e,t,r)}}function Hf(e,t,r){return Uf(e,t,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),Ha(e)}var Bf=xf;const qf=ge.fromPromise;var Kf={move:qf(Mf),moveSync:Bf},Ve={...Fe,...gs,...Tu,...sf,...bf,...rt,...Kf,...vs,...Rt,...rn},Qn={exports:{}},Wf=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")};const gt=Wf,Xf=new Set(["__proto__","prototype","constructor"]),Zf=e=>!e.some(t=>Xf.has(t));function Tr(e){const t=e.split("."),r=[];for(let n=0;n<t.length;n++){let s=t[n];for(;s[s.length-1]==="\\"&&t[n+1]!==void 0;)s=s.slice(0,-1)+".",s+=t[++n];r.push(s)}return Zf(r)?r:[]}var Jf={get(e,t,r){if(!gt(e)||typeof t!="string")return r===void 0?e:r;const n=Tr(t);if(n.length!==0){for(let s=0;s<n.length;s++)if(e=e[n[s]],e==null){if(s!==n.length-1)return r;break}return e===void 0?r:e}},set(e,t,r){if(!gt(e)||typeof t!="string")return e;const n=e,s=Tr(t);for(let i=0;i<s.length;i++){const o=s[i];gt(e[o])||(e[o]={}),i===s.length-1&&(e[o]=r),e=e[o]}return n},delete(e,t){if(!gt(e)||typeof t!="string")return!1;const r=Tr(t);for(let n=0;n<r.length;n++){const s=r[n];if(n===r.length-1)return delete e[s],!0;if(e=e[s],!gt(e))return!1}},has(e,t){if(!gt(e)||typeof t!="string")return!1;const r=Tr(t);if(r.length===0)return!1;for(let n=0;n<r.length;n++)if(gt(e)){if(!(r[n]in e))return!1;e=e[r[n]]}else return!1;return!0}},ws={exports:{}},Ss={exports:{}},Ns={exports:{}},Is={exports:{}};const Ba=Kt;Is.exports=e=>new Promise(t=>{Ba.access(e,r=>{t(!r)})});Is.exports.sync=e=>{try{return Ba.accessSync(e),!0}catch{return!1}};var Yf=Is.exports,Os={exports:{}},Ps={exports:{}};const qa=(e,...t)=>new Promise(r=>{r(e(...t))});Ps.exports=qa;Ps.exports.default=qa;var Qf=Ps.exports;const ed=Qf,Ka=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let r=0;const n=()=>{r--,t.length>0&&t.shift()()},s=(l,c,...a)=>{r++;const u=ed(l,...a);c(u),u.then(n,n)},i=(l,c,...a)=>{r<e?s(l,c,...a):t.push(s.bind(null,l,c,...a))},o=(l,...c)=>new Promise(a=>i(l,a,...c));return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),o};Os.exports=Ka;Os.exports.default=Ka;var td=Os.exports;const Qi=td;class Wa extends Error{constructor(t){super(),this.value=t}}const rd=(e,t)=>Promise.resolve(e).then(t),nd=e=>Promise.all(e).then(t=>t[1]===!0&&Promise.reject(new Wa(t[0])));var sd=(e,t,r)=>{r=Object.assign({concurrency:1/0,preserveOrder:!0},r);const n=Qi(r.concurrency),s=[...e].map(o=>[o,n(rd,o,t)]),i=Qi(r.preserveOrder?1:1/0);return Promise.all(s.map(o=>i(nd,o))).then(()=>{}).catch(o=>o instanceof Wa?o.value:Promise.reject(o))};const Xa=pe,Za=Yf,id=sd;Ns.exports=(e,t)=>(t=Object.assign({cwd:process.cwd()},t),id(e,r=>Za(Xa.resolve(t.cwd,r)),t));Ns.exports.sync=(e,t)=>{t=Object.assign({cwd:process.cwd()},t);for(const r of e)if(Za.sync(Xa.resolve(t.cwd,r)))return r};var od=Ns.exports;const pt=pe,Ja=od;Ss.exports=(e,t={})=>{const r=pt.resolve(t.cwd||""),{root:n}=pt.parse(r),s=[].concat(e);return new Promise(i=>{(function o(l){Ja(s,{cwd:l}).then(c=>{c?i(pt.join(l,c)):l===n?i(null):o(pt.dirname(l))})})(r)})};Ss.exports.sync=(e,t={})=>{let r=pt.resolve(t.cwd||"");const{root:n}=pt.parse(r),s=[].concat(e);for(;;){const i=Ja.sync(s,{cwd:r});if(i)return pt.join(r,i);if(r===n)return null;r=pt.dirname(r)}};var ad=Ss.exports;const Ya=ad;ws.exports=async({cwd:e}={})=>Ya("package.json",{cwd:e});ws.exports.sync=({cwd:e}={})=>Ya.sync("package.json",{cwd:e});var cd=ws.exports,Ts={exports:{}};const fe=pe,Qa=Il,ht=Qa.homedir(),Rs=Qa.tmpdir(),{env:kt}=process,ld=e=>{const t=fe.join(ht,"Library");return{data:fe.join(t,"Application Support",e),config:fe.join(t,"Preferences",e),cache:fe.join(t,"Caches",e),log:fe.join(t,"Logs",e),temp:fe.join(Rs,e)}},ud=e=>{const t=kt.APPDATA||fe.join(ht,"AppData","Roaming"),r=kt.LOCALAPPDATA||fe.join(ht,"AppData","Local");return{data:fe.join(r,e,"Data"),config:fe.join(t,e,"Config"),cache:fe.join(r,e,"Cache"),log:fe.join(r,e,"Log"),temp:fe.join(Rs,e)}},fd=e=>{const t=fe.basename(ht);return{data:fe.join(kt.XDG_DATA_HOME||fe.join(ht,".local","share"),e),config:fe.join(kt.XDG_CONFIG_HOME||fe.join(ht,".config"),e),cache:fe.join(kt.XDG_CACHE_HOME||fe.join(ht,".cache"),e),log:fe.join(kt.XDG_STATE_HOME||fe.join(ht,".local","state"),e),temp:fe.join(Rs,t,e)}},ec=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected string, got ${typeof e}`);return t=Object.assign({suffix:"nodejs"},t),t.suffix&&(e+=`-${t.suffix}`),process.platform==="darwin"?ld(e):process.platform==="win32"?ud(e):fd(e)};Ts.exports=ec;Ts.exports.default=ec;var dd=Ts.exports,Qe={},te={};Object.defineProperty(te,"__esModule",{value:!0});te.NOOP=te.LIMIT_FILES_DESCRIPTORS=te.LIMIT_BASENAME_LENGTH=te.IS_USER_ROOT=te.IS_POSIX=te.DEFAULT_TIMEOUT_SYNC=te.DEFAULT_TIMEOUT_ASYNC=te.DEFAULT_WRITE_OPTIONS=te.DEFAULT_READ_OPTIONS=te.DEFAULT_FOLDER_MODE=te.DEFAULT_FILE_MODE=te.DEFAULT_ENCODING=void 0;const hd="utf8";te.DEFAULT_ENCODING=hd;const md=438;te.DEFAULT_FILE_MODE=md;const pd=511;te.DEFAULT_FOLDER_MODE=pd;const yd={};te.DEFAULT_READ_OPTIONS=yd;const Ed={};te.DEFAULT_WRITE_OPTIONS=Ed;const $d=5e3;te.DEFAULT_TIMEOUT_ASYNC=$d;const gd=100;te.DEFAULT_TIMEOUT_SYNC=gd;const _d=!!process.getuid;te.IS_POSIX=_d;const vd=process.getuid?!process.getuid():!1;te.IS_USER_ROOT=vd;const wd=128;te.LIMIT_BASENAME_LENGTH=wd;const Sd=1e4;te.LIMIT_FILES_DESCRIPTORS=Sd;const Nd=()=>{};te.NOOP=Nd;var sn={},Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.attemptifySync=Gt.attemptifyAsync=void 0;const tc=te,Id=(e,t=tc.NOOP)=>function(){return e.apply(void 0,arguments).catch(t)};Gt.attemptifyAsync=Id;const Od=(e,t=tc.NOOP)=>function(){try{return e.apply(void 0,arguments)}catch(r){return t(r)}};Gt.attemptifySync=Od;var bs={};Object.defineProperty(bs,"__esModule",{value:!0});const Pd=te,rc={isChangeErrorOk:e=>{const{code:t}=e;return t==="ENOSYS"||!Pd.IS_USER_ROOT&&(t==="EINVAL"||t==="EPERM")},isRetriableError:e=>{const{code:t}=e;return t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCS"||t==="EPERM"},onChangeError:e=>{if(!rc.isChangeErrorOk(e))throw e}};bs.default=rc;var Ht={},Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});const Td=te,oe={interval:25,intervalId:void 0,limit:Td.LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{oe.intervalId||(oe.intervalId=setInterval(oe.tick,oe.interval))},reset:()=>{oe.intervalId&&(clearInterval(oe.intervalId),delete oe.intervalId)},add:e=>{oe.queueWaiting.add(e),oe.queueActive.size<oe.limit/2?oe.tick():oe.init()},remove:e=>{oe.queueWaiting.delete(e),oe.queueActive.delete(e)},schedule:()=>new Promise(e=>{const t=()=>oe.remove(r),r=()=>e(t);oe.add(r)}),tick:()=>{if(!(oe.queueActive.size>=oe.limit)){if(!oe.queueWaiting.size)return oe.reset();for(const e of oe.queueWaiting){if(oe.queueActive.size>=oe.limit)break;oe.queueWaiting.delete(e),oe.queueActive.add(e),e()}}}};Ds.default=oe;Object.defineProperty(Ht,"__esModule",{value:!0});Ht.retryifySync=Ht.retryifyAsync=void 0;const Rd=Ds,bd=(e,t)=>function(r){return function n(){return Rd.default.schedule().then(s=>e.apply(void 0,arguments).then(i=>(s(),i),i=>{if(s(),Date.now()>=r)throw i;if(t(i)){const o=Math.round(100+400*Math.random());return new Promise(c=>setTimeout(c,o)).then(()=>n.apply(void 0,arguments))}throw i}))}};Ht.retryifyAsync=bd;const Dd=(e,t)=>function(r){return function n(){try{return e.apply(void 0,arguments)}catch(s){if(Date.now()>r)throw s;if(t(s))return n.apply(void 0,arguments);throw s}}};Ht.retryifySync=Dd;Object.defineProperty(sn,"__esModule",{value:!0});const ne=Kt,be=hs,De=Gt,ve=bs,ke=Ht,Cd={chmodAttempt:De.attemptifyAsync(be.promisify(ne.chmod),ve.default.onChangeError),chownAttempt:De.attemptifyAsync(be.promisify(ne.chown),ve.default.onChangeError),closeAttempt:De.attemptifyAsync(be.promisify(ne.close)),fsyncAttempt:De.attemptifyAsync(be.promisify(ne.fsync)),mkdirAttempt:De.attemptifyAsync(be.promisify(ne.mkdir)),realpathAttempt:De.attemptifyAsync(be.promisify(ne.realpath)),statAttempt:De.attemptifyAsync(be.promisify(ne.stat)),unlinkAttempt:De.attemptifyAsync(be.promisify(ne.unlink)),closeRetry:ke.retryifyAsync(be.promisify(ne.close),ve.default.isRetriableError),fsyncRetry:ke.retryifyAsync(be.promisify(ne.fsync),ve.default.isRetriableError),openRetry:ke.retryifyAsync(be.promisify(ne.open),ve.default.isRetriableError),readFileRetry:ke.retryifyAsync(be.promisify(ne.readFile),ve.default.isRetriableError),renameRetry:ke.retryifyAsync(be.promisify(ne.rename),ve.default.isRetriableError),statRetry:ke.retryifyAsync(be.promisify(ne.stat),ve.default.isRetriableError),writeRetry:ke.retryifyAsync(be.promisify(ne.write),ve.default.isRetriableError),chmodSyncAttempt:De.attemptifySync(ne.chmodSync,ve.default.onChangeError),chownSyncAttempt:De.attemptifySync(ne.chownSync,ve.default.onChangeError),closeSyncAttempt:De.attemptifySync(ne.closeSync),mkdirSyncAttempt:De.attemptifySync(ne.mkdirSync),realpathSyncAttempt:De.attemptifySync(ne.realpathSync),statSyncAttempt:De.attemptifySync(ne.statSync),unlinkSyncAttempt:De.attemptifySync(ne.unlinkSync),closeSyncRetry:ke.retryifySync(ne.closeSync,ve.default.isRetriableError),fsyncSyncRetry:ke.retryifySync(ne.fsyncSync,ve.default.isRetriableError),openSyncRetry:ke.retryifySync(ne.openSync,ve.default.isRetriableError),readFileSyncRetry:ke.retryifySync(ne.readFileSync,ve.default.isRetriableError),renameSyncRetry:ke.retryifySync(ne.renameSync,ve.default.isRetriableError),statSyncRetry:ke.retryifySync(ne.statSync,ve.default.isRetriableError),writeSyncRetry:ke.retryifySync(ne.writeSync,ve.default.isRetriableError)};sn.default=Cd;var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});const Ld={isFunction:e=>typeof e=="function",isString:e=>typeof e=="string",isUndefined:e=>typeof e>"u"};Cs.default=Ld;var Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});const Rr={},es={next:e=>{const t=Rr[e];if(!t)return;t.shift();const r=t[0];r?r(()=>es.next(e)):delete Rr[e]},schedule:e=>new Promise(t=>{let r=Rr[e];r||(r=Rr[e]=[]),r.push(t),!(r.length>1)&&t(()=>es.next(e))})};Ls.default=es;var As={};Object.defineProperty(As,"__esModule",{value:!0});const Ad=pe,eo=te,to=sn,ze={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),r=Date.now().toString().slice(-10),n="tmp-",s=`.${n}${r}${t}`;return`${e}${s}`},get:(e,t,r=!0)=>{const n=ze.truncate(t(e));return n in ze.store?ze.get(e,t,r):(ze.store[n]=r,[n,()=>delete ze.store[n]])},purge:e=>{ze.store[e]&&(delete ze.store[e],to.default.unlinkAttempt(e))},purgeSync:e=>{ze.store[e]&&(delete ze.store[e],to.default.unlinkSyncAttempt(e))},purgeSyncAll:()=>{for(const e in ze.store)ze.purgeSync(e)},truncate:e=>{const t=Ad.basename(e);if(t.length<=eo.LIMIT_BASENAME_LENGTH)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const n=t.length-eo.LIMIT_BASENAME_LENGTH;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};process.on("exit",ze.purgeSyncAll);As.default=ze;Object.defineProperty(Qe,"__esModule",{value:!0});Qe.writeFileSync=Qe.writeFile=Qe.readFileSync=Qe.readFile=void 0;const nc=pe,Ie=te,ee=sn,xe=Cs,Fd=Ls,yt=As;function sc(e,t=Ie.DEFAULT_READ_OPTIONS){var r;if(xe.default.isString(t))return sc(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:Ie.DEFAULT_TIMEOUT_ASYNC);return ee.default.readFileRetry(n)(e,t)}Qe.readFile=sc;function ic(e,t=Ie.DEFAULT_READ_OPTIONS){var r;if(xe.default.isString(t))return ic(e,{encoding:t});const n=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:Ie.DEFAULT_TIMEOUT_SYNC);return ee.default.readFileSyncRetry(n)(e,t)}Qe.readFileSync=ic;const oc=(e,t,r,n)=>{if(xe.default.isFunction(r))return oc(e,t,Ie.DEFAULT_WRITE_OPTIONS,r);const s=ac(e,t,r);return n&&s.then(n,n),s};Qe.writeFile=oc;const ac=async(e,t,r=Ie.DEFAULT_WRITE_OPTIONS)=>{var n;if(xe.default.isString(r))return ac(e,t,{encoding:r});const s=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:Ie.DEFAULT_TIMEOUT_ASYNC);let i=null,o=null,l=null,c=null,a=null;try{r.schedule&&(i=await r.schedule(e)),o=await Fd.default.schedule(e),e=await ee.default.realpathAttempt(e)||e,[c,l]=yt.default.get(e,r.tmpCreate||yt.default.create,r.tmpPurge!==!1);const u=Ie.IS_POSIX&&xe.default.isUndefined(r.chown),p=xe.default.isUndefined(r.mode);if(u||p){const f=await ee.default.statAttempt(e);f&&(r={...r},u&&(r.chown={uid:f.uid,gid:f.gid}),p&&(r.mode=f.mode))}const v=nc.dirname(e);await ee.default.mkdirAttempt(v,{mode:Ie.DEFAULT_FOLDER_MODE,recursive:!0}),a=await ee.default.openRetry(s)(c,"w",r.mode||Ie.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(c),xe.default.isString(t)?await ee.default.writeRetry(s)(a,t,0,r.encoding||Ie.DEFAULT_ENCODING):xe.default.isUndefined(t)||await ee.default.writeRetry(s)(a,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?await ee.default.fsyncRetry(s)(a):ee.default.fsyncAttempt(a)),await ee.default.closeRetry(s)(a),a=null,r.chown&&await ee.default.chownAttempt(c,r.chown.uid,r.chown.gid),r.mode&&await ee.default.chmodAttempt(c,r.mode);try{await ee.default.renameRetry(s)(c,e)}catch(f){if(f.code!=="ENAMETOOLONG")throw f;await ee.default.renameRetry(s)(c,yt.default.truncate(e))}l(),c=null}finally{a&&await ee.default.closeAttempt(a),c&&yt.default.purge(c),i&&i(),o&&o()}},cc=(e,t,r=Ie.DEFAULT_WRITE_OPTIONS)=>{var n;if(xe.default.isString(r))return cc(e,t,{encoding:r});const s=Date.now()+((n=r.timeout)!==null&&n!==void 0?n:Ie.DEFAULT_TIMEOUT_SYNC);let i=null,o=null,l=null;try{e=ee.default.realpathSyncAttempt(e)||e,[o,i]=yt.default.get(e,r.tmpCreate||yt.default.create,r.tmpPurge!==!1);const c=Ie.IS_POSIX&&xe.default.isUndefined(r.chown),a=xe.default.isUndefined(r.mode);if(c||a){const p=ee.default.statSyncAttempt(e);p&&(r={...r},c&&(r.chown={uid:p.uid,gid:p.gid}),a&&(r.mode=p.mode))}const u=nc.dirname(e);ee.default.mkdirSyncAttempt(u,{mode:Ie.DEFAULT_FOLDER_MODE,recursive:!0}),l=ee.default.openSyncRetry(s)(o,"w",r.mode||Ie.DEFAULT_FILE_MODE),r.tmpCreated&&r.tmpCreated(o),xe.default.isString(t)?ee.default.writeSyncRetry(s)(l,t,0,r.encoding||Ie.DEFAULT_ENCODING):xe.default.isUndefined(t)||ee.default.writeSyncRetry(s)(l,t,0,t.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?ee.default.fsyncSyncRetry(s)(l):ee.default.fsyncAttempt(l)),ee.default.closeSyncRetry(s)(l),l=null,r.chown&&ee.default.chownSyncAttempt(o,r.chown.uid,r.chown.gid),r.mode&&ee.default.chmodSyncAttempt(o,r.mode);try{ee.default.renameSyncRetry(s)(o,e)}catch(p){if(p.code!=="ENAMETOOLONG")throw p;ee.default.renameSyncRetry(s)(o,yt.default.truncate(e))}i(),o=null}finally{l&&ee.default.closeSyncAttempt(l),o&&yt.default.purge(o)}};Qe.writeFileSync=cc;var ts={exports:{}},lc={},Ke={},Bt={},_r={},Z={},Er={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(g){if(super(),!e.IDENTIFIER.test(g))throw new Error("CodeGen: name must be a valid identifier");this.str=g}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(g){super(),this._items=typeof g=="string"?[g]:g}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const g=this._items[0];return g===""||g==='""'}get str(){var g;return(g=this._str)!==null&&g!==void 0?g:this._str=this._items.reduce((d,S)=>`${d}${S}`,"")}get names(){var g;return(g=this._names)!==null&&g!==void 0?g:this._names=this._items.reduce((d,S)=>(S instanceof r&&(d[S.str]=(d[S.str]||0)+1),d),{})}}e._Code=n,e.nil=new n("");function s(m,...g){const d=[m[0]];let S=0;for(;S<g.length;)l(d,g[S]),d.push(m[++S]);return new n(d)}e._=s;const i=new n("+");function o(m,...g){const d=[f(m[0])];let S=0;for(;S<g.length;)d.push(i),l(d,g[S]),d.push(i,f(m[++S]));return c(d),new n(d)}e.str=o;function l(m,g){g instanceof n?m.push(...g._items):g instanceof r?m.push(g):m.push(p(g))}e.addCodeArg=l;function c(m){let g=1;for(;g<m.length-1;){if(m[g]===i){const d=a(m[g-1],m[g+1]);if(d!==void 0){m.splice(g-1,3,d);continue}m[g++]="+"}g++}}function a(m,g){if(g==='""')return m;if(m==='""')return g;if(typeof m=="string")return g instanceof r||m[m.length-1]!=='"'?void 0:typeof g!="string"?`${m.slice(0,-1)}${g}"`:g[0]==='"'?m.slice(0,-1)+g.slice(1):void 0;if(typeof g=="string"&&g[0]==='"'&&!(m instanceof r))return`"${m}${g.slice(1)}`}function u(m,g){return g.emptyStr()?m:m.emptyStr()?g:o`${m}${g}`}e.strConcat=u;function p(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:f(Array.isArray(m)?m.join(","):m)}function v(m){return new n(f(m))}e.stringify=v;function f(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=f;function h(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new n(`.${m}`):s`[${m}]`}e.getProperty=h;function $(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new n(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=$;function y(m){return new n(m.toString())}e.regexpCode=y})(Er);var rs={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Er;class r extends Error{constructor(a){super(`CodeGen: "code" for ${a} not defined`),this.value=a.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:a,parent:u}={}){this._names={},this._prefixes=a,this._parent=u}toName(a){return a instanceof t.Name?a:this.name(a)}name(a){return new t.Name(this._newName(a))}_newName(a){const u=this._names[a]||this._nameGroup(a);return`${a}${u.index++}`}_nameGroup(a){var u,p;if(!((p=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||p===void 0)&&p.has(a)||this._prefixes&&!this._prefixes.has(a))throw new Error(`CodeGen: prefix "${a}" is not allowed in this scope`);return this._names[a]={prefix:a,index:0}}}e.Scope=s;class i extends t.Name{constructor(a,u){super(u),this.prefix=a}setValue(a,{property:u,itemIndex:p}){this.value=a,this.scopePath=(0,t._)`.${new t.Name(u)}[${p}]`}}e.ValueScopeName=i;const o=(0,t._)`\n`;class l extends s{constructor(a){super(a),this._values={},this._scope=a.scope,this.opts={...a,_n:a.lines?o:t.nil}}get(){return this._scope}name(a){return new i(a,this._newName(a))}value(a,u){var p;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const v=this.toName(a),{prefix:f}=v,h=(p=u.key)!==null&&p!==void 0?p:u.ref;let $=this._values[f];if($){const g=$.get(h);if(g)return g}else $=this._values[f]=new Map;$.set(h,v);const y=this._scope[f]||(this._scope[f]=[]),m=y.length;return y[m]=u.ref,v.setValue(u,{property:f,itemIndex:m}),v}getValue(a,u){const p=this._values[a];if(p)return p.get(u)}scopeRefs(a,u=this._values){return this._reduceValues(u,p=>{if(p.scopePath===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return(0,t._)`${a}${p.scopePath}`})}scopeCode(a=this._values,u,p){return this._reduceValues(a,v=>{if(v.value===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return v.value.code},u,p)}_reduceValues(a,u,p={},v){let f=t.nil;for(const h in a){const $=a[h];if(!$)continue;const y=p[h]=p[h]||new Map;$.forEach(m=>{if(y.has(m))return;y.set(m,n.Started);let g=u(m);if(g){const d=this.opts.es5?e.varKinds.var:e.varKinds.const;f=(0,t._)`${f}${d} ${m} = ${g};${this.opts._n}`}else if(g=v?.(m))f=(0,t._)`${f}${g}${this.opts._n}`;else throw new r(m);y.set(m,n.Completed)})}return f}}e.ValueScope=l})(rs);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Er,r=rs;var n=Er;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=rs;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames(E,_){return this}}class o extends i{constructor(E,_,D){super(),this.varKind=E,this.name=_,this.rhs=D}render({es5:E,_n:_}){const D=E?r.varKinds.var:this.varKind,G=this.rhs===void 0?"":` = ${this.rhs}`;return`${D} ${this.name}${G};`+_}optimizeNames(E,_){if(E[this.name.str])return this.rhs&&(this.rhs=L(this.rhs,E,_)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class l extends i{constructor(E,_,D){super(),this.lhs=E,this.rhs=_,this.sideEffects=D}render({_n:E}){return`${this.lhs} = ${this.rhs};`+E}optimizeNames(E,_){if(!(this.lhs instanceof t.Name&&!E[this.lhs.str]&&!this.sideEffects))return this.rhs=L(this.rhs,E,_),this}get names(){const E=this.lhs instanceof t.Name?{}:{...this.lhs.names};return W(E,this.rhs)}}class c extends l{constructor(E,_,D,G){super(E,D,G),this.op=_}render({_n:E}){return`${this.lhs} ${this.op}= ${this.rhs};`+E}}class a extends i{constructor(E){super(),this.label=E,this.names={}}render({_n:E}){return`${this.label}:`+E}}class u extends i{constructor(E){super(),this.label=E,this.names={}}render({_n:E}){return`break${this.label?` ${this.label}`:""};`+E}}class p extends i{constructor(E){super(),this.error=E}render({_n:E}){return`throw ${this.error};`+E}get names(){return this.error.names}}class v extends i{constructor(E){super(),this.code=E}render({_n:E}){return`${this.code};`+E}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(E,_){return this.code=L(this.code,E,_),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class f extends i{constructor(E=[]){super(),this.nodes=E}render(E){return this.nodes.reduce((_,D)=>_+D.render(E),"")}optimizeNodes(){const{nodes:E}=this;let _=E.length;for(;_--;){const D=E[_].optimizeNodes();Array.isArray(D)?E.splice(_,1,...D):D?E[_]=D:E.splice(_,1)}return E.length>0?this:void 0}optimizeNames(E,_){const{nodes:D}=this;let G=D.length;for(;G--;){const H=D[G];H.optimizeNames(E,_)||(C(E,H.names),D.splice(G,1))}return D.length>0?this:void 0}get names(){return this.nodes.reduce((E,_)=>V(E,_.names),{})}}class h extends f{render(E){return"{"+E._n+super.render(E)+"}"+E._n}}class $ extends f{}class y extends h{}y.kind="else";class m extends h{constructor(E,_){super(_),this.condition=E}render(E){let _=`if(${this.condition})`+super.render(E);return this.else&&(_+="else "+this.else.render(E)),_}optimizeNodes(){super.optimizeNodes();const E=this.condition;if(E===!0)return this.nodes;let _=this.else;if(_){const D=_.optimizeNodes();_=this.else=Array.isArray(D)?new y(D):D}if(_)return E===!1?_ instanceof m?_:_.nodes:this.nodes.length?this:new m(M(E),_ instanceof m?[_]:_.nodes);if(!(E===!1||!this.nodes.length))return this}optimizeNames(E,_){var D;if(this.else=(D=this.else)===null||D===void 0?void 0:D.optimizeNames(E,_),!!(super.optimizeNames(E,_)||this.else))return this.condition=L(this.condition,E,_),this}get names(){const E=super.names;return W(E,this.condition),this.else&&V(E,this.else.names),E}}m.kind="if";class g extends h{}g.kind="for";class d extends g{constructor(E){super(),this.iteration=E}render(E){return`for(${this.iteration})`+super.render(E)}optimizeNames(E,_){if(super.optimizeNames(E,_))return this.iteration=L(this.iteration,E,_),this}get names(){return V(super.names,this.iteration.names)}}class S extends g{constructor(E,_,D,G){super(),this.varKind=E,this.name=_,this.from=D,this.to=G}render(E){const _=E.es5?r.varKinds.var:this.varKind,{name:D,from:G,to:H}=this;return`for(${_} ${D}=${G}; ${D}<${H}; ${D}++)`+super.render(E)}get names(){const E=W(super.names,this.from);return W(E,this.to)}}class I extends g{constructor(E,_,D,G){super(),this.loop=E,this.varKind=_,this.name=D,this.iterable=G}render(E){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(E)}optimizeNames(E,_){if(super.optimizeNames(E,_))return this.iterable=L(this.iterable,E,_),this}get names(){return V(super.names,this.iterable.names)}}class F extends h{constructor(E,_,D){super(),this.name=E,this.args=_,this.async=D}render(E){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(E)}}F.kind="func";class k extends f{render(E){return"return "+super.render(E)}}k.kind="return";class q extends h{render(E){let _="try"+super.render(E);return this.catch&&(_+=this.catch.render(E)),this.finally&&(_+=this.finally.render(E)),_}optimizeNodes(){var E,_;return super.optimizeNodes(),(E=this.catch)===null||E===void 0||E.optimizeNodes(),(_=this.finally)===null||_===void 0||_.optimizeNodes(),this}optimizeNames(E,_){var D,G;return super.optimizeNames(E,_),(D=this.catch)===null||D===void 0||D.optimizeNames(E,_),(G=this.finally)===null||G===void 0||G.optimizeNames(E,_),this}get names(){const E=super.names;return this.catch&&V(E,this.catch.names),this.finally&&V(E,this.finally.names),E}}class b extends h{constructor(E){super(),this.error=E}render(E){return`catch(${this.error})`+super.render(E)}}b.kind="catch";class j extends h{render(E){return"finally"+super.render(E)}}j.kind="finally";class U{constructor(E,_={}){this._values={},this._blockStarts=[],this._constants={},this.opts={..._,_n:_.lines?`
`:""},this._extScope=E,this._scope=new r.Scope({parent:E}),this._nodes=[new $]}toString(){return this._root.render(this.opts)}name(E){return this._scope.name(E)}scopeName(E){return this._extScope.name(E)}scopeValue(E,_){const D=this._extScope.value(E,_);return(this._values[D.prefix]||(this._values[D.prefix]=new Set)).add(D),D}getScopeValue(E,_){return this._extScope.getValue(E,_)}scopeRefs(E){return this._extScope.scopeRefs(E,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(E,_,D,G){const H=this._scope.toName(_);return D!==void 0&&G&&(this._constants[H.str]=D),this._leafNode(new o(E,H,D)),H}const(E,_,D){return this._def(r.varKinds.const,E,_,D)}let(E,_,D){return this._def(r.varKinds.let,E,_,D)}var(E,_,D){return this._def(r.varKinds.var,E,_,D)}assign(E,_,D){return this._leafNode(new l(E,_,D))}add(E,_){return this._leafNode(new c(E,e.operators.ADD,_))}code(E){return typeof E=="function"?E():E!==t.nil&&this._leafNode(new v(E)),this}object(...E){const _=["{"];for(const[D,G]of E)_.length>1&&_.push(","),_.push(D),(D!==G||this.opts.es5)&&(_.push(":"),(0,t.addCodeArg)(_,G));return _.push("}"),new t._Code(_)}if(E,_,D){if(this._blockNode(new m(E)),_&&D)this.code(_).else().code(D).endIf();else if(_)this.code(_).endIf();else if(D)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(E){return this._elseNode(new m(E))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(m,y)}_for(E,_){return this._blockNode(E),_&&this.code(_).endFor(),this}for(E,_){return this._for(new d(E),_)}forRange(E,_,D,G,H=this.opts.es5?r.varKinds.var:r.varKinds.let){const re=this._scope.toName(E);return this._for(new S(H,re,_,D),()=>G(re))}forOf(E,_,D,G=r.varKinds.const){const H=this._scope.toName(E);if(this.opts.es5){const re=_ instanceof t.Name?_:this.var("_arr",_);return this.forRange("_i",0,(0,t._)`${re}.length`,Q=>{this.var(H,(0,t._)`${re}[${Q}]`),D(H)})}return this._for(new I("of",G,H,_),()=>D(H))}forIn(E,_,D,G=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(E,(0,t._)`Object.keys(${_})`,D);const H=this._scope.toName(E);return this._for(new I("in",G,H,_),()=>D(H))}endFor(){return this._endBlockNode(g)}label(E){return this._leafNode(new a(E))}break(E){return this._leafNode(new u(E))}return(E){const _=new k;if(this._blockNode(_),this.code(E),_.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(k)}try(E,_,D){if(!_&&!D)throw new Error('CodeGen: "try" without "catch" and "finally"');const G=new q;if(this._blockNode(G),this.code(E),_){const H=this.name("e");this._currNode=G.catch=new b(H),_(H)}return D&&(this._currNode=G.finally=new j,this.code(D)),this._endBlockNode(b,j)}throw(E){return this._leafNode(new p(E))}block(E,_){return this._blockStarts.push(this._nodes.length),E&&this.code(E).endBlock(_),this}endBlock(E){const _=this._blockStarts.pop();if(_===void 0)throw new Error("CodeGen: not in self-balancing block");const D=this._nodes.length-_;if(D<0||E!==void 0&&D!==E)throw new Error(`CodeGen: wrong number of nodes: ${D} vs ${E} expected`);return this._nodes.length=_,this}func(E,_=t.nil,D,G){return this._blockNode(new F(E,_,D)),G&&this.code(G).endFunc(),this}endFunc(){return this._endBlockNode(F)}optimize(E=1){for(;E-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(E){return this._currNode.nodes.push(E),this}_blockNode(E){this._currNode.nodes.push(E),this._nodes.push(E)}_endBlockNode(E,_){const D=this._currNode;if(D instanceof E||_&&D instanceof _)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${_?`${E.kind}/${_.kind}`:E.kind}"`)}_elseNode(E){const _=this._currNode;if(!(_ instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=_.else=E,this}get _root(){return this._nodes[0]}get _currNode(){const E=this._nodes;return E[E.length-1]}set _currNode(E){const _=this._nodes;_[_.length-1]=E}}e.CodeGen=U;function V(O,E){for(const _ in E)O[_]=(O[_]||0)+(E[_]||0);return O}function W(O,E){return E instanceof t._CodeOrName?V(O,E.names):O}function L(O,E,_){if(O instanceof t.Name)return D(O);if(!G(O))return O;return new t._Code(O._items.reduce((H,re)=>(re instanceof t.Name&&(re=D(re)),re instanceof t._Code?H.push(...re._items):H.push(re),H),[]));function D(H){const re=_[H.str];return re===void 0||E[H.str]!==1?H:(delete E[H.str],re)}function G(H){return H instanceof t._Code&&H._items.some(re=>re instanceof t.Name&&E[re.str]===1&&_[re.str]!==void 0)}}function C(O,E){for(const _ in E)O[_]=(O[_]||0)-(E[_]||0)}function M(O){return typeof O=="boolean"||typeof O=="number"||O===null?!O:(0,t._)`!${T(O)}`}e.not=M;const A=w(e.operators.AND);function P(...O){return O.reduce(A)}e.and=P;const R=w(e.operators.OR);function N(...O){return O.reduce(R)}e.or=N;function w(O){return(E,_)=>E===t.nil?_:_===t.nil?E:(0,t._)`${T(E)} ${O} ${T(_)}`}function T(O){return O instanceof t.Name?O:(0,t._)`(${O})`}})(Z);var x={};Object.defineProperty(x,"__esModule",{value:!0});x.checkStrictMode=x.getErrorPath=x.Type=x.useFunc=x.setEvaluated=x.evaluatedPropsToName=x.mergeEvaluated=x.eachItem=x.unescapeJsonPointer=x.escapeJsonPointer=x.escapeFragment=x.unescapeFragment=x.schemaRefOrVal=x.schemaHasRulesButRef=x.schemaHasRules=x.checkUnknownRules=x.alwaysValidSchema=x.toHash=void 0;const ie=Z,jd=Er;function kd(e){const t={};for(const r of e)t[r]=!0;return t}x.toHash=kd;function Md(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(uc(e,t),!fc(t,e.self.RULES.all))}x.alwaysValidSchema=Md;function uc(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const s=n.RULES.keywords;for(const i in t)s[i]||mc(e,`unknown keyword: "${i}"`)}x.checkUnknownRules=uc;function fc(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}x.schemaHasRules=fc;function Ud(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}x.schemaHasRulesButRef=Ud;function zd({topSchemaRef:e,schemaPath:t},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,ie._)`${r}`}return(0,ie._)`${e}${t}${(0,ie.getProperty)(n)}`}x.schemaRefOrVal=zd;function xd(e){return dc(decodeURIComponent(e))}x.unescapeFragment=xd;function Vd(e){return encodeURIComponent(Fs(e))}x.escapeFragment=Vd;function Fs(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}x.escapeJsonPointer=Fs;function dc(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}x.unescapeJsonPointer=dc;function Gd(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}x.eachItem=Gd;function ro({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(s,i,o,l)=>{const c=o===void 0?i:o instanceof ie.Name?(i instanceof ie.Name?e(s,i,o):t(s,i,o),o):i instanceof ie.Name?(t(s,o,i),i):r(i,o);return l===ie.Name&&!(c instanceof ie.Name)?n(s,c):c}}x.mergeEvaluated={props:ro({mergeNames:(e,t,r)=>e.if((0,ie._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,ie._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,ie._)`${r} || {}`).code((0,ie._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,ie._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,ie._)`${r} || {}`),js(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:hc}),items:ro({mergeNames:(e,t,r)=>e.if((0,ie._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,ie._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,ie._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,ie._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function hc(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,ie._)`{}`);return t!==void 0&&js(e,r,t),r}x.evaluatedPropsToName=hc;function js(e,t,r){Object.keys(r).forEach(n=>e.assign((0,ie._)`${t}${(0,ie.getProperty)(n)}`,!0))}x.setEvaluated=js;const no={};function Hd(e,t){return e.scopeValue("func",{ref:t,code:no[t.code]||(no[t.code]=new jd._Code(t.code))})}x.useFunc=Hd;var ns;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(ns||(x.Type=ns={}));function Bd(e,t,r){if(e instanceof ie.Name){const n=t===ns.Num;return r?n?(0,ie._)`"[" + ${e} + "]"`:(0,ie._)`"['" + ${e} + "']"`:n?(0,ie._)`"/" + ${e}`:(0,ie._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,ie.getProperty)(e).toString():"/"+Fs(e)}x.getErrorPath=Bd;function mc(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}x.checkStrictMode=mc;var nt={};Object.defineProperty(nt,"__esModule",{value:!0});const Te=Z,qd={data:new Te.Name("data"),valCxt:new Te.Name("valCxt"),instancePath:new Te.Name("instancePath"),parentData:new Te.Name("parentData"),parentDataProperty:new Te.Name("parentDataProperty"),rootData:new Te.Name("rootData"),dynamicAnchors:new Te.Name("dynamicAnchors"),vErrors:new Te.Name("vErrors"),errors:new Te.Name("errors"),this:new Te.Name("this"),self:new Te.Name("self"),scope:new Te.Name("scope"),json:new Te.Name("json"),jsonPos:new Te.Name("jsonPos"),jsonLen:new Te.Name("jsonLen"),jsonPart:new Te.Name("jsonPart")};nt.default=qd;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Z,r=x,n=nt;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:m})=>m?(0,t.str)`"${y}" keyword must be ${m} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function s(y,m=e.keywordError,g,d){const{it:S}=y,{gen:I,compositeRule:F,allErrors:k}=S,q=p(y,m,g);d??(F||k)?c(I,q):a(S,(0,t._)`[${q}]`)}e.reportError=s;function i(y,m=e.keywordError,g){const{it:d}=y,{gen:S,compositeRule:I,allErrors:F}=d,k=p(y,m,g);c(S,k),I||F||a(d,n.default.vErrors)}e.reportExtraError=i;function o(y,m){y.assign(n.default.errors,m),y.if((0,t._)`${n.default.vErrors} !== null`,()=>y.if(m,()=>y.assign((0,t._)`${n.default.vErrors}.length`,m),()=>y.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function l({gen:y,keyword:m,schemaValue:g,data:d,errsCount:S,it:I}){if(S===void 0)throw new Error("ajv implementation error");const F=y.name("err");y.forRange("i",S,n.default.errors,k=>{y.const(F,(0,t._)`${n.default.vErrors}[${k}]`),y.if((0,t._)`${F}.instancePath === undefined`,()=>y.assign((0,t._)`${F}.instancePath`,(0,t.strConcat)(n.default.instancePath,I.errorPath))),y.assign((0,t._)`${F}.schemaPath`,(0,t.str)`${I.errSchemaPath}/${m}`),I.opts.verbose&&(y.assign((0,t._)`${F}.schema`,g),y.assign((0,t._)`${F}.data`,d))})}e.extendErrors=l;function c(y,m){const g=y.const("err",m);y.if((0,t._)`${n.default.vErrors} === null`,()=>y.assign(n.default.vErrors,(0,t._)`[${g}]`),(0,t._)`${n.default.vErrors}.push(${g})`),y.code((0,t._)`${n.default.errors}++`)}function a(y,m){const{gen:g,validateName:d,schemaEnv:S}=y;S.$async?g.throw((0,t._)`new ${y.ValidationError}(${m})`):(g.assign((0,t._)`${d}.errors`,m),g.return(!1))}const u={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function p(y,m,g){const{createErrors:d}=y.it;return d===!1?(0,t._)`{}`:v(y,m,g)}function v(y,m,g={}){const{gen:d,it:S}=y,I=[f(S,g),h(y,g)];return $(y,m,I),d.object(...I)}function f({errorPath:y},{instancePath:m}){const g=m?(0,t.str)`${y}${(0,r.getErrorPath)(m,r.Type.Str)}`:y;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,g)]}function h({keyword:y,it:{errSchemaPath:m}},{schemaPath:g,parentSchema:d}){let S=d?m:(0,t.str)`${m}/${y}`;return g&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(g,r.Type.Str)}`),[u.schemaPath,S]}function $(y,{params:m,message:g},d){const{keyword:S,data:I,schemaValue:F,it:k}=y,{opts:q,propertyName:b,topSchemaRef:j,schemaPath:U}=k;d.push([u.keyword,S],[u.params,typeof m=="function"?m(y):m||(0,t._)`{}`]),q.messages&&d.push([u.message,typeof g=="function"?g(y):g]),q.verbose&&d.push([u.schema,F],[u.parentSchema,(0,t._)`${j}${U}`],[n.default.data,I]),b&&d.push([u.propertyName,b])}})(_r);Object.defineProperty(Bt,"__esModule",{value:!0});Bt.boolOrEmptySchema=Bt.topBoolOrEmptySchema=void 0;const Kd=_r,Wd=Z,Xd=nt,Zd={message:"boolean schema is false"};function Jd(e){const{gen:t,schema:r,validateName:n}=e;r===!1?pc(e,!1):typeof r=="object"&&r.$async===!0?t.return(Xd.default.data):(t.assign((0,Wd._)`${n}.errors`,null),t.return(!0))}Bt.topBoolOrEmptySchema=Jd;function Yd(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),pc(e)):r.var(t,!0)}Bt.boolOrEmptySchema=Yd;function pc(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Kd.reportError)(s,Zd,void 0,t)}var $e={},Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.getRules=Pt.isJSONType=void 0;const Qd=["string","number","integer","boolean","null","object","array"],eh=new Set(Qd);function th(e){return typeof e=="string"&&eh.has(e)}Pt.isJSONType=th;function rh(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Pt.getRules=rh;var it={};Object.defineProperty(it,"__esModule",{value:!0});it.shouldUseRule=it.shouldUseGroup=it.schemaHasRulesForType=void 0;function nh({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&yc(e,n)}it.schemaHasRulesForType=nh;function yc(e,t){return t.rules.some(r=>Ec(e,r))}it.shouldUseGroup=yc;function Ec(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}it.shouldUseRule=Ec;Object.defineProperty($e,"__esModule",{value:!0});$e.reportTypeError=$e.checkDataTypes=$e.checkDataType=$e.coerceAndCheckDataType=$e.getJSONTypes=$e.getSchemaTypes=$e.DataType=void 0;const sh=Pt,ih=it,oh=_r,X=Z,$c=x;var Ut;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Ut||($e.DataType=Ut={}));function ah(e){const t=gc(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}$e.getSchemaTypes=ah;function gc(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(sh.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}$e.getJSONTypes=gc;function ch(e,t){const{gen:r,data:n,opts:s}=e,i=lh(t,s.coerceTypes),o=t.length>0&&!(i.length===0&&t.length===1&&(0,ih.schemaHasRulesForType)(e,t[0]));if(o){const l=ks(t,n,s.strictNumbers,Ut.Wrong);r.if(l,()=>{i.length?uh(e,t,i):Ms(e)})}return o}$e.coerceAndCheckDataType=ch;const _c=new Set(["string","number","integer","boolean","null"]);function lh(e,t){return t?e.filter(r=>_c.has(r)||t==="array"&&r==="array"):[]}function uh(e,t,r){const{gen:n,data:s,opts:i}=e,o=n.let("dataType",(0,X._)`typeof ${s}`),l=n.let("coerced",(0,X._)`undefined`);i.coerceTypes==="array"&&n.if((0,X._)`${o} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,X._)`${s}[0]`).assign(o,(0,X._)`typeof ${s}`).if(ks(t,s,i.strictNumbers),()=>n.assign(l,s))),n.if((0,X._)`${l} !== undefined`);for(const a of r)(_c.has(a)||a==="array"&&i.coerceTypes==="array")&&c(a);n.else(),Ms(e),n.endIf(),n.if((0,X._)`${l} !== undefined`,()=>{n.assign(s,l),fh(e,l)});function c(a){switch(a){case"string":n.elseIf((0,X._)`${o} == "number" || ${o} == "boolean"`).assign(l,(0,X._)`"" + ${s}`).elseIf((0,X._)`${s} === null`).assign(l,(0,X._)`""`);return;case"number":n.elseIf((0,X._)`${o} == "boolean" || ${s} === null
              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(l,(0,X._)`+${s}`);return;case"integer":n.elseIf((0,X._)`${o} === "boolean" || ${s} === null
              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(l,(0,X._)`+${s}`);return;case"boolean":n.elseIf((0,X._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(l,!1).elseIf((0,X._)`${s} === "true" || ${s} === 1`).assign(l,!0);return;case"null":n.elseIf((0,X._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(l,null);return;case"array":n.elseIf((0,X._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${s} === null`).assign(l,(0,X._)`[${s}]`)}}}function fh({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,X._)`${t} !== undefined`,()=>e.assign((0,X._)`${t}[${r}]`,n))}function ss(e,t,r,n=Ut.Correct){const s=n===Ut.Correct?X.operators.EQ:X.operators.NEQ;let i;switch(e){case"null":return(0,X._)`${t} ${s} null`;case"array":i=(0,X._)`Array.isArray(${t})`;break;case"object":i=(0,X._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=o((0,X._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=o();break;default:return(0,X._)`typeof ${t} ${s} ${e}`}return n===Ut.Correct?i:(0,X.not)(i);function o(l=X.nil){return(0,X.and)((0,X._)`typeof ${t} == "number"`,l,r?(0,X._)`isFinite(${t})`:X.nil)}}$e.checkDataType=ss;function ks(e,t,r,n){if(e.length===1)return ss(e[0],t,r,n);let s;const i=(0,$c.toHash)(e);if(i.array&&i.object){const o=(0,X._)`typeof ${t} != "object"`;s=i.null?o:(0,X._)`!${t} || ${o}`,delete i.null,delete i.array,delete i.object}else s=X.nil;i.number&&delete i.integer;for(const o in i)s=(0,X.and)(s,ss(o,t,r,n));return s}$e.checkDataTypes=ks;const dh={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,X._)`{type: ${e}}`:(0,X._)`{type: ${t}}`};function Ms(e){const t=hh(e);(0,oh.reportError)(t,dh)}$e.reportTypeError=Ms;function hh(e){const{gen:t,data:r,schema:n}=e,s=(0,$c.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:e}}var on={};Object.defineProperty(on,"__esModule",{value:!0});on.assignDefaults=void 0;const Ct=Z,mh=x;function ph(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)so(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,i)=>so(e,i,s.default))}on.assignDefaults=ph;function so(e,t,r){const{gen:n,compositeRule:s,data:i,opts:o}=e;if(r===void 0)return;const l=(0,Ct._)`${i}${(0,Ct.getProperty)(t)}`;if(s){(0,mh.checkStrictMode)(e,`default is ignored for: ${l}`);return}let c=(0,Ct._)`${l} === undefined`;o.useDefaults==="empty"&&(c=(0,Ct._)`${c} || ${l} === null || ${l} === ""`),n.if(c,(0,Ct._)`${l} = ${(0,Ct.stringify)(r)}`)}var et={},J={};Object.defineProperty(J,"__esModule",{value:!0});J.validateUnion=J.validateArray=J.usePattern=J.callValidateCode=J.schemaProperties=J.allSchemaProperties=J.noPropertyInData=J.propertyInData=J.isOwnProperty=J.hasPropFunc=J.reportMissingProp=J.checkMissingProp=J.checkReportMissingProp=void 0;const ae=Z,Us=x,lt=nt,yh=x;function Eh(e,t){const{gen:r,data:n,it:s}=e;r.if(xs(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,ae._)`${t}`},!0),e.error()})}J.checkReportMissingProp=Eh;function $h({gen:e,data:t,it:{opts:r}},n,s){return(0,ae.or)(...n.map(i=>(0,ae.and)(xs(e,t,i,r.ownProperties),(0,ae._)`${s} = ${i}`)))}J.checkMissingProp=$h;function gh(e,t){e.setParams({missingProperty:t},!0),e.error()}J.reportMissingProp=gh;function vc(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ae._)`Object.prototype.hasOwnProperty`})}J.hasPropFunc=vc;function zs(e,t,r){return(0,ae._)`${vc(e)}.call(${t}, ${r})`}J.isOwnProperty=zs;function _h(e,t,r,n){const s=(0,ae._)`${t}${(0,ae.getProperty)(r)} !== undefined`;return n?(0,ae._)`${s} && ${zs(e,t,r)}`:s}J.propertyInData=_h;function xs(e,t,r,n){const s=(0,ae._)`${t}${(0,ae.getProperty)(r)} === undefined`;return n?(0,ae.or)(s,(0,ae.not)(zs(e,t,r))):s}J.noPropertyInData=xs;function wc(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}J.allSchemaProperties=wc;function vh(e,t){return wc(t).filter(r=>!(0,Us.alwaysValidSchema)(e,t[r]))}J.schemaProperties=vh;function wh({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:i},it:o},l,c,a){const u=a?(0,ae._)`${e}, ${t}, ${n}${s}`:t,p=[[lt.default.instancePath,(0,ae.strConcat)(lt.default.instancePath,i)],[lt.default.parentData,o.parentData],[lt.default.parentDataProperty,o.parentDataProperty],[lt.default.rootData,lt.default.rootData]];o.opts.dynamicRef&&p.push([lt.default.dynamicAnchors,lt.default.dynamicAnchors]);const v=(0,ae._)`${u}, ${r.object(...p)}`;return c!==ae.nil?(0,ae._)`${l}.call(${c}, ${v})`:(0,ae._)`${l}(${v})`}J.callValidateCode=wh;const Sh=(0,ae._)`new RegExp`;function Nh({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,i=s(r,n);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,ae._)`${s.code==="new RegExp"?Sh:(0,yh.useFunc)(e,s)}(${r}, ${n})`})}J.usePattern=Nh;function Ih(e){const{gen:t,data:r,keyword:n,it:s}=e,i=t.name("valid");if(s.allErrors){const l=t.let("valid",!0);return o(()=>t.assign(l,!1)),l}return t.var(i,!0),o(()=>t.break()),i;function o(l){const c=t.const("len",(0,ae._)`${r}.length`);t.forRange("i",0,c,a=>{e.subschema({keyword:n,dataProp:a,dataPropType:Us.Type.Num},i),t.if((0,ae.not)(i),l)})}}J.validateArray=Ih;function Oh(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,Us.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;const o=t.let("valid",!1),l=t.name("_valid");t.block(()=>r.forEach((c,a)=>{const u=e.subschema({keyword:n,schemaProp:a,compositeRule:!0},l);t.assign(o,(0,ae._)`${o} || ${l}`),e.mergeValidEvaluated(u,l)||t.if((0,ae.not)(o))})),e.result(o,()=>e.reset(),()=>e.error(!0))}J.validateUnion=Oh;Object.defineProperty(et,"__esModule",{value:!0});et.validateKeywordUsage=et.validSchemaType=et.funcKeywordCode=et.macroKeywordCode=void 0;const Ce=Z,wt=nt,Ph=J,Th=_r;function Rh(e,t){const{gen:r,keyword:n,schema:s,parentSchema:i,it:o}=e,l=t.macro.call(o.self,s,i,o),c=Sc(r,n,l);o.opts.validateSchema!==!1&&o.self.validateSchema(l,!0);const a=r.name("valid");e.subschema({schema:l,schemaPath:Ce.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},a),e.pass(a,()=>e.error(!0))}et.macroKeywordCode=Rh;function bh(e,t){var r;const{gen:n,keyword:s,schema:i,parentSchema:o,$data:l,it:c}=e;Ch(c,t);const a=!l&&t.compile?t.compile.call(c.self,i,o,c):t.validate,u=Sc(n,s,a),p=n.let("valid");e.block$data(p,v),e.ok((r=t.valid)!==null&&r!==void 0?r:p);function v(){if(t.errors===!1)$(),t.modifying&&io(e),y(()=>e.error());else{const m=t.async?f():h();t.modifying&&io(e),y(()=>Dh(e,m))}}function f(){const m=n.let("ruleErrs",null);return n.try(()=>$((0,Ce._)`await `),g=>n.assign(p,!1).if((0,Ce._)`${g} instanceof ${c.ValidationError}`,()=>n.assign(m,(0,Ce._)`${g}.errors`),()=>n.throw(g))),m}function h(){const m=(0,Ce._)`${u}.errors`;return n.assign(m,null),$(Ce.nil),m}function $(m=t.async?(0,Ce._)`await `:Ce.nil){const g=c.opts.passContext?wt.default.this:wt.default.self,d=!("compile"in t&&!l||t.schema===!1);n.assign(p,(0,Ce._)`${m}${(0,Ph.callValidateCode)(e,u,g,d)}`,t.modifying)}function y(m){var g;n.if((0,Ce.not)((g=t.valid)!==null&&g!==void 0?g:p),m)}}et.funcKeywordCode=bh;function io(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Ce._)`${n.parentData}[${n.parentDataProperty}]`))}function Dh(e,t){const{gen:r}=e;r.if((0,Ce._)`Array.isArray(${t})`,()=>{r.assign(wt.default.vErrors,(0,Ce._)`${wt.default.vErrors} === null ? ${t} : ${wt.default.vErrors}.concat(${t})`).assign(wt.default.errors,(0,Ce._)`${wt.default.vErrors}.length`),(0,Th.extendErrors)(e)},()=>e.error())}function Ch({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Sc(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Ce.stringify)(r)})}function Lh(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}et.validSchemaType=Lh;function Ah({schema:e,opts:t,self:r,errSchemaPath:n},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw new Error("ajv implementation error");const o=s.dependencies;if(o?.some(l=>!Object.prototype.hasOwnProperty.call(e,l)))throw new Error(`parent schema must have dependencies of ${i}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[i])){const c=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}et.validateKeywordUsage=Ah;var $t={};Object.defineProperty($t,"__esModule",{value:!0});$t.extendSubschemaMode=$t.extendSubschemaData=$t.getSubschema=void 0;const Ye=Z,Nc=x;function Fh(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:i,topSchemaRef:o}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const l=e.schema[t];return r===void 0?{schema:l,schemaPath:(0,Ye._)`${e.schemaPath}${(0,Ye.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:l[r],schemaPath:(0,Ye._)`${e.schemaPath}${(0,Ye.getProperty)(t)}${(0,Ye.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Nc.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||i===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:o,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}$t.getSubschema=Fh;function jh(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:i,propertyName:o}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:l}=t;if(r!==void 0){const{errorPath:a,dataPathArr:u,opts:p}=t,v=l.let("data",(0,Ye._)`${t.data}${(0,Ye.getProperty)(r)}`,!0);c(v),e.errorPath=(0,Ye.str)`${a}${(0,Nc.getErrorPath)(r,n,p.jsPropertySyntax)}`,e.parentDataProperty=(0,Ye._)`${r}`,e.dataPathArr=[...u,e.parentDataProperty]}if(s!==void 0){const a=s instanceof Ye.Name?s:l.let("data",s,!0);c(a),o!==void 0&&(e.propertyName=o)}i&&(e.dataTypes=i);function c(a){e.data=a,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,a]}}$t.extendSubschemaData=jh;function kh(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:i}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}$t.extendSubschemaMode=kh;var Oe={},Ic=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r},Oc={exports:{}},Et=Oc.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};xr(t,n,s,e,"",e)};Et.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Et.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Et.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Et.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function xr(e,t,r,n,s,i,o,l,c,a){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,i,o,l,c,a);for(var u in n){var p=n[u];if(Array.isArray(p)){if(u in Et.arrayKeywords)for(var v=0;v<p.length;v++)xr(e,t,r,p[v],s+"/"+u+"/"+v,i,s,u,n,v)}else if(u in Et.propsKeywords){if(p&&typeof p=="object")for(var f in p)xr(e,t,r,p[f],s+"/"+u+"/"+Mh(f),i,s,u,n,f)}else(u in Et.keywords||e.allKeys&&!(u in Et.skipKeywords))&&xr(e,t,r,p,s+"/"+u,i,s,u,n)}r(n,s,i,o,l,c,a)}}function Mh(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Uh=Oc.exports;Object.defineProperty(Oe,"__esModule",{value:!0});Oe.getSchemaRefs=Oe.resolveUrl=Oe.normalizeId=Oe._getFullPath=Oe.getFullPath=Oe.inlineRef=void 0;const zh=x,xh=Ic,Vh=Uh,Gh=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Hh(e,t=!0){return typeof e=="boolean"?!0:t===!0?!is(e):t?Pc(e)<=t:!1}Oe.inlineRef=Hh;const Bh=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function is(e){for(const t in e){if(Bh.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(is)||typeof r=="object"&&is(r))return!0}return!1}function Pc(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Gh.has(r)&&(typeof e[r]=="object"&&(0,zh.eachItem)(e[r],n=>t+=Pc(n)),t===1/0))return 1/0}return t}function Tc(e,t="",r){r!==!1&&(t=zt(t));const n=e.parse(t);return Rc(e,n)}Oe.getFullPath=Tc;function Rc(e,t){return e.serialize(t).split("#")[0]+"#"}Oe._getFullPath=Rc;const qh=/#\/?$/;function zt(e){return e?e.replace(qh,""):""}Oe.normalizeId=zt;function Kh(e,t,r){return r=zt(r),e.resolve(t,r)}Oe.resolveUrl=Kh;const Wh=/^[a-z_][-a-z0-9._]*$/i;function Xh(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=zt(e[r]||t),i={"":s},o=Tc(n,s,!1),l={},c=new Set;return Vh(e,{allKeys:!0},(p,v,f,h)=>{if(h===void 0)return;const $=o+v;let y=i[h];typeof p[r]=="string"&&(y=m.call(this,p[r])),g.call(this,p.$anchor),g.call(this,p.$dynamicAnchor),i[v]=y;function m(d){const S=this.opts.uriResolver.resolve;if(d=zt(y?S(y,d):d),c.has(d))throw u(d);c.add(d);let I=this.refs[d];return typeof I=="string"&&(I=this.refs[I]),typeof I=="object"?a(p,I.schema,d):d!==zt($)&&(d[0]==="#"?(a(p,l[d],d),l[d]=p):this.refs[d]=$),d}function g(d){if(typeof d=="string"){if(!Wh.test(d))throw new Error(`invalid anchor "${d}"`);m.call(this,`#${d}`)}}}),l;function a(p,v,f){if(v!==void 0&&!xh(p,v))throw u(f)}function u(p){return new Error(`reference "${p}" resolves to more than one schema`)}}Oe.getSchemaRefs=Xh;Object.defineProperty(Ke,"__esModule",{value:!0});Ke.getData=Ke.KeywordCxt=Ke.validateFunctionCode=void 0;const bc=Bt,oo=$e,Vs=it,Xr=$e,Zh=on,cr=et,zn=$t,B=Z,K=nt,Jh=Oe,ot=x,rr=_r;function Yh(e){if(Lc(e)&&(Ac(e),Cc(e))){tm(e);return}Dc(e,()=>(0,bc.topBoolOrEmptySchema)(e))}Ke.validateFunctionCode=Yh;function Dc({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},i){s.code.es5?e.func(t,(0,B._)`${K.default.data}, ${K.default.valCxt}`,n.$async,()=>{e.code((0,B._)`"use strict"; ${ao(r,s)}`),em(e,s),e.code(i)}):e.func(t,(0,B._)`${K.default.data}, ${Qh(s)}`,n.$async,()=>e.code(ao(r,s)).code(i))}function Qh(e){return(0,B._)`{${K.default.instancePath}="", ${K.default.parentData}, ${K.default.parentDataProperty}, ${K.default.rootData}=${K.default.data}${e.dynamicRef?(0,B._)`, ${K.default.dynamicAnchors}={}`:B.nil}}={}`}function em(e,t){e.if(K.default.valCxt,()=>{e.var(K.default.instancePath,(0,B._)`${K.default.valCxt}.${K.default.instancePath}`),e.var(K.default.parentData,(0,B._)`${K.default.valCxt}.${K.default.parentData}`),e.var(K.default.parentDataProperty,(0,B._)`${K.default.valCxt}.${K.default.parentDataProperty}`),e.var(K.default.rootData,(0,B._)`${K.default.valCxt}.${K.default.rootData}`),t.dynamicRef&&e.var(K.default.dynamicAnchors,(0,B._)`${K.default.valCxt}.${K.default.dynamicAnchors}`)},()=>{e.var(K.default.instancePath,(0,B._)`""`),e.var(K.default.parentData,(0,B._)`undefined`),e.var(K.default.parentDataProperty,(0,B._)`undefined`),e.var(K.default.rootData,K.default.data),t.dynamicRef&&e.var(K.default.dynamicAnchors,(0,B._)`{}`)})}function tm(e){const{schema:t,opts:r,gen:n}=e;Dc(e,()=>{r.$comment&&t.$comment&&jc(e),om(e),n.let(K.default.vErrors,null),n.let(K.default.errors,0),r.unevaluated&&rm(e),Fc(e),lm(e)})}function rm(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,B._)`${r}.evaluated`),t.if((0,B._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,B._)`${e.evaluated}.props`,(0,B._)`undefined`)),t.if((0,B._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,B._)`${e.evaluated}.items`,(0,B._)`undefined`))}function ao(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,B._)`/*# sourceURL=${r} */`:B.nil}function nm(e,t){if(Lc(e)&&(Ac(e),Cc(e))){sm(e,t);return}(0,bc.boolOrEmptySchema)(e,t)}function Cc({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Lc(e){return typeof e.schema!="boolean"}function sm(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&jc(e),am(e),cm(e);const i=n.const("_errs",K.default.errors);Fc(e,i),n.var(t,(0,B._)`${i} === ${K.default.errors}`)}function Ac(e){(0,ot.checkUnknownRules)(e),im(e)}function Fc(e,t){if(e.opts.jtd)return co(e,[],!1,t);const r=(0,oo.getSchemaTypes)(e.schema),n=(0,oo.coerceAndCheckDataType)(e,r);co(e,r,!n,t)}function im(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,ot.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function om(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,ot.checkStrictMode)(e,"default is ignored in the schema root")}function am(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Jh.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function cm(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function jc({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const i=r.$comment;if(s.$comment===!0)e.code((0,B._)`${K.default.self}.logger.log(${i})`);else if(typeof s.$comment=="function"){const o=(0,B.str)`${n}/$comment`,l=e.scopeValue("root",{ref:t.root});e.code((0,B._)`${K.default.self}.opts.$comment(${i}, ${o}, ${l}.schema)`)}}function lm(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:i}=e;r.$async?t.if((0,B._)`${K.default.errors} === 0`,()=>t.return(K.default.data),()=>t.throw((0,B._)`new ${s}(${K.default.vErrors})`)):(t.assign((0,B._)`${n}.errors`,K.default.vErrors),i.unevaluated&&um(e),t.return((0,B._)`${K.default.errors} === 0`))}function um({gen:e,evaluated:t,props:r,items:n}){r instanceof B.Name&&e.assign((0,B._)`${t}.props`,r),n instanceof B.Name&&e.assign((0,B._)`${t}.items`,n)}function co(e,t,r,n){const{gen:s,schema:i,data:o,allErrors:l,opts:c,self:a}=e,{RULES:u}=a;if(i.$ref&&(c.ignoreKeywordsWithRef||!(0,ot.schemaHasRulesButRef)(i,u))){s.block(()=>Uc(e,"$ref",u.all.$ref.definition));return}c.jtd||fm(e,t),s.block(()=>{for(const v of u.rules)p(v);p(u.post)});function p(v){(0,Vs.shouldUseGroup)(i,v)&&(v.type?(s.if((0,Xr.checkDataType)(v.type,o,c.strictNumbers)),lo(e,v),t.length===1&&t[0]===v.type&&r&&(s.else(),(0,Xr.reportTypeError)(e)),s.endIf()):lo(e,v),l||s.if((0,B._)`${K.default.errors} === ${n||0}`))}}function lo(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,Zh.assignDefaults)(e,t.type),r.block(()=>{for(const i of t.rules)(0,Vs.shouldUseRule)(n,i)&&Uc(e,i.keyword,i.definition,t.type)})}function fm(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(dm(e,t),e.opts.allowUnionTypes||hm(e,t),mm(e,e.dataTypes))}function dm(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{kc(e.dataTypes,r)||Gs(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),ym(e,t)}}function hm(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Gs(e,"use allowUnionTypes to allow union type keyword")}function mm(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,Vs.shouldUseRule)(e.schema,s)){const{type:i}=s.definition;i.length&&!i.some(o=>pm(t,o))&&Gs(e,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function pm(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function kc(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function ym(e,t){const r=[];for(const n of e.dataTypes)kc(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function Gs(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,ot.checkStrictMode)(e,t,e.opts.strictTypes)}class Mc{constructor(t,r,n){if((0,cr.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ot.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",zc(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,cr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",K.default.errors))}result(t,r,n){this.failResult((0,B.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,B.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,B._)`${r} !== undefined && (${(0,B.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?rr.reportExtraError:rr.reportError)(this,this.def.error,r)}$dataError(){(0,rr.reportError)(this,this.def.$dataError||rr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,rr.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=B.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=B.nil,r=B.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:i,def:o}=this;n.if((0,B.or)((0,B._)`${s} === undefined`,r)),t!==B.nil&&n.assign(t,!0),(i.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==B.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:i}=this;return(0,B.or)(o(),l());function o(){if(n.length){if(!(r instanceof B.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,B._)`${(0,Xr.checkDataTypes)(c,r,i.opts.strictNumbers,Xr.DataType.Wrong)}`}return B.nil}function l(){if(s.validateSchema){const c=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,B._)`!${c}(${r})`}return B.nil}}subschema(t,r){const n=(0,zn.getSubschema)(this.it,t);(0,zn.extendSubschemaData)(n,this.it,t),(0,zn.extendSubschemaMode)(n,t);const s={...this.it,...n,items:void 0,props:void 0};return nm(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=ot.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=ot.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,B.Name)),!0}}Ke.KeywordCxt=Mc;function Uc(e,t,r,n){const s=new Mc(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,cr.funcKeywordCode)(s,r):"macro"in r?(0,cr.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,cr.funcKeywordCode)(s,r)}const Em=/^\/(?:[^~]|~0|~1)*$/,$m=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function zc(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,i;if(e==="")return K.default.rootData;if(e[0]==="/"){if(!Em.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,i=K.default.rootData}else{const a=$m.exec(e);if(!a)throw new Error(`Invalid JSON-pointer: ${e}`);const u=+a[1];if(s=a[2],s==="#"){if(u>=t)throw new Error(c("property/index",u));return n[t-u]}if(u>t)throw new Error(c("data",u));if(i=r[t-u],!s)return i}let o=i;const l=s.split("/");for(const a of l)a&&(i=(0,B._)`${i}${(0,B.getProperty)((0,ot.unescapeJsonPointer)(a))}`,o=(0,B._)`${o} && ${i}`);return o;function c(a,u){return`Cannot access ${a} ${u} levels up, current level is ${t}`}}Ke.getData=zc;var vr={};Object.defineProperty(vr,"__esModule",{value:!0});class gm extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}vr.default=gm;var Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});const xn=Oe;class _m extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,xn.resolveUrl)(t,r,n),this.missingSchema=(0,xn.normalizeId)((0,xn.getFullPath)(t,this.missingRef))}}Zt.default=_m;var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.resolveSchema=Ue.getCompilingSchema=Ue.resolveRef=Ue.compileSchema=Ue.SchemaEnv=void 0;const He=Z,vm=vr,_t=nt,qe=Oe,uo=x,wm=Ke;class an{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,qe.normalizeId)(n?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n?.$async,this.refs={}}}Ue.SchemaEnv=an;function Hs(e){const t=xc.call(this,e);if(t)return t;const r=(0,qe.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,o=new He.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i});let l;e.$async&&(l=o.scopeValue("Error",{ref:vm.default,code:(0,He._)`require("ajv/dist/runtime/validation_error").default`}));const c=o.scopeName("validate");e.validateName=c;const a={gen:o,allErrors:this.opts.allErrors,data:_t.default.data,parentData:_t.default.parentData,parentDataProperty:_t.default.parentDataProperty,dataNames:[_t.default.data],dataPathArr:[He.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,He.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:l,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:He.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,He._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(e),(0,wm.validateFunctionCode)(a),o.optimize(this.opts.code.optimize);const p=o.toString();u=`${o.scopeRefs(_t.default.scope)}return ${p}`,this.opts.code.process&&(u=this.opts.code.process(u,e));const f=new Function(`${_t.default.self}`,`${_t.default.scope}`,u)(this,this.scope.get());if(this.scope.value(c,{ref:f}),f.errors=null,f.schema=e.schema,f.schemaEnv=e,e.$async&&(f.$async=!0),this.opts.code.source===!0&&(f.source={validateName:c,validateCode:p,scopeValues:o._values}),this.opts.unevaluated){const{props:h,items:$}=a;f.evaluated={props:h instanceof He.Name?void 0:h,items:$ instanceof He.Name?void 0:$,dynamicProps:h instanceof He.Name,dynamicItems:$ instanceof He.Name},f.source&&(f.source.evaluated=(0,He.stringify)(f.evaluated))}return e.validate=f,e}catch(p){throw delete e.validate,delete e.validateName,u&&this.logger.error("Error compiling schema, function code:",u),p}finally{this._compilations.delete(e)}}Ue.compileSchema=Hs;function Sm(e,t,r){var n;r=(0,qe.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let i=Om.call(this,e,r);if(i===void 0){const o=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:l}=this.opts;o&&(i=new an({schema:o,schemaId:l,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=Nm.call(this,i)}Ue.resolveRef=Sm;function Nm(e){return(0,qe.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Hs.call(this,e)}function xc(e){for(const t of this._compilations)if(Im(t,e))return t}Ue.getCompilingSchema=xc;function Im(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Om(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||cn.call(this,e,t)}function cn(e,t){const r=this.opts.uriResolver.parse(t),n=(0,qe._getFullPath)(this.opts.uriResolver,r);let s=(0,qe.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return Vn.call(this,r,e);const i=(0,qe.normalizeId)(n),o=this.refs[i]||this.schemas[i];if(typeof o=="string"){const l=cn.call(this,e,o);return typeof l?.schema!="object"?void 0:Vn.call(this,r,l)}if(typeof o?.schema=="object"){if(o.validate||Hs.call(this,o),i===(0,qe.normalizeId)(t)){const{schema:l}=o,{schemaId:c}=this.opts,a=l[c];return a&&(s=(0,qe.resolveUrl)(this.opts.uriResolver,s,a)),new an({schema:l,schemaId:c,root:e,baseId:s})}return Vn.call(this,r,o)}}Ue.resolveSchema=cn;const Pm=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Vn(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const l of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,uo.unescapeFragment)(l)];if(c===void 0)return;r=c;const a=typeof r=="object"&&r[this.opts.schemaId];!Pm.has(l)&&a&&(t=(0,qe.resolveUrl)(this.opts.uriResolver,t,a))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,uo.schemaHasRulesButRef)(r,this.RULES)){const l=(0,qe.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=cn.call(this,n,l)}const{schemaId:o}=this.opts;if(i=i||new an({schema:r,schemaId:o,root:n,baseId:t}),i.schema!==i.root.schema)return i}const Tm="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Rm="Meta-schema for $data reference (JSON AnySchema extension proposal)",bm="object",Dm=["$data"],Cm={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Lm=!1,Am={$id:Tm,description:Rm,type:bm,required:Dm,properties:Cm,additionalProperties:Lm};var Bs={},ln={exports:{}};const Fm={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};var jm={HEX:Fm};const{HEX:km}=jm;function Vc(e){if(Hc(e,".")<3)return{host:e,isIPV4:!1};const t=e.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[r]=t;return r?{host:Um(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function os(e,t=!1){let r="",n=!0;for(const s of e){if(km[s]===void 0)return;s!=="0"&&n===!0&&(n=!1),n||(r+=s)}return t&&r.length===0&&(r="0"),r}function Mm(e){let t=0;const r={error:!1,address:"",zone:""},n=[],s=[];let i=!1,o=!1,l=!1;function c(){if(s.length){if(i===!1){const a=os(s);if(a!==void 0)n.push(a);else return r.error=!0,!1}s.length=0}return!0}for(let a=0;a<e.length;a++){const u=e[a];if(!(u==="["||u==="]"))if(u===":"){if(o===!0&&(l=!0),!c())break;if(t++,n.push(":"),t>7){r.error=!0;break}a-1>=0&&e[a-1]===":"&&(o=!0);continue}else if(u==="%"){if(!c())break;i=!0}else{s.push(u);continue}}return s.length&&(i?r.zone=s.join(""):l?n.push(s.join("")):n.push(os(s))),r.address=n.join(""),r}function Gc(e,t={}){if(Hc(e,":")<2)return{host:e,isIPV6:!1};const r=Mm(e);if(r.error)return{host:e,isIPV6:!1};{let n=r.address,s=r.address;return r.zone&&(n+="%"+r.zone,s+="%25"+r.zone),{host:n,escapedHost:s,isIPV6:!0}}}function Um(e,t){let r="",n=!0;const s=e.length;for(let i=0;i<s;i++){const o=e[i];o==="0"&&n?(i+1<=s&&e[i+1]===t||i+1===s)&&(r+=o,n=!1):(o===t?n=!0:n=!1,r+=o)}return r}function Hc(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}const fo=/^\.\.?\//u,ho=/^\/\.(?:\/|$)/u,mo=/^\/\.\.(?:\/|$)/u,zm=/^\/?(?:.|\n)*?(?=\/|$)/u;function xm(e){const t=[];for(;e.length;)if(e.match(fo))e=e.replace(fo,"");else if(e.match(ho))e=e.replace(ho,"/");else if(e.match(mo))e=e.replace(mo,"/"),t.pop();else if(e==="."||e==="..")e="";else{const r=e.match(zm);if(r){const n=r[0];e=e.slice(n.length),t.push(n)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function Vm(e,t){const r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function Gm(e,t){const r=[];if(e.userinfo!==void 0&&(r.push(e.userinfo),r.push("@")),e.host!==void 0){let n=unescape(e.host);const s=Vc(n);if(s.isIPV4)n=s.host;else{const i=Gc(s.host,{isIPV4:!1});i.isIPV6===!0?n=`[${i.escapedHost}]`:n=e.host}r.push(n)}return(typeof e.port=="number"||typeof e.port=="string")&&(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}var Hm={recomposeAuthority:Gm,normalizeComponentEncoding:Vm,removeDotSegments:xm,normalizeIPv4:Vc,normalizeIPv6:Gc,stringArrayToHexStripped:os};const Bm=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,qm=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function Bc(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function qc(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function Kc(e){const t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function Km(e){return e.secure=Bc(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function Wm(e){if((e.port===(Bc(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){const[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function Xm(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(qm);if(r){const n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];const s=`${n}:${t.nid||e.nid}`,i=qs[s];e.path=void 0,i&&(e=i.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function Zm(e,t){const r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),s=`${r}:${t.nid||n}`,i=qs[s];i&&(e=i.serialize(e,t));const o=e,l=e.nss;return o.path=`${n||t.nid}:${l}`,t.skipEscape=!0,o}function Jm(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!Bm.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Ym(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t}const Wc={scheme:"http",domainHost:!0,parse:qc,serialize:Kc},Qm={scheme:"https",domainHost:Wc.domainHost,parse:qc,serialize:Kc},Vr={scheme:"ws",domainHost:!0,parse:Km,serialize:Wm},ep={scheme:"wss",domainHost:Vr.domainHost,parse:Vr.parse,serialize:Vr.serialize},tp={scheme:"urn",parse:Xm,serialize:Zm,skipNormalize:!0},rp={scheme:"urn:uuid",parse:Jm,serialize:Ym,skipNormalize:!0},qs={http:Wc,https:Qm,ws:Vr,wss:ep,urn:tp,"urn:uuid":rp};var np=qs;const{normalizeIPv6:sp,normalizeIPv4:ip,removeDotSegments:ir,recomposeAuthority:op,normalizeComponentEncoding:br}=Hm,Ks=np;function ap(e,t){return typeof e=="string"?e=tt(at(e,t),t):typeof e=="object"&&(e=at(tt(e,t),t)),e}function cp(e,t,r){const n=Object.assign({scheme:"null"},r),s=Xc(at(e,n),at(t,n),n,!0);return tt(s,{...n,skipEscape:!0})}function Xc(e,t,r,n){const s={};return n||(e=at(tt(e,r),r),t=at(tt(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=ir(t.path||""),s.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=ir(t.path||""),s.query=t.query):(t.path?(t.path.charAt(0)==="/"?s.path=ir(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?s.path="/"+t.path:e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path,s.path=ir(s.path)),s.query=t.query):(s.path=e.path,t.query!==void 0?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function lp(e,t,r){return typeof e=="string"?(e=unescape(e),e=tt(br(at(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=tt(br(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=tt(br(at(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=tt(br(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function tt(e,t){const r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],i=Ks[(n.scheme||r.scheme||"").toLowerCase()];i&&i.serialize&&i.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&(s.push(r.scheme),s.push(":"));const o=op(r,n);if(o!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(o),r.path&&r.path.charAt(0)!=="/"&&s.push("/")),r.path!==void 0){let l=r.path;!n.absolutePath&&(!i||!i.absolutePath)&&(l=ir(l)),o===void 0&&(l=l.replace(/^\/\//u,"/%2F")),s.push(l)}return r.query!==void 0&&(s.push("?"),s.push(r.query)),r.fragment!==void 0&&(s.push("#"),s.push(r.fragment)),s.join("")}const up=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function fp(e){let t=0;for(let r=0,n=e.length;r<n;++r)if(t=e.charCodeAt(r),t>126||up[t])return!0;return!1}const dp=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function at(e,t){const r=Object.assign({},t),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},s=e.indexOf("%")!==-1;let i=!1;r.reference==="suffix"&&(e=(r.scheme?r.scheme+":":"")+"//"+e);const o=e.match(dp);if(o){if(n.scheme=o[1],n.userinfo=o[3],n.host=o[4],n.port=parseInt(o[5],10),n.path=o[6]||"",n.query=o[7],n.fragment=o[8],isNaN(n.port)&&(n.port=o[5]),n.host){const c=ip(n.host);if(c.isIPV4===!1){const a=sp(c.host,{isIPV4:!1});n.host=a.host.toLowerCase(),i=a.isIPV6}else n.host=c.host,i=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&!n.path&&n.query===void 0?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const l=Ks[(r.scheme||n.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!l||!l.unicodeSupport)&&n.host&&(r.domainHost||l&&l.domainHost)&&i===!1&&fp(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(c){n.error=n.error||"Host's domain name can not be converted to ASCII: "+c}(!l||l&&!l.skipNormalize)&&(s&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),s&&n.userinfo!==void 0&&(n.userinfo=unescape(n.userinfo)),s&&n.host!==void 0&&(n.host=unescape(n.host)),n.path!==void 0&&n.path.length&&(n.path=escape(unescape(n.path))),n.fragment!==void 0&&n.fragment.length&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),l&&l.parse&&l.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const Ws={SCHEMES:Ks,normalize:ap,resolve:cp,resolveComponents:Xc,equal:lp,serialize:tt,parse:at};ln.exports=Ws;ln.exports.default=Ws;ln.exports.fastUri=Ws;var hp=ln.exports;Object.defineProperty(Bs,"__esModule",{value:!0});const Zc=hp;Zc.code='require("ajv/dist/runtime/uri").default';Bs.default=Zc;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ke;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=Z;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=vr,s=Zt,i=Pt,o=Ue,l=Z,c=Oe,a=$e,u=x,p=Am,v=Bs,f=(N,w)=>new RegExp(N,w);f.code="new RegExp";const h=["removeAdditional","useDefaults","coerceTypes"],$=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},g=200;function d(N){var w,T,O,E,_,D,G,H,re,Q,_e,bt,Sn,Nn,In,On,Pn,Tn,Rn,bn,Dn,Cn,Ln,An,Fn;const tr=N.strict,jn=(w=N.code)===null||w===void 0?void 0:w.optimize,Fi=jn===!0||jn===void 0?1:jn||0,ji=(O=(T=N.code)===null||T===void 0?void 0:T.regExp)!==null&&O!==void 0?O:f,vl=(E=N.uriResolver)!==null&&E!==void 0?E:v.default;return{strictSchema:(D=(_=N.strictSchema)!==null&&_!==void 0?_:tr)!==null&&D!==void 0?D:!0,strictNumbers:(H=(G=N.strictNumbers)!==null&&G!==void 0?G:tr)!==null&&H!==void 0?H:!0,strictTypes:(Q=(re=N.strictTypes)!==null&&re!==void 0?re:tr)!==null&&Q!==void 0?Q:"log",strictTuples:(bt=(_e=N.strictTuples)!==null&&_e!==void 0?_e:tr)!==null&&bt!==void 0?bt:"log",strictRequired:(Nn=(Sn=N.strictRequired)!==null&&Sn!==void 0?Sn:tr)!==null&&Nn!==void 0?Nn:!1,code:N.code?{...N.code,optimize:Fi,regExp:ji}:{optimize:Fi,regExp:ji},loopRequired:(In=N.loopRequired)!==null&&In!==void 0?In:g,loopEnum:(On=N.loopEnum)!==null&&On!==void 0?On:g,meta:(Pn=N.meta)!==null&&Pn!==void 0?Pn:!0,messages:(Tn=N.messages)!==null&&Tn!==void 0?Tn:!0,inlineRefs:(Rn=N.inlineRefs)!==null&&Rn!==void 0?Rn:!0,schemaId:(bn=N.schemaId)!==null&&bn!==void 0?bn:"$id",addUsedSchema:(Dn=N.addUsedSchema)!==null&&Dn!==void 0?Dn:!0,validateSchema:(Cn=N.validateSchema)!==null&&Cn!==void 0?Cn:!0,validateFormats:(Ln=N.validateFormats)!==null&&Ln!==void 0?Ln:!0,unicodeRegExp:(An=N.unicodeRegExp)!==null&&An!==void 0?An:!0,int32range:(Fn=N.int32range)!==null&&Fn!==void 0?Fn:!0,uriResolver:vl}}class S{constructor(w={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,w=this.opts={...w,...d(w)};const{es5:T,lines:O}=this.opts.code;this.scope=new l.ValueScope({scope:{},prefixes:$,es5:T,lines:O}),this.logger=V(w.logger);const E=w.validateFormats;w.validateFormats=!1,this.RULES=(0,i.getRules)(),I.call(this,y,w,"NOT SUPPORTED"),I.call(this,m,w,"DEPRECATED","warn"),this._metaOpts=j.call(this),w.formats&&q.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),w.keywords&&b.call(this,w.keywords),typeof w.meta=="object"&&this.addMetaSchema(w.meta),k.call(this),w.validateFormats=E}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:w,meta:T,schemaId:O}=this.opts;let E=p;O==="id"&&(E={...p},E.id=E.$id,delete E.$id),T&&w&&this.addMetaSchema(E,E[O],!1)}defaultMeta(){const{meta:w,schemaId:T}=this.opts;return this.opts.defaultMeta=typeof w=="object"?w[T]||w:void 0}validate(w,T){let O;if(typeof w=="string"){if(O=this.getSchema(w),!O)throw new Error(`no schema with key or ref "${w}"`)}else O=this.compile(w);const E=O(T);return"$async"in O||(this.errors=O.errors),E}compile(w,T){const O=this._addSchema(w,T);return O.validate||this._compileSchemaEnv(O)}compileAsync(w,T){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:O}=this.opts;return E.call(this,w,T);async function E(Q,_e){await _.call(this,Q.$schema);const bt=this._addSchema(Q,_e);return bt.validate||D.call(this,bt)}async function _(Q){Q&&!this.getSchema(Q)&&await E.call(this,{$ref:Q},!0)}async function D(Q){try{return this._compileSchemaEnv(Q)}catch(_e){if(!(_e instanceof s.default))throw _e;return G.call(this,_e),await H.call(this,_e.missingSchema),D.call(this,Q)}}function G({missingSchema:Q,missingRef:_e}){if(this.refs[Q])throw new Error(`AnySchema ${Q} is loaded but ${_e} cannot be resolved`)}async function H(Q){const _e=await re.call(this,Q);this.refs[Q]||await _.call(this,_e.$schema),this.refs[Q]||this.addSchema(_e,Q,T)}async function re(Q){const _e=this._loading[Q];if(_e)return _e;try{return await(this._loading[Q]=O(Q))}finally{delete this._loading[Q]}}}addSchema(w,T,O,E=this.opts.validateSchema){if(Array.isArray(w)){for(const D of w)this.addSchema(D,void 0,O,E);return this}let _;if(typeof w=="object"){const{schemaId:D}=this.opts;if(_=w[D],_!==void 0&&typeof _!="string")throw new Error(`schema ${D} must be string`)}return T=(0,c.normalizeId)(T||_),this._checkUnique(T),this.schemas[T]=this._addSchema(w,O,T,E,!0),this}addMetaSchema(w,T,O=this.opts.validateSchema){return this.addSchema(w,T,!0,O),this}validateSchema(w,T){if(typeof w=="boolean")return!0;let O;if(O=w.$schema,O!==void 0&&typeof O!="string")throw new Error("$schema must be a string");if(O=O||this.opts.defaultMeta||this.defaultMeta(),!O)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const E=this.validate(O,w);if(!E&&T){const _="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(_);else throw new Error(_)}return E}getSchema(w){let T;for(;typeof(T=F.call(this,w))=="string";)w=T;if(T===void 0){const{schemaId:O}=this.opts,E=new o.SchemaEnv({schema:{},schemaId:O});if(T=o.resolveSchema.call(this,E,w),!T)return;this.refs[w]=T}return T.validate||this._compileSchemaEnv(T)}removeSchema(w){if(w instanceof RegExp)return this._removeAllSchemas(this.schemas,w),this._removeAllSchemas(this.refs,w),this;switch(typeof w){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const T=F.call(this,w);return typeof T=="object"&&this._cache.delete(T.schema),delete this.schemas[w],delete this.refs[w],this}case"object":{const T=w;this._cache.delete(T);let O=w[this.opts.schemaId];return O&&(O=(0,c.normalizeId)(O),delete this.schemas[O],delete this.refs[O]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(w){for(const T of w)this.addKeyword(T);return this}addKeyword(w,T){let O;if(typeof w=="string")O=w,typeof T=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),T.keyword=O);else if(typeof w=="object"&&T===void 0){if(T=w,O=T.keyword,Array.isArray(O)&&!O.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(L.call(this,O,T),!T)return(0,u.eachItem)(O,_=>C.call(this,_)),this;A.call(this,T);const E={...T,type:(0,a.getJSONTypes)(T.type),schemaType:(0,a.getJSONTypes)(T.schemaType)};return(0,u.eachItem)(O,E.type.length===0?_=>C.call(this,_,E):_=>E.type.forEach(D=>C.call(this,_,E,D))),this}getKeyword(w){const T=this.RULES.all[w];return typeof T=="object"?T.definition:!!T}removeKeyword(w){const{RULES:T}=this;delete T.keywords[w],delete T.all[w];for(const O of T.rules){const E=O.rules.findIndex(_=>_.keyword===w);E>=0&&O.rules.splice(E,1)}return this}addFormat(w,T){return typeof T=="string"&&(T=new RegExp(T)),this.formats[w]=T,this}errorsText(w=this.errors,{separator:T=", ",dataVar:O="data"}={}){return!w||w.length===0?"No errors":w.map(E=>`${O}${E.instancePath} ${E.message}`).reduce((E,_)=>E+T+_)}$dataMetaSchema(w,T){const O=this.RULES.all;w=JSON.parse(JSON.stringify(w));for(const E of T){const _=E.split("/").slice(1);let D=w;for(const G of _)D=D[G];for(const G in O){const H=O[G];if(typeof H!="object")continue;const{$data:re}=H.definition,Q=D[G];re&&Q&&(D[G]=R(Q))}}return w}_removeAllSchemas(w,T){for(const O in w){const E=w[O];(!T||T.test(O))&&(typeof E=="string"?delete w[O]:E&&!E.meta&&(this._cache.delete(E.schema),delete w[O]))}}_addSchema(w,T,O,E=this.opts.validateSchema,_=this.opts.addUsedSchema){let D;const{schemaId:G}=this.opts;if(typeof w=="object")D=w[G];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof w!="boolean")throw new Error("schema must be object or boolean")}let H=this._cache.get(w);if(H!==void 0)return H;O=(0,c.normalizeId)(D||O);const re=c.getSchemaRefs.call(this,w,O);return H=new o.SchemaEnv({schema:w,schemaId:G,meta:T,baseId:O,localRefs:re}),this._cache.set(H.schema,H),_&&!O.startsWith("#")&&(O&&this._checkUnique(O),this.refs[O]=H),E&&this.validateSchema(w,!0),H}_checkUnique(w){if(this.schemas[w]||this.refs[w])throw new Error(`schema with key or id "${w}" already exists`)}_compileSchemaEnv(w){if(w.meta?this._compileMetaSchema(w):o.compileSchema.call(this,w),!w.validate)throw new Error("ajv implementation error");return w.validate}_compileMetaSchema(w){const T=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,w)}finally{this.opts=T}}}S.ValidationError=n.default,S.MissingRefError=s.default,e.default=S;function I(N,w,T,O="error"){for(const E in N){const _=E;_ in w&&this.logger[O](`${T}: option ${E}. ${N[_]}`)}}function F(N){return N=(0,c.normalizeId)(N),this.schemas[N]||this.refs[N]}function k(){const N=this.opts.schemas;if(N)if(Array.isArray(N))this.addSchema(N);else for(const w in N)this.addSchema(N[w],w)}function q(){for(const N in this.opts.formats){const w=this.opts.formats[N];w&&this.addFormat(N,w)}}function b(N){if(Array.isArray(N)){this.addVocabulary(N);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const w in N){const T=N[w];T.keyword||(T.keyword=w),this.addKeyword(T)}}function j(){const N={...this.opts};for(const w of h)delete N[w];return N}const U={log(){},warn(){},error(){}};function V(N){if(N===!1)return U;if(N===void 0)return console;if(N.log&&N.warn&&N.error)return N;throw new Error("logger must implement log, warn and error methods")}const W=/^[a-z_$][a-z0-9_$:-]*$/i;function L(N,w){const{RULES:T}=this;if((0,u.eachItem)(N,O=>{if(T.keywords[O])throw new Error(`Keyword ${O} is already defined`);if(!W.test(O))throw new Error(`Keyword ${O} has invalid name`)}),!!w&&w.$data&&!("code"in w||"validate"in w))throw new Error('$data keyword must have "code" or "validate" function')}function C(N,w,T){var O;const E=w?.post;if(T&&E)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:_}=this;let D=E?_.post:_.rules.find(({type:H})=>H===T);if(D||(D={type:T,rules:[]},_.rules.push(D)),_.keywords[N]=!0,!w)return;const G={keyword:N,definition:{...w,type:(0,a.getJSONTypes)(w.type),schemaType:(0,a.getJSONTypes)(w.schemaType)}};w.before?M.call(this,D,G,w.before):D.rules.push(G),_.all[N]=G,(O=w.implements)===null||O===void 0||O.forEach(H=>this.addKeyword(H))}function M(N,w,T){const O=N.rules.findIndex(E=>E.keyword===T);O>=0?N.rules.splice(O,0,w):(N.rules.push(w),this.logger.warn(`rule ${T} is not defined`))}function A(N){let{metaSchema:w}=N;w!==void 0&&(N.$data&&this.opts.$data&&(w=R(w)),N.validateSchema=this.compile(w,!0))}const P={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function R(N){return{anyOf:[N,P]}}})(lc);var Xs={},Zs={},Js={};Object.defineProperty(Js,"__esModule",{value:!0});const mp={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Js.default=mp;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.callRef=Tt.getValidate=void 0;const pp=Zt,po=J,Me=Z,Lt=nt,yo=Ue,Dr=x,yp={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:i,validateName:o,opts:l,self:c}=n,{root:a}=i;if((r==="#"||r==="#/")&&s===a.baseId)return p();const u=yo.resolveRef.call(c,a,s,r);if(u===void 0)throw new pp.default(n.opts.uriResolver,s,r);if(u instanceof yo.SchemaEnv)return v(u);return f(u);function p(){if(i===a)return Gr(e,o,i,i.$async);const h=t.scopeValue("root",{ref:a});return Gr(e,(0,Me._)`${h}.validate`,a,a.$async)}function v(h){const $=Jc(e,h);Gr(e,$,h,h.$async)}function f(h){const $=t.scopeValue("schema",l.code.source===!0?{ref:h,code:(0,Me.stringify)(h)}:{ref:h}),y=t.name("valid"),m=e.subschema({schema:h,dataTypes:[],schemaPath:Me.nil,topSchemaRef:$,errSchemaPath:r},y);e.mergeEvaluated(m),e.ok(y)}}};function Jc(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Me._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Tt.getValidate=Jc;function Gr(e,t,r,n){const{gen:s,it:i}=e,{allErrors:o,schemaEnv:l,opts:c}=i,a=c.passContext?Lt.default.this:Me.nil;n?u():p();function u(){if(!l.$async)throw new Error("async schema referenced by sync schema");const h=s.let("valid");s.try(()=>{s.code((0,Me._)`await ${(0,po.callValidateCode)(e,t,a)}`),f(t),o||s.assign(h,!0)},$=>{s.if((0,Me._)`!(${$} instanceof ${i.ValidationError})`,()=>s.throw($)),v($),o||s.assign(h,!1)}),e.ok(h)}function p(){e.result((0,po.callValidateCode)(e,t,a),()=>f(t),()=>v(t))}function v(h){const $=(0,Me._)`${h}.errors`;s.assign(Lt.default.vErrors,(0,Me._)`${Lt.default.vErrors} === null ? ${$} : ${Lt.default.vErrors}.concat(${$})`),s.assign(Lt.default.errors,(0,Me._)`${Lt.default.vErrors}.length`)}function f(h){var $;if(!i.opts.unevaluated)return;const y=($=r?.validate)===null||$===void 0?void 0:$.evaluated;if(i.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(i.props=Dr.mergeEvaluated.props(s,y.props,i.props));else{const m=s.var("props",(0,Me._)`${h}.evaluated.props`);i.props=Dr.mergeEvaluated.props(s,m,i.props,Me.Name)}if(i.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(i.items=Dr.mergeEvaluated.items(s,y.items,i.items));else{const m=s.var("items",(0,Me._)`${h}.evaluated.items`);i.items=Dr.mergeEvaluated.items(s,m,i.items,Me.Name)}}}Tt.callRef=Gr;Tt.default=yp;Object.defineProperty(Zs,"__esModule",{value:!0});const Ep=Js,$p=Tt,gp=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Ep.default,$p.default];Zs.default=gp;var Ys={},Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});const Zr=Z,ut=Zr.operators,Jr={maximum:{okStr:"<=",ok:ut.LTE,fail:ut.GT},minimum:{okStr:">=",ok:ut.GTE,fail:ut.LT},exclusiveMaximum:{okStr:"<",ok:ut.LT,fail:ut.GTE},exclusiveMinimum:{okStr:">",ok:ut.GT,fail:ut.LTE}},_p={message:({keyword:e,schemaCode:t})=>(0,Zr.str)`must be ${Jr[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Zr._)`{comparison: ${Jr[e].okStr}, limit: ${t}}`},vp={keyword:Object.keys(Jr),type:"number",schemaType:"number",$data:!0,error:_p,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Zr._)`${r} ${Jr[t].fail} ${n} || isNaN(${r})`)}};Qs.default=vp;var ei={};Object.defineProperty(ei,"__esModule",{value:!0});const lr=Z,wp={message:({schemaCode:e})=>(0,lr.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,lr._)`{multipleOf: ${e}}`},Sp={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:wp,code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,i=s.opts.multipleOfPrecision,o=t.let("res"),l=i?(0,lr._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${i}`:(0,lr._)`${o} !== parseInt(${o})`;e.fail$data((0,lr._)`(${n} === 0 || (${o} = ${r}/${n}, ${l}))`)}};ei.default=Sp;var ti={},ri={};Object.defineProperty(ri,"__esModule",{value:!0});function Yc(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}ri.default=Yc;Yc.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(ti,"__esModule",{value:!0});const St=Z,Np=x,Ip=ri,Op={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,St.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,St._)`{limit: ${e}}`},Pp={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Op,code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,i=t==="maxLength"?St.operators.GT:St.operators.LT,o=s.opts.unicode===!1?(0,St._)`${r}.length`:(0,St._)`${(0,Np.useFunc)(e.gen,Ip.default)}(${r})`;e.fail$data((0,St._)`${o} ${i} ${n}`)}};ti.default=Pp;var ni={};Object.defineProperty(ni,"__esModule",{value:!0});const Tp=J,Yr=Z,Rp={message:({schemaCode:e})=>(0,Yr.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Yr._)`{pattern: ${e}}`},bp={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Rp,code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:i}=e,o=i.opts.unicodeRegExp?"u":"",l=r?(0,Yr._)`(new RegExp(${s}, ${o}))`:(0,Tp.usePattern)(e,n);e.fail$data((0,Yr._)`!${l}.test(${t})`)}};ni.default=bp;var si={};Object.defineProperty(si,"__esModule",{value:!0});const ur=Z,Dp={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,ur.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,ur._)`{limit: ${e}}`},Cp={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Dp,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?ur.operators.GT:ur.operators.LT;e.fail$data((0,ur._)`Object.keys(${r}).length ${s} ${n}`)}};si.default=Cp;var ii={};Object.defineProperty(ii,"__esModule",{value:!0});const nr=J,fr=Z,Lp=x,Ap={message:({params:{missingProperty:e}})=>(0,fr.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,fr._)`{missingProperty: ${e}}`},Fp={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Ap,code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:i,it:o}=e,{opts:l}=o;if(!i&&r.length===0)return;const c=r.length>=l.loopRequired;if(o.allErrors?a():u(),l.strictRequired){const f=e.parentSchema.properties,{definedProperties:h}=e.it;for(const $ of r)if(f?.[$]===void 0&&!h.has($)){const y=o.schemaEnv.baseId+o.errSchemaPath,m=`required property "${$}" is not defined at "${y}" (strictRequired)`;(0,Lp.checkStrictMode)(o,m,o.opts.strictRequired)}}function a(){if(c||i)e.block$data(fr.nil,p);else for(const f of r)(0,nr.checkReportMissingProp)(e,f)}function u(){const f=t.let("missing");if(c||i){const h=t.let("valid",!0);e.block$data(h,()=>v(f,h)),e.ok(h)}else t.if((0,nr.checkMissingProp)(e,r,f)),(0,nr.reportMissingProp)(e,f),t.else()}function p(){t.forOf("prop",n,f=>{e.setParams({missingProperty:f}),t.if((0,nr.noPropertyInData)(t,s,f,l.ownProperties),()=>e.error())})}function v(f,h){e.setParams({missingProperty:f}),t.forOf(f,n,()=>{t.assign(h,(0,nr.propertyInData)(t,s,f,l.ownProperties)),t.if((0,fr.not)(h),()=>{e.error(),t.break()})},fr.nil)}}};ii.default=Fp;var oi={};Object.defineProperty(oi,"__esModule",{value:!0});const dr=Z,jp={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,dr.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,dr._)`{limit: ${e}}`},kp={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:jp,code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?dr.operators.GT:dr.operators.LT;e.fail$data((0,dr._)`${r}.length ${s} ${n}`)}};oi.default=kp;var ai={},wr={};Object.defineProperty(wr,"__esModule",{value:!0});const Qc=Ic;Qc.code='require("ajv/dist/runtime/equal").default';wr.default=Qc;Object.defineProperty(ai,"__esModule",{value:!0});const Gn=$e,Ne=Z,Mp=x,Up=wr,zp={message:({params:{i:e,j:t}})=>(0,Ne.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,Ne._)`{i: ${e}, j: ${t}}`},xp={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:zp,code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:i,schemaCode:o,it:l}=e;if(!n&&!s)return;const c=t.let("valid"),a=i.items?(0,Gn.getSchemaTypes)(i.items):[];e.block$data(c,u,(0,Ne._)`${o} === false`),e.ok(c);function u(){const h=t.let("i",(0,Ne._)`${r}.length`),$=t.let("j");e.setParams({i:h,j:$}),t.assign(c,!0),t.if((0,Ne._)`${h} > 1`,()=>(p()?v:f)(h,$))}function p(){return a.length>0&&!a.some(h=>h==="object"||h==="array")}function v(h,$){const y=t.name("item"),m=(0,Gn.checkDataTypes)(a,y,l.opts.strictNumbers,Gn.DataType.Wrong),g=t.const("indices",(0,Ne._)`{}`);t.for((0,Ne._)`;${h}--;`,()=>{t.let(y,(0,Ne._)`${r}[${h}]`),t.if(m,(0,Ne._)`continue`),a.length>1&&t.if((0,Ne._)`typeof ${y} == "string"`,(0,Ne._)`${y} += "_"`),t.if((0,Ne._)`typeof ${g}[${y}] == "number"`,()=>{t.assign($,(0,Ne._)`${g}[${y}]`),e.error(),t.assign(c,!1).break()}).code((0,Ne._)`${g}[${y}] = ${h}`)})}function f(h,$){const y=(0,Mp.useFunc)(t,Up.default),m=t.name("outer");t.label(m).for((0,Ne._)`;${h}--;`,()=>t.for((0,Ne._)`${$} = ${h}; ${$}--;`,()=>t.if((0,Ne._)`${y}(${r}[${h}], ${r}[${$}])`,()=>{e.error(),t.assign(c,!1).break(m)})))}}};ai.default=xp;var ci={};Object.defineProperty(ci,"__esModule",{value:!0});const as=Z,Vp=x,Gp=wr,Hp={message:"must be equal to constant",params:({schemaCode:e})=>(0,as._)`{allowedValue: ${e}}`},Bp={keyword:"const",$data:!0,error:Hp,code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:i}=e;n||i&&typeof i=="object"?e.fail$data((0,as._)`!${(0,Vp.useFunc)(t,Gp.default)}(${r}, ${s})`):e.fail((0,as._)`${i} !== ${r}`)}};ci.default=Bp;var li={};Object.defineProperty(li,"__esModule",{value:!0});const or=Z,qp=x,Kp=wr,Wp={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,or._)`{allowedValues: ${e}}`},Xp={keyword:"enum",schemaType:"array",$data:!0,error:Wp,code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:i,it:o}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const l=s.length>=o.opts.loopEnum;let c;const a=()=>c??(c=(0,qp.useFunc)(t,Kp.default));let u;if(l||n)u=t.let("valid"),e.block$data(u,p);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const f=t.const("vSchema",i);u=(0,or.or)(...s.map((h,$)=>v(f,$)))}e.pass(u);function p(){t.assign(u,!1),t.forOf("v",i,f=>t.if((0,or._)`${a()}(${r}, ${f})`,()=>t.assign(u,!0).break()))}function v(f,h){const $=s[h];return typeof $=="object"&&$!==null?(0,or._)`${a()}(${r}, ${f}[${h}])`:(0,or._)`${r} === ${$}`}}};li.default=Xp;Object.defineProperty(Ys,"__esModule",{value:!0});const Zp=Qs,Jp=ei,Yp=ti,Qp=ni,ey=si,ty=ii,ry=oi,ny=ai,sy=ci,iy=li,oy=[Zp.default,Jp.default,Yp.default,Qp.default,ey.default,ty.default,ry.default,ny.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},sy.default,iy.default];Ys.default=oy;var ui={},Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.validateAdditionalItems=void 0;const Nt=Z,cs=x,ay={message:({params:{len:e}})=>(0,Nt.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Nt._)`{limit: ${e}}`},cy={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:ay,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,cs.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}el(e,n)}};function el(e,t){const{gen:r,schema:n,data:s,keyword:i,it:o}=e;o.items=!0;const l=r.const("len",(0,Nt._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Nt._)`${l} <= ${t.length}`);else if(typeof n=="object"&&!(0,cs.alwaysValidSchema)(o,n)){const a=r.var("valid",(0,Nt._)`${l} <= ${t.length}`);r.if((0,Nt.not)(a),()=>c(a)),e.ok(a)}function c(a){r.forRange("i",t.length,l,u=>{e.subschema({keyword:i,dataProp:u,dataPropType:cs.Type.Num},a),o.allErrors||r.if((0,Nt.not)(a),()=>r.break())})}}Jt.validateAdditionalItems=el;Jt.default=cy;var fi={},Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.validateTuple=void 0;const Eo=Z,Hr=x,ly=J,uy={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return tl(e,"additionalItems",t);r.items=!0,!(0,Hr.alwaysValidSchema)(r,t)&&e.ok((0,ly.validateArray)(e))}};function tl(e,t,r=e.schema){const{gen:n,parentSchema:s,data:i,keyword:o,it:l}=e;u(s),l.opts.unevaluated&&r.length&&l.items!==!0&&(l.items=Hr.mergeEvaluated.items(n,r.length,l.items));const c=n.name("valid"),a=n.const("len",(0,Eo._)`${i}.length`);r.forEach((p,v)=>{(0,Hr.alwaysValidSchema)(l,p)||(n.if((0,Eo._)`${a} > ${v}`,()=>e.subschema({keyword:o,schemaProp:v,dataProp:v},c)),e.ok(c))});function u(p){const{opts:v,errSchemaPath:f}=l,h=r.length,$=h===p.minItems&&(h===p.maxItems||p[t]===!1);if(v.strictTuples&&!$){const y=`"${o}" is ${h}-tuple, but minItems or maxItems/${t} are not specified or different at path "${f}"`;(0,Hr.checkStrictMode)(l,y,v.strictTuples)}}}Yt.validateTuple=tl;Yt.default=uy;Object.defineProperty(fi,"__esModule",{value:!0});const fy=Yt,dy={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,fy.validateTuple)(e,"items")};fi.default=dy;var di={};Object.defineProperty(di,"__esModule",{value:!0});const $o=Z,hy=x,my=J,py=Jt,yy={message:({params:{len:e}})=>(0,$o.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,$o._)`{limit: ${e}}`},Ey={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:yy,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,hy.alwaysValidSchema)(n,t)&&(s?(0,py.validateAdditionalItems)(e,s):e.ok((0,my.validateArray)(e)))}};di.default=Ey;var hi={};Object.defineProperty(hi,"__esModule",{value:!0});const Ge=Z,Cr=x,$y={message:({params:{min:e,max:t}})=>t===void 0?(0,Ge.str)`must contain at least ${e} valid item(s)`:(0,Ge.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Ge._)`{minContains: ${e}}`:(0,Ge._)`{minContains: ${e}, maxContains: ${t}}`},gy={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:$y,code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:i}=e;let o,l;const{minContains:c,maxContains:a}=n;i.opts.next?(o=c===void 0?1:c,l=a):o=1;const u=t.const("len",(0,Ge._)`${s}.length`);if(e.setParams({min:o,max:l}),l===void 0&&o===0){(0,Cr.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(l!==void 0&&o>l){(0,Cr.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Cr.alwaysValidSchema)(i,r)){let $=(0,Ge._)`${u} >= ${o}`;l!==void 0&&($=(0,Ge._)`${$} && ${u} <= ${l}`),e.pass($);return}i.items=!0;const p=t.name("valid");l===void 0&&o===1?f(p,()=>t.if(p,()=>t.break())):o===0?(t.let(p,!0),l!==void 0&&t.if((0,Ge._)`${s}.length > 0`,v)):(t.let(p,!1),v()),e.result(p,()=>e.reset());function v(){const $=t.name("_valid"),y=t.let("count",0);f($,()=>t.if($,()=>h(y)))}function f($,y){t.forRange("i",0,u,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:Cr.Type.Num,compositeRule:!0},$),y()})}function h($){t.code((0,Ge._)`${$}++`),l===void 0?t.if((0,Ge._)`${$} >= ${o}`,()=>t.assign(p,!0).break()):(t.if((0,Ge._)`${$} > ${l}`,()=>t.assign(p,!1).break()),o===1?t.assign(p,!0):t.if((0,Ge._)`${$} >= ${o}`,()=>t.assign(p,!0)))}}};hi.default=gy;var rl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Z,r=x,n=J;e.error={message:({params:{property:c,depsCount:a,deps:u}})=>{const p=a===1?"property":"properties";return(0,t.str)`must have ${p} ${u} when property ${c} is present`},params:({params:{property:c,depsCount:a,deps:u,missingProperty:p}})=>(0,t._)`{property: ${c},
    missingProperty: ${p},
    depsCount: ${a},
    deps: ${u}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[a,u]=i(c);o(c,a),l(c,u)}};function i({schema:c}){const a={},u={};for(const p in c){if(p==="__proto__")continue;const v=Array.isArray(c[p])?a:u;v[p]=c[p]}return[a,u]}function o(c,a=c.schema){const{gen:u,data:p,it:v}=c;if(Object.keys(a).length===0)return;const f=u.let("missing");for(const h in a){const $=a[h];if($.length===0)continue;const y=(0,n.propertyInData)(u,p,h,v.opts.ownProperties);c.setParams({property:h,depsCount:$.length,deps:$.join(", ")}),v.allErrors?u.if(y,()=>{for(const m of $)(0,n.checkReportMissingProp)(c,m)}):(u.if((0,t._)`${y} && (${(0,n.checkMissingProp)(c,$,f)})`),(0,n.reportMissingProp)(c,f),u.else())}}e.validatePropertyDeps=o;function l(c,a=c.schema){const{gen:u,data:p,keyword:v,it:f}=c,h=u.name("valid");for(const $ in a)(0,r.alwaysValidSchema)(f,a[$])||(u.if((0,n.propertyInData)(u,p,$,f.opts.ownProperties),()=>{const y=c.subschema({keyword:v,schemaProp:$},h);c.mergeValidEvaluated(y,h)},()=>u.var(h,!0)),c.ok(h))}e.validateSchemaDeps=l,e.default=s})(rl);var mi={};Object.defineProperty(mi,"__esModule",{value:!0});const nl=Z,_y=x,vy={message:"property name must be valid",params:({params:e})=>(0,nl._)`{propertyName: ${e.propertyName}}`},wy={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:vy,code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,_y.alwaysValidSchema)(s,r))return;const i=t.name("valid");t.forIn("key",n,o=>{e.setParams({propertyName:o}),e.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},i),t.if((0,nl.not)(i),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(i)}};mi.default=wy;var un={};Object.defineProperty(un,"__esModule",{value:!0});const Lr=J,Be=Z,Sy=nt,Ar=x,Ny={message:"must NOT have additional properties",params:({params:e})=>(0,Be._)`{additionalProperty: ${e.additionalProperty}}`},Iy={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Ny,code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:i,it:o}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:l,opts:c}=o;if(o.props=!0,c.removeAdditional!=="all"&&(0,Ar.alwaysValidSchema)(o,r))return;const a=(0,Lr.allSchemaProperties)(n.properties),u=(0,Lr.allSchemaProperties)(n.patternProperties);p(),e.ok((0,Be._)`${i} === ${Sy.default.errors}`);function p(){t.forIn("key",s,y=>{!a.length&&!u.length?h(y):t.if(v(y),()=>h(y))})}function v(y){let m;if(a.length>8){const g=(0,Ar.schemaRefOrVal)(o,n.properties,"properties");m=(0,Lr.isOwnProperty)(t,g,y)}else a.length?m=(0,Be.or)(...a.map(g=>(0,Be._)`${y} === ${g}`)):m=Be.nil;return u.length&&(m=(0,Be.or)(m,...u.map(g=>(0,Be._)`${(0,Lr.usePattern)(e,g)}.test(${y})`))),(0,Be.not)(m)}function f(y){t.code((0,Be._)`delete ${s}[${y}]`)}function h(y){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){f(y);return}if(r===!1){e.setParams({additionalProperty:y}),e.error(),l||t.break();return}if(typeof r=="object"&&!(0,Ar.alwaysValidSchema)(o,r)){const m=t.name("valid");c.removeAdditional==="failing"?($(y,m,!1),t.if((0,Be.not)(m),()=>{e.reset(),f(y)})):($(y,m),l||t.if((0,Be.not)(m),()=>t.break()))}}function $(y,m,g){const d={keyword:"additionalProperties",dataProp:y,dataPropType:Ar.Type.Str};g===!1&&Object.assign(d,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(d,m)}}};un.default=Iy;var pi={};Object.defineProperty(pi,"__esModule",{value:!0});const Oy=Ke,go=J,Hn=x,_o=un,Py={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:i}=e;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&_o.default.code(new Oy.KeywordCxt(i,_o.default,"additionalProperties"));const o=(0,go.allSchemaProperties)(r);for(const p of o)i.definedProperties.add(p);i.opts.unevaluated&&o.length&&i.props!==!0&&(i.props=Hn.mergeEvaluated.props(t,(0,Hn.toHash)(o),i.props));const l=o.filter(p=>!(0,Hn.alwaysValidSchema)(i,r[p]));if(l.length===0)return;const c=t.name("valid");for(const p of l)a(p)?u(p):(t.if((0,go.propertyInData)(t,s,p,i.opts.ownProperties)),u(p),i.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(p),e.ok(c);function a(p){return i.opts.useDefaults&&!i.compositeRule&&r[p].default!==void 0}function u(p){e.subschema({keyword:"properties",schemaProp:p,dataProp:p},c)}}};pi.default=Py;var yi={};Object.defineProperty(yi,"__esModule",{value:!0});const vo=J,Fr=Z,wo=x,So=x,Ty={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:i}=e,{opts:o}=i,l=(0,vo.allSchemaProperties)(r),c=l.filter($=>(0,wo.alwaysValidSchema)(i,r[$]));if(l.length===0||c.length===l.length&&(!i.opts.unevaluated||i.props===!0))return;const a=o.strictSchema&&!o.allowMatchingProperties&&s.properties,u=t.name("valid");i.props!==!0&&!(i.props instanceof Fr.Name)&&(i.props=(0,So.evaluatedPropsToName)(t,i.props));const{props:p}=i;v();function v(){for(const $ of l)a&&f($),i.allErrors?h($):(t.var(u,!0),h($),t.if(u))}function f($){for(const y in a)new RegExp($).test(y)&&(0,wo.checkStrictMode)(i,`property ${y} matches pattern ${$} (use allowMatchingProperties)`)}function h($){t.forIn("key",n,y=>{t.if((0,Fr._)`${(0,vo.usePattern)(e,$)}.test(${y})`,()=>{const m=c.includes($);m||e.subschema({keyword:"patternProperties",schemaProp:$,dataProp:y,dataPropType:So.Type.Str},u),i.opts.unevaluated&&p!==!0?t.assign((0,Fr._)`${p}[${y}]`,!0):!m&&!i.allErrors&&t.if((0,Fr.not)(u),()=>t.break())})})}}};yi.default=Ty;var Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});const Ry=x,by={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Ry.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Ei.default=by;var $i={};Object.defineProperty($i,"__esModule",{value:!0});const Dy=J,Cy={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Dy.validateUnion,error:{message:"must match a schema in anyOf"}};$i.default=Cy;var gi={};Object.defineProperty(gi,"__esModule",{value:!0});const Br=Z,Ly=x,Ay={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Br._)`{passingSchemas: ${e.passing}}`},Fy={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Ay,code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const i=r,o=t.let("valid",!1),l=t.let("passing",null),c=t.name("_valid");e.setParams({passing:l}),t.block(a),e.result(o,()=>e.reset(),()=>e.error(!0));function a(){i.forEach((u,p)=>{let v;(0,Ly.alwaysValidSchema)(s,u)?t.var(c,!0):v=e.subschema({keyword:"oneOf",schemaProp:p,compositeRule:!0},c),p>0&&t.if((0,Br._)`${c} && ${o}`).assign(o,!1).assign(l,(0,Br._)`[${l}, ${p}]`).else(),t.if(c,()=>{t.assign(o,!0),t.assign(l,p),v&&e.mergeEvaluated(v,Br.Name)})})}}};gi.default=Fy;var _i={};Object.defineProperty(_i,"__esModule",{value:!0});const jy=x,ky={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((i,o)=>{if((0,jy.alwaysValidSchema)(n,i))return;const l=e.subschema({keyword:"allOf",schemaProp:o},s);e.ok(s),e.mergeEvaluated(l)})}};_i.default=ky;var vi={};Object.defineProperty(vi,"__esModule",{value:!0});const Qr=Z,sl=x,My={message:({params:e})=>(0,Qr.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Qr._)`{failingKeyword: ${e.ifClause}}`},Uy={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:My,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,sl.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=No(n,"then"),i=No(n,"else");if(!s&&!i)return;const o=t.let("valid",!0),l=t.name("_valid");if(c(),e.reset(),s&&i){const u=t.let("ifClause");e.setParams({ifClause:u}),t.if(l,a("then",u),a("else",u))}else s?t.if(l,a("then")):t.if((0,Qr.not)(l),a("else"));e.pass(o,()=>e.error(!0));function c(){const u=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l);e.mergeEvaluated(u)}function a(u,p){return()=>{const v=e.subschema({keyword:u},l);t.assign(o,l),e.mergeValidEvaluated(v,o),p?t.assign(p,(0,Qr._)`${u}`):e.setParams({ifClause:u})}}}};function No(e,t){const r=e.schema[t];return r!==void 0&&!(0,sl.alwaysValidSchema)(e,r)}vi.default=Uy;var wi={};Object.defineProperty(wi,"__esModule",{value:!0});const zy=x,xy={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,zy.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};wi.default=xy;Object.defineProperty(ui,"__esModule",{value:!0});const Vy=Jt,Gy=fi,Hy=Yt,By=di,qy=hi,Ky=rl,Wy=mi,Xy=un,Zy=pi,Jy=yi,Yy=Ei,Qy=$i,e0=gi,t0=_i,r0=vi,n0=wi;function s0(e=!1){const t=[Yy.default,Qy.default,e0.default,t0.default,r0.default,n0.default,Wy.default,Xy.default,Ky.default,Zy.default,Jy.default];return e?t.push(Gy.default,By.default):t.push(Vy.default,Hy.default),t.push(qy.default),t}ui.default=s0;var Si={},Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});const ye=Z,i0={message:({schemaCode:e})=>(0,ye.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,ye._)`{format: ${e}}`},o0={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:i0,code(e,t){const{gen:r,data:n,$data:s,schema:i,schemaCode:o,it:l}=e,{opts:c,errSchemaPath:a,schemaEnv:u,self:p}=l;if(!c.validateFormats)return;s?v():f();function v(){const h=r.scopeValue("formats",{ref:p.formats,code:c.code.formats}),$=r.const("fDef",(0,ye._)`${h}[${o}]`),y=r.let("fType"),m=r.let("format");r.if((0,ye._)`typeof ${$} == "object" && !(${$} instanceof RegExp)`,()=>r.assign(y,(0,ye._)`${$}.type || "string"`).assign(m,(0,ye._)`${$}.validate`),()=>r.assign(y,(0,ye._)`"string"`).assign(m,$)),e.fail$data((0,ye.or)(g(),d()));function g(){return c.strictSchema===!1?ye.nil:(0,ye._)`${o} && !${m}`}function d(){const S=u.$async?(0,ye._)`(${$}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,ye._)`${m}(${n})`,I=(0,ye._)`(typeof ${m} == "function" ? ${S} : ${m}.test(${n}))`;return(0,ye._)`${m} && ${m} !== true && ${y} === ${t} && !${I}`}}function f(){const h=p.formats[i];if(!h){g();return}if(h===!0)return;const[$,y,m]=d(h);$===t&&e.pass(S());function g(){if(c.strictSchema===!1){p.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${i}" ignored in schema at path "${a}"`}}function d(I){const F=I instanceof RegExp?(0,ye.regexpCode)(I):c.code.formats?(0,ye._)`${c.code.formats}${(0,ye.getProperty)(i)}`:void 0,k=r.scopeValue("formats",{key:i,ref:I,code:F});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,ye._)`${k}.validate`]:["string",I,k]}function S(){if(typeof h=="object"&&!(h instanceof RegExp)&&h.async){if(!u.$async)throw new Error("async format in sync schema");return(0,ye._)`await ${m}(${n})`}return typeof y=="function"?(0,ye._)`${m}(${n})`:(0,ye._)`${m}.test(${n})`}}}};Ni.default=o0;Object.defineProperty(Si,"__esModule",{value:!0});const a0=Ni,c0=[a0.default];Si.default=c0;var qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.contentVocabulary=qt.metadataVocabulary=void 0;qt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];qt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Xs,"__esModule",{value:!0});const l0=Zs,u0=Ys,f0=ui,d0=Si,Io=qt,h0=[l0.default,u0.default,(0,f0.default)(),d0.default,Io.metadataVocabulary,Io.contentVocabulary];Xs.default=h0;var Ii={},fn={};Object.defineProperty(fn,"__esModule",{value:!0});fn.DiscrError=void 0;var Oo;(function(e){e.Tag="tag",e.Mapping="mapping"})(Oo||(fn.DiscrError=Oo={}));Object.defineProperty(Ii,"__esModule",{value:!0});const Ft=Z,ls=fn,Po=Ue,m0=Zt,p0=x,y0={message:({params:{discrError:e,tagName:t}})=>e===ls.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Ft._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},E0={keyword:"discriminator",type:"object",schemaType:"object",error:y0,code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:i}=e,{oneOf:o}=s;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const l=n.propertyName;if(typeof l!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),a=t.const("tag",(0,Ft._)`${r}${(0,Ft.getProperty)(l)}`);t.if((0,Ft._)`typeof ${a} == "string"`,()=>u(),()=>e.error(!1,{discrError:ls.DiscrError.Tag,tag:a,tagName:l})),e.ok(c);function u(){const f=v();t.if(!1);for(const h in f)t.elseIf((0,Ft._)`${a} === ${h}`),t.assign(c,p(f[h]));t.else(),e.error(!1,{discrError:ls.DiscrError.Mapping,tag:a,tagName:l}),t.endIf()}function p(f){const h=t.name("valid"),$=e.subschema({keyword:"oneOf",schemaProp:f},h);return e.mergeEvaluated($,Ft.Name),h}function v(){var f;const h={},$=m(s);let y=!0;for(let S=0;S<o.length;S++){let I=o[S];if(I?.$ref&&!(0,p0.schemaHasRulesButRef)(I,i.self.RULES)){const k=I.$ref;if(I=Po.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,k),I instanceof Po.SchemaEnv&&(I=I.schema),I===void 0)throw new m0.default(i.opts.uriResolver,i.baseId,k)}const F=(f=I?.properties)===null||f===void 0?void 0:f[l];if(typeof F!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${l}"`);y=y&&($||m(I)),g(F,S)}if(!y)throw new Error(`discriminator: "${l}" must be required`);return h;function m({required:S}){return Array.isArray(S)&&S.includes(l)}function g(S,I){if(S.const)d(S.const,I);else if(S.enum)for(const F of S.enum)d(F,I);else throw new Error(`discriminator: "properties/${l}" must have "const" or "enum"`)}function d(S,I){if(typeof S!="string"||S in h)throw new Error(`discriminator: "${l}" values must be unique strings`);h[S]=I}}}};Ii.default=E0;const $0="http://json-schema.org/draft-07/schema#",g0="http://json-schema.org/draft-07/schema#",_0="Core schema meta-schema",v0={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},w0=["object","boolean"],S0={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},N0={$schema:$0,$id:g0,title:_0,definitions:v0,type:w0,properties:S0,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=lc,n=Xs,s=Ii,i=N0,o=["/properties"],l="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(h=>this.addVocabulary(h)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const h=this.opts.$data?this.$dataMetaSchema(i,o):i;this.addMetaSchema(h,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var a=Ke;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return a.KeywordCxt}});var u=Z;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var p=vr;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return p.default}});var v=Zt;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return v.default}})})(ts,ts.exports);var il=ts.exports,us={exports:{}},ol={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(b,j){return{validate:b,compare:j}}e.fullFormats={date:t(i,o),time:t(c,a),"date-time":t(p,v),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:$,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:q,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:m,int32:{type:"number",validate:S},int64:{type:"number",validate:I},float:{type:"number",validate:F},double:{type:"number",validate:F},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,a),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,v),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(b){return b%4===0&&(b%100!==0||b%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function i(b){const j=n.exec(b);if(!j)return!1;const U=+j[1],V=+j[2],W=+j[3];return V>=1&&V<=12&&W>=1&&W<=(V===2&&r(U)?29:s[V])}function o(b,j){if(b&&j)return b>j?1:b<j?-1:0}const l=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function c(b,j){const U=l.exec(b);if(!U)return!1;const V=+U[1],W=+U[2],L=+U[3],C=U[5];return(V<=23&&W<=59&&L<=59||V===23&&W===59&&L===60)&&(!j||C!=="")}function a(b,j){if(!(b&&j))return;const U=l.exec(b),V=l.exec(j);if(U&&V)return b=U[1]+U[2]+U[3]+(U[4]||""),j=V[1]+V[2]+V[3]+(V[4]||""),b>j?1:b<j?-1:0}const u=/t|\s/i;function p(b){const j=b.split(u);return j.length===2&&i(j[0])&&c(j[1],!0)}function v(b,j){if(!(b&&j))return;const[U,V]=b.split(u),[W,L]=j.split(u),C=o(U,W);if(C!==void 0)return C||a(V,L)}const f=/\/|:/,h=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function $(b){return f.test(b)&&h.test(b)}const y=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function m(b){return y.lastIndex=0,y.test(b)}const g=-(2**31),d=2**31-1;function S(b){return Number.isInteger(b)&&b<=d&&b>=g}function I(b){return Number.isInteger(b)}function F(){return!0}const k=/[^\\]\\Z/;function q(b){if(k.test(b))return!1;try{return new RegExp(b),!0}catch{return!1}}})(ol);var al={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=il,r=Z,n=r.operators,s={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},i={message:({keyword:l,schemaCode:c})=>r.str`should be ${s[l].okStr} ${c}`,params:({keyword:l,schemaCode:c})=>r._`{comparison: ${s[l].okStr}, limit: ${c}}`};e.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:i,code(l){const{gen:c,data:a,schemaCode:u,keyword:p,it:v}=l,{opts:f,self:h}=v;if(!f.validateFormats)return;const $=new t.KeywordCxt(v,h.RULES.all.format.definition,"format");$.$data?y():m();function y(){const d=c.scopeValue("formats",{ref:h.formats,code:f.code.formats}),S=c.const("fmt",r._`${d}[${$.schemaCode}]`);l.fail$data(r.or(r._`typeof ${S} != "object"`,r._`${S} instanceof RegExp`,r._`typeof ${S}.compare != "function"`,g(S)))}function m(){const d=$.schema,S=h.formats[d];if(!S||S===!0)return;if(typeof S!="object"||S instanceof RegExp||typeof S.compare!="function")throw new Error(`"${p}": format "${d}" does not define "compare" function`);const I=c.scopeValue("formats",{key:d,ref:S,code:f.code.formats?r._`${f.code.formats}${r.getProperty(d)}`:void 0});l.fail$data(g(I))}function g(d){return r._`${d}.compare(${a}, ${u}) ${s[p].fail} 0`}},dependencies:["format"]};const o=l=>(l.addKeyword(e.formatLimitDefinition),l);e.default=o})(al);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=ol,n=al,s=Z,i=new s.Name("fullFormats"),o=new s.Name("fastFormats"),l=(a,u={keywords:!0})=>{if(Array.isArray(u))return c(a,u,r.fullFormats,i),a;const[p,v]=u.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,i],f=u.formats||r.formatNames;return c(a,f,p,v),u.keywords&&n.default(a),a};l.get=(a,u="full")=>{const v=(u==="fast"?r.fastFormats:r.fullFormats)[a];if(!v)throw new Error(`Unknown format "${a}"`);return v};function c(a,u,p,v){var f,h;(f=(h=a.opts.code).formats)!==null&&f!==void 0||(h.formats=s._`require("ajv-formats/dist/formats").${v}`);for(const $ of u)a.addFormat($,p[$])}e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l})(us,us.exports);var I0=us.exports;const O0=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const s=Object.getOwnPropertyDescriptor(e,r),i=Object.getOwnPropertyDescriptor(t,r);!P0(s,i)&&n||Object.defineProperty(e,r,i)},P0=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},T0=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},R0=(e,t)=>`/* Wrapped ${e}*/
${t}`,b0=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),D0=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),C0=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,s=R0.bind(null,n,t.toString());Object.defineProperty(s,"name",D0),Object.defineProperty(e,"toString",{...b0,value:s})},L0=(e,t,{ignoreNonConfigurable:r=!1}={})=>{const{name:n}=e;for(const s of Reflect.ownKeys(t))O0(e,t,s,r);return T0(e,t),C0(e,t,n),e};var A0=L0;const F0=A0;var j0=(e,t={})=>{if(typeof e!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:r=0,before:n=!1,after:s=!0}=t;if(!n&&!s)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let i,o;const l=function(...c){const a=this,u=()=>{i=void 0,s&&(o=e.apply(a,c))},p=n&&!i;return clearTimeout(i),i=setTimeout(u,r),p&&(o=e.apply(a,c)),o};return F0(l,e),l.cancel=()=>{i&&(clearTimeout(i),i=void 0)},l},fs={exports:{}};const k0="2.0.0",cl=256,M0=Number.MAX_SAFE_INTEGER||9007199254740991,U0=16,z0=cl-6,x0=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var dn={MAX_LENGTH:cl,MAX_SAFE_COMPONENT_LENGTH:U0,MAX_SAFE_BUILD_LENGTH:z0,MAX_SAFE_INTEGER:M0,RELEASE_TYPES:x0,SEMVER_SPEC_VERSION:k0,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const V0=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var hn=V0;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=dn,i=hn;t=e.exports={};const o=t.re=[],l=t.safeRe=[],c=t.src=[],a=t.t={};let u=0;const p="[a-zA-Z0-9-]",v=[["\\s",1],["\\d",s],[p,n]],f=$=>{for(const[y,m]of v)$=$.split(`${y}*`).join(`${y}{0,${m}}`).split(`${y}+`).join(`${y}{1,${m}}`);return $},h=($,y,m)=>{const g=f(y),d=u++;i($,d,y),a[$]=d,c[d]=y,o[d]=new RegExp(y,m?"g":void 0),l[d]=new RegExp(g,m?"g":void 0)};h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","\\d+"),h("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),h("MAINVERSION",`(${c[a.NUMERICIDENTIFIER]})\\.(${c[a.NUMERICIDENTIFIER]})\\.(${c[a.NUMERICIDENTIFIER]})`),h("MAINVERSIONLOOSE",`(${c[a.NUMERICIDENTIFIERLOOSE]})\\.(${c[a.NUMERICIDENTIFIERLOOSE]})\\.(${c[a.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASEIDENTIFIER",`(?:${c[a.NUMERICIDENTIFIER]}|${c[a.NONNUMERICIDENTIFIER]})`),h("PRERELEASEIDENTIFIERLOOSE",`(?:${c[a.NUMERICIDENTIFIERLOOSE]}|${c[a.NONNUMERICIDENTIFIER]})`),h("PRERELEASE",`(?:-(${c[a.PRERELEASEIDENTIFIER]}(?:\\.${c[a.PRERELEASEIDENTIFIER]})*))`),h("PRERELEASELOOSE",`(?:-?(${c[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[a.PRERELEASEIDENTIFIERLOOSE]})*))`),h("BUILDIDENTIFIER",`${p}+`),h("BUILD",`(?:\\+(${c[a.BUILDIDENTIFIER]}(?:\\.${c[a.BUILDIDENTIFIER]})*))`),h("FULLPLAIN",`v?${c[a.MAINVERSION]}${c[a.PRERELEASE]}?${c[a.BUILD]}?`),h("FULL",`^${c[a.FULLPLAIN]}$`),h("LOOSEPLAIN",`[v=\\s]*${c[a.MAINVERSIONLOOSE]}${c[a.PRERELEASELOOSE]}?${c[a.BUILD]}?`),h("LOOSE",`^${c[a.LOOSEPLAIN]}$`),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE",`${c[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),h("XRANGEIDENTIFIER",`${c[a.NUMERICIDENTIFIER]}|x|X|\\*`),h("XRANGEPLAIN",`[v=\\s]*(${c[a.XRANGEIDENTIFIER]})(?:\\.(${c[a.XRANGEIDENTIFIER]})(?:\\.(${c[a.XRANGEIDENTIFIER]})(?:${c[a.PRERELEASE]})?${c[a.BUILD]}?)?)?`),h("XRANGEPLAINLOOSE",`[v=\\s]*(${c[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[a.XRANGEIDENTIFIERLOOSE]})(?:${c[a.PRERELEASELOOSE]})?${c[a.BUILD]}?)?)?`),h("XRANGE",`^${c[a.GTLT]}\\s*${c[a.XRANGEPLAIN]}$`),h("XRANGELOOSE",`^${c[a.GTLT]}\\s*${c[a.XRANGEPLAINLOOSE]}$`),h("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),h("COERCE",`${c[a.COERCEPLAIN]}(?:$|[^\\d])`),h("COERCEFULL",c[a.COERCEPLAIN]+`(?:${c[a.PRERELEASE]})?(?:${c[a.BUILD]})?(?:$|[^\\d])`),h("COERCERTL",c[a.COERCE],!0),h("COERCERTLFULL",c[a.COERCEFULL],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM",`(\\s*)${c[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",h("TILDE",`^${c[a.LONETILDE]}${c[a.XRANGEPLAIN]}$`),h("TILDELOOSE",`^${c[a.LONETILDE]}${c[a.XRANGEPLAINLOOSE]}$`),h("LONECARET","(?:\\^)"),h("CARETTRIM",`(\\s*)${c[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",h("CARET",`^${c[a.LONECARET]}${c[a.XRANGEPLAIN]}$`),h("CARETLOOSE",`^${c[a.LONECARET]}${c[a.XRANGEPLAINLOOSE]}$`),h("COMPARATORLOOSE",`^${c[a.GTLT]}\\s*(${c[a.LOOSEPLAIN]})$|^$`),h("COMPARATOR",`^${c[a.GTLT]}\\s*(${c[a.FULLPLAIN]})$|^$`),h("COMPARATORTRIM",`(\\s*)${c[a.GTLT]}\\s*(${c[a.LOOSEPLAIN]}|${c[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE",`^\\s*(${c[a.XRANGEPLAIN]})\\s+-\\s+(${c[a.XRANGEPLAIN]})\\s*$`),h("HYPHENRANGELOOSE",`^\\s*(${c[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[a.XRANGEPLAINLOOSE]})\\s*$`),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(fs,fs.exports);var Sr=fs.exports;const G0=Object.freeze({loose:!0}),H0=Object.freeze({}),B0=e=>e?typeof e!="object"?G0:e:H0;var Oi=B0;const To=/^[0-9]+$/,ll=(e,t)=>{const r=To.test(e),n=To.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},q0=(e,t)=>ll(t,e);var ul={compareIdentifiers:ll,rcompareIdentifiers:q0};const jr=hn,{MAX_LENGTH:Ro,MAX_SAFE_INTEGER:kr}=dn,{safeRe:bo,t:Do}=Sr,K0=Oi,{compareIdentifiers:At}=ul;let W0=class Ze{constructor(t,r){if(r=K0(r),t instanceof Ze){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Ro)throw new TypeError(`version is longer than ${Ro} characters`);jr("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?bo[Do.LOOSE]:bo[Do.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>kr||this.major<0)throw new TypeError("Invalid major version");if(this.minor>kr||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>kr||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<kr)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(jr("SemVer.compare",this.version,this.options,t),!(t instanceof Ze)){if(typeof t=="string"&&t===this.version)return 0;t=new Ze(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Ze||(t=new Ze(t,this.options)),At(this.major,t.major)||At(this.minor,t.minor)||At(this.patch,t.patch)}comparePre(t){if(t instanceof Ze||(t=new Ze(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=t.prerelease[r];if(jr("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return At(n,s)}while(++r)}compareBuild(t){t instanceof Ze||(t=new Ze(t,this.options));let r=0;do{const n=this.build[r],s=t.build[r];if(jr("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return At(n,s)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),At(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var je=W0;const Co=je,X0=(e,t,r=!1)=>{if(e instanceof Co)return e;try{return new Co(e,t)}catch(n){if(!r)return null;throw n}};var Qt=X0;const Z0=Qt,J0=(e,t)=>{const r=Z0(e,t);return r?r.version:null};var Y0=J0;const Q0=Qt,eE=(e,t)=>{const r=Q0(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var tE=eE;const Lo=je,rE=(e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new Lo(e instanceof Lo?e.version:e,r).inc(t,n,s).version}catch{return null}};var nE=rE;const Ao=Qt,sE=(e,t)=>{const r=Ao(e,null,!0),n=Ao(t,null,!0),s=r.compare(n);if(s===0)return null;const i=s>0,o=i?r:n,l=i?n:r,c=!!o.prerelease.length;if(!!l.prerelease.length&&!c)return!l.patch&&!l.minor?"major":o.patch?"patch":o.minor?"minor":"major";const u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};var iE=sE;const oE=je,aE=(e,t)=>new oE(e,t).major;var cE=aE;const lE=je,uE=(e,t)=>new lE(e,t).minor;var fE=uE;const dE=je,hE=(e,t)=>new dE(e,t).patch;var mE=hE;const pE=Qt,yE=(e,t)=>{const r=pE(e,t);return r&&r.prerelease.length?r.prerelease:null};var EE=yE;const Fo=je,$E=(e,t,r)=>new Fo(e,r).compare(new Fo(t,r));var We=$E;const gE=We,_E=(e,t,r)=>gE(t,e,r);var vE=_E;const wE=We,SE=(e,t)=>wE(e,t,!0);var NE=SE;const jo=je,IE=(e,t,r)=>{const n=new jo(e,r),s=new jo(t,r);return n.compare(s)||n.compareBuild(s)};var Pi=IE;const OE=Pi,PE=(e,t)=>e.sort((r,n)=>OE(r,n,t));var TE=PE;const RE=Pi,bE=(e,t)=>e.sort((r,n)=>RE(n,r,t));var DE=bE;const CE=We,LE=(e,t,r)=>CE(e,t,r)>0;var mn=LE;const AE=We,FE=(e,t,r)=>AE(e,t,r)<0;var Ti=FE;const jE=We,kE=(e,t,r)=>jE(e,t,r)===0;var fl=kE;const ME=We,UE=(e,t,r)=>ME(e,t,r)!==0;var dl=UE;const zE=We,xE=(e,t,r)=>zE(e,t,r)>=0;var Ri=xE;const VE=We,GE=(e,t,r)=>VE(e,t,r)<=0;var bi=GE;const HE=fl,BE=dl,qE=mn,KE=Ri,WE=Ti,XE=bi,ZE=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return HE(e,r,n);case"!=":return BE(e,r,n);case">":return qE(e,r,n);case">=":return KE(e,r,n);case"<":return WE(e,r,n);case"<=":return XE(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var hl=ZE;const JE=je,YE=Qt,{safeRe:Mr,t:Ur}=Sr,QE=(e,t)=>{if(e instanceof JE)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?Mr[Ur.COERCEFULL]:Mr[Ur.COERCE]);else{const c=t.includePrerelease?Mr[Ur.COERCERTLFULL]:Mr[Ur.COERCERTL];let a;for(;(a=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||a.index+a[0].length!==r.index+r[0].length)&&(r=a),c.lastIndex=a.index+a[1].length+a[2].length;c.lastIndex=-1}if(r===null)return null;const n=r[2],s=r[3]||"0",i=r[4]||"0",o=t.includePrerelease&&r[5]?`-${r[5]}`:"",l=t.includePrerelease&&r[6]?`+${r[6]}`:"";return YE(`${n}.${s}.${i}${o}${l}`,t)};var e$=QE;class t${constructor(){this.max=1e3,this.map=new Map}get(t){const r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(t,r)}return this}}var r$=t$,Bn,ko;function Xe(){if(ko)return Bn;ko=1;const e=/\s+/g;class t{constructor(C,M){if(M=s(M),C instanceof t)return C.loose===!!M.loose&&C.includePrerelease===!!M.includePrerelease?C:new t(C.raw,M);if(C instanceof i)return this.raw=C.value,this.set=[[C]],this.formatted=void 0,this;if(this.options=M,this.loose=!!M.loose,this.includePrerelease=!!M.includePrerelease,this.raw=C.trim().replace(e," "),this.set=this.raw.split("||").map(A=>this.parseRange(A.trim())).filter(A=>A.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const A=this.set[0];if(this.set=this.set.filter(P=>!$(P[0])),this.set.length===0)this.set=[A];else if(this.set.length>1){for(const P of this.set)if(P.length===1&&y(P[0])){this.set=[P];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let C=0;C<this.set.length;C++){C>0&&(this.formatted+="||");const M=this.set[C];for(let A=0;A<M.length;A++)A>0&&(this.formatted+=" "),this.formatted+=M[A].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(C){const A=((this.options.includePrerelease&&f)|(this.options.loose&&h))+":"+C,P=n.get(A);if(P)return P;const R=this.options.loose,N=R?c[a.HYPHENRANGELOOSE]:c[a.HYPHENRANGE];C=C.replace(N,V(this.options.includePrerelease)),o("hyphen replace",C),C=C.replace(c[a.COMPARATORTRIM],u),o("comparator trim",C),C=C.replace(c[a.TILDETRIM],p),o("tilde trim",C),C=C.replace(c[a.CARETTRIM],v),o("caret trim",C);let w=C.split(" ").map(_=>g(_,this.options)).join(" ").split(/\s+/).map(_=>U(_,this.options));R&&(w=w.filter(_=>(o("loose invalid filter",_,this.options),!!_.match(c[a.COMPARATORLOOSE])))),o("range list",w);const T=new Map,O=w.map(_=>new i(_,this.options));for(const _ of O){if($(_))return[_];T.set(_.value,_)}T.size>1&&T.has("")&&T.delete("");const E=[...T.values()];return n.set(A,E),E}intersects(C,M){if(!(C instanceof t))throw new TypeError("a Range is required");return this.set.some(A=>m(A,M)&&C.set.some(P=>m(P,M)&&A.every(R=>P.every(N=>R.intersects(N,M)))))}test(C){if(!C)return!1;if(typeof C=="string")try{C=new l(C,this.options)}catch{return!1}for(let M=0;M<this.set.length;M++)if(W(this.set[M],C,this.options))return!0;return!1}}Bn=t;const r=r$,n=new r,s=Oi,i=pn(),o=hn,l=je,{safeRe:c,t:a,comparatorTrimReplace:u,tildeTrimReplace:p,caretTrimReplace:v}=Sr,{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:h}=dn,$=L=>L.value==="<0.0.0-0",y=L=>L.value==="",m=(L,C)=>{let M=!0;const A=L.slice();let P=A.pop();for(;M&&A.length;)M=A.every(R=>P.intersects(R,C)),P=A.pop();return M},g=(L,C)=>(o("comp",L,C),L=F(L,C),o("caret",L),L=S(L,C),o("tildes",L),L=q(L,C),o("xrange",L),L=j(L,C),o("stars",L),L),d=L=>!L||L.toLowerCase()==="x"||L==="*",S=(L,C)=>L.trim().split(/\s+/).map(M=>I(M,C)).join(" "),I=(L,C)=>{const M=C.loose?c[a.TILDELOOSE]:c[a.TILDE];return L.replace(M,(A,P,R,N,w)=>{o("tilde",L,A,P,R,N,w);let T;return d(P)?T="":d(R)?T=`>=${P}.0.0 <${+P+1}.0.0-0`:d(N)?T=`>=${P}.${R}.0 <${P}.${+R+1}.0-0`:w?(o("replaceTilde pr",w),T=`>=${P}.${R}.${N}-${w} <${P}.${+R+1}.0-0`):T=`>=${P}.${R}.${N} <${P}.${+R+1}.0-0`,o("tilde return",T),T})},F=(L,C)=>L.trim().split(/\s+/).map(M=>k(M,C)).join(" "),k=(L,C)=>{o("caret",L,C);const M=C.loose?c[a.CARETLOOSE]:c[a.CARET],A=C.includePrerelease?"-0":"";return L.replace(M,(P,R,N,w,T)=>{o("caret",L,P,R,N,w,T);let O;return d(R)?O="":d(N)?O=`>=${R}.0.0${A} <${+R+1}.0.0-0`:d(w)?R==="0"?O=`>=${R}.${N}.0${A} <${R}.${+N+1}.0-0`:O=`>=${R}.${N}.0${A} <${+R+1}.0.0-0`:T?(o("replaceCaret pr",T),R==="0"?N==="0"?O=`>=${R}.${N}.${w}-${T} <${R}.${N}.${+w+1}-0`:O=`>=${R}.${N}.${w}-${T} <${R}.${+N+1}.0-0`:O=`>=${R}.${N}.${w}-${T} <${+R+1}.0.0-0`):(o("no pr"),R==="0"?N==="0"?O=`>=${R}.${N}.${w}${A} <${R}.${N}.${+w+1}-0`:O=`>=${R}.${N}.${w}${A} <${R}.${+N+1}.0-0`:O=`>=${R}.${N}.${w} <${+R+1}.0.0-0`),o("caret return",O),O})},q=(L,C)=>(o("replaceXRanges",L,C),L.split(/\s+/).map(M=>b(M,C)).join(" ")),b=(L,C)=>{L=L.trim();const M=C.loose?c[a.XRANGELOOSE]:c[a.XRANGE];return L.replace(M,(A,P,R,N,w,T)=>{o("xRange",L,A,P,R,N,w,T);const O=d(R),E=O||d(N),_=E||d(w),D=_;return P==="="&&D&&(P=""),T=C.includePrerelease?"-0":"",O?P===">"||P==="<"?A="<0.0.0-0":A="*":P&&D?(E&&(N=0),w=0,P===">"?(P=">=",E?(R=+R+1,N=0,w=0):(N=+N+1,w=0)):P==="<="&&(P="<",E?R=+R+1:N=+N+1),P==="<"&&(T="-0"),A=`${P+R}.${N}.${w}${T}`):E?A=`>=${R}.0.0${T} <${+R+1}.0.0-0`:_&&(A=`>=${R}.${N}.0${T} <${R}.${+N+1}.0-0`),o("xRange return",A),A})},j=(L,C)=>(o("replaceStars",L,C),L.trim().replace(c[a.STAR],"")),U=(L,C)=>(o("replaceGTE0",L,C),L.trim().replace(c[C.includePrerelease?a.GTE0PRE:a.GTE0],"")),V=L=>(C,M,A,P,R,N,w,T,O,E,_,D)=>(d(A)?M="":d(P)?M=`>=${A}.0.0${L?"-0":""}`:d(R)?M=`>=${A}.${P}.0${L?"-0":""}`:N?M=`>=${M}`:M=`>=${M}${L?"-0":""}`,d(O)?T="":d(E)?T=`<${+O+1}.0.0-0`:d(_)?T=`<${O}.${+E+1}.0-0`:D?T=`<=${O}.${E}.${_}-${D}`:L?T=`<${O}.${E}.${+_+1}-0`:T=`<=${T}`,`${M} ${T}`.trim()),W=(L,C,M)=>{for(let A=0;A<L.length;A++)if(!L[A].test(C))return!1;if(C.prerelease.length&&!M.includePrerelease){for(let A=0;A<L.length;A++)if(o(L[A].semver),L[A].semver!==i.ANY&&L[A].semver.prerelease.length>0){const P=L[A].semver;if(P.major===C.major&&P.minor===C.minor&&P.patch===C.patch)return!0}return!1}return!0};return Bn}var qn,Mo;function pn(){if(Mo)return qn;Mo=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(u,p){if(p=r(p),u instanceof t){if(u.loose===!!p.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),o("comparator",u,p),this.options=p,this.loose=!!p.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(u){const p=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],v=u.match(p);if(!v)throw new TypeError(`Invalid comparator: ${u}`);this.operator=v[1]!==void 0?v[1]:"",this.operator==="="&&(this.operator=""),v[2]?this.semver=new l(v[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(o("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new l(u,this.options)}catch{return!1}return i(u,this.operator,this.semver,this.options)}intersects(u,p){if(!(u instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(u.value,p).test(this.value):u.operator===""?u.value===""?!0:new c(this.value,p).test(u.semver):(p=r(p),p.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||i(this.semver,"<",u.semver,p)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||i(this.semver,">",u.semver,p)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}qn=t;const r=Oi,{safeRe:n,t:s}=Sr,i=hl,o=hn,l=je,c=Xe();return qn}const n$=Xe(),s$=(e,t,r)=>{try{t=new n$(t,r)}catch{return!1}return t.test(e)};var yn=s$;const i$=Xe(),o$=(e,t)=>new i$(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var a$=o$;const c$=je,l$=Xe(),u$=(e,t,r)=>{let n=null,s=null,i=null;try{i=new l$(t,r)}catch{return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new c$(n,r))}),n};var f$=u$;const d$=je,h$=Xe(),m$=(e,t,r)=>{let n=null,s=null,i=null;try{i=new h$(t,r)}catch{return null}return e.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new d$(n,r))}),n};var p$=m$;const Kn=je,y$=Xe(),Uo=mn,E$=(e,t)=>{e=new y$(e,t);let r=new Kn("0.0.0");if(e.test(r)||(r=new Kn("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const s=e.set[n];let i=null;s.forEach(o=>{const l=new Kn(o.semver.version);switch(o.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!i||Uo(l,i))&&(i=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!r||Uo(r,i))&&(r=i)}return r&&e.test(r)?r:null};var $$=E$;const g$=Xe(),_$=(e,t)=>{try{return new g$(e,t).range||"*"}catch{return null}};var v$=_$;const w$=je,ml=pn(),{ANY:S$}=ml,N$=Xe(),I$=yn,zo=mn,xo=Ti,O$=bi,P$=Ri,T$=(e,t,r,n)=>{e=new w$(e,n),t=new N$(t,n);let s,i,o,l,c;switch(r){case">":s=zo,i=O$,o=xo,l=">",c=">=";break;case"<":s=xo,i=P$,o=zo,l="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(I$(e,t,n))return!1;for(let a=0;a<t.set.length;++a){const u=t.set[a];let p=null,v=null;if(u.forEach(f=>{f.semver===S$&&(f=new ml(">=0.0.0")),p=p||f,v=v||f,s(f.semver,p.semver,n)?p=f:o(f.semver,v.semver,n)&&(v=f)}),p.operator===l||p.operator===c||(!v.operator||v.operator===l)&&i(e,v.semver))return!1;if(v.operator===c&&o(e,v.semver))return!1}return!0};var Di=T$;const R$=Di,b$=(e,t,r)=>R$(e,t,">",r);var D$=b$;const C$=Di,L$=(e,t,r)=>C$(e,t,"<",r);var A$=L$;const Vo=Xe(),F$=(e,t,r)=>(e=new Vo(e,r),t=new Vo(t,r),e.intersects(t,r));var j$=F$;const k$=yn,M$=We;var U$=(e,t,r)=>{const n=[];let s=null,i=null;const o=e.sort((u,p)=>M$(u,p,r));for(const u of o)k$(u,t,r)?(i=u,s||(s=u)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);const l=[];for(const[u,p]of n)u===p?l.push(u):!p&&u===o[0]?l.push("*"):p?u===o[0]?l.push(`<=${p}`):l.push(`${u} - ${p}`):l.push(`>=${u}`);const c=l.join(" || "),a=typeof t.raw=="string"?t.raw:String(t);return c.length<a.length?c:t};const Go=Xe(),Ci=pn(),{ANY:Wn}=Ci,sr=yn,Li=We,z$=(e,t,r={})=>{if(e===t)return!0;e=new Go(e,r),t=new Go(t,r);let n=!1;e:for(const s of e.set){for(const i of t.set){const o=V$(s,i,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},x$=[new Ci(">=0.0.0-0")],Ho=[new Ci(">=0.0.0")],V$=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Wn){if(t.length===1&&t[0].semver===Wn)return!0;r.includePrerelease?e=x$:e=Ho}if(t.length===1&&t[0].semver===Wn){if(r.includePrerelease)return!0;t=Ho}const n=new Set;let s,i;for(const f of e)f.operator===">"||f.operator===">="?s=Bo(s,f,r):f.operator==="<"||f.operator==="<="?i=qo(i,f,r):n.add(f.semver);if(n.size>1)return null;let o;if(s&&i){if(o=Li(s.semver,i.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(const f of n){if(s&&!sr(f,String(s),r)||i&&!sr(f,String(i),r))return null;for(const h of t)if(!sr(f,String(h),r))return!1;return!0}let l,c,a,u,p=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,v=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;p&&p.prerelease.length===1&&i.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(const f of t){if(u=u||f.operator===">"||f.operator===">=",a=a||f.operator==="<"||f.operator==="<=",s){if(v&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===v.major&&f.semver.minor===v.minor&&f.semver.patch===v.patch&&(v=!1),f.operator===">"||f.operator===">="){if(l=Bo(s,f,r),l===f&&l!==s)return!1}else if(s.operator===">="&&!sr(s.semver,String(f),r))return!1}if(i){if(p&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===p.major&&f.semver.minor===p.minor&&f.semver.patch===p.patch&&(p=!1),f.operator==="<"||f.operator==="<="){if(c=qo(i,f,r),c===f&&c!==i)return!1}else if(i.operator==="<="&&!sr(i.semver,String(f),r))return!1}if(!f.operator&&(i||s)&&o!==0)return!1}return!(s&&a&&!i&&o!==0||i&&u&&!s&&o!==0||v||p)},Bo=(e,t,r)=>{if(!e)return t;const n=Li(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},qo=(e,t,r)=>{if(!e)return t;const n=Li(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var G$=z$;const Xn=Sr,Ko=dn,H$=je,Wo=ul,B$=Qt,q$=Y0,K$=tE,W$=nE,X$=iE,Z$=cE,J$=fE,Y$=mE,Q$=EE,eg=We,tg=vE,rg=NE,ng=Pi,sg=TE,ig=DE,og=mn,ag=Ti,cg=fl,lg=dl,ug=Ri,fg=bi,dg=hl,hg=e$,mg=pn(),pg=Xe(),yg=yn,Eg=a$,$g=f$,gg=p$,_g=$$,vg=v$,wg=Di,Sg=D$,Ng=A$,Ig=j$,Og=U$,Pg=G$;var Tg={parse:B$,valid:q$,clean:K$,inc:W$,diff:X$,major:Z$,minor:J$,patch:Y$,prerelease:Q$,compare:eg,rcompare:tg,compareLoose:rg,compareBuild:ng,sort:sg,rsort:ig,gt:og,lt:ag,eq:cg,neq:lg,gte:ug,lte:fg,cmp:dg,coerce:hg,Comparator:mg,Range:pg,satisfies:yg,toComparators:Eg,maxSatisfying:$g,minSatisfying:gg,minVersion:_g,validRange:vg,outside:wg,gtr:Sg,ltr:Ng,intersects:Ig,simplifyRange:Og,subset:Pg,SemVer:H$,re:Xn.re,src:Xn.src,tokens:Xn.t,SEMVER_SPEC_VERSION:Ko.SEMVER_SPEC_VERSION,RELEASE_TYPES:Ko.RELEASE_TYPES,compareIdentifiers:Wo.compareIdentifiers,rcompareIdentifiers:Wo.rcompareIdentifiers},En={exports:{}},Ai={exports:{}};const pl=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};Ai.exports=pl;Ai.exports.default=pl;var Rg=Ai.exports;const bg=Rg,en=new WeakMap,yl=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0;const s=e.displayName||e.name||"<anonymous>",i=function(...o){if(en.set(i,++n),n===1)r=e.apply(this,o),e=null;else if(t.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r};return bg(i,e),en.set(i,n),i};En.exports=yl;En.exports.default=yl;En.exports.callCount=e=>{if(!en.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return en.get(e)};var Dg=En.exports;(function(e,t){var r=It&&It.__classPrivateFieldSet||function(A,P,R,N,w){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!w)throw new TypeError("Private accessor was defined without a setter");if(typeof P=="function"?A!==P||!w:!P.has(A))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?w.call(A,R):w?w.value=R:P.set(A,R),R},n=It&&It.__classPrivateFieldGet||function(A,P,R,N){if(R==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof P=="function"?A!==P||!N:!P.has(A))throw new TypeError("Cannot read private member from an object whose class did not declare it");return R==="m"?N:R==="a"?N.call(A):N?N.value:P.get(A)},s,i,o,l,c,a;Object.defineProperty(t,"__esModule",{value:!0});const u=hs,p=Kt,v=pe,f=ca,h=aa,$=Nl,y=Jf,m=cd,g=dd,d=Qe,S=il,I=I0,F=j0,k=Tg,q=Dg,b="aes-256-cbc",j=()=>Object.create(null),U=A=>A!=null;let V="";try{delete require.cache[__filename],V=v.dirname((i=(s=e.parent)===null||s===void 0?void 0:s.filename)!==null&&i!==void 0?i:".")}catch{}const W=(A,P)=>{const R=new Set(["undefined","symbol","function"]),N=typeof P;if(R.has(N))throw new TypeError(`Setting a value of type \`${N}\` for key \`${A}\` is not allowed as it's not supported by JSON`)},L="__internal__",C=`${L}.migrations.version`;class M{constructor(P={}){var R;o.set(this,void 0),l.set(this,void 0),c.set(this,void 0),a.set(this,{}),this._deserialize=_=>JSON.parse(_),this._serialize=_=>JSON.stringify(_,void 0,"	");const N={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...P},w=q(()=>{const _=m.sync({cwd:V}),D=_&&JSON.parse(p.readFileSync(_,"utf8"));return D??{}});if(!N.cwd){if(N.projectName||(N.projectName=w().name),!N.projectName)throw new Error("Project name could not be inferred. Please specify the `projectName` option.");N.cwd=g(N.projectName,{suffix:N.projectSuffix}).config}if(r(this,c,N,"f"),N.schema){if(typeof N.schema!="object")throw new TypeError("The `schema` option must be an object.");const _=new S.default({allErrors:!0,useDefaults:!0});(0,I.default)(_);const D={type:"object",properties:N.schema};r(this,o,_.compile(D),"f");for(const[G,H]of Object.entries(N.schema))H?.default&&(n(this,a,"f")[G]=H.default)}N.defaults&&r(this,a,{...n(this,a,"f"),...N.defaults},"f"),N.serialize&&(this._serialize=N.serialize),N.deserialize&&(this._deserialize=N.deserialize),this.events=new $.EventEmitter,r(this,l,N.encryptionKey,"f");const T=N.fileExtension?`.${N.fileExtension}`:"";this.path=v.resolve(N.cwd,`${(R=N.configName)!==null&&R!==void 0?R:"config"}${T}`);const O=this.store,E=Object.assign(j(),N.defaults,O);this._validate(E);try{h.deepEqual(O,E)}catch{this.store=E}if(N.watch&&this._watch(),N.migrations){if(N.projectVersion||(N.projectVersion=w().version),!N.projectVersion)throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.");this._migrate(N.migrations,N.projectVersion,N.beforeEachMigration)}}get(P,R){if(n(this,c,"f").accessPropertiesByDotNotation)return this._get(P,R);const{store:N}=this;return P in N?N[P]:R}set(P,R){if(typeof P!="string"&&typeof P!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof P}`);if(typeof P!="object"&&R===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(P))throw new TypeError(`Please don't use the ${L} key, as it's used to manage this module internal operations.`);const{store:N}=this,w=(T,O)=>{W(T,O),n(this,c,"f").accessPropertiesByDotNotation?y.set(N,T,O):N[T]=O};if(typeof P=="object"){const T=P;for(const[O,E]of Object.entries(T))w(O,E)}else w(P,R);this.store=N}has(P){return n(this,c,"f").accessPropertiesByDotNotation?y.has(this.store,P):P in this.store}reset(...P){for(const R of P)U(n(this,a,"f")[R])&&this.set(R,n(this,a,"f")[R])}delete(P){const{store:R}=this;n(this,c,"f").accessPropertiesByDotNotation?y.delete(R,P):delete R[P],this.store=R}clear(){this.store=j();for(const P of Object.keys(n(this,a,"f")))this.reset(P)}onDidChange(P,R){if(typeof P!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof P}`);if(typeof R!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof R}`);return this._handleChange(()=>this.get(P),R)}onDidAnyChange(P){if(typeof P!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof P}`);return this._handleChange(()=>this.store,P)}get size(){return Object.keys(this.store).length}get store(){try{const P=p.readFileSync(this.path,n(this,l,"f")?null:"utf8"),R=this._encryptData(P),N=this._deserialize(R);return this._validate(N),Object.assign(j(),N)}catch(P){if(P?.code==="ENOENT")return this._ensureDirectory(),j();if(n(this,c,"f").clearInvalidConfig&&P.name==="SyntaxError")return j();throw P}}set store(P){this._ensureDirectory(),this._validate(P),this._write(P),this.events.emit("change")}*[(o=new WeakMap,l=new WeakMap,c=new WeakMap,a=new WeakMap,Symbol.iterator)](){for(const[P,R]of Object.entries(this.store))yield[P,R]}_encryptData(P){if(!n(this,l,"f"))return P.toString();try{if(n(this,l,"f"))try{if(P.slice(16,17).toString()===":"){const R=P.slice(0,16),N=f.pbkdf2Sync(n(this,l,"f"),R.toString(),1e4,32,"sha512"),w=f.createDecipheriv(b,N,R);P=Buffer.concat([w.update(Buffer.from(P.slice(17))),w.final()]).toString("utf8")}else{const R=f.createDecipher(b,n(this,l,"f"));P=Buffer.concat([R.update(Buffer.from(P)),R.final()]).toString("utf8")}}catch{}}catch{}return P.toString()}_handleChange(P,R){let N=P();const w=()=>{const T=N,O=P();(0,u.isDeepStrictEqual)(O,T)||(N=O,R.call(this,O,T))};return this.events.on("change",w),()=>this.events.removeListener("change",w)}_validate(P){if(!n(this,o,"f")||n(this,o,"f").call(this,P)||!n(this,o,"f").errors)return;const N=n(this,o,"f").errors.map(({instancePath:w,message:T=""})=>`\`${w.slice(1)}\` ${T}`);throw new Error("Config schema violation: "+N.join("; "))}_ensureDirectory(){p.mkdirSync(v.dirname(this.path),{recursive:!0})}_write(P){let R=this._serialize(P);if(n(this,l,"f")){const N=f.randomBytes(16),w=f.pbkdf2Sync(n(this,l,"f"),N.toString(),1e4,32,"sha512"),T=f.createCipheriv(b,w,N);R=Buffer.concat([N,Buffer.from(":"),T.update(Buffer.from(R)),T.final()])}if(process.env.SNAP)p.writeFileSync(this.path,R,{mode:n(this,c,"f").configFileMode});else try{d.writeFileSync(this.path,R,{mode:n(this,c,"f").configFileMode})}catch(N){if(N?.code==="EXDEV"){p.writeFileSync(this.path,R,{mode:n(this,c,"f").configFileMode});return}throw N}}_watch(){this._ensureDirectory(),p.existsSync(this.path)||this._write(j()),process.platform==="win32"?p.watch(this.path,{persistent:!1},F(()=>{this.events.emit("change")},{wait:100})):p.watchFile(this.path,{persistent:!1},F(()=>{this.events.emit("change")},{wait:5e3}))}_migrate(P,R,N){let w=this._get(C,"0.0.0");const T=Object.keys(P).filter(E=>this._shouldPerformMigration(E,w,R));let O={...this.store};for(const E of T)try{N&&N(this,{fromVersion:w,toVersion:E,finalVersion:R,versions:T});const _=P[E];_(this),this._set(C,E),w=E,O={...this.store}}catch(_){throw this.store=O,new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${_}`)}(this._isVersionInRangeFormat(w)||!k.eq(w,R))&&this._set(C,R)}_containsReservedKey(P){return typeof P=="object"&&Object.keys(P)[0]===L?!0:typeof P!="string"?!1:n(this,c,"f").accessPropertiesByDotNotation?!!P.startsWith(`${L}.`):!1}_isVersionInRangeFormat(P){return k.clean(P)===null}_shouldPerformMigration(P,R,N){return this._isVersionInRangeFormat(P)?R!=="0.0.0"&&k.satisfies(R,P)?!1:k.satisfies(N,P):!(k.lte(P,R)||k.gt(P,N))}_get(P,R){return y.get(this.store,P,R)}_set(P,R){const{store:N}=this;y.set(N,P,R),this.store=N}}t.default=M,e.exports=M,e.exports.default=M})(Qn,Qn.exports);var Cg=Qn.exports;const Xo=pe,{app:qr,ipcMain:ds,ipcRenderer:Zo,shell:Lg}=Y,Ag=Cg;let Jo=!1;const Yo=()=>{if(!ds||!qr)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const e={defaultCwd:qr.getPath("userData"),appVersion:qr.getVersion()};return Jo||(ds.on("electron-store-get-data",t=>{t.returnValue=e}),Jo=!0),e};class Fg extends Ag{constructor(t){let r,n;if(Zo){const s=Zo.sendSync("electron-store-get-data");if(!s)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=s)}else ds&&qr&&({defaultCwd:r,appVersion:n}=Yo());t={name:"config",...t},t.projectVersion||(t.projectVersion=n),t.cwd?t.cwd=Xo.isAbsolute(t.cwd)?t.cwd:Xo.join(r,t.cwd):t.cwd=r,t.configName=t.name,delete t.name,super(t)}static initRenderer(){Yo()}async openInEditor(){const t=await Lg.openPath(this.path);if(t)throw new Error(t)}}var jg=Fg;const Qo=ua(jg);var er={exports:{}},El={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24},$n={};(function(e){const t={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",DESCRIPTOR_NOT_EXIST:"No descriptor present",DESCRIPTOR_UNKNOWN:"Unknown descriptor format",DESCRIPTOR_FAULTY:"Descriptor data is malformed",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed {0}",FILE_IN_THE_WAY:"There is a file in the way: {0}",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",DISK_ENTRY_TOO_LARGE:"Number of disk entries is too large",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:'File not found: "{0}"',NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found",INVALID_PASS_PARAM:"Incompatible password parameter",WRONG_PASSWORD:"Wrong Password",COMMENT_TOO_LONG:"Comment is too long",EXTRA_FIELD_PARSE_ERROR:"Extra field parsing error"};function r(n){return function(...s){return s.length&&(n=n.replace(/\{(\d)\}/g,(i,o)=>s[o]||"")),new Error("ADM-ZIP: "+n)}}for(const n of Object.keys(t))e[n]=r(t[n])})($n);const kg=Kt,Ee=pe,ea=El,Mg=$n,Ug=typeof process=="object"&&process.platform==="win32",ta=e=>typeof e=="object"&&e!==null,$l=new Uint32Array(256).map((e,t)=>{for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t>>>=1;return t>>>0});function me(e){this.sep=Ee.sep,this.fs=kg,ta(e)&&ta(e.fs)&&typeof e.fs.statSync=="function"&&(this.fs=e.fs)}var zg=me;me.prototype.makeDir=function(e){const t=this;function r(n){let s=n.split(t.sep)[0];n.split(t.sep).forEach(function(i){if(!(!i||i.substr(-1,1)===":")){s+=t.sep+i;var o;try{o=t.fs.statSync(s)}catch{t.fs.mkdirSync(s)}if(o&&o.isFile())throw Mg.FILE_IN_THE_WAY(`"${s}"`)}})}r(e)};me.prototype.writeFileTo=function(e,t,r,n){const s=this;if(s.fs.existsSync(e)){if(!r)return!1;var i=s.fs.statSync(e);if(i.isDirectory())return!1}var o=Ee.dirname(e);s.fs.existsSync(o)||s.makeDir(o);var l;try{l=s.fs.openSync(e,"w",438)}catch{s.fs.chmodSync(e,438),l=s.fs.openSync(e,"w",438)}if(l)try{s.fs.writeSync(l,t,0,t.length,0)}finally{s.fs.closeSync(l)}return s.fs.chmodSync(e,n||438),!0};me.prototype.writeFileToAsync=function(e,t,r,n,s){typeof n=="function"&&(s=n,n=void 0);const i=this;i.fs.exists(e,function(o){if(o&&!r)return s(!1);i.fs.stat(e,function(l,c){if(o&&c.isDirectory())return s(!1);var a=Ee.dirname(e);i.fs.exists(a,function(u){u||i.makeDir(a),i.fs.open(e,"w",438,function(p,v){p?i.fs.chmod(e,438,function(){i.fs.open(e,"w",438,function(f,h){i.fs.write(h,t,0,t.length,0,function(){i.fs.close(h,function(){i.fs.chmod(e,n||438,function(){s(!0)})})})})}):v?i.fs.write(v,t,0,t.length,0,function(){i.fs.close(v,function(){i.fs.chmod(e,n||438,function(){s(!0)})})}):i.fs.chmod(e,n||438,function(){s(!0)})})})})})};me.prototype.findFiles=function(e){const t=this;function r(n,s,i){let o=[];return t.fs.readdirSync(n).forEach(function(l){const c=Ee.join(n,l),a=t.fs.statSync(c);o.push(Ee.normalize(c)+(a.isDirectory()?t.sep:"")),a.isDirectory()&&i&&(o=o.concat(r(c,s,i)))}),o}return r(e,void 0,!0)};me.prototype.findFilesAsync=function(e,t){const r=this;let n=[];r.fs.readdir(e,function(s,i){if(s)return t(s);let o=i.length;if(!o)return t(null,n);i.forEach(function(l){l=Ee.join(e,l),r.fs.stat(l,function(c,a){if(c)return t(c);a&&(n.push(Ee.normalize(l)+(a.isDirectory()?r.sep:"")),a.isDirectory()?r.findFilesAsync(l,function(u,p){if(u)return t(u);n=n.concat(p),--o||t(null,n)}):--o||t(null,n))})})})};me.prototype.getAttributes=function(){};me.prototype.setAttributes=function(){};me.crc32update=function(e,t){return $l[(e^t)&255]^e>>>8};me.crc32=function(e){typeof e=="string"&&(e=Buffer.from(e,"utf8"));let t=e.length,r=-1;for(let n=0;n<t;)r=me.crc32update(r,e[n++]);return~r>>>0};me.methodToString=function(e){switch(e){case ea.STORED:return"STORED ("+e+")";case ea.DEFLATED:return"DEFLATED ("+e+")";default:return"UNSUPPORTED ("+e+")"}};me.canonical=function(e){if(!e)return"";const t=Ee.posix.normalize("/"+e.split("\\").join("/"));return Ee.join(".",t)};me.zipnamefix=function(e){if(!e)return"";const t=Ee.posix.normalize("/"+e.split("\\").join("/"));return Ee.posix.join(".",t)};me.findLast=function(e,t){if(!Array.isArray(e))throw new TypeError("arr is not array");const r=e.length>>>0;for(let n=r-1;n>=0;n--)if(t(e[n],n,e))return e[n]};me.sanitize=function(e,t){e=Ee.resolve(Ee.normalize(e));for(var r=t.split("/"),n=0,s=r.length;n<s;n++){var i=Ee.normalize(Ee.join(e,r.slice(n,s).join(Ee.sep)));if(i.indexOf(e)===0)return i}return Ee.normalize(Ee.join(e,Ee.basename(t)))};me.toBuffer=function(t,r){return Buffer.isBuffer(t)?t:t instanceof Uint8Array?Buffer.from(t):typeof t=="string"?r(t):Buffer.alloc(0)};me.readBigUInt64LE=function(e,t){var r=Buffer.from(e.slice(t,t+8));return r.swap64(),parseInt(`0x${r.toString("hex")}`)};me.fromDOS2Date=function(e){return new Date((e>>25&127)+1980,Math.max((e>>21&15)-1,0),Math.max(e>>16&31,1),e>>11&31,e>>5&63,(e&31)<<1)};me.fromDate2DOS=function(e){let t=0,r=0;return e.getFullYear()>1979&&(t=(e.getFullYear()-1980&127)<<9|e.getMonth()+1<<5|e.getDate(),r=e.getHours()<<11|e.getMinutes()<<5|e.getSeconds()>>1),t<<16|r};me.isWin=Ug;me.crcTable=$l;const xg=pe;var Vg=function(e,{fs:t}){var r=e||"",n=i(),s=null;function i(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return r&&t.existsSync(r)?(s=t.statSync(r),n.directory=s.isDirectory(),n.mtime=s.mtime,n.atime=s.atime,n.executable=(73&s.mode)!==0,n.readonly=(128&s.mode)===0,n.hidden=xg.basename(r)[0]==="."):console.warn("Invalid path: "+r),{get directory(){return n.directory},get readOnly(){return n.readonly},get hidden(){return n.hidden},get mtime(){return n.mtime},get atime(){return n.atime},get executable(){return n.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:r,isDirectory:n.directory,isReadOnly:n.readonly,isHidden:n.hidden,isExecutable:n.executable,mTime:n.mtime,aTime:n.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}},Gg={efs:!0,encode:e=>Buffer.from(e,"utf8"),decode:e=>e.toString("utf8")};er.exports=zg;er.exports.Constants=El;er.exports.Errors=$n;er.exports.FileAttr=Vg;er.exports.decoder=Gg;var Nr=er.exports,gn={},ft=Nr,z=ft.Constants,Hg=function(){var e=20,t=10,r=0,n=0,s=0,i=0,o=0,l=0,c=0,a=0,u=0,p=0,v=0,f=0,h=0;e|=ft.isWin?2560:768,r|=z.FLG_EFS;const $={extraLen:0},y=d=>Math.max(0,d)>>>0,m=d=>Math.max(0,d)&65535,g=d=>Math.max(0,d)&255;return s=ft.fromDate2DOS(new Date),{get made(){return e},set made(d){e=d},get version(){return t},set version(d){t=d},get flags(){return r},set flags(d){r=d},get flags_efs(){return(r&z.FLG_EFS)>0},set flags_efs(d){d?r|=z.FLG_EFS:r&=~z.FLG_EFS},get flags_desc(){return(r&z.FLG_DESC)>0},set flags_desc(d){d?r|=z.FLG_DESC:r&=~z.FLG_DESC},get method(){return n},set method(d){switch(d){case z.STORED:this.version=10;case z.DEFLATED:default:this.version=20}n=d},get time(){return ft.fromDOS2Date(this.timeval)},set time(d){this.timeval=ft.fromDate2DOS(d)},get timeval(){return s},set timeval(d){s=y(d)},get timeHighByte(){return g(s>>>8)},get crc(){return i},set crc(d){i=y(d)},get compressedSize(){return o},set compressedSize(d){o=y(d)},get size(){return l},set size(d){l=y(d)},get fileNameLength(){return c},set fileNameLength(d){c=d},get extraLength(){return a},set extraLength(d){a=d},get extraLocalLength(){return $.extraLen},set extraLocalLength(d){$.extraLen=d},get commentLength(){return u},set commentLength(d){u=d},get diskNumStart(){return p},set diskNumStart(d){p=y(d)},get inAttr(){return v},set inAttr(d){v=y(d)},get attr(){return f},set attr(d){f=y(d)},get fileAttr(){return m(f>>16)&4095},get offset(){return h},set offset(d){h=y(d)},get encrypted(){return(r&z.FLG_ENC)===z.FLG_ENC},get centralHeaderSize(){return z.CENHDR+c+a+u},get realDataOffset(){return h+z.LOCHDR+$.fnameLen+$.extraLen},get localHeader(){return $},loadLocalHeaderFromBinary:function(d){var S=d.slice(h,h+z.LOCHDR);if(S.readUInt32LE(0)!==z.LOCSIG)throw ft.Errors.INVALID_LOC();$.version=S.readUInt16LE(z.LOCVER),$.flags=S.readUInt16LE(z.LOCFLG),$.method=S.readUInt16LE(z.LOCHOW),$.time=S.readUInt32LE(z.LOCTIM),$.crc=S.readUInt32LE(z.LOCCRC),$.compressedSize=S.readUInt32LE(z.LOCSIZ),$.size=S.readUInt32LE(z.LOCLEN),$.fnameLen=S.readUInt16LE(z.LOCNAM),$.extraLen=S.readUInt16LE(z.LOCEXT);const I=h+z.LOCHDR+$.fnameLen,F=I+$.extraLen;return d.slice(I,F)},loadFromBinary:function(d){if(d.length!==z.CENHDR||d.readUInt32LE(0)!==z.CENSIG)throw ft.Errors.INVALID_CEN();e=d.readUInt16LE(z.CENVEM),t=d.readUInt16LE(z.CENVER),r=d.readUInt16LE(z.CENFLG),n=d.readUInt16LE(z.CENHOW),s=d.readUInt32LE(z.CENTIM),i=d.readUInt32LE(z.CENCRC),o=d.readUInt32LE(z.CENSIZ),l=d.readUInt32LE(z.CENLEN),c=d.readUInt16LE(z.CENNAM),a=d.readUInt16LE(z.CENEXT),u=d.readUInt16LE(z.CENCOM),p=d.readUInt16LE(z.CENDSK),v=d.readUInt16LE(z.CENATT),f=d.readUInt32LE(z.CENATX),h=d.readUInt32LE(z.CENOFF)},localHeaderToBinary:function(){var d=Buffer.alloc(z.LOCHDR);return d.writeUInt32LE(z.LOCSIG,0),d.writeUInt16LE(t,z.LOCVER),d.writeUInt16LE(r,z.LOCFLG),d.writeUInt16LE(n,z.LOCHOW),d.writeUInt32LE(s,z.LOCTIM),d.writeUInt32LE(i,z.LOCCRC),d.writeUInt32LE(o,z.LOCSIZ),d.writeUInt32LE(l,z.LOCLEN),d.writeUInt16LE(c,z.LOCNAM),d.writeUInt16LE($.extraLen,z.LOCEXT),d},centralHeaderToBinary:function(){var d=Buffer.alloc(z.CENHDR+c+a+u);return d.writeUInt32LE(z.CENSIG,0),d.writeUInt16LE(e,z.CENVEM),d.writeUInt16LE(t,z.CENVER),d.writeUInt16LE(r,z.CENFLG),d.writeUInt16LE(n,z.CENHOW),d.writeUInt32LE(s,z.CENTIM),d.writeUInt32LE(i,z.CENCRC),d.writeUInt32LE(o,z.CENSIZ),d.writeUInt32LE(l,z.CENLEN),d.writeUInt16LE(c,z.CENNAM),d.writeUInt16LE(a,z.CENEXT),d.writeUInt16LE(u,z.CENCOM),d.writeUInt16LE(p,z.CENDSK),d.writeUInt16LE(v,z.CENATT),d.writeUInt32LE(f,z.CENATX),d.writeUInt32LE(h,z.CENOFF),d},toJSON:function(){const d=function(S){return S+" bytes"};return{made:e,version:t,flags:r,method:ft.methodToString(n),time:this.time,crc:"0x"+i.toString(16).toUpperCase(),compressedSize:d(o),size:d(l),fileNameLength:d(c),extraLength:d(a),commentLength:d(u),diskNumStart:p,inAttr:v,attr:f,offset:h,centralHeaderSize:d(z.CENHDR+c+a+u)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}},jt=Nr,ce=jt.Constants,Bg=function(){var e=0,t=0,r=0,n=0,s=0;return{get diskEntries(){return e},set diskEntries(i){e=t=i},get totalEntries(){return t},set totalEntries(i){t=e=i},get size(){return r},set size(i){r=i},get offset(){return n},set offset(i){n=i},get commentLength(){return s},set commentLength(i){s=i},get mainHeaderSize(){return ce.ENDHDR+s},loadFromBinary:function(i){if((i.length!==ce.ENDHDR||i.readUInt32LE(0)!==ce.ENDSIG)&&(i.length<ce.ZIP64HDR||i.readUInt32LE(0)!==ce.ZIP64SIG))throw jt.Errors.INVALID_END();i.readUInt32LE(0)===ce.ENDSIG?(e=i.readUInt16LE(ce.ENDSUB),t=i.readUInt16LE(ce.ENDTOT),r=i.readUInt32LE(ce.ENDSIZ),n=i.readUInt32LE(ce.ENDOFF),s=i.readUInt16LE(ce.ENDCOM)):(e=jt.readBigUInt64LE(i,ce.ZIP64SUB),t=jt.readBigUInt64LE(i,ce.ZIP64TOT),r=jt.readBigUInt64LE(i,ce.ZIP64SIZE),n=jt.readBigUInt64LE(i,ce.ZIP64OFF),s=0)},toBinary:function(){var i=Buffer.alloc(ce.ENDHDR+s);return i.writeUInt32LE(ce.ENDSIG,0),i.writeUInt32LE(0,4),i.writeUInt16LE(e,ce.ENDSUB),i.writeUInt16LE(t,ce.ENDTOT),i.writeUInt32LE(r,ce.ENDSIZ),i.writeUInt32LE(n,ce.ENDOFF),i.writeUInt16LE(s,ce.ENDCOM),i.fill(" ",ce.ENDHDR),i},toJSON:function(){const i=function(o,l){let c=o.toString(16).toUpperCase();for(;c.length<l;)c="0"+c;return"0x"+c};return{diskEntries:e,totalEntries:t,size:r+" bytes",offset:i(n,4),commentLength:s}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}};gn.EntryHeader=Hg;gn.MainHeader=Bg;var _n={},qg=function(e){var t=la,r={chunkSize:(parseInt(e.length/1024)+1)*1024};return{deflate:function(){return t.deflateRawSync(e,r)},deflateAsync:function(n){var s=t.createDeflateRaw(r),i=[],o=0;s.on("data",function(l){i.push(l),o+=l.length}),s.on("end",function(){var l=Buffer.alloc(o),c=0;l.fill(0);for(var a=0;a<i.length;a++){var u=i[a];u.copy(l,c),c+=u.length}n&&n(l)}),s.end(e)}}};const Kg=+(process.versions?process.versions.node:"").split(".")[0]||0;var Wg=function(e,t){var r=la;const n=Kg>=15&&t>0?{maxOutputLength:t}:{};return{inflate:function(){return r.inflateRawSync(e,n)},inflateAsync:function(s){var i=r.createInflateRaw(n),o=[],l=0;i.on("data",function(c){o.push(c),l+=c.length}),i.on("end",function(){var c=Buffer.alloc(l),a=0;c.fill(0);for(var u=0;u<o.length;u++){var p=o[u];p.copy(c,a),a+=p.length}s&&s(c)}),i.end(e)}}};const{randomFillSync:ra}=ca,Xg=$n,Zg=new Uint32Array(256).map((e,t)=>{for(let r=0;r<8;r++)t&1?t=t>>>1^3988292384:t>>>=1;return t>>>0}),gl=(e,t)=>Math.imul(e,t)>>>0,na=(e,t)=>Zg[(e^t)&255]^e>>>8,$r=()=>typeof ra=="function"?ra(Buffer.alloc(12)):$r.node();$r.node=()=>{const e=Buffer.alloc(12),t=e.length;for(let r=0;r<t;r++)e[r]=Math.random()*256&255;return e};const Kr={genSalt:$r};function vn(e){const t=Buffer.isBuffer(e)?e:Buffer.from(e);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let r=0;r<t.length;r++)this.updateKeys(t[r])}vn.prototype.updateKeys=function(e){const t=this.keys;return t[0]=na(t[0],e),t[1]+=t[0]&255,t[1]=gl(t[1],134775813)+1,t[2]=na(t[2],t[1]>>>24),e};vn.prototype.next=function(){const e=(this.keys[2]|2)>>>0;return gl(e,e^1)>>8&255};function Jg(e){const t=new vn(e);return function(r){const n=Buffer.alloc(r.length);let s=0;for(let i of r)n[s++]=t.updateKeys(i^t.next());return n}}function Yg(e){const t=new vn(e);return function(r,n,s=0){n||(n=Buffer.alloc(r.length));for(let i of r){const o=t.next();n[s++]=i^o,t.updateKeys(i)}return n}}function Qg(e,t,r){if(!e||!Buffer.isBuffer(e)||e.length<12)return Buffer.alloc(0);const n=Jg(r),s=n(e.slice(0,12)),i=(t.flags&8)===8?t.timeHighByte:t.crc>>>24;if(s[11]!==i)throw Xg.WRONG_PASSWORD();return n(e.slice(12))}function e_(e){Buffer.isBuffer(e)&&e.length>=12?Kr.genSalt=function(){return e.slice(0,12)}:e==="node"?Kr.genSalt=$r.node:Kr.genSalt=$r}function t_(e,t,r,n=!1){e==null&&(e=Buffer.alloc(0)),Buffer.isBuffer(e)||(e=Buffer.from(e.toString()));const s=Yg(r),i=Kr.genSalt();i[11]=t.crc>>>24&255,n&&(i[10]=t.crc>>>16&255);const o=Buffer.alloc(e.length+12);return s(i,o),s(e,o,12)}var r_={decrypt:Qg,encrypt:t_,_salter:e_};_n.Deflater=qg;_n.Inflater=Wg;_n.ZipCrypto=r_;var se=Nr,n_=gn,de=se.Constants,Zn=_n,_l=function(e,t){var r=new n_.EntryHeader,n=Buffer.alloc(0),s=Buffer.alloc(0),i=!1,o=null,l=Buffer.alloc(0),c=Buffer.alloc(0),a=!0;const u=e,p=typeof u.decoder=="object"?u.decoder:se.decoder;a=p.hasOwnProperty("efs")?p.efs:!1;function v(){return!t||!(t instanceof Uint8Array)?Buffer.alloc(0):(c=r.loadLocalHeaderFromBinary(t),t.slice(r.realDataOffset,r.realDataOffset+r.compressedSize))}function f(d){if(r.flags_desc){const S={},I=r.realDataOffset+r.compressedSize;if(t.readUInt32LE(I)==de.LOCSIG||t.readUInt32LE(I)==de.CENSIG)throw se.Errors.DESCRIPTOR_NOT_EXIST();if(t.readUInt32LE(I)==de.EXTSIG)S.crc=t.readUInt32LE(I+de.EXTCRC),S.compressedSize=t.readUInt32LE(I+de.EXTSIZ),S.size=t.readUInt32LE(I+de.EXTLEN);else if(t.readUInt16LE(I+12)===19280)S.crc=t.readUInt32LE(I+de.EXTCRC-4),S.compressedSize=t.readUInt32LE(I+de.EXTSIZ-4),S.size=t.readUInt32LE(I+de.EXTLEN-4);else throw se.Errors.DESCRIPTOR_UNKNOWN();if(S.compressedSize!==r.compressedSize||S.size!==r.size||S.crc!==r.crc)throw se.Errors.DESCRIPTOR_FAULTY();if(se.crc32(d)!==S.crc)return!1}else if(se.crc32(d)!==r.localHeader.crc)return!1;return!0}function h(d,S,I){if(typeof S>"u"&&typeof d=="string"&&(I=d,d=void 0),i)return d&&S&&S(Buffer.alloc(0),se.Errors.DIRECTORY_CONTENT_ERROR()),Buffer.alloc(0);var F=v();if(F.length===0)return d&&S&&S(F),F;if(r.encrypted){if(typeof I!="string"&&!Buffer.isBuffer(I))throw se.Errors.INVALID_PASS_PARAM();F=Zn.ZipCrypto.decrypt(F,r,I)}var k=Buffer.alloc(r.size);switch(r.method){case se.Constants.STORED:if(F.copy(k),f(k))return d&&S&&S(k),k;throw d&&S&&S(k,se.Errors.BAD_CRC()),se.Errors.BAD_CRC();case se.Constants.DEFLATED:var q=new Zn.Inflater(F,r.size);if(d)q.inflateAsync(function(b){b.copy(b,0),S&&(f(b)?S(b):S(b,se.Errors.BAD_CRC()))});else{if(q.inflate(k).copy(k,0),!f(k))throw se.Errors.BAD_CRC(`"${p.decode(n)}"`);return k}break;default:throw d&&S&&S(Buffer.alloc(0),se.Errors.UNKNOWN_METHOD()),se.Errors.UNKNOWN_METHOD()}}function $(d,S){if((!o||!o.length)&&Buffer.isBuffer(t))return d&&S&&S(v()),v();if(o.length&&!i){var I;switch(r.method){case se.Constants.STORED:return r.compressedSize=r.size,I=Buffer.alloc(o.length),o.copy(I),d&&S&&S(I),I;default:case se.Constants.DEFLATED:var F=new Zn.Deflater(o);if(d)F.deflateAsync(function(q){I=Buffer.alloc(q.length),r.compressedSize=q.length,q.copy(I),S&&S(I)});else{var k=F.deflate();return r.compressedSize=k.length,k}F=null;break}}else if(d&&S)S(Buffer.alloc(0));else return Buffer.alloc(0)}function y(d,S){return(d.readUInt32LE(S+4)<<4)+d.readUInt32LE(S)}function m(d){try{for(var S=0,I,F,k;S+4<d.length;)I=d.readUInt16LE(S),S+=2,F=d.readUInt16LE(S),S+=2,k=d.slice(S,S+F),S+=F,de.ID_ZIP64===I&&g(k)}catch{throw se.Errors.EXTRA_FIELD_PARSE_ERROR()}}function g(d){var S,I,F,k;d.length>=de.EF_ZIP64_SCOMP&&(S=y(d,de.EF_ZIP64_SUNCOMP),r.size===de.EF_ZIP64_OR_32&&(r.size=S)),d.length>=de.EF_ZIP64_RHO&&(I=y(d,de.EF_ZIP64_SCOMP),r.compressedSize===de.EF_ZIP64_OR_32&&(r.compressedSize=I)),d.length>=de.EF_ZIP64_DSN&&(F=y(d,de.EF_ZIP64_RHO),r.offset===de.EF_ZIP64_OR_32&&(r.offset=F)),d.length>=de.EF_ZIP64_DSN+4&&(k=d.readUInt32LE(de.EF_ZIP64_DSN),r.diskNumStart===de.EF_ZIP64_OR_16&&(r.diskNumStart=k))}return{get entryName(){return p.decode(n)},get rawEntryName(){return n},set entryName(d){n=se.toBuffer(d,p.encode);var S=n[n.length-1];i=S===47||S===92,r.fileNameLength=n.length},get efs(){return typeof a=="function"?a(this.entryName):a},get extra(){return l},set extra(d){l=d,r.extraLength=d.length,m(d)},get comment(){return p.decode(s)},set comment(d){if(s=se.toBuffer(d,p.encode),r.commentLength=s.length,s.length>65535)throw se.Errors.COMMENT_TOO_LONG()},get name(){var d=p.decode(n);return i?d.substr(d.length-1).split("/").pop():d.split("/").pop()},get isDirectory(){return i},getCompressedData:function(){return $(!1,null)},getCompressedDataAsync:function(d){$(!0,d)},setData:function(d){o=se.toBuffer(d,se.decoder.encode),!i&&o.length?(r.size=o.length,r.method=se.Constants.DEFLATED,r.crc=se.crc32(d),r.changed=!0):r.method=se.Constants.STORED},getData:function(d){return r.changed?o:h(!1,null,d)},getDataAsync:function(d,S){r.changed?d(o):h(!0,d,S)},set attr(d){r.attr=d},get attr(){return r.attr},set header(d){r.loadFromBinary(d)},get header(){return r},packCentralHeader:function(){r.flags_efs=this.efs,r.extraLength=l.length;var d=r.centralHeaderToBinary(),S=se.Constants.CENHDR;return n.copy(d,S),S+=n.length,l.copy(d,S),S+=r.extraLength,s.copy(d,S),d},packLocalHeader:function(){let d=0;r.flags_efs=this.efs,r.extraLocalLength=c.length;const S=r.localHeaderToBinary(),I=Buffer.alloc(S.length+n.length+r.extraLocalLength);return S.copy(I,d),d+=S.length,n.copy(I,d),d+=n.length,c.copy(I,d),d+=c.length,I},toJSON:function(){const d=function(S){return"<"+(S&&S.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:r.toJSON(),compressedData:d(t),data:d(o)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}};const sa=_l,s_=gn,Se=Nr;var i_=function(e,t){var r=[],n={},s=Buffer.alloc(0),i=new s_.MainHeader,o=!1;const l=new Set,c=t,{noSort:a,decoder:u}=c;e?f(c.readEntries):o=!0;function p(){const $=new Set;for(const y of Object.keys(n)){const m=y.split("/");if(m.pop(),!!m.length)for(let g=0;g<m.length;g++){const d=m.slice(0,g+1).join("/")+"/";$.add(d)}}for(const y of $)if(!(y in n)){const m=new sa(c);m.entryName=y,m.attr=16,m.temporary=!0,r.push(m),n[m.entryName]=m,l.add(m)}}function v(){if(o=!0,n={},i.diskEntries>(e.length-i.offset)/Se.Constants.CENHDR)throw Se.Errors.DISK_ENTRY_TOO_LARGE();r=new Array(i.diskEntries);for(var $=i.offset,y=0;y<r.length;y++){var m=$,g=new sa(c,e);g.header=e.slice(m,m+=Se.Constants.CENHDR),g.entryName=e.slice(m,m+=g.header.fileNameLength),g.header.extraLength&&(g.extra=e.slice(m,m+=g.header.extraLength)),g.header.commentLength&&(g.comment=e.slice(m,m+g.header.commentLength)),$+=g.header.centralHeaderSize,r[y]=g,n[g.entryName]=g}l.clear(),p()}function f($){var y=e.length-Se.Constants.ENDHDR,m=Math.max(0,y-65535),g=m,d=e.length,S=-1,I=0;for((typeof c.trailingSpace=="boolean"?c.trailingSpace:!1)&&(m=0),y;y>=g;y--)if(e[y]===80){if(e.readUInt32LE(y)===Se.Constants.ENDSIG){S=y,I=y,d=y+Se.Constants.ENDHDR,g=y-Se.Constants.END64HDR;continue}if(e.readUInt32LE(y)===Se.Constants.END64SIG){g=m;continue}if(e.readUInt32LE(y)===Se.Constants.ZIP64SIG){S=y,d=y+Se.readBigUInt64LE(e,y+Se.Constants.ZIP64SIZE)+Se.Constants.ZIP64LEAD;break}}if(S==-1)throw Se.Errors.INVALID_FORMAT();i.loadFromBinary(e.slice(S,d)),i.commentLength&&(s=e.slice(I+Se.Constants.ENDHDR)),$&&v()}function h(){r.length>1&&!a&&r.sort(($,y)=>$.entryName.toLowerCase().localeCompare(y.entryName.toLowerCase()))}return{get entries(){return o||v(),r.filter($=>!l.has($))},get comment(){return u.decode(s)},set comment($){s=Se.toBuffer($,u.encode),i.commentLength=s.length},getEntryCount:function(){return o?r.length:i.diskEntries},forEach:function($){this.entries.forEach($)},getEntry:function($){return o||v(),n[$]||null},setEntry:function($){o||v(),r.push($),n[$.entryName]=$,i.totalEntries=r.length},deleteFile:function($,y=!0){o||v();const m=n[$];this.getEntryChildren(m,y).map(d=>d.entryName).forEach(this.deleteEntry)},deleteEntry:function($){o||v();const y=n[$],m=r.indexOf(y);m>=0&&(r.splice(m,1),delete n[$],i.totalEntries=r.length)},getEntryChildren:function($,y=!0){if(o||v(),typeof $=="object")if($.isDirectory&&y){const m=[],g=$.entryName;for(const d of r)d.entryName.startsWith(g)&&m.push(d);return m}else return[$];return[]},getChildCount:function($){if($&&$.isDirectory){const y=this.getEntryChildren($);return y.includes($)?y.length-1:y.length}return 0},compressToBuffer:function(){o||v(),h();const $=[],y=[];let m=0,g=0;i.size=0,i.offset=0,totalEntries=0;for(const I of this.entries){const F=I.getCompressedData();I.header.offset=g;const k=I.packLocalHeader(),q=k.length+F.length;g+=q,$.push(k),$.push(F);const b=I.packCentralHeader();y.push(b),i.size+=b.length,m+=q+b.length,totalEntries++}m+=i.mainHeaderSize,i.offset=g,i.totalEntries=totalEntries,g=0;const d=Buffer.alloc(m);for(const I of $)I.copy(d,g),g+=I.length;for(const I of y)I.copy(d,g),g+=I.length;const S=i.toBinary();return s&&s.copy(S,Se.Constants.ENDHDR),S.copy(d,g),e=d,o=!1,d},toAsyncBuffer:function($,y,m,g){try{o||v(),h();const d=[],S=[];let I=0,F=0,k=0;i.size=0,i.offset=0;const q=function(b){if(b.length>0){const j=b.shift(),U=j.entryName+j.extra.toString();m&&m(U),j.getCompressedDataAsync(function(V){g&&g(U),j.header.offset=F;const W=j.packLocalHeader(),L=W.length+V.length;F+=L,d.push(W),d.push(V);const C=j.packCentralHeader();S.push(C),i.size+=C.length,I+=L+C.length,k++,q(b)})}else{I+=i.mainHeaderSize,i.offset=F,i.totalEntries=k,F=0;const j=Buffer.alloc(I);d.forEach(function(V){V.copy(j,F),F+=V.length}),S.forEach(function(V){V.copy(j,F),F+=V.length});const U=i.toBinary();s&&s.copy(U,Se.Constants.ENDHDR),U.copy(j,F),e=j,o=!1,$(j)}};q(Array.from(this.entries))}catch(d){y(d)}}}};const le=Nr,he=pe,o_=_l,a_=i_,vt=(...e)=>le.findLast(e,t=>typeof t=="boolean"),ia=(...e)=>le.findLast(e,t=>typeof t=="string"),c_=(...e)=>le.findLast(e,t=>typeof t=="function"),l_={noSort:!1,readEntries:!1,method:le.Constants.NONE,fs:null};var u_=function(e,t){let r=null;const n=Object.assign(Object.create(null),l_);e&&typeof e=="object"&&(e instanceof Uint8Array||(Object.assign(n,e),e=n.input?n.input:void 0,n.input&&delete n.input),Buffer.isBuffer(e)&&(r=e,n.method=le.Constants.BUFFER,e=void 0)),Object.assign(n,t);const s=new le(n);if((typeof n.decoder!="object"||typeof n.decoder.encode!="function"||typeof n.decoder.decode!="function")&&(n.decoder=le.decoder),e&&typeof e=="string")if(s.fs.existsSync(e))n.method=le.Constants.FILE,n.filename=e,r=s.fs.readFileSync(e);else throw le.Errors.INVALID_FILENAME();const i=new a_(r,n),{canonical:o,sanitize:l,zipnamefix:c}=le;function a(f){if(f&&i){var h;if(typeof f=="string"&&(h=i.getEntry(he.posix.normalize(f))),typeof f=="object"&&typeof f.entryName<"u"&&typeof f.header<"u"&&(h=i.getEntry(f.entryName)),h)return h}return null}function u(f){const{join:h,normalize:$,sep:y}=he.posix;return h(".",$(y+f.split("\\").join(y)+y))}function p(f){return f instanceof RegExp?function(h){return function($){return h.test($)}}(f):typeof f!="function"?()=>!0:f}const v=(f,h)=>{let $=h.slice(-1);return $=$===s.sep?s.sep:"",he.relative(f,h)+$};return{readFile:function(f,h){var $=a(f);return $&&$.getData(h)||null},childCount:function(f){const h=a(f);if(h)return i.getChildCount(h)},readFileAsync:function(f,h){var $=a(f);$?$.getDataAsync(h):h(null,"getEntry failed for:"+f)},readAsText:function(f,h){var $=a(f);if($){var y=$.getData();if(y&&y.length)return y.toString(h||"utf8")}return""},readAsTextAsync:function(f,h,$){var y=a(f);y?y.getDataAsync(function(m,g){if(g){h(m,g);return}m&&m.length?h(m.toString($||"utf8")):h("")}):h("")},deleteFile:function(f,h=!0){var $=a(f);$&&i.deleteFile($.entryName,h)},deleteEntry:function(f){var h=a(f);h&&i.deleteEntry(h.entryName)},addZipComment:function(f){i.comment=f},getZipComment:function(){return i.comment||""},addZipEntryComment:function(f,h){var $=a(f);$&&($.comment=h)},getZipEntryComment:function(f){var h=a(f);return h&&h.comment||""},updateFile:function(f,h){var $=a(f);$&&$.setData(h)},addLocalFile:function(f,h,$,y){if(s.fs.existsSync(f)){h=h?u(h):"";const m=he.win32.basename(he.win32.normalize(f));h+=$||m;const g=s.fs.statSync(f),d=g.isFile()?s.fs.readFileSync(f):Buffer.alloc(0);g.isDirectory()&&(h+=s.sep),this.addFile(h,d,y,g)}else throw le.Errors.FILE_NOT_FOUND(f)},addLocalFileAsync:function(f,h){f=typeof f=="object"?f:{localPath:f};const $=he.resolve(f.localPath),{comment:y}=f;let{zipPath:m,zipName:g}=f;const d=this;s.fs.stat($,function(S,I){if(S)return h(S,!1);m=m?u(m):"";const F=he.win32.basename(he.win32.normalize($));if(m+=g||F,I.isFile())s.fs.readFile($,function(k,q){return k?h(k,!1):(d.addFile(m,q,y,I),setImmediate(h,void 0,!0))});else if(I.isDirectory())return m+=s.sep,d.addFile(m,Buffer.alloc(0),y,I),setImmediate(h,void 0,!0)})},addLocalFolder:function(f,h,$){if($=p($),h=h?u(h):"",f=he.normalize(f),s.fs.existsSync(f)){const y=s.findFiles(f),m=this;if(y.length)for(const g of y){const d=he.join(h,v(f,g));$(d)&&m.addLocalFile(g,he.dirname(d))}}else throw le.Errors.FILE_NOT_FOUND(f)},addLocalFolderAsync:function(f,h,$,y){y=p(y),$=$?u($):"",f=he.normalize(f);var m=this;s.fs.open(f,"r",function(g){if(g&&g.code==="ENOENT")h(void 0,le.Errors.FILE_NOT_FOUND(f));else if(g)h(void 0,g);else{var d=s.findFiles(f),S=-1,I=function(){if(S+=1,S<d.length){var F=d[S],k=v(f,F).split("\\").join("/");k=k.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),y(k)?s.fs.stat(F,function(q,b){q&&h(void 0,q),b.isFile()?s.fs.readFile(F,function(j,U){j?h(void 0,j):(m.addFile($+k,U,"",b),I())}):(m.addFile($+k+"/",Buffer.alloc(0),"",b),I())}):process.nextTick(()=>{I()})}else h(!0,void 0)};I()}})},addLocalFolderAsync2:function(f,h){const $=this;f=typeof f=="object"?f:{localPath:f},localPath=he.resolve(u(f.localPath));let{zipPath:y,filter:m,namefix:g}=f;m instanceof RegExp?m=function(I){return function(F){return I.test(F)}}(m):typeof m!="function"&&(m=function(){return!0}),y=y?u(y):"",g=="latin1"&&(g=I=>I.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,"")),typeof g!="function"&&(g=I=>I);const d=I=>he.join(y,g(v(localPath,I))),S=I=>he.win32.basename(he.win32.normalize(g(I)));s.fs.open(localPath,"r",function(I){I&&I.code==="ENOENT"?h(void 0,le.Errors.FILE_NOT_FOUND(localPath)):I?h(void 0,I):s.findFilesAsync(localPath,function(F,k){if(F)return h(F);k=k.filter(q=>m(d(q))),k.length||h(void 0,!1),setImmediate(k.reverse().reduce(function(q,b){return function(j,U){if(j||U===!1)return setImmediate(q,j,!1);$.addLocalFileAsync({localPath:b,zipPath:he.dirname(d(b)),zipName:S(b)},q)}},h))})})},addLocalFolderPromise:function(f,h){return new Promise(($,y)=>{this.addLocalFolderAsync2(Object.assign({localPath:f},h),(m,g)=>{m&&y(m),g&&$(this)})})},addFile:function(f,h,$,y){f=c(f);let m=a(f);const g=m!=null;g||(m=new o_(n),m.entryName=f),m.comment=$||"";const d=typeof y=="object"&&y instanceof s.fs.Stats;d&&(m.header.time=y.mtime);var S=m.isDirectory?16:0;let I=m.isDirectory?16384:32768;return d?I|=4095&y.mode:typeof y=="number"?I|=4095&y:I|=m.isDirectory?493:420,S=(S|I<<16)>>>0,m.attr=S,m.setData(h),g||i.setEntry(m),m},getEntries:function(f){return i.password=f,i?i.entries:[]},getEntry:function(f){return a(f)},getEntryCount:function(){return i.getEntryCount()},forEach:function(f){return i.forEach(f)},extractEntryTo:function(f,h,$,y,m,g){y=vt(!1,y),m=vt(!1,m),$=vt(!0,$),g=ia(m,g);var d=a(f);if(!d)throw le.Errors.NO_ENTRY();var S=o(d.entryName),I=l(h,g&&!d.isDirectory?g:$?S:he.basename(S));if(d.isDirectory){var F=i.getEntryChildren(d);return F.forEach(function(b){if(b.isDirectory)return;var j=b.getData();if(!j)throw le.Errors.CANT_EXTRACT_FILE();var U=o(b.entryName),V=l(h,$?U:he.basename(U));const W=m?b.header.fileAttr:void 0;s.writeFileTo(V,j,y,W)}),!0}var k=d.getData(i.password);if(!k)throw le.Errors.CANT_EXTRACT_FILE();if(s.fs.existsSync(I)&&!y)throw le.Errors.CANT_OVERRIDE();const q=m?f.header.fileAttr:void 0;return s.writeFileTo(I,k,y,q),!0},test:function(f){if(!i)return!1;for(var h in i.entries)try{if(h.isDirectory)continue;var $=i.entries[h].getData(f);if(!$)return!1}catch{return!1}return!0},extractAllTo:function(f,h,$,y){if($=vt(!1,$),y=ia($,y),h=vt(!1,h),!i)throw le.Errors.NO_ZIP();i.entries.forEach(function(m){var g=l(f,o(m.entryName));if(m.isDirectory){s.makeDir(g);return}var d=m.getData(y);if(!d)throw le.Errors.CANT_EXTRACT_FILE();const S=$?m.header.fileAttr:void 0;s.writeFileTo(g,d,h,S);try{s.fs.utimesSync(g,m.header.time,m.header.time)}catch{throw le.Errors.CANT_EXTRACT_FILE()}})},extractAllToAsync:function(f,h,$,y){if(y=c_(h,$,y),$=vt(!1,$),h=vt(!1,h),!y)return new Promise((I,F)=>{this.extractAllToAsync(f,h,$,function(k){k?F(k):I(this)})});if(!i){y(le.Errors.NO_ZIP());return}f=he.resolve(f);const m=I=>l(f,he.normalize(o(I.entryName))),g=(I,F)=>new Error(I+': "'+F+'"'),d=[],S=[];i.entries.forEach(I=>{I.isDirectory?d.push(I):S.push(I)});for(const I of d){const F=m(I),k=$?I.header.fileAttr:void 0;try{s.makeDir(F),k&&s.fs.chmodSync(F,k),s.fs.utimesSync(F,I.header.time,I.header.time)}catch{y(g("Unable to create folder",F))}}S.reverse().reduce(function(I,F){return function(k){if(k)I(k);else{const q=he.normalize(o(F.entryName)),b=l(f,q);F.getDataAsync(function(j,U){if(U)I(U);else if(!j)I(le.Errors.CANT_EXTRACT_FILE());else{const V=$?F.header.fileAttr:void 0;s.writeFileToAsync(b,j,h,V,function(W){W||I(g("Unable to write file",b)),s.fs.utimes(b,F.header.time,F.header.time,function(L){L?I(g("Unable to set times",b)):I()})})}})}}},y)()},writeZip:function(f,h){if(arguments.length===1&&typeof f=="function"&&(h=f,f=""),!f&&n.filename&&(f=n.filename),!!f){var $=i.compressToBuffer();if($){var y=s.writeFileTo(f,$,!0);typeof h=="function"&&h(y?null:new Error("failed"),"")}}},writeZipPromise:function(f,h){const{overwrite:$,perm:y}=Object.assign({overwrite:!0},h);return new Promise((m,g)=>{!f&&n.filename&&(f=n.filename),f||g("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(d=>{const S=I=>I?m(I):g("ADM-ZIP: Wasn't able to write zip file");s.writeFileToAsync(f,d,$,y,S)},g)})},toBufferPromise:function(){return new Promise((f,h)=>{i.toAsyncBuffer(f,h)})},toBuffer:function(f,h,$,y){return typeof f=="function"?(i.toAsyncBuffer(f,h,$,y),null):i.compressToBuffer()}}};const oa=ua(u_);class wn{constructor(t,r,n){this.bw=t,this.version=r,this.path_htm=n,console.log=c=>this.bw.webContents.send("log",c),t.webContents.on("devtools-opened",()=>this.#i()),Y.ipcMain.handle("openDevTools",()=>t.webContents.openDevTools()),this.#f.getVersion=r,Y.ipcMain.handle("getInfo",()=>this.#f),Y.ipcMain.handle("inited",(c,a,u)=>this.#m(a,u)),Y.ipcMain.handle("existsSync",(c,a)=>Ve.existsSync(a)),Y.ipcMain.handle("copySync",(c,a,u)=>Ve.copySync(a,u)),Y.ipcMain.handle("removeSync",(c,a)=>Ve.removeSync(a)),Y.ipcMain.handle("ensureFileSync",(c,a)=>Ve.ensureFileSync(a)),Y.ipcMain.handle("readFileSync",(c,a)=>Ve.readFileSync(a,{encoding:"utf8"})),Y.ipcMain.handle("writeFileSync",(c,a,u,p)=>Ve.writeFileSync(a,u,p)),Y.ipcMain.handle("appendFile",(c,a,u)=>Ve.appendFile(a,u).catch(p=>console.log(p))),Y.ipcMain.handle("outputFile",(c,a,u)=>Ve.outputFile(a,u).catch(p=>console.log(p))),Y.ipcMain.handle("win_close",()=>t.close()),Y.ipcMain.handle("win_setTitle",(c,a)=>t.setTitle(a)),Y.ipcMain.handle("showMessageBox",(c,a)=>Y.dialog.showMessageBox(a)),Y.ipcMain.handle("capturePage",(c,a,u,p)=>t.webContents.capturePage().then(v=>{Ve.ensureFileSync(a);const f=v.resize({width:u,height:p,quality:"best"}),h=a.slice(-4)===".png"?f.toPNG():f.toJPEG(80);Ve.writeFileSync(a,h)})),Y.ipcMain.handle("navigate_to",(c,a)=>Y.shell.openExternal(a));let s;Y.ipcMain.handle("Store",(c,a)=>{s=new Qo(a)}),Y.ipcMain.handle("flush",(c,a)=>{s.store=a}),Y.ipcMain.handle("Store_isEmpty",()=>s.size===0),Y.ipcMain.handle("Store_get",()=>s.store),Y.ipcMain.handle("zip",(c,a,u)=>{const p=new oa;p.addLocalFolder(a),p.writeZip(u)}),Y.ipcMain.handle("unzip",(c,a,u)=>{Ve.removeSync(u),Ve.ensureDirSync(u),new oa(a).extractAllTo(u,!0)}),t.setMenuBarVisibility(!1);const i=t.getContentSize()[1];t.setMenuBarVisibility(!0);const o=t.getContentSize()[1],l=this.#d=i-o;Y.ipcMain.handle("isSimpleFullScreen",()=>t.simpleFullScreen),this.#p?(Y.ipcMain.handle("setSimpleFullScreen",(c,a)=>{this.#e=!0,t.setSimpleFullScreen(a),a||(t.setPosition(this.#o,this.#a),t.setContentSize(this.#r,this.#n+l)),this.#e=!1}),t.on("enter-full-screen",()=>{t.setContentSize(this.#t.width,this.#t.height-l)}),t.on("leave-full-screen",()=>{this.#s(!1,this.#o,this.#a,this.#r,this.#n+l)})):Y.ipcMain.handle("setSimpleFullScreen",(c,a)=>{t.setSimpleFullScreen(a),!a&&t.setContentSize(this.#r,this.#n+l)}),Y.ipcMain.handle("window",(c,a,u,p,v,f)=>this.#s(a,u,p,v,f)),t.on("move",()=>this.#l()),t.on("resize",()=>this.#l()),this.#u(),t.loadFile(n)}static initRenderer(t,r,n){let s,i=()=>{};try{Qo.initRenderer(),process.env.ELECTRON_DISABLE_SECURITY_WARNINGS="true",s=new Y.BrowserWindow({show:!1,minWidth:300,minHeight:300,acceptFirstMouse:!0,maximizable:!1,webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:`${__dirname}/preload.js`}});const o=new wn(s,r,t);i=()=>o.openDevTools()}catch(o){throw console.error(`early err:${o}`),i(),"initRenderer error"}return s}openDevTools=()=>{};#m(t,r){const{c:n,x:s,y:i,w:o,h:l}=r;if(this.#s(n,s,i,o,l),this.bw.setAspectRatio(o/l),this.bw.show(),t.debug.devtool){this.#i=()=>{},this.openDevTools=()=>this.bw.webContents.openDevTools({mode:"detach"}),this.openDevTools(),this.bw.focus();return}this.#i=()=>{this.bw.webContents.closeDevTools(),this.bw.setTitle("DevTooldevtoolON"),this.bw.webContents.send("shutdown")}}#i=()=>this.bw.webContents.closeDevTools();#t;#u(){const t=Y.screen.getCursorScreenPoint(),r=Y.screen.getDisplayNearestPoint(t);this.#t=r.workAreaSize}#f={getAppPath:Y.app.getAppPath(),isPackaged:Y.app.isPackaged,downloads:Y.app.getPath("downloads"),userData:Y.app.getPath("userData"),getVersion:"",env:{...process.env},platform:process.platform,arch:process.arch};#o=0;#a=0;#r=0;#n=0;#p=process.platform==="win32";#d;#c=void 0;#l(){if(this.#c||this.#e)return;this.#e=!0;const{x:t,y:r}=this.bw.getBounds(),{width:n,height:s}=this.bw.getContentBounds();this.#c=setTimeout(()=>{if(this.#c=void 0,this.#h){this.#h=!1;return}this.#e=!1;const{x:i,y:o}=this.bw.getBounds(),{width:l,height:c}=this.bw.getContentBounds();if(t!==i||r!==o||n!==l||s!==c){this.#l();return}this.#s(!1,i,o,l,c)},1e3/60*10)}#h=!1;#e=!1;#s(t,r,n,s,i){this.#e||(this.#e=!0,!this.bw.simpleFullScreen&&(t&&(this.#u(),r=(this.#t.width-s)*.5,n=(this.#t.height-i)*.5),this.#o=r,this.#a=n,this.bw.setPosition(r,n),this.#r=s,this.#n=i,this.bw.setContentSize(s,i+this.#d),this.bw.webContents.send("save_win_inf",{c:t,x:r,y:n,w:s,h:i,scrw:this.#t.width,scrh:this.#t.height}),this.#e=!1))}}module.exports=wn;exports.appMain=wn;
//# sourceMappingURL=appMain.js.map
